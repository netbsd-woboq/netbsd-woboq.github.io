<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>tsd.h source code [netbsd/external/bsd/jemalloc/include/jemalloc/internal/tsd.h] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="tsd_s,tsdn_s "/>
<link rel="stylesheet" href="https://code.woboq.org/data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="https://code.woboq.org/data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery-ui.min.js"></script>
<script>var file = 'netbsd/external/bsd/jemalloc/include/jemalloc/internal/tsd.h'; var root_path = '../../../../../../..'; var data_path = 'https://code.woboq.org/data'; var ecma_script_api_version = 2;</script>
<script src='https://code.woboq.org/data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../../../..'>netbsd</a>/<a href='../../../../..'>external</a>/<a href='../../../..'>bsd</a>/<a href='../../..'>jemalloc</a>/<a href='../..'>include</a>/<a href='..'>jemalloc</a>/<a href='./'>internal</a>/<a href='tsd.h.html'>tsd.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><u>#<span data-ppcond="1">ifndef</span> <span class="macro" data-ref="_M/JEMALLOC_INTERNAL_TSD_H">JEMALLOC_INTERNAL_TSD_H</span></u></td></tr>
<tr><th id="2">2</th><td><u>#define <dfn class="macro" id="_M/JEMALLOC_INTERNAL_TSD_H" data-ref="_M/JEMALLOC_INTERNAL_TSD_H">JEMALLOC_INTERNAL_TSD_H</dfn></u></td></tr>
<tr><th id="3">3</th><td></td></tr>
<tr><th id="4">4</th><td><u>#include <a href="arena_types.h.html">"jemalloc/internal/arena_types.h"</a></u></td></tr>
<tr><th id="5">5</th><td><u>#include <a href="assert.h.html">"jemalloc/internal/assert.h"</a></u></td></tr>
<tr><th id="6">6</th><td><u>#include <a href="jemalloc_internal_externs.h.html">"jemalloc/internal/jemalloc_internal_externs.h"</a></u></td></tr>
<tr><th id="7">7</th><td><u>#include <a href="prof_types.h.html">"jemalloc/internal/prof_types.h"</a></u></td></tr>
<tr><th id="8">8</th><td><u>#include <a href="ql.h.html">"jemalloc/internal/ql.h"</a></u></td></tr>
<tr><th id="9">9</th><td><u>#include <a href="rtree_tsd.h.html">"jemalloc/internal/rtree_tsd.h"</a></u></td></tr>
<tr><th id="10">10</th><td><u>#include <a href="tcache_types.h.html">"jemalloc/internal/tcache_types.h"</a></u></td></tr>
<tr><th id="11">11</th><td><u>#include <a href="tcache_structs.h.html">"jemalloc/internal/tcache_structs.h"</a></u></td></tr>
<tr><th id="12">12</th><td><u>#include <a href="util.h.html">"jemalloc/internal/util.h"</a></u></td></tr>
<tr><th id="13">13</th><td><u>#include <a href="witness.h.html">"jemalloc/internal/witness.h"</a></u></td></tr>
<tr><th id="14">14</th><td></td></tr>
<tr><th id="15">15</th><td><i>/*</i></td></tr>
<tr><th id="16">16</th><td><i> * Thread-Specific-Data layout</i></td></tr>
<tr><th id="17">17</th><td><i> * --- data accessed on tcache fast path: state, rtree_ctx, stats, prof ---</i></td></tr>
<tr><th id="18">18</th><td><i> * s: state</i></td></tr>
<tr><th id="19">19</th><td><i> * e: tcache_enabled</i></td></tr>
<tr><th id="20">20</th><td><i> * m: thread_allocated (config_stats)</i></td></tr>
<tr><th id="21">21</th><td><i> * f: thread_deallocated (config_stats)</i></td></tr>
<tr><th id="22">22</th><td><i> * p: prof_tdata (config_prof)</i></td></tr>
<tr><th id="23">23</th><td><i> * c: rtree_ctx (rtree cache accessed on deallocation)</i></td></tr>
<tr><th id="24">24</th><td><i> * t: tcache</i></td></tr>
<tr><th id="25">25</th><td><i> * --- data not accessed on tcache fast path: arena-related fields ---</i></td></tr>
<tr><th id="26">26</th><td><i> * d: arenas_tdata_bypass</i></td></tr>
<tr><th id="27">27</th><td><i> * r: reentrancy_level</i></td></tr>
<tr><th id="28">28</th><td><i> * x: narenas_tdata</i></td></tr>
<tr><th id="29">29</th><td><i> * i: iarena</i></td></tr>
<tr><th id="30">30</th><td><i> * a: arena</i></td></tr>
<tr><th id="31">31</th><td><i> * o: arenas_tdata</i></td></tr>
<tr><th id="32">32</th><td><i> * Loading TSD data is on the critical path of basically all malloc operations.</i></td></tr>
<tr><th id="33">33</th><td><i> * In particular, tcache and rtree_ctx rely on hot CPU cache to be effective.</i></td></tr>
<tr><th id="34">34</th><td><i> * Use a compact layout to reduce cache footprint.</i></td></tr>
<tr><th id="35">35</th><td><i> * +--- 64-bit and 64B cacheline; 1B each letter; First byte on the left. ---+</i></td></tr>
<tr><th id="36">36</th><td><i> * |----------------------------  1st cacheline  ----------------------------|</i></td></tr>
<tr><th id="37">37</th><td><i> * | sedrxxxx mmmmmmmm ffffffff pppppppp [c * 32  ........ ........ .......] |</i></td></tr>
<tr><th id="38">38</th><td><i> * |----------------------------  2nd cacheline  ----------------------------|</i></td></tr>
<tr><th id="39">39</th><td><i> * | [c * 64  ........ ........ ........ ........ ........ ........ .......] |</i></td></tr>
<tr><th id="40">40</th><td><i> * |----------------------------  3nd cacheline  ----------------------------|</i></td></tr>
<tr><th id="41">41</th><td><i> * | [c * 32  ........ ........ .......] iiiiiiii aaaaaaaa oooooooo [t...... |</i></td></tr>
<tr><th id="42">42</th><td><i> * +-------------------------------------------------------------------------+</i></td></tr>
<tr><th id="43">43</th><td><i> * Note: the entire tcache is embedded into TSD and spans multiple cachelines.</i></td></tr>
<tr><th id="44">44</th><td><i> *</i></td></tr>
<tr><th id="45">45</th><td><i> * The last 3 members (i, a and o) before tcache isn't really needed on tcache</i></td></tr>
<tr><th id="46">46</th><td><i> * fast path.  However we have a number of unused tcache bins and witnesses</i></td></tr>
<tr><th id="47">47</th><td><i> * (never touched unless config_debug) at the end of tcache, so we place them</i></td></tr>
<tr><th id="48">48</th><td><i> * there to avoid breaking the cachelines and possibly paging in an extra page.</i></td></tr>
<tr><th id="49">49</th><td><i> */</i></td></tr>
<tr><th id="50">50</th><td><u>#<span data-ppcond="50">ifdef</span> <span class="macro" data-ref="_M/JEMALLOC_JET">JEMALLOC_JET</span></u></td></tr>
<tr><th id="51">51</th><td><b>typedef</b> <em>void</em> (*test_callback_t)(<em>int</em> *);</td></tr>
<tr><th id="52">52</th><td><u>#  define MALLOC_TSD_TEST_DATA_INIT 0x72b65c10</u></td></tr>
<tr><th id="53">53</th><td><u>#  define MALLOC_TEST_TSD \</u></td></tr>
<tr><th id="54">54</th><td><u>    O(test_data,		int,			int)		\</u></td></tr>
<tr><th id="55">55</th><td><u>    O(test_callback,		test_callback_t,	int)</u></td></tr>
<tr><th id="56">56</th><td><u>#  define MALLOC_TEST_TSD_INITIALIZER , MALLOC_TSD_TEST_DATA_INIT, NULL</u></td></tr>
<tr><th id="57">57</th><td><u>#<span data-ppcond="50">else</span></u></td></tr>
<tr><th id="58">58</th><td><u>#  define <dfn class="macro" id="_M/MALLOC_TEST_TSD" data-ref="_M/MALLOC_TEST_TSD">MALLOC_TEST_TSD</dfn></u></td></tr>
<tr><th id="59">59</th><td><u>#  define <dfn class="macro" id="_M/MALLOC_TEST_TSD_INITIALIZER" data-ref="_M/MALLOC_TEST_TSD_INITIALIZER">MALLOC_TEST_TSD_INITIALIZER</dfn></u></td></tr>
<tr><th id="60">60</th><td><u>#<span data-ppcond="50">endif</span></u></td></tr>
<tr><th id="61">61</th><td></td></tr>
<tr><th id="62">62</th><td><i>/*  O(name,			type,			nullable type */</i></td></tr>
<tr><th id="63">63</th><td><u>#define <dfn class="macro" id="_M/MALLOC_TSD" data-ref="_M/MALLOC_TSD">MALLOC_TSD</dfn>							\</u></td></tr>
<tr><th id="64">64</th><td><u>    O(tcache_enabled,		bool,			bool)		\</u></td></tr>
<tr><th id="65">65</th><td><u>    O(arenas_tdata_bypass,	bool,			bool)		\</u></td></tr>
<tr><th id="66">66</th><td><u>    O(reentrancy_level,		<a class="typedef" href="../../../../../../sys/sys/types.h.html#int8_t" title='int8_t' data-type='__int8_t' data-ref="int8_t" data-ref-filename="int8_t">int8_t</a>,			<a class="typedef" href="../../../../../../sys/sys/types.h.html#int8_t" title='int8_t' data-type='__int8_t' data-ref="int8_t" data-ref-filename="int8_t">int8_t</a>)		\</u></td></tr>
<tr><th id="67">67</th><td><u>    O(narenas_tdata,		<a class="typedef" href="../../../../../../sys/sys/types.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a>,		<a class="typedef" href="../../../../../../sys/sys/types.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a>)	\</u></td></tr>
<tr><th id="68">68</th><td><u>    O(offset_state,		<a class="typedef" href="../../../../../../sys/sys/types.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a>,		<a class="typedef" href="../../../../../../sys/sys/types.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a>)	\</u></td></tr>
<tr><th id="69">69</th><td><u>    O(thread_allocated,		<a class="typedef" href="../../../../../../sys/sys/types.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a>,		<a class="typedef" href="../../../../../../sys/sys/types.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a>)	\</u></td></tr>
<tr><th id="70">70</th><td><u>    O(thread_deallocated,	<a class="typedef" href="../../../../../../sys/sys/types.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a>,		<a class="typedef" href="../../../../../../sys/sys/types.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a>)	\</u></td></tr>
<tr><th id="71">71</th><td><u>    O(prof_tdata,		<a class="typedef" href="prof_types.h.html#prof_tdata_t" title='prof_tdata_t' data-type='struct prof_tdata_s' data-ref="prof_tdata_t" data-ref-filename="prof_tdata_t">prof_tdata_t</a> *,		<a class="typedef" href="prof_types.h.html#prof_tdata_t" title='prof_tdata_t' data-type='struct prof_tdata_s' data-ref="prof_tdata_t" data-ref-filename="prof_tdata_t">prof_tdata_t</a> *)	\</u></td></tr>
<tr><th id="72">72</th><td><u>    O(rtree_ctx,		<a class="typedef" href="rtree_tsd.h.html#rtree_ctx_t" title='rtree_ctx_t' data-type='struct rtree_ctx_s' data-ref="rtree_ctx_t" data-ref-filename="rtree_ctx_t">rtree_ctx_t</a>,		<a class="typedef" href="rtree_tsd.h.html#rtree_ctx_t" title='rtree_ctx_t' data-type='struct rtree_ctx_s' data-ref="rtree_ctx_t" data-ref-filename="rtree_ctx_t">rtree_ctx_t</a>)	\</u></td></tr>
<tr><th id="73">73</th><td><u>    O(iarena,			<a class="typedef" href="arena_types.h.html#arena_t" title='arena_t' data-type='struct arena_s' data-ref="arena_t" data-ref-filename="arena_t">arena_t</a> *,		<a class="typedef" href="arena_types.h.html#arena_t" title='arena_t' data-type='struct arena_s' data-ref="arena_t" data-ref-filename="arena_t">arena_t</a> *)	\</u></td></tr>
<tr><th id="74">74</th><td><u>    O(arena,			<a class="typedef" href="arena_types.h.html#arena_t" title='arena_t' data-type='struct arena_s' data-ref="arena_t" data-ref-filename="arena_t">arena_t</a> *,		<a class="typedef" href="arena_types.h.html#arena_t" title='arena_t' data-type='struct arena_s' data-ref="arena_t" data-ref-filename="arena_t">arena_t</a> *)	\</u></td></tr>
<tr><th id="75">75</th><td><u>    O(arenas_tdata,		<a class="typedef" href="arena_types.h.html#arena_tdata_t" title='arena_tdata_t' data-type='struct arena_tdata_s' data-ref="arena_tdata_t" data-ref-filename="arena_tdata_t">arena_tdata_t</a> *,	<a class="typedef" href="arena_types.h.html#arena_tdata_t" title='arena_tdata_t' data-type='struct arena_tdata_s' data-ref="arena_tdata_t" data-ref-filename="arena_tdata_t">arena_tdata_t</a> *)\</u></td></tr>
<tr><th id="76">76</th><td><u>    O(tcache,			<a class="typedef" href="tcache_types.h.html#tcache_t" title='tcache_t' data-type='struct tcache_s' data-ref="tcache_t" data-ref-filename="tcache_t">tcache_t</a>,		<a class="typedef" href="tcache_types.h.html#tcache_t" title='tcache_t' data-type='struct tcache_s' data-ref="tcache_t" data-ref-filename="tcache_t">tcache_t</a>)	\</u></td></tr>
<tr><th id="77">77</th><td><u>    O(witness_tsd,              <a class="typedef" href="witness.h.html#witness_tsd_t" title='witness_tsd_t' data-type='struct witness_tsd_s' data-ref="witness_tsd_t" data-ref-filename="witness_tsd_t">witness_tsd_t</a>,		<a class="typedef" href="witness.h.html#witness_tsdn_t" title='witness_tsdn_t' data-type='struct witness_tsdn_s' data-ref="witness_tsdn_t" data-ref-filename="witness_tsdn_t">witness_tsdn_t</a>)	\</u></td></tr>
<tr><th id="78">78</th><td><u>    MALLOC_TEST_TSD</u></td></tr>
<tr><th id="79">79</th><td></td></tr>
<tr><th id="80">80</th><td><u>#define <dfn class="macro" id="_M/TSD_INITIALIZER" data-ref="_M/TSD_INITIALIZER">TSD_INITIALIZER</dfn> {						\</u></td></tr>
<tr><th id="81">81</th><td><u>    tsd_state_uninitialized,						\</u></td></tr>
<tr><th id="82">82</th><td><u>    TCACHE_ENABLED_ZERO_INITIALIZER,					\</u></td></tr>
<tr><th id="83">83</th><td><u>    false,								\</u></td></tr>
<tr><th id="84">84</th><td><u>    0,									\</u></td></tr>
<tr><th id="85">85</th><td><u>    0,									\</u></td></tr>
<tr><th id="86">86</th><td><u>    0,									\</u></td></tr>
<tr><th id="87">87</th><td><u>    0,									\</u></td></tr>
<tr><th id="88">88</th><td><u>    0,									\</u></td></tr>
<tr><th id="89">89</th><td><u>    NULL,								\</u></td></tr>
<tr><th id="90">90</th><td><u>    RTREE_CTX_ZERO_INITIALIZER,						\</u></td></tr>
<tr><th id="91">91</th><td><u>    NULL,								\</u></td></tr>
<tr><th id="92">92</th><td><u>    NULL,								\</u></td></tr>
<tr><th id="93">93</th><td><u>    NULL,								\</u></td></tr>
<tr><th id="94">94</th><td><u>    TCACHE_ZERO_INITIALIZER,						\</u></td></tr>
<tr><th id="95">95</th><td><u>    WITNESS_TSD_INITIALIZER						\</u></td></tr>
<tr><th id="96">96</th><td><u>    MALLOC_TEST_TSD_INITIALIZER						\</u></td></tr>
<tr><th id="97">97</th><td><u>}</u></td></tr>
<tr><th id="98">98</th><td></td></tr>
<tr><th id="99">99</th><td><b>enum</b> {</td></tr>
<tr><th id="100">100</th><td>	<dfn class="enum" id="tsd_state_nominal" title='tsd_state_nominal' data-ref="tsd_state_nominal" data-ref-filename="tsd_state_nominal">tsd_state_nominal</dfn> = <var>0</var>, <i>/* Common case --&gt; jnz. */</i></td></tr>
<tr><th id="101">101</th><td>	<dfn class="enum" id="tsd_state_nominal_slow" title='tsd_state_nominal_slow' data-ref="tsd_state_nominal_slow" data-ref-filename="tsd_state_nominal_slow">tsd_state_nominal_slow</dfn> = <var>1</var>, <i>/* Initialized but on slow path. */</i></td></tr>
<tr><th id="102">102</th><td>	<i>/* the above 2 nominal states should be lower values. */</i></td></tr>
<tr><th id="103">103</th><td>	<dfn class="enum" id="tsd_state_nominal_max" title='tsd_state_nominal_max' data-ref="tsd_state_nominal_max" data-ref-filename="tsd_state_nominal_max">tsd_state_nominal_max</dfn> = <var>1</var>, <i>/* used for comparison only. */</i></td></tr>
<tr><th id="104">104</th><td>	<dfn class="enum" id="tsd_state_minimal_initialized" title='tsd_state_minimal_initialized' data-ref="tsd_state_minimal_initialized" data-ref-filename="tsd_state_minimal_initialized">tsd_state_minimal_initialized</dfn> = <var>2</var>,</td></tr>
<tr><th id="105">105</th><td>	<dfn class="enum" id="tsd_state_purgatory" title='tsd_state_purgatory' data-ref="tsd_state_purgatory" data-ref-filename="tsd_state_purgatory">tsd_state_purgatory</dfn> = <var>3</var>,</td></tr>
<tr><th id="106">106</th><td>	<dfn class="enum" id="tsd_state_reincarnated" title='tsd_state_reincarnated' data-ref="tsd_state_reincarnated" data-ref-filename="tsd_state_reincarnated">tsd_state_reincarnated</dfn> = <var>4</var>,</td></tr>
<tr><th id="107">107</th><td>	<dfn class="enum" id="tsd_state_uninitialized" title='tsd_state_uninitialized' data-ref="tsd_state_uninitialized" data-ref-filename="tsd_state_uninitialized">tsd_state_uninitialized</dfn> = <var>5</var></td></tr>
<tr><th id="108">108</th><td>};</td></tr>
<tr><th id="109">109</th><td></td></tr>
<tr><th id="110">110</th><td><i>/* Manually limit tsd_state_t to a single byte. */</i></td></tr>
<tr><th id="111">111</th><td><b>typedef</b> <a class="typedef" href="../../../../../../sys/sys/types.h.html#uint8_t" title='uint8_t' data-type='__uint8_t' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</a> <dfn class="typedef" id="tsd_state_t" title='tsd_state_t' data-type='uint8_t' data-ref="tsd_state_t" data-ref-filename="tsd_state_t">tsd_state_t</dfn>;</td></tr>
<tr><th id="112">112</th><td></td></tr>
<tr><th id="113">113</th><td><i>/* The actual tsd. */</i></td></tr>
<tr><th id="114">114</th><td><b>struct</b> <dfn class="type def" id="tsd_s" title='tsd_s' data-ref="tsd_s" data-ref-filename="tsd_s">tsd_s</dfn> {</td></tr>
<tr><th id="115">115</th><td>	<i>/*</i></td></tr>
<tr><th id="116">116</th><td><i>	 * The contents should be treated as totally opaque outside the tsd</i></td></tr>
<tr><th id="117">117</th><td><i>	 * module.  Access any thread-local state through the getters and</i></td></tr>
<tr><th id="118">118</th><td><i>	 * setters below.</i></td></tr>
<tr><th id="119">119</th><td><i>	 */</i></td></tr>
<tr><th id="120">120</th><td>	<a class="typedef" href="#tsd_state_t" title='tsd_state_t' data-type='uint8_t' data-ref="tsd_state_t" data-ref-filename="tsd_state_t">tsd_state_t</a>	<dfn class="decl field" id="tsd_s::state" title='tsd_s::state' data-ref="tsd_s::state" data-ref-filename="tsd_s..state">state</dfn>;</td></tr>
<tr><th id="121">121</th><td><u>#define <dfn class="macro" id="_M/O" data-ref="_M/O">O</dfn>(n, t, nt)							\</u></td></tr>
<tr><th id="122">122</th><td><u>	t use_a_getter_or_setter_instead_##n;</u></td></tr>
<tr><th id="123">123</th><td><a class="macro" href="#63" title="_Bool use_a_getter_or_setter_instead_tcache_enabled; _Bool use_a_getter_or_setter_instead_arenas_tdata_bypass; int8_t use_a_getter_or_setter_instead_reentrancy_level; uint32_t use_a_getter_or_setter_instead_narenas_tdata; uint64_t use_a_getter_or_setter_instead_offset_state; uint64_t use_a_getter_or_setter_instead_thread_allocated; uint64_t use_a_getter_or_setter_instead_thread_deallocated; prof_tdata_t * use_a_getter_or_setter_instead_prof_tdata; rtree_ctx_t use_a_getter_or_setter_instead_rtree_ctx; arena_t * use_a_getter_or_setter_instead_iarena; arena_t * use_a_getter_or_setter_instead_arena; arena_tdata_t * use_a_getter_or_setter_instead_arenas_tdata; tcache_t use_a_getter_or_setter_instead_tcache; witness_tsd_t use_a_getter_or_setter_instead_witness_tsd;" data-ref="_M/MALLOC_TSD">MALLOC_TSD</a></td></tr>
<tr><th id="124">124</th><td><u>#undef <a class="macro" href="#121" data-ref="_M/O">O</a></u></td></tr>
<tr><th id="125">125</th><td>};</td></tr>
<tr><th id="126">126</th><td></td></tr>
<tr><th id="127">127</th><td><i>/*</i></td></tr>
<tr><th id="128">128</th><td><i> * Wrapper around tsd_t that makes it possible to avoid implicit conversion</i></td></tr>
<tr><th id="129">129</th><td><i> * between tsd_t and tsdn_t, where tsdn_t is "nullable" and has to be</i></td></tr>
<tr><th id="130">130</th><td><i> * explicitly converted to tsd_t, which is non-nullable.</i></td></tr>
<tr><th id="131">131</th><td><i> */</i></td></tr>
<tr><th id="132">132</th><td><b>struct</b> <dfn class="type def" id="tsdn_s" title='tsdn_s' data-ref="tsdn_s" data-ref-filename="tsdn_s">tsdn_s</dfn> {</td></tr>
<tr><th id="133">133</th><td>	<a class="typedef" href="tsd_types.h.html#tsd_t" title='tsd_t' data-type='struct tsd_s' data-ref="tsd_t" data-ref-filename="tsd_t">tsd_t</a> <dfn class="decl field" id="tsdn_s::tsd" title='tsdn_s::tsd' data-ref="tsdn_s::tsd" data-ref-filename="tsdn_s..tsd">tsd</dfn>;</td></tr>
<tr><th id="134">134</th><td>};</td></tr>
<tr><th id="135">135</th><td><u>#define <dfn class="macro" id="_M/TSDN_NULL" data-ref="_M/TSDN_NULL">TSDN_NULL</dfn> ((tsdn_t *)0)</u></td></tr>
<tr><th id="136">136</th><td><a class="macro" href="jemalloc_internal_macros.h.html#5" title="static inline" data-ref="_M/JEMALLOC_ALWAYS_INLINE">JEMALLOC_ALWAYS_INLINE</a> <a class="typedef" href="tsd_types.h.html#tsdn_t" title='tsdn_t' data-type='struct tsdn_s' data-ref="tsdn_t" data-ref-filename="tsdn_t">tsdn_t</a> *</td></tr>
<tr><th id="137">137</th><td><dfn class="decl def fn" id="tsd_tsdn" title='tsd_tsdn' data-ref="tsd_tsdn" data-ref-filename="tsd_tsdn">tsd_tsdn</dfn>(<a class="typedef" href="tsd_types.h.html#tsd_t" title='tsd_t' data-type='struct tsd_s' data-ref="tsd_t" data-ref-filename="tsd_t">tsd_t</a> *<dfn class="local col4 decl" id="254tsd" title='tsd' data-type='tsd_t *' data-ref="254tsd" data-ref-filename="254tsd">tsd</dfn>) {</td></tr>
<tr><th id="138">138</th><td>	<b>return</b> (<a class="typedef" href="tsd_types.h.html#tsdn_t" title='tsdn_t' data-type='struct tsdn_s' data-ref="tsdn_t" data-ref-filename="tsdn_t">tsdn_t</a> *)<a class="local col4 ref" href="#254tsd" title='tsd' data-ref="254tsd" data-ref-filename="254tsd">tsd</a>;</td></tr>
<tr><th id="139">139</th><td>}</td></tr>
<tr><th id="140">140</th><td></td></tr>
<tr><th id="141">141</th><td><a class="macro" href="jemalloc_internal_macros.h.html#5" title="static inline" data-ref="_M/JEMALLOC_ALWAYS_INLINE">JEMALLOC_ALWAYS_INLINE</a> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span></td></tr>
<tr><th id="142">142</th><td><dfn class="decl def fn" id="tsdn_null" title='tsdn_null' data-ref="tsdn_null" data-ref-filename="tsdn_null">tsdn_null</dfn>(<em>const</em> <a class="typedef" href="tsd_types.h.html#tsdn_t" title='tsdn_t' data-type='struct tsdn_s' data-ref="tsdn_t" data-ref-filename="tsdn_t">tsdn_t</a> *<dfn class="local col5 decl" id="255tsdn" title='tsdn' data-type='const tsdn_t *' data-ref="255tsdn" data-ref-filename="255tsdn">tsdn</dfn>) {</td></tr>
<tr><th id="143">143</th><td>	<b>return</b> <a class="local col5 ref" href="#255tsdn" title='tsdn' data-ref="255tsdn" data-ref-filename="255tsdn">tsdn</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="144">144</th><td>}</td></tr>
<tr><th id="145">145</th><td></td></tr>
<tr><th id="146">146</th><td><a class="macro" href="jemalloc_internal_macros.h.html#5" title="static inline" data-ref="_M/JEMALLOC_ALWAYS_INLINE">JEMALLOC_ALWAYS_INLINE</a> <a class="typedef" href="tsd_types.h.html#tsd_t" title='tsd_t' data-type='struct tsd_s' data-ref="tsd_t" data-ref-filename="tsd_t">tsd_t</a> *</td></tr>
<tr><th id="147">147</th><td><dfn class="decl def fn" id="tsdn_tsd" title='tsdn_tsd' data-ref="tsdn_tsd" data-ref-filename="tsdn_tsd">tsdn_tsd</dfn>(<a class="typedef" href="tsd_types.h.html#tsdn_t" title='tsdn_t' data-type='struct tsdn_s' data-ref="tsdn_t" data-ref-filename="tsdn_t">tsdn_t</a> *<dfn class="local col6 decl" id="256tsdn" title='tsdn' data-type='tsdn_t *' data-ref="256tsdn" data-ref-filename="256tsdn">tsdn</dfn>) {</td></tr>
<tr><th id="148">148</th><td>	<a class="macro" href="assert.h.html#9" title="do { if (__builtin_expect(!!(config_debug &amp;&amp; !(!tsdn_null(tsdn))), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 148, &quot;!tsdn_null(tsdn)&quot;); abort(); } } while ( 0)" data-ref="_M/assert">assert</a>(!<a class="ref fn" href="#tsdn_null" title='tsdn_null' data-ref="tsdn_null" data-ref-filename="tsdn_null">tsdn_null</a>(<a class="local col6 ref" href="#256tsdn" title='tsdn' data-ref="256tsdn" data-ref-filename="256tsdn">tsdn</a>));</td></tr>
<tr><th id="149">149</th><td></td></tr>
<tr><th id="150">150</th><td>	<b>return</b> &amp;<a class="local col6 ref" href="#256tsdn" title='tsdn' data-ref="256tsdn" data-ref-filename="256tsdn">tsdn</a>-&gt;<a class="ref field" href="#tsdn_s::tsd" title='tsdn_s::tsd' data-ref="tsdn_s::tsd" data-ref-filename="tsdn_s..tsd">tsd</a>;</td></tr>
<tr><th id="151">151</th><td>}</td></tr>
<tr><th id="152">152</th><td></td></tr>
<tr><th id="153">153</th><td><em>void</em> *<a class="macro" href="private_namespace.h.html#363" title="je_malloc_tsd_malloc" data-ref="_M/malloc_tsd_malloc">malloc_tsd_malloc</a>(<a class="typedef" href="../../../../../../sys/sys/types.h.html#size_t" title='size_t' data-type='unsigned int' data-ref="size_t" data-ref-filename="size_t">size_t</a> <dfn class="local col7 decl" id="257size" title='size' data-type='size_t' data-ref="257size" data-ref-filename="257size">size</dfn>);</td></tr>
<tr><th id="154">154</th><td><em>void</em> <a class="macro" href="private_namespace.h.html#362" title="je_malloc_tsd_dalloc" data-ref="_M/malloc_tsd_dalloc">malloc_tsd_dalloc</a>(<em>void</em> *<dfn class="local col8 decl" id="258wrapper" title='wrapper' data-type='void *' data-ref="258wrapper" data-ref-filename="258wrapper">wrapper</dfn>);</td></tr>
<tr><th id="155">155</th><td><em>void</em> <a class="macro" href="private_namespace.h.html#361" title="je_malloc_tsd_cleanup_register" data-ref="_M/malloc_tsd_cleanup_register">malloc_tsd_cleanup_register</a>(<span class="macro" title="_Bool" data-ref="_M/bool">bool</span> (*<dfn class="local col9 decl" id="259f" title='f' data-type='_Bool (*)(void)' data-ref="259f" data-ref-filename="259f">f</dfn>)(<em>void</em>));</td></tr>
<tr><th id="156">156</th><td><a class="typedef" href="tsd_types.h.html#tsd_t" title='tsd_t' data-type='struct tsd_s' data-ref="tsd_t" data-ref-filename="tsd_t">tsd_t</a> *<a class="macro" href="private_namespace.h.html#359" title="je_malloc_tsd_boot0" data-ref="_M/malloc_tsd_boot0">malloc_tsd_boot0</a>(<em>void</em>);</td></tr>
<tr><th id="157">157</th><td><em>void</em> <a class="macro" href="private_namespace.h.html#360" title="je_malloc_tsd_boot1" data-ref="_M/malloc_tsd_boot1">malloc_tsd_boot1</a>(<em>void</em>);</td></tr>
<tr><th id="158">158</th><td><em>void</em> <a class="macro" href="private_namespace.h.html#365" title="je_tsd_cleanup" data-ref="_M/tsd_cleanup">tsd_cleanup</a>(<em>void</em> *<dfn class="local col0 decl" id="260arg" title='arg' data-type='void *' data-ref="260arg" data-ref-filename="260arg">arg</dfn>);</td></tr>
<tr><th id="159">159</th><td><a class="typedef" href="tsd_types.h.html#tsd_t" title='tsd_t' data-type='struct tsd_s' data-ref="tsd_t" data-ref-filename="tsd_t">tsd_t</a> *<a class="macro" href="private_namespace.h.html#366" title="je_tsd_fetch_slow" data-ref="_M/tsd_fetch_slow">tsd_fetch_slow</a>(<a class="typedef" href="tsd_types.h.html#tsd_t" title='tsd_t' data-type='struct tsd_s' data-ref="tsd_t" data-ref-filename="tsd_t">tsd_t</a> *<dfn class="local col1 decl" id="261tsd" title='tsd' data-type='tsd_t *' data-ref="261tsd" data-ref-filename="261tsd">tsd</dfn>, <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col2 decl" id="262internal" title='internal' data-type='_Bool' data-ref="262internal" data-ref-filename="262internal">internal</dfn>);</td></tr>
<tr><th id="160">160</th><td><em>void</em> <a class="macro" href="private_namespace.h.html#367" title="je_tsd_slow_update" data-ref="_M/tsd_slow_update">tsd_slow_update</a>(<a class="typedef" href="tsd_types.h.html#tsd_t" title='tsd_t' data-type='struct tsd_s' data-ref="tsd_t" data-ref-filename="tsd_t">tsd_t</a> *<dfn class="local col3 decl" id="263tsd" title='tsd' data-type='tsd_t *' data-ref="263tsd" data-ref-filename="263tsd">tsd</dfn>);</td></tr>
<tr><th id="161">161</th><td></td></tr>
<tr><th id="162">162</th><td><i>/*</i></td></tr>
<tr><th id="163">163</th><td><i> * We put the platform-specific data declarations and inlines into their own</i></td></tr>
<tr><th id="164">164</th><td><i> * header files to avoid cluttering this file.  They define tsd_boot0,</i></td></tr>
<tr><th id="165">165</th><td><i> * tsd_boot1, tsd_boot, tsd_booted_get, tsd_get_allocates, tsd_get, and tsd_set.</i></td></tr>
<tr><th id="166">166</th><td><i> */</i></td></tr>
<tr><th id="167">167</th><td><u>#<span data-ppcond="167">ifdef</span> <span class="macro" data-ref="_M/JEMALLOC_MALLOC_THREAD_CLEANUP">JEMALLOC_MALLOC_THREAD_CLEANUP</span></u></td></tr>
<tr><th id="168">168</th><td><u>#include "jemalloc/internal/tsd_malloc_thread_cleanup.h"</u></td></tr>
<tr><th id="169">169</th><td><u>#<span data-ppcond="167">elif</span> (defined(<a class="macro" href="jemalloc_internal_defs.h.html#247" data-ref="_M/JEMALLOC_TLS">JEMALLOC_TLS</a>))</u></td></tr>
<tr><th id="170">170</th><td><u>#include <a href="tsd_tls.h.html">"jemalloc/internal/tsd_tls.h"</a></u></td></tr>
<tr><th id="171">171</th><td><u>#<span data-ppcond="167">elif</span> (defined(_WIN32))</u></td></tr>
<tr><th id="172">172</th><td><u>#include "jemalloc/internal/tsd_win.h"</u></td></tr>
<tr><th id="173">173</th><td><u>#else</u></td></tr>
<tr><th id="174">174</th><td><u>#include "jemalloc/internal/tsd_generic.h"</u></td></tr>
<tr><th id="175">175</th><td><u>#<span data-ppcond="167">endif</span></u></td></tr>
<tr><th id="176">176</th><td></td></tr>
<tr><th id="177">177</th><td><i>/*</i></td></tr>
<tr><th id="178">178</th><td><i> * tsd_foop_get_unsafe(tsd) returns a pointer to the thread-local instance of</i></td></tr>
<tr><th id="179">179</th><td><i> * foo.  This omits some safety checks, and so can be used during tsd</i></td></tr>
<tr><th id="180">180</th><td><i> * initialization and cleanup.</i></td></tr>
<tr><th id="181">181</th><td><i> */</i></td></tr>
<tr><th id="182">182</th><td><u>#define <dfn class="macro" id="_M/O" data-ref="_M/O">O</dfn>(n, t, nt)							\</u></td></tr>
<tr><th id="183">183</th><td><u>JEMALLOC_ALWAYS_INLINE t *						\</u></td></tr>
<tr><th id="184">184</th><td><u>tsd_##n##p_get_unsafe(<a class="typedef" href="tsd_types.h.html#tsd_t" title='tsd_t' data-type='struct tsd_s' data-ref="tsd_t" data-ref-filename="tsd_t">tsd_t</a> *<dfn class="local col6 decl" id="266tsd" title='tsd' data-type='tsd_t *' data-ref="266tsd" data-ref-filename="266tsd"><dfn class="local col7 decl" id="267tsd" title='tsd' data-type='tsd_t *' data-ref="267tsd" data-ref-filename="267tsd"><dfn class="local col8 decl" id="268tsd" title='tsd' data-type='tsd_t *' data-ref="268tsd" data-ref-filename="268tsd"><dfn class="local col9 decl" id="269tsd" title='tsd' data-type='tsd_t *' data-ref="269tsd" data-ref-filename="269tsd"><dfn class="local col0 decl" id="270tsd" title='tsd' data-type='tsd_t *' data-ref="270tsd" data-ref-filename="270tsd"><dfn class="local col1 decl" id="271tsd" title='tsd' data-type='tsd_t *' data-ref="271tsd" data-ref-filename="271tsd"><dfn class="local col2 decl" id="272tsd" title='tsd' data-type='tsd_t *' data-ref="272tsd" data-ref-filename="272tsd"><dfn class="local col3 decl" id="273tsd" title='tsd' data-type='tsd_t *' data-ref="273tsd" data-ref-filename="273tsd"><dfn class="local col4 decl" id="274tsd" title='tsd' data-type='tsd_t *' data-ref="274tsd" data-ref-filename="274tsd"><dfn class="local col5 decl" id="275tsd" title='tsd' data-type='tsd_t *' data-ref="275tsd" data-ref-filename="275tsd"><dfn class="local col6 decl" id="276tsd" title='tsd' data-type='tsd_t *' data-ref="276tsd" data-ref-filename="276tsd"><dfn class="local col7 decl" id="277tsd" title='tsd' data-type='tsd_t *' data-ref="277tsd" data-ref-filename="277tsd"><dfn class="local col8 decl" id="278tsd" title='tsd' data-type='tsd_t *' data-ref="278tsd" data-ref-filename="278tsd"><dfn class="local col9 decl" id="279tsd" title='tsd' data-type='tsd_t *' data-ref="279tsd" data-ref-filename="279tsd">tsd</dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn>) {					\</u></td></tr>
<tr><th id="185">185</th><td><u>	return &amp;<a class="local col6 ref" href="#187" title='tsd' data-ref="266tsd" data-ref-filename="266tsd"><a class="local col7 ref" href="#187" title='tsd' data-ref="267tsd" data-ref-filename="267tsd"><a class="local col8 ref" href="#187" title='tsd' data-ref="268tsd" data-ref-filename="268tsd"><a class="local col9 ref" href="#187" title='tsd' data-ref="269tsd" data-ref-filename="269tsd"><a class="local col0 ref" href="#187" title='tsd' data-ref="270tsd" data-ref-filename="270tsd"><a class="local col1 ref" href="#187" title='tsd' data-ref="271tsd" data-ref-filename="271tsd"><a class="local col2 ref" href="#187" title='tsd' data-ref="272tsd" data-ref-filename="272tsd"><a class="local col3 ref" href="#187" title='tsd' data-ref="273tsd" data-ref-filename="273tsd"><a class="local col4 ref" href="#187" title='tsd' data-ref="274tsd" data-ref-filename="274tsd"><a class="local col5 ref" href="#187" title='tsd' data-ref="275tsd" data-ref-filename="275tsd"><a class="local col6 ref" href="#187" title='tsd' data-ref="276tsd" data-ref-filename="276tsd"><a class="local col7 ref" href="#187" title='tsd' data-ref="277tsd" data-ref-filename="277tsd"><a class="local col8 ref" href="#187" title='tsd' data-ref="278tsd" data-ref-filename="278tsd"><a class="local col9 ref" href="#187" title='tsd' data-ref="279tsd" data-ref-filename="279tsd">tsd</a></a></a></a></a></a></a></a></a></a></a></a></a></a>-&gt;use_a_getter_or_setter_instead_##n;		\</u></td></tr>
<tr><th id="186">186</th><td><u>}</u></td></tr>
<tr><th id="187">187</th><td><a class="macro" href="#63" title="static inline _Bool * tsd_tcache_enabledp_get_unsafe(tsd_t *tsd) { return &amp;tsd-&gt;use_a_getter_or_setter_instead_tcache_enabled; } static inline _Bool * tsd_arenas_tdata_bypassp_get_unsafe(tsd_t *tsd) { return &amp;tsd-&gt;use_a_getter_or_setter_instead_arenas_tdata_bypass; } static inline int8_t * tsd_reentrancy_levelp_get_unsafe(tsd_t *tsd) { return &amp;tsd-&gt;use_a_getter_or_setter_instead_reentrancy_level; } static inline uint32_t * tsd_narenas_tdatap_get_unsafe(tsd_t *tsd) { return &amp;tsd-&gt;use_a_getter_or_setter_instead_narenas_tdata; } static inline uint64_t * tsd_offset_statep_get_unsafe(tsd_t *tsd) { return &amp;tsd-&gt;use_a_getter_or_setter_instead_offset_state; } static inline uint64_t * tsd_thread_allocatedp_get_unsafe(tsd_t *tsd) { return &amp;tsd-&gt;use_a_getter_or_setter_instead_thread_allocated; } static inline uint64_t * tsd_thread_deallocatedp_get_unsafe(tsd_t *tsd) { return &amp;tsd-&gt;use_a_getter_or_setter_instead_thread_deallocated; } static inline prof_tdata_t * * tsd_prof_tdatap_get_unsafe(tsd_t *tsd) { return &amp;tsd-&gt;use_a_getter_or_setter_instead_prof_tdata; } static inline rtree_ctx_t * tsd_rtree_ctxp_get_unsafe(tsd_t *tsd) { return &amp;tsd-&gt;use_a_getter_or_setter_instead_rtree_ctx; } static inline arena_t * * tsd_iarenap_get_unsafe(tsd_t *tsd) { return &amp;tsd-&gt;use_a_getter_or_setter_instead_iarena; } static inline arena_t * * tsd_arenap_get_unsafe(tsd_t *tsd) { return &amp;tsd-&gt;use_a_getter_or_setter_instead_arena; } static inline arena_tdata_t * * tsd_arenas_tdatap_get_unsafe(tsd_t *tsd) { return &amp;tsd-&gt;use_a_getter_or_setter_instead_arenas_tdata; } static inline tcache_t * tsd_tcachep_get_unsafe(tsd_t *tsd) { return &amp;tsd-&gt;use_a_getter_or_setter_instead_tcache; } static inline witness_tsd_t * tsd_witness_tsdp_get_unsafe(tsd_t *tsd) { return &amp;tsd-&gt;use_a_getter_or_setter_instead_witness_tsd; }" data-ref="_M/MALLOC_TSD">MALLOC_TSD</a></td></tr>
<tr><th id="188">188</th><td><u>#undef <a class="macro" href="#182" data-ref="_M/O">O</a></u></td></tr>
<tr><th id="189">189</th><td></td></tr>
<tr><th id="190">190</th><td><i>/* tsd_foop_get(tsd) returns a pointer to the thread-local instance of foo. */</i></td></tr>
<tr><th id="191">191</th><td><u>#define <dfn class="macro" id="_M/O" data-ref="_M/O">O</dfn>(n, t, nt)							\</u></td></tr>
<tr><th id="192">192</th><td><u>JEMALLOC_ALWAYS_INLINE t *						\</u></td></tr>
<tr><th id="193">193</th><td><u>tsd_##n##p_get(<a class="typedef" href="tsd_types.h.html#tsd_t" title='tsd_t' data-type='struct tsd_s' data-ref="tsd_t" data-ref-filename="tsd_t">tsd_t</a> *<dfn class="local col0 decl" id="280tsd" title='tsd' data-type='tsd_t *' data-ref="280tsd" data-ref-filename="280tsd"><dfn class="local col1 decl" id="281tsd" title='tsd' data-type='tsd_t *' data-ref="281tsd" data-ref-filename="281tsd"><dfn class="local col2 decl" id="282tsd" title='tsd' data-type='tsd_t *' data-ref="282tsd" data-ref-filename="282tsd"><dfn class="local col3 decl" id="283tsd" title='tsd' data-type='tsd_t *' data-ref="283tsd" data-ref-filename="283tsd"><dfn class="local col4 decl" id="284tsd" title='tsd' data-type='tsd_t *' data-ref="284tsd" data-ref-filename="284tsd"><dfn class="local col5 decl" id="285tsd" title='tsd' data-type='tsd_t *' data-ref="285tsd" data-ref-filename="285tsd"><dfn class="local col6 decl" id="286tsd" title='tsd' data-type='tsd_t *' data-ref="286tsd" data-ref-filename="286tsd"><dfn class="local col7 decl" id="287tsd" title='tsd' data-type='tsd_t *' data-ref="287tsd" data-ref-filename="287tsd"><dfn class="local col8 decl" id="288tsd" title='tsd' data-type='tsd_t *' data-ref="288tsd" data-ref-filename="288tsd"><dfn class="local col9 decl" id="289tsd" title='tsd' data-type='tsd_t *' data-ref="289tsd" data-ref-filename="289tsd"><dfn class="local col0 decl" id="290tsd" title='tsd' data-type='tsd_t *' data-ref="290tsd" data-ref-filename="290tsd"><dfn class="local col1 decl" id="291tsd" title='tsd' data-type='tsd_t *' data-ref="291tsd" data-ref-filename="291tsd"><dfn class="local col2 decl" id="292tsd" title='tsd' data-type='tsd_t *' data-ref="292tsd" data-ref-filename="292tsd"><dfn class="local col3 decl" id="293tsd" title='tsd' data-type='tsd_t *' data-ref="293tsd" data-ref-filename="293tsd">tsd</dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn>) {						\</u></td></tr>
<tr><th id="194">194</th><td><u>	assert(<a class="local col0 ref" href="#200" title='tsd' data-ref="280tsd" data-ref-filename="280tsd"><a class="local col1 ref" href="#200" title='tsd' data-ref="281tsd" data-ref-filename="281tsd"><a class="local col2 ref" href="#200" title='tsd' data-ref="282tsd" data-ref-filename="282tsd"><a class="local col3 ref" href="#200" title='tsd' data-ref="283tsd" data-ref-filename="283tsd"><a class="local col4 ref" href="#200" title='tsd' data-ref="284tsd" data-ref-filename="284tsd"><a class="local col5 ref" href="#200" title='tsd' data-ref="285tsd" data-ref-filename="285tsd"><a class="local col6 ref" href="#200" title='tsd' data-ref="286tsd" data-ref-filename="286tsd"><a class="local col7 ref" href="#200" title='tsd' data-ref="287tsd" data-ref-filename="287tsd"><a class="local col8 ref" href="#200" title='tsd' data-ref="288tsd" data-ref-filename="288tsd"><a class="local col9 ref" href="#200" title='tsd' data-ref="289tsd" data-ref-filename="289tsd"><a class="local col0 ref" href="#200" title='tsd' data-ref="290tsd" data-ref-filename="290tsd"><a class="local col1 ref" href="#200" title='tsd' data-ref="291tsd" data-ref-filename="291tsd"><a class="local col2 ref" href="#200" title='tsd' data-ref="292tsd" data-ref-filename="292tsd"><a class="local col3 ref" href="#200" title='tsd' data-ref="293tsd" data-ref-filename="293tsd">tsd</a></a></a></a></a></a></a></a></a></a></a></a></a></a>-&gt;<a class="ref field" href="#tsd_s::state" title='tsd_s::state' data-ref="tsd_s::state" data-ref-filename="tsd_s..state">state</a> == <a class="enum" href="#tsd_state_nominal" title='tsd_state_nominal' data-ref="tsd_state_nominal" data-ref-filename="tsd_state_nominal">tsd_state_nominal</a> ||			\</u></td></tr>
<tr><th id="195">195</th><td><u>	    <a class="local col0 ref" href="#200" title='tsd' data-ref="280tsd" data-ref-filename="280tsd"><a class="local col1 ref" href="#200" title='tsd' data-ref="281tsd" data-ref-filename="281tsd"><a class="local col2 ref" href="#200" title='tsd' data-ref="282tsd" data-ref-filename="282tsd"><a class="local col3 ref" href="#200" title='tsd' data-ref="283tsd" data-ref-filename="283tsd"><a class="local col4 ref" href="#200" title='tsd' data-ref="284tsd" data-ref-filename="284tsd"><a class="local col5 ref" href="#200" title='tsd' data-ref="285tsd" data-ref-filename="285tsd"><a class="local col6 ref" href="#200" title='tsd' data-ref="286tsd" data-ref-filename="286tsd"><a class="local col7 ref" href="#200" title='tsd' data-ref="287tsd" data-ref-filename="287tsd"><a class="local col8 ref" href="#200" title='tsd' data-ref="288tsd" data-ref-filename="288tsd"><a class="local col9 ref" href="#200" title='tsd' data-ref="289tsd" data-ref-filename="289tsd"><a class="local col0 ref" href="#200" title='tsd' data-ref="290tsd" data-ref-filename="290tsd"><a class="local col1 ref" href="#200" title='tsd' data-ref="291tsd" data-ref-filename="291tsd"><a class="local col2 ref" href="#200" title='tsd' data-ref="292tsd" data-ref-filename="292tsd"><a class="local col3 ref" href="#200" title='tsd' data-ref="293tsd" data-ref-filename="293tsd">tsd</a></a></a></a></a></a></a></a></a></a></a></a></a></a>-&gt;<a class="ref field" href="#tsd_s::state" title='tsd_s::state' data-ref="tsd_s::state" data-ref-filename="tsd_s..state">state</a> == <a class="enum" href="#tsd_state_nominal_slow" title='tsd_state_nominal_slow' data-ref="tsd_state_nominal_slow" data-ref-filename="tsd_state_nominal_slow">tsd_state_nominal_slow</a> ||			\</u></td></tr>
<tr><th id="196">196</th><td><u>	    <a class="local col0 ref" href="#200" title='tsd' data-ref="280tsd" data-ref-filename="280tsd"><a class="local col1 ref" href="#200" title='tsd' data-ref="281tsd" data-ref-filename="281tsd"><a class="local col2 ref" href="#200" title='tsd' data-ref="282tsd" data-ref-filename="282tsd"><a class="local col3 ref" href="#200" title='tsd' data-ref="283tsd" data-ref-filename="283tsd"><a class="local col4 ref" href="#200" title='tsd' data-ref="284tsd" data-ref-filename="284tsd"><a class="local col5 ref" href="#200" title='tsd' data-ref="285tsd" data-ref-filename="285tsd"><a class="local col6 ref" href="#200" title='tsd' data-ref="286tsd" data-ref-filename="286tsd"><a class="local col7 ref" href="#200" title='tsd' data-ref="287tsd" data-ref-filename="287tsd"><a class="local col8 ref" href="#200" title='tsd' data-ref="288tsd" data-ref-filename="288tsd"><a class="local col9 ref" href="#200" title='tsd' data-ref="289tsd" data-ref-filename="289tsd"><a class="local col0 ref" href="#200" title='tsd' data-ref="290tsd" data-ref-filename="290tsd"><a class="local col1 ref" href="#200" title='tsd' data-ref="291tsd" data-ref-filename="291tsd"><a class="local col2 ref" href="#200" title='tsd' data-ref="292tsd" data-ref-filename="292tsd"><a class="local col3 ref" href="#200" title='tsd' data-ref="293tsd" data-ref-filename="293tsd">tsd</a></a></a></a></a></a></a></a></a></a></a></a></a></a>-&gt;<a class="ref field" href="#tsd_s::state" title='tsd_s::state' data-ref="tsd_s::state" data-ref-filename="tsd_s..state">state</a> == <a class="enum" href="#tsd_state_reincarnated" title='tsd_state_reincarnated' data-ref="tsd_state_reincarnated" data-ref-filename="tsd_state_reincarnated">tsd_state_reincarnated</a> ||			\</u></td></tr>
<tr><th id="197">197</th><td><u>	    <a class="local col0 ref" href="#200" title='tsd' data-ref="280tsd" data-ref-filename="280tsd"><a class="local col1 ref" href="#200" title='tsd' data-ref="281tsd" data-ref-filename="281tsd"><a class="local col2 ref" href="#200" title='tsd' data-ref="282tsd" data-ref-filename="282tsd"><a class="local col3 ref" href="#200" title='tsd' data-ref="283tsd" data-ref-filename="283tsd"><a class="local col4 ref" href="#200" title='tsd' data-ref="284tsd" data-ref-filename="284tsd"><a class="local col5 ref" href="#200" title='tsd' data-ref="285tsd" data-ref-filename="285tsd"><a class="local col6 ref" href="#200" title='tsd' data-ref="286tsd" data-ref-filename="286tsd"><a class="local col7 ref" href="#200" title='tsd' data-ref="287tsd" data-ref-filename="287tsd"><a class="local col8 ref" href="#200" title='tsd' data-ref="288tsd" data-ref-filename="288tsd"><a class="local col9 ref" href="#200" title='tsd' data-ref="289tsd" data-ref-filename="289tsd"><a class="local col0 ref" href="#200" title='tsd' data-ref="290tsd" data-ref-filename="290tsd"><a class="local col1 ref" href="#200" title='tsd' data-ref="291tsd" data-ref-filename="291tsd"><a class="local col2 ref" href="#200" title='tsd' data-ref="292tsd" data-ref-filename="292tsd"><a class="local col3 ref" href="#200" title='tsd' data-ref="293tsd" data-ref-filename="293tsd">tsd</a></a></a></a></a></a></a></a></a></a></a></a></a></a>-&gt;<a class="ref field" href="#tsd_s::state" title='tsd_s::state' data-ref="tsd_s::state" data-ref-filename="tsd_s..state">state</a> == <a class="enum" href="#tsd_state_minimal_initialized" title='tsd_state_minimal_initialized' data-ref="tsd_state_minimal_initialized" data-ref-filename="tsd_state_minimal_initialized">tsd_state_minimal_initialized</a>);		\</u></td></tr>
<tr><th id="198">198</th><td><u>	return tsd_##n##p_get_unsafe(<a class="local col0 ref" href="#200" title='tsd' data-ref="280tsd" data-ref-filename="280tsd"><a class="local col1 ref" href="#200" title='tsd' data-ref="281tsd" data-ref-filename="281tsd"><a class="local col2 ref" href="#200" title='tsd' data-ref="282tsd" data-ref-filename="282tsd"><a class="local col3 ref" href="#200" title='tsd' data-ref="283tsd" data-ref-filename="283tsd"><a class="local col4 ref" href="#200" title='tsd' data-ref="284tsd" data-ref-filename="284tsd"><a class="local col5 ref" href="#200" title='tsd' data-ref="285tsd" data-ref-filename="285tsd"><a class="local col6 ref" href="#200" title='tsd' data-ref="286tsd" data-ref-filename="286tsd"><a class="local col7 ref" href="#200" title='tsd' data-ref="287tsd" data-ref-filename="287tsd"><a class="local col8 ref" href="#200" title='tsd' data-ref="288tsd" data-ref-filename="288tsd"><a class="local col9 ref" href="#200" title='tsd' data-ref="289tsd" data-ref-filename="289tsd"><a class="local col0 ref" href="#200" title='tsd' data-ref="290tsd" data-ref-filename="290tsd"><a class="local col1 ref" href="#200" title='tsd' data-ref="291tsd" data-ref-filename="291tsd"><a class="local col2 ref" href="#200" title='tsd' data-ref="292tsd" data-ref-filename="292tsd"><a class="local col3 ref" href="#200" title='tsd' data-ref="293tsd" data-ref-filename="293tsd">tsd</a></a></a></a></a></a></a></a></a></a></a></a></a></a>);				\</u></td></tr>
<tr><th id="199">199</th><td><u>}</u></td></tr>
<tr><th id="200">200</th><td><a class="macro" href="#63" title="static inline _Bool * tsd_tcache_enabledp_get(tsd_t *tsd) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 200, &quot;tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); return tsd_tcache_enabledp_get_unsafe(tsd); } static inline _Bool * tsd_arenas_tdata_bypassp_get(tsd_t *tsd) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 200, &quot;tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); return tsd_arenas_tdata_bypassp_get_unsafe(tsd); } static inline int8_t * tsd_reentrancy_levelp_get(tsd_t *tsd) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 200, &quot;tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); return tsd_reentrancy_levelp_get_unsafe(tsd); } static inline uint32_t * tsd_narenas_tdatap_get(tsd_t *tsd) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 200, &quot;tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); return tsd_narenas_tdatap_get_unsafe(tsd); } static inline uint64_t * tsd_offset_statep_get(tsd_t *tsd) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 200, &quot;tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); return tsd_offset_statep_get_unsafe(tsd); } static inline uint64_t * tsd_thread_allocatedp_get(tsd_t *tsd) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 200, &quot;tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); return tsd_thread_allocatedp_get_unsafe(tsd); } static inline uint64_t * tsd_thread_deallocatedp_get(tsd_t *tsd) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 200, &quot;tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); return tsd_thread_deallocatedp_get_unsafe(tsd); } static inline prof_tdata_t * * tsd_prof_tdatap_get(tsd_t *tsd) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 200, &quot;tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); return tsd_prof_tdatap_get_unsafe(tsd); } static inline rtree_ctx_t * tsd_rtree_ctxp_get(tsd_t *tsd) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 200, &quot;tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); return tsd_rtree_ctxp_get_unsafe(tsd); } static inline arena_t * * tsd_iarenap_get(tsd_t *tsd) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 200, &quot;tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); return tsd_iarenap_get_unsafe(tsd); } static inline arena_t * * tsd_arenap_get(tsd_t *tsd) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 200, &quot;tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); return tsd_arenap_get_unsafe(tsd); } static inline arena_tdata_t * * tsd_arenas_tdatap_get(tsd_t *tsd) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 200, &quot;tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); return tsd_arenas_tdatap_get_unsafe(tsd); } static inline tcache_t * tsd_tcachep_get(tsd_t *tsd) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 200, &quot;tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); return tsd_tcachep_get_unsafe(tsd); } static inline witness_tsd_t * tsd_witness_tsdp_get(tsd_t *tsd) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 200, &quot;tsd-&gt;state == tsd_state_nominal || tsd-&gt;state == tsd_state_nominal_slow || tsd-&gt;state == tsd_state_reincarnated || tsd-&gt;state == tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); return tsd_witness_tsdp_get_unsafe(tsd); }" data-ref="_M/MALLOC_TSD">MALLOC_TSD</a></td></tr>
<tr><th id="201">201</th><td><u>#undef <a class="macro" href="#191" data-ref="_M/O">O</a></u></td></tr>
<tr><th id="202">202</th><td></td></tr>
<tr><th id="203">203</th><td><i>/*</i></td></tr>
<tr><th id="204">204</th><td><i> * tsdn_foop_get(tsdn) returns either the thread-local instance of foo (if tsdn</i></td></tr>
<tr><th id="205">205</th><td><i> * isn't NULL), or NULL (if tsdn is NULL), cast to the nullable pointer type.</i></td></tr>
<tr><th id="206">206</th><td><i> */</i></td></tr>
<tr><th id="207">207</th><td><u>#define <dfn class="macro" id="_M/O" data-ref="_M/O">O</dfn>(n, t, nt)							\</u></td></tr>
<tr><th id="208">208</th><td><u>JEMALLOC_ALWAYS_INLINE nt *						\</u></td></tr>
<tr><th id="209">209</th><td><u>tsdn_##n##p_get(<a class="typedef" href="tsd_types.h.html#tsdn_t" title='tsdn_t' data-type='struct tsdn_s' data-ref="tsdn_t" data-ref-filename="tsdn_t">tsdn_t</a> *<dfn class="local col4 decl" id="294tsdn" title='tsdn' data-type='tsdn_t *' data-ref="294tsdn" data-ref-filename="294tsdn"><dfn class="local col6 decl" id="296tsdn" title='tsdn' data-type='tsdn_t *' data-ref="296tsdn" data-ref-filename="296tsdn"><dfn class="local col8 decl" id="298tsdn" title='tsdn' data-type='tsdn_t *' data-ref="298tsdn" data-ref-filename="298tsdn"><dfn class="local col0 decl" id="300tsdn" title='tsdn' data-type='tsdn_t *' data-ref="300tsdn" data-ref-filename="300tsdn"><dfn class="local col2 decl" id="302tsdn" title='tsdn' data-type='tsdn_t *' data-ref="302tsdn" data-ref-filename="302tsdn"><dfn class="local col4 decl" id="304tsdn" title='tsdn' data-type='tsdn_t *' data-ref="304tsdn" data-ref-filename="304tsdn"><dfn class="local col6 decl" id="306tsdn" title='tsdn' data-type='tsdn_t *' data-ref="306tsdn" data-ref-filename="306tsdn"><dfn class="local col8 decl" id="308tsdn" title='tsdn' data-type='tsdn_t *' data-ref="308tsdn" data-ref-filename="308tsdn"><dfn class="local col0 decl" id="310tsdn" title='tsdn' data-type='tsdn_t *' data-ref="310tsdn" data-ref-filename="310tsdn"><dfn class="local col2 decl" id="312tsdn" title='tsdn' data-type='tsdn_t *' data-ref="312tsdn" data-ref-filename="312tsdn"><dfn class="local col4 decl" id="314tsdn" title='tsdn' data-type='tsdn_t *' data-ref="314tsdn" data-ref-filename="314tsdn"><dfn class="local col6 decl" id="316tsdn" title='tsdn' data-type='tsdn_t *' data-ref="316tsdn" data-ref-filename="316tsdn"><dfn class="local col8 decl" id="318tsdn" title='tsdn' data-type='tsdn_t *' data-ref="318tsdn" data-ref-filename="318tsdn"><dfn class="local col0 decl" id="320tsdn" title='tsdn' data-type='tsdn_t *' data-ref="320tsdn" data-ref-filename="320tsdn">tsdn</dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn>) {						\</u></td></tr>
<tr><th id="210">210</th><td><u>	if (<a class="ref fn" href="#tsdn_null" title='tsdn_null' data-ref="tsdn_null" data-ref-filename="tsdn_null">tsdn_null</a>(<a class="local col4 ref" href="#216" title='tsdn' data-ref="294tsdn" data-ref-filename="294tsdn"><a class="local col6 ref" href="#216" title='tsdn' data-ref="296tsdn" data-ref-filename="296tsdn"><a class="local col8 ref" href="#216" title='tsdn' data-ref="298tsdn" data-ref-filename="298tsdn"><a class="local col0 ref" href="#216" title='tsdn' data-ref="300tsdn" data-ref-filename="300tsdn"><a class="local col2 ref" href="#216" title='tsdn' data-ref="302tsdn" data-ref-filename="302tsdn"><a class="local col4 ref" href="#216" title='tsdn' data-ref="304tsdn" data-ref-filename="304tsdn"><a class="local col6 ref" href="#216" title='tsdn' data-ref="306tsdn" data-ref-filename="306tsdn"><a class="local col8 ref" href="#216" title='tsdn' data-ref="308tsdn" data-ref-filename="308tsdn"><a class="local col0 ref" href="#216" title='tsdn' data-ref="310tsdn" data-ref-filename="310tsdn"><a class="local col2 ref" href="#216" title='tsdn' data-ref="312tsdn" data-ref-filename="312tsdn"><a class="local col4 ref" href="#216" title='tsdn' data-ref="314tsdn" data-ref-filename="314tsdn"><a class="local col6 ref" href="#216" title='tsdn' data-ref="316tsdn" data-ref-filename="316tsdn"><a class="local col8 ref" href="#216" title='tsdn' data-ref="318tsdn" data-ref-filename="318tsdn"><a class="local col0 ref" href="#216" title='tsdn' data-ref="320tsdn" data-ref-filename="320tsdn">tsdn</a></a></a></a></a></a></a></a></a></a></a></a></a></a>)) {						\</u></td></tr>
<tr><th id="211">211</th><td><u>		return NULL;						\</u></td></tr>
<tr><th id="212">212</th><td><u>	}								\</u></td></tr>
<tr><th id="213">213</th><td><u>	<a class="typedef" href="tsd_types.h.html#tsd_t" title='tsd_t' data-type='struct tsd_s' data-ref="tsd_t" data-ref-filename="tsd_t">tsd_t</a> *<dfn class="local col5 decl" id="295tsd" title='tsd' data-type='tsd_t *' data-ref="295tsd" data-ref-filename="295tsd"><dfn class="local col7 decl" id="297tsd" title='tsd' data-type='tsd_t *' data-ref="297tsd" data-ref-filename="297tsd"><dfn class="local col9 decl" id="299tsd" title='tsd' data-type='tsd_t *' data-ref="299tsd" data-ref-filename="299tsd"><dfn class="local col1 decl" id="301tsd" title='tsd' data-type='tsd_t *' data-ref="301tsd" data-ref-filename="301tsd"><dfn class="local col3 decl" id="303tsd" title='tsd' data-type='tsd_t *' data-ref="303tsd" data-ref-filename="303tsd"><dfn class="local col5 decl" id="305tsd" title='tsd' data-type='tsd_t *' data-ref="305tsd" data-ref-filename="305tsd"><dfn class="local col7 decl" id="307tsd" title='tsd' data-type='tsd_t *' data-ref="307tsd" data-ref-filename="307tsd"><dfn class="local col9 decl" id="309tsd" title='tsd' data-type='tsd_t *' data-ref="309tsd" data-ref-filename="309tsd"><dfn class="local col1 decl" id="311tsd" title='tsd' data-type='tsd_t *' data-ref="311tsd" data-ref-filename="311tsd"><dfn class="local col3 decl" id="313tsd" title='tsd' data-type='tsd_t *' data-ref="313tsd" data-ref-filename="313tsd"><dfn class="local col5 decl" id="315tsd" title='tsd' data-type='tsd_t *' data-ref="315tsd" data-ref-filename="315tsd"><dfn class="local col7 decl" id="317tsd" title='tsd' data-type='tsd_t *' data-ref="317tsd" data-ref-filename="317tsd"><dfn class="local col9 decl" id="319tsd" title='tsd' data-type='tsd_t *' data-ref="319tsd" data-ref-filename="319tsd"><dfn class="local col1 decl" id="321tsd" title='tsd' data-type='tsd_t *' data-ref="321tsd" data-ref-filename="321tsd">tsd</dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn> = <a class="ref fn" href="#tsdn_tsd" title='tsdn_tsd' data-ref="tsdn_tsd" data-ref-filename="tsdn_tsd">tsdn_tsd</a>(<a class="local col4 ref" href="#216" title='tsdn' data-ref="294tsdn" data-ref-filename="294tsdn"><a class="local col6 ref" href="#216" title='tsdn' data-ref="296tsdn" data-ref-filename="296tsdn"><a class="local col8 ref" href="#216" title='tsdn' data-ref="298tsdn" data-ref-filename="298tsdn"><a class="local col0 ref" href="#216" title='tsdn' data-ref="300tsdn" data-ref-filename="300tsdn"><a class="local col2 ref" href="#216" title='tsdn' data-ref="302tsdn" data-ref-filename="302tsdn"><a class="local col4 ref" href="#216" title='tsdn' data-ref="304tsdn" data-ref-filename="304tsdn"><a class="local col6 ref" href="#216" title='tsdn' data-ref="306tsdn" data-ref-filename="306tsdn"><a class="local col8 ref" href="#216" title='tsdn' data-ref="308tsdn" data-ref-filename="308tsdn"><a class="local col0 ref" href="#216" title='tsdn' data-ref="310tsdn" data-ref-filename="310tsdn"><a class="local col2 ref" href="#216" title='tsdn' data-ref="312tsdn" data-ref-filename="312tsdn"><a class="local col4 ref" href="#216" title='tsdn' data-ref="314tsdn" data-ref-filename="314tsdn"><a class="local col6 ref" href="#216" title='tsdn' data-ref="316tsdn" data-ref-filename="316tsdn"><a class="local col8 ref" href="#216" title='tsdn' data-ref="318tsdn" data-ref-filename="318tsdn"><a class="local col0 ref" href="#216" title='tsdn' data-ref="320tsdn" data-ref-filename="320tsdn">tsdn</a></a></a></a></a></a></a></a></a></a></a></a></a></a>);					\</u></td></tr>
<tr><th id="214">214</th><td><u>	return (nt *)tsd_##n##p_get(<a class="local col5 ref" href="#216" title='tsd' data-ref="295tsd" data-ref-filename="295tsd"><a class="local col7 ref" href="#216" title='tsd' data-ref="297tsd" data-ref-filename="297tsd"><a class="local col9 ref" href="#216" title='tsd' data-ref="299tsd" data-ref-filename="299tsd"><a class="local col1 ref" href="#216" title='tsd' data-ref="301tsd" data-ref-filename="301tsd"><a class="local col3 ref" href="#216" title='tsd' data-ref="303tsd" data-ref-filename="303tsd"><a class="local col5 ref" href="#216" title='tsd' data-ref="305tsd" data-ref-filename="305tsd"><a class="local col7 ref" href="#216" title='tsd' data-ref="307tsd" data-ref-filename="307tsd"><a class="local col9 ref" href="#216" title='tsd' data-ref="309tsd" data-ref-filename="309tsd"><a class="local col1 ref" href="#216" title='tsd' data-ref="311tsd" data-ref-filename="311tsd"><a class="local col3 ref" href="#216" title='tsd' data-ref="313tsd" data-ref-filename="313tsd"><a class="local col5 ref" href="#216" title='tsd' data-ref="315tsd" data-ref-filename="315tsd"><a class="local col7 ref" href="#216" title='tsd' data-ref="317tsd" data-ref-filename="317tsd"><a class="local col9 ref" href="#216" title='tsd' data-ref="319tsd" data-ref-filename="319tsd"><a class="local col1 ref" href="#216" title='tsd' data-ref="321tsd" data-ref-filename="321tsd">tsd</a></a></a></a></a></a></a></a></a></a></a></a></a></a>);				\</u></td></tr>
<tr><th id="215">215</th><td><u>}</u></td></tr>
<tr><th id="216">216</th><td><a class="macro" href="#63" title="static inline _Bool * tsdn_tcache_enabledp_get(tsdn_t *tsdn) { if (tsdn_null(tsdn)) { return ((void*)0); } tsd_t *tsd = tsdn_tsd(tsdn); return (_Bool *)tsd_tcache_enabledp_get(tsd); } static inline _Bool * tsdn_arenas_tdata_bypassp_get(tsdn_t *tsdn) { if (tsdn_null(tsdn)) { return ((void*)0); } tsd_t *tsd = tsdn_tsd(tsdn); return (_Bool *)tsd_arenas_tdata_bypassp_get(tsd); } static inline int8_t * tsdn_reentrancy_levelp_get(tsdn_t *tsdn) { if (tsdn_null(tsdn)) { return ((void*)0); } tsd_t *tsd = tsdn_tsd(tsdn); return (int8_t *)tsd_reentrancy_levelp_get(tsd); } static inline uint32_t * tsdn_narenas_tdatap_get(tsdn_t *tsdn) { if (tsdn_null(tsdn)) { return ((void*)0); } tsd_t *tsd = tsdn_tsd(tsdn); return (uint32_t *)tsd_narenas_tdatap_get(tsd); } static inline uint64_t * tsdn_offset_statep_get(tsdn_t *tsdn) { if (tsdn_null(tsdn)) { return ((void*)0); } tsd_t *tsd = tsdn_tsd(tsdn); return (uint64_t *)tsd_offset_statep_get(tsd); } static inline uint64_t * tsdn_thread_allocatedp_get(tsdn_t *tsdn) { if (tsdn_null(tsdn)) { return ((void*)0); } tsd_t *tsd = tsdn_tsd(tsdn); return (uint64_t *)tsd_thread_allocatedp_get(tsd); } static inline uint64_t * tsdn_thread_deallocatedp_get(tsdn_t *tsdn) { if (tsdn_null(tsdn)) { return ((void*)0); } tsd_t *tsd = tsdn_tsd(tsdn); return (uint64_t *)tsd_thread_deallocatedp_get(tsd); } static inline prof_tdata_t * * tsdn_prof_tdatap_get(tsdn_t *tsdn) { if (tsdn_null(tsdn)) { return ((void*)0); } tsd_t *tsd = tsdn_tsd(tsdn); return (prof_tdata_t * *)tsd_prof_tdatap_get(tsd); } static inline rtree_ctx_t * tsdn_rtree_ctxp_get(tsdn_t *tsdn) { if (tsdn_null(tsdn)) { return ((void*)0); } tsd_t *tsd = tsdn_tsd(tsdn); return (rtree_ctx_t *)tsd_rtree_ctxp_get(tsd); } static inline arena_t * * tsdn_iarenap_get(tsdn_t *tsdn) { if (tsdn_null(tsdn)) { return ((void*)0); } tsd_t *tsd = tsdn_tsd(tsdn); return (arena_t * *)tsd_iarenap_get(tsd); } static inline arena_t * * tsdn_arenap_get(tsdn_t *tsdn) { if (tsdn_null(tsdn)) { return ((void*)0); } tsd_t *tsd = tsdn_tsd(tsdn); return (arena_t * *)tsd_arenap_get(tsd); } static inline arena_tdata_t * * tsdn_arenas_tdatap_get(tsdn_t *tsdn) { if (tsdn_null(tsdn)) { return ((void*)0); } tsd_t *tsd = tsdn_tsd(tsdn); return (arena_tdata_t * *)tsd_arenas_tdatap_get(tsd); } static inline tcache_t * tsdn_tcachep_get(tsdn_t *tsdn) { if (tsdn_null(tsdn)) { return ((void*)0); } tsd_t *tsd = tsdn_tsd(tsdn); return (tcache_t *)tsd_tcachep_get(tsd); } static inline witness_tsdn_t * tsdn_witness_tsdp_get(tsdn_t *tsdn) { if (tsdn_null(tsdn)) { return ((void*)0); } tsd_t *tsd = tsdn_tsd(tsdn); return (witness_tsdn_t *)tsd_witness_tsdp_get(tsd); }" data-ref="_M/MALLOC_TSD">MALLOC_TSD</a></td></tr>
<tr><th id="217">217</th><td><u>#undef <a class="macro" href="#207" data-ref="_M/O">O</a></u></td></tr>
<tr><th id="218">218</th><td></td></tr>
<tr><th id="219">219</th><td><i>/* tsd_foo_get(tsd) returns the value of the thread-local instance of foo. */</i></td></tr>
<tr><th id="220">220</th><td><u>#define <dfn class="macro" id="_M/O" data-ref="_M/O">O</dfn>(n, t, nt)							\</u></td></tr>
<tr><th id="221">221</th><td><u>JEMALLOC_ALWAYS_INLINE t						\</u></td></tr>
<tr><th id="222">222</th><td><u>tsd_##n##_get(<a class="typedef" href="tsd_types.h.html#tsd_t" title='tsd_t' data-type='struct tsd_s' data-ref="tsd_t" data-ref-filename="tsd_t">tsd_t</a> *<dfn class="local col2 decl" id="322tsd" title='tsd' data-type='tsd_t *' data-ref="322tsd" data-ref-filename="322tsd"><dfn class="local col3 decl" id="323tsd" title='tsd' data-type='tsd_t *' data-ref="323tsd" data-ref-filename="323tsd"><dfn class="local col4 decl" id="324tsd" title='tsd' data-type='tsd_t *' data-ref="324tsd" data-ref-filename="324tsd"><dfn class="local col5 decl" id="325tsd" title='tsd' data-type='tsd_t *' data-ref="325tsd" data-ref-filename="325tsd"><dfn class="local col6 decl" id="326tsd" title='tsd' data-type='tsd_t *' data-ref="326tsd" data-ref-filename="326tsd"><dfn class="local col7 decl" id="327tsd" title='tsd' data-type='tsd_t *' data-ref="327tsd" data-ref-filename="327tsd"><dfn class="local col8 decl" id="328tsd" title='tsd' data-type='tsd_t *' data-ref="328tsd" data-ref-filename="328tsd"><dfn class="local col9 decl" id="329tsd" title='tsd' data-type='tsd_t *' data-ref="329tsd" data-ref-filename="329tsd"><dfn class="local col0 decl" id="330tsd" title='tsd' data-type='tsd_t *' data-ref="330tsd" data-ref-filename="330tsd"><dfn class="local col1 decl" id="331tsd" title='tsd' data-type='tsd_t *' data-ref="331tsd" data-ref-filename="331tsd"><dfn class="local col2 decl" id="332tsd" title='tsd' data-type='tsd_t *' data-ref="332tsd" data-ref-filename="332tsd"><dfn class="local col3 decl" id="333tsd" title='tsd' data-type='tsd_t *' data-ref="333tsd" data-ref-filename="333tsd"><dfn class="local col4 decl" id="334tsd" title='tsd' data-type='tsd_t *' data-ref="334tsd" data-ref-filename="334tsd"><dfn class="local col5 decl" id="335tsd" title='tsd' data-type='tsd_t *' data-ref="335tsd" data-ref-filename="335tsd">tsd</dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn>) {						\</u></td></tr>
<tr><th id="223">223</th><td><u>	return *tsd_##n##p_get(<a class="local col2 ref" href="#225" title='tsd' data-ref="322tsd" data-ref-filename="322tsd"><a class="local col3 ref" href="#225" title='tsd' data-ref="323tsd" data-ref-filename="323tsd"><a class="local col4 ref" href="#225" title='tsd' data-ref="324tsd" data-ref-filename="324tsd"><a class="local col5 ref" href="#225" title='tsd' data-ref="325tsd" data-ref-filename="325tsd"><a class="local col6 ref" href="#225" title='tsd' data-ref="326tsd" data-ref-filename="326tsd"><a class="local col7 ref" href="#225" title='tsd' data-ref="327tsd" data-ref-filename="327tsd"><a class="local col8 ref" href="#225" title='tsd' data-ref="328tsd" data-ref-filename="328tsd"><a class="local col9 ref" href="#225" title='tsd' data-ref="329tsd" data-ref-filename="329tsd"><a class="local col0 ref" href="#225" title='tsd' data-ref="330tsd" data-ref-filename="330tsd"><a class="local col1 ref" href="#225" title='tsd' data-ref="331tsd" data-ref-filename="331tsd"><a class="local col2 ref" href="#225" title='tsd' data-ref="332tsd" data-ref-filename="332tsd"><a class="local col3 ref" href="#225" title='tsd' data-ref="333tsd" data-ref-filename="333tsd"><a class="local col4 ref" href="#225" title='tsd' data-ref="334tsd" data-ref-filename="334tsd"><a class="local col5 ref" href="#225" title='tsd' data-ref="335tsd" data-ref-filename="335tsd">tsd</a></a></a></a></a></a></a></a></a></a></a></a></a></a>);					\</u></td></tr>
<tr><th id="224">224</th><td><u>}</u></td></tr>
<tr><th id="225">225</th><td><a class="macro" href="#63" title="static inline _Bool tsd_tcache_enabled_get(tsd_t *tsd) { return *tsd_tcache_enabledp_get(tsd); } static inline _Bool tsd_arenas_tdata_bypass_get(tsd_t *tsd) { return *tsd_arenas_tdata_bypassp_get(tsd); } static inline int8_t tsd_reentrancy_level_get(tsd_t *tsd) { return *tsd_reentrancy_levelp_get(tsd); } static inline uint32_t tsd_narenas_tdata_get(tsd_t *tsd) { return *tsd_narenas_tdatap_get(tsd); } static inline uint64_t tsd_offset_state_get(tsd_t *tsd) { return *tsd_offset_statep_get(tsd); } static inline uint64_t tsd_thread_allocated_get(tsd_t *tsd) { return *tsd_thread_allocatedp_get(tsd); } static inline uint64_t tsd_thread_deallocated_get(tsd_t *tsd) { return *tsd_thread_deallocatedp_get(tsd); } static inline prof_tdata_t * tsd_prof_tdata_get(tsd_t *tsd) { return *tsd_prof_tdatap_get(tsd); } static inline rtree_ctx_t tsd_rtree_ctx_get(tsd_t *tsd) { return *tsd_rtree_ctxp_get(tsd); } static inline arena_t * tsd_iarena_get(tsd_t *tsd) { return *tsd_iarenap_get(tsd); } static inline arena_t * tsd_arena_get(tsd_t *tsd) { return *tsd_arenap_get(tsd); } static inline arena_tdata_t * tsd_arenas_tdata_get(tsd_t *tsd) { return *tsd_arenas_tdatap_get(tsd); } static inline tcache_t tsd_tcache_get(tsd_t *tsd) { return *tsd_tcachep_get(tsd); } static inline witness_tsd_t tsd_witness_tsd_get(tsd_t *tsd) { return *tsd_witness_tsdp_get(tsd); }" data-ref="_M/MALLOC_TSD">MALLOC_TSD</a></td></tr>
<tr><th id="226">226</th><td><u>#undef <a class="macro" href="#220" data-ref="_M/O">O</a></u></td></tr>
<tr><th id="227">227</th><td></td></tr>
<tr><th id="228">228</th><td><i>/* tsd_foo_set(tsd, val) updates the thread-local instance of foo to be val. */</i></td></tr>
<tr><th id="229">229</th><td><u>#define <dfn class="macro" id="_M/O" data-ref="_M/O">O</dfn>(n, t, nt)							\</u></td></tr>
<tr><th id="230">230</th><td><u>JEMALLOC_ALWAYS_INLINE void						\</u></td></tr>
<tr><th id="231">231</th><td><u>tsd_##n##_set(<a class="typedef" href="tsd_types.h.html#tsd_t" title='tsd_t' data-type='struct tsd_s' data-ref="tsd_t" data-ref-filename="tsd_t">tsd_t</a> *<dfn class="local col6 decl" id="336tsd" title='tsd' data-type='tsd_t *' data-ref="336tsd" data-ref-filename="336tsd"><dfn class="local col8 decl" id="338tsd" title='tsd' data-type='tsd_t *' data-ref="338tsd" data-ref-filename="338tsd"><dfn class="local col0 decl" id="340tsd" title='tsd' data-type='tsd_t *' data-ref="340tsd" data-ref-filename="340tsd"><dfn class="local col2 decl" id="342tsd" title='tsd' data-type='tsd_t *' data-ref="342tsd" data-ref-filename="342tsd"><dfn class="local col4 decl" id="344tsd" title='tsd' data-type='tsd_t *' data-ref="344tsd" data-ref-filename="344tsd"><dfn class="local col6 decl" id="346tsd" title='tsd' data-type='tsd_t *' data-ref="346tsd" data-ref-filename="346tsd"><dfn class="local col8 decl" id="348tsd" title='tsd' data-type='tsd_t *' data-ref="348tsd" data-ref-filename="348tsd"><dfn class="local col0 decl" id="350tsd" title='tsd' data-type='tsd_t *' data-ref="350tsd" data-ref-filename="350tsd"><dfn class="local col2 decl" id="352tsd" title='tsd' data-type='tsd_t *' data-ref="352tsd" data-ref-filename="352tsd"><dfn class="local col4 decl" id="354tsd" title='tsd' data-type='tsd_t *' data-ref="354tsd" data-ref-filename="354tsd"><dfn class="local col6 decl" id="356tsd" title='tsd' data-type='tsd_t *' data-ref="356tsd" data-ref-filename="356tsd"><dfn class="local col8 decl" id="358tsd" title='tsd' data-type='tsd_t *' data-ref="358tsd" data-ref-filename="358tsd"><dfn class="local col0 decl" id="360tsd" title='tsd' data-type='tsd_t *' data-ref="360tsd" data-ref-filename="360tsd"><dfn class="local col2 decl" id="362tsd" title='tsd' data-type='tsd_t *' data-ref="362tsd" data-ref-filename="362tsd">tsd</dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn>, t <dfn class="local col7 decl" id="337val" title='val' data-type='_Bool' data-ref="337val" data-ref-filename="337val"><dfn class="local col9 decl" id="339val" title='val' data-type='_Bool' data-ref="339val" data-ref-filename="339val"><dfn class="local col1 decl" id="341val" title='val' data-type='int8_t' data-ref="341val" data-ref-filename="341val"><dfn class="local col3 decl" id="343val" title='val' data-type='uint32_t' data-ref="343val" data-ref-filename="343val"><dfn class="local col5 decl" id="345val" title='val' data-type='uint64_t' data-ref="345val" data-ref-filename="345val"><dfn class="local col7 decl" id="347val" title='val' data-type='uint64_t' data-ref="347val" data-ref-filename="347val"><dfn class="local col9 decl" id="349val" title='val' data-type='uint64_t' data-ref="349val" data-ref-filename="349val"><dfn class="local col1 decl" id="351val" title='val' data-type='prof_tdata_t *' data-ref="351val" data-ref-filename="351val"><dfn class="local col3 decl" id="353val" title='val' data-type='rtree_ctx_t' data-ref="353val" data-ref-filename="353val"><dfn class="local col5 decl" id="355val" title='val' data-type='arena_t *' data-ref="355val" data-ref-filename="355val"><dfn class="local col7 decl" id="357val" title='val' data-type='arena_t *' data-ref="357val" data-ref-filename="357val"><dfn class="local col9 decl" id="359val" title='val' data-type='arena_tdata_t *' data-ref="359val" data-ref-filename="359val"><dfn class="local col1 decl" id="361val" title='val' data-type='tcache_t' data-ref="361val" data-ref-filename="361val"><dfn class="local col3 decl" id="363val" title='val' data-type='witness_tsd_t' data-ref="363val" data-ref-filename="363val">val</dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn>) {					\</u></td></tr>
<tr><th id="232">232</th><td><u>	assert(<a class="local col6 ref" href="#236" title='tsd' data-ref="336tsd" data-ref-filename="336tsd"><a class="local col8 ref" href="#236" title='tsd' data-ref="338tsd" data-ref-filename="338tsd"><a class="local col0 ref" href="#236" title='tsd' data-ref="340tsd" data-ref-filename="340tsd"><a class="local col2 ref" href="#236" title='tsd' data-ref="342tsd" data-ref-filename="342tsd"><a class="local col4 ref" href="#236" title='tsd' data-ref="344tsd" data-ref-filename="344tsd"><a class="local col6 ref" href="#236" title='tsd' data-ref="346tsd" data-ref-filename="346tsd"><a class="local col8 ref" href="#236" title='tsd' data-ref="348tsd" data-ref-filename="348tsd"><a class="local col0 ref" href="#236" title='tsd' data-ref="350tsd" data-ref-filename="350tsd"><a class="local col2 ref" href="#236" title='tsd' data-ref="352tsd" data-ref-filename="352tsd"><a class="local col4 ref" href="#236" title='tsd' data-ref="354tsd" data-ref-filename="354tsd"><a class="local col6 ref" href="#236" title='tsd' data-ref="356tsd" data-ref-filename="356tsd"><a class="local col8 ref" href="#236" title='tsd' data-ref="358tsd" data-ref-filename="358tsd"><a class="local col0 ref" href="#236" title='tsd' data-ref="360tsd" data-ref-filename="360tsd"><a class="local col2 ref" href="#236" title='tsd' data-ref="362tsd" data-ref-filename="362tsd">tsd</a></a></a></a></a></a></a></a></a></a></a></a></a></a>-&gt;<a class="ref field" href="#tsd_s::state" title='tsd_s::state' data-ref="tsd_s::state" data-ref-filename="tsd_s..state">state</a> != <a class="enum" href="#tsd_state_reincarnated" title='tsd_state_reincarnated' data-ref="tsd_state_reincarnated" data-ref-filename="tsd_state_reincarnated">tsd_state_reincarnated</a> &amp;&amp;			\</u></td></tr>
<tr><th id="233">233</th><td><u>	    <a class="local col6 ref" href="#236" title='tsd' data-ref="336tsd" data-ref-filename="336tsd"><a class="local col8 ref" href="#236" title='tsd' data-ref="338tsd" data-ref-filename="338tsd"><a class="local col0 ref" href="#236" title='tsd' data-ref="340tsd" data-ref-filename="340tsd"><a class="local col2 ref" href="#236" title='tsd' data-ref="342tsd" data-ref-filename="342tsd"><a class="local col4 ref" href="#236" title='tsd' data-ref="344tsd" data-ref-filename="344tsd"><a class="local col6 ref" href="#236" title='tsd' data-ref="346tsd" data-ref-filename="346tsd"><a class="local col8 ref" href="#236" title='tsd' data-ref="348tsd" data-ref-filename="348tsd"><a class="local col0 ref" href="#236" title='tsd' data-ref="350tsd" data-ref-filename="350tsd"><a class="local col2 ref" href="#236" title='tsd' data-ref="352tsd" data-ref-filename="352tsd"><a class="local col4 ref" href="#236" title='tsd' data-ref="354tsd" data-ref-filename="354tsd"><a class="local col6 ref" href="#236" title='tsd' data-ref="356tsd" data-ref-filename="356tsd"><a class="local col8 ref" href="#236" title='tsd' data-ref="358tsd" data-ref-filename="358tsd"><a class="local col0 ref" href="#236" title='tsd' data-ref="360tsd" data-ref-filename="360tsd"><a class="local col2 ref" href="#236" title='tsd' data-ref="362tsd" data-ref-filename="362tsd">tsd</a></a></a></a></a></a></a></a></a></a></a></a></a></a>-&gt;<a class="ref field" href="#tsd_s::state" title='tsd_s::state' data-ref="tsd_s::state" data-ref-filename="tsd_s..state">state</a> != <a class="enum" href="#tsd_state_minimal_initialized" title='tsd_state_minimal_initialized' data-ref="tsd_state_minimal_initialized" data-ref-filename="tsd_state_minimal_initialized">tsd_state_minimal_initialized</a>);		\</u></td></tr>
<tr><th id="234">234</th><td><u>	*tsd_##n##p_get(<a class="local col6 ref" href="#236" title='tsd' data-ref="336tsd" data-ref-filename="336tsd"><a class="local col8 ref" href="#236" title='tsd' data-ref="338tsd" data-ref-filename="338tsd"><a class="local col0 ref" href="#236" title='tsd' data-ref="340tsd" data-ref-filename="340tsd"><a class="local col2 ref" href="#236" title='tsd' data-ref="342tsd" data-ref-filename="342tsd"><a class="local col4 ref" href="#236" title='tsd' data-ref="344tsd" data-ref-filename="344tsd"><a class="local col6 ref" href="#236" title='tsd' data-ref="346tsd" data-ref-filename="346tsd"><a class="local col8 ref" href="#236" title='tsd' data-ref="348tsd" data-ref-filename="348tsd"><a class="local col0 ref" href="#236" title='tsd' data-ref="350tsd" data-ref-filename="350tsd"><a class="local col2 ref" href="#236" title='tsd' data-ref="352tsd" data-ref-filename="352tsd"><a class="local col4 ref" href="#236" title='tsd' data-ref="354tsd" data-ref-filename="354tsd"><a class="local col6 ref" href="#236" title='tsd' data-ref="356tsd" data-ref-filename="356tsd"><a class="local col8 ref" href="#236" title='tsd' data-ref="358tsd" data-ref-filename="358tsd"><a class="local col0 ref" href="#236" title='tsd' data-ref="360tsd" data-ref-filename="360tsd"><a class="local col2 ref" href="#236" title='tsd' data-ref="362tsd" data-ref-filename="362tsd">tsd</a></a></a></a></a></a></a></a></a></a></a></a></a></a>) = <a class="local col7 ref" href="#236" title='val' data-ref="337val" data-ref-filename="337val"><a class="local col9 ref" href="#236" title='val' data-ref="339val" data-ref-filename="339val"><a class="local col1 ref" href="#236" title='val' data-ref="341val" data-ref-filename="341val"><a class="local col3 ref" href="#236" title='val' data-ref="343val" data-ref-filename="343val"><a class="local col5 ref" href="#236" title='val' data-ref="345val" data-ref-filename="345val"><a class="local col7 ref" href="#236" title='val' data-ref="347val" data-ref-filename="347val"><a class="local col9 ref" href="#236" title='val' data-ref="349val" data-ref-filename="349val"><a class="local col1 ref" href="#236" title='val' data-ref="351val" data-ref-filename="351val"><a class="local col3 ref" href="#236" title='val' data-ref="353val" data-ref-filename="353val"><a class="local col5 ref" href="#236" title='val' data-ref="355val" data-ref-filename="355val"><a class="local col7 ref" href="#236" title='val' data-ref="357val" data-ref-filename="357val"><a class="local col9 ref" href="#236" title='val' data-ref="359val" data-ref-filename="359val"><a class="local col1 ref" href="#236" title='val' data-ref="361val" data-ref-filename="361val"><a class="local col3 ref" href="#236" title='val' data-ref="363val" data-ref-filename="363val">val</a></a></a></a></a></a></a></a></a></a></a></a></a></a>;					\</u></td></tr>
<tr><th id="235">235</th><td><u>}</u></td></tr>
<tr><th id="236">236</th><td><a class="macro" href="#63" title="static inline void tsd_tcache_enabled_set(tsd_t *tsd, _Bool val) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 236, &quot;tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); *tsd_tcache_enabledp_get(tsd) = val; } static inline void tsd_arenas_tdata_bypass_set(tsd_t *tsd, _Bool val) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 236, &quot;tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); *tsd_arenas_tdata_bypassp_get(tsd) = val; } static inline void tsd_reentrancy_level_set(tsd_t *tsd, int8_t val) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 236, &quot;tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); *tsd_reentrancy_levelp_get(tsd) = val; } static inline void tsd_narenas_tdata_set(tsd_t *tsd, uint32_t val) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 236, &quot;tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); *tsd_narenas_tdatap_get(tsd) = val; } static inline void tsd_offset_state_set(tsd_t *tsd, uint64_t val) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 236, &quot;tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); *tsd_offset_statep_get(tsd) = val; } static inline void tsd_thread_allocated_set(tsd_t *tsd, uint64_t val) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 236, &quot;tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); *tsd_thread_allocatedp_get(tsd) = val; } static inline void tsd_thread_deallocated_set(tsd_t *tsd, uint64_t val) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 236, &quot;tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); *tsd_thread_deallocatedp_get(tsd) = val; } static inline void tsd_prof_tdata_set(tsd_t *tsd, prof_tdata_t * val) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 236, &quot;tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); *tsd_prof_tdatap_get(tsd) = val; } static inline void tsd_rtree_ctx_set(tsd_t *tsd, rtree_ctx_t val) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 236, &quot;tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); *tsd_rtree_ctxp_get(tsd) = val; } static inline void tsd_iarena_set(tsd_t *tsd, arena_t * val) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 236, &quot;tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); *tsd_iarenap_get(tsd) = val; } static inline void tsd_arena_set(tsd_t *tsd, arena_t * val) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 236, &quot;tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); *tsd_arenap_get(tsd) = val; } static inline void tsd_arenas_tdata_set(tsd_t *tsd, arena_tdata_t * val) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 236, &quot;tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); *tsd_arenas_tdatap_get(tsd) = val; } static inline void tsd_tcache_set(tsd_t *tsd, tcache_t val) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 236, &quot;tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); *tsd_tcachep_get(tsd) = val; } static inline void tsd_witness_tsd_set(tsd_t *tsd, witness_tsd_t val) { do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 236, &quot;tsd-&gt;state != tsd_state_reincarnated &amp;&amp; tsd-&gt;state != tsd_state_minimal_initialized&quot;); abort(); } } while ( 0); *tsd_witness_tsdp_get(tsd) = val; }" data-ref="_M/MALLOC_TSD">MALLOC_TSD</a></td></tr>
<tr><th id="237">237</th><td><u>#undef <a class="macro" href="#229" data-ref="_M/O">O</a></u></td></tr>
<tr><th id="238">238</th><td></td></tr>
<tr><th id="239">239</th><td><a class="macro" href="jemalloc_internal_macros.h.html#5" title="static inline" data-ref="_M/JEMALLOC_ALWAYS_INLINE">JEMALLOC_ALWAYS_INLINE</a> <em>void</em></td></tr>
<tr><th id="240">240</th><td><dfn class="decl def fn" id="tsd_assert_fast" title='tsd_assert_fast' data-ref="tsd_assert_fast" data-ref-filename="tsd_assert_fast">tsd_assert_fast</dfn>(<a class="typedef" href="tsd_types.h.html#tsd_t" title='tsd_t' data-type='struct tsd_s' data-ref="tsd_t" data-ref-filename="tsd_t">tsd_t</a> *<dfn class="local col4 decl" id="364tsd" title='tsd' data-type='tsd_t *' data-ref="364tsd" data-ref-filename="364tsd">tsd</dfn>) {</td></tr>
<tr><th id="241">241</th><td>	<a class="macro" href="assert.h.html#9" title="do { if (__builtin_expect(!!(config_debug &amp;&amp; !(!je_malloc_slow &amp;&amp; tsd_tcache_enabled_get(tsd) &amp;&amp; tsd_reentrancy_level_get(tsd) == 0)), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 242, &quot;!malloc_slow &amp;&amp; tsd_tcache_enabled_get(tsd) &amp;&amp; tsd_reentrancy_level_get(tsd) == 0&quot;); abort(); } } while ( 0)" data-ref="_M/assert">assert</a>(!<a class="macro" href="private_namespace.h.html#20" title="je_malloc_slow" data-ref="_M/malloc_slow">malloc_slow</a> &amp;&amp; <a class="ref fn" href="#225" title='tsd_tcache_enabled_get' data-ref="tsd_tcache_enabled_get" data-ref-filename="tsd_tcache_enabled_get">tsd_tcache_enabled_get</a>(<a class="local col4 ref" href="#364tsd" title='tsd' data-ref="364tsd" data-ref-filename="364tsd">tsd</a>) &amp;&amp;</td></tr>
<tr><th id="242">242</th><td>	    <a class="ref fn" href="#225" title='tsd_reentrancy_level_get' data-ref="tsd_reentrancy_level_get" data-ref-filename="tsd_reentrancy_level_get">tsd_reentrancy_level_get</a>(<a class="local col4 ref" href="#364tsd" title='tsd' data-ref="364tsd" data-ref-filename="364tsd">tsd</a>) == <var>0</var>);</td></tr>
<tr><th id="243">243</th><td>}</td></tr>
<tr><th id="244">244</th><td></td></tr>
<tr><th id="245">245</th><td><a class="macro" href="jemalloc_internal_macros.h.html#5" title="static inline" data-ref="_M/JEMALLOC_ALWAYS_INLINE">JEMALLOC_ALWAYS_INLINE</a> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span></td></tr>
<tr><th id="246">246</th><td><dfn class="decl def fn" id="tsd_fast" title='tsd_fast' data-ref="tsd_fast" data-ref-filename="tsd_fast">tsd_fast</dfn>(<a class="typedef" href="tsd_types.h.html#tsd_t" title='tsd_t' data-type='struct tsd_s' data-ref="tsd_t" data-ref-filename="tsd_t">tsd_t</a> *<dfn class="local col5 decl" id="365tsd" title='tsd' data-type='tsd_t *' data-ref="365tsd" data-ref-filename="365tsd">tsd</dfn>) {</td></tr>
<tr><th id="247">247</th><td>	<span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col6 decl" id="366fast" title='fast' data-type='_Bool' data-ref="366fast" data-ref-filename="366fast">fast</dfn> = (<a class="local col5 ref" href="#365tsd" title='tsd' data-ref="365tsd" data-ref-filename="365tsd">tsd</a>-&gt;<a class="ref field" href="#tsd_s::state" title='tsd_s::state' data-ref="tsd_s::state" data-ref-filename="tsd_s..state">state</a> == <a class="enum" href="#tsd_state_nominal" title='tsd_state_nominal' data-ref="tsd_state_nominal" data-ref-filename="tsd_state_nominal">tsd_state_nominal</a>);</td></tr>
<tr><th id="248">248</th><td>	<b>if</b> (<a class="local col6 ref" href="#366fast" title='fast' data-ref="366fast" data-ref-filename="366fast">fast</a>) {</td></tr>
<tr><th id="249">249</th><td>		<a class="ref fn" href="#tsd_assert_fast" title='tsd_assert_fast' data-ref="tsd_assert_fast" data-ref-filename="tsd_assert_fast">tsd_assert_fast</a>(<a class="local col5 ref" href="#365tsd" title='tsd' data-ref="365tsd" data-ref-filename="365tsd">tsd</a>);</td></tr>
<tr><th id="250">250</th><td>	}</td></tr>
<tr><th id="251">251</th><td></td></tr>
<tr><th id="252">252</th><td>	<b>return</b> <a class="local col6 ref" href="#366fast" title='fast' data-ref="366fast" data-ref-filename="366fast">fast</a>;</td></tr>
<tr><th id="253">253</th><td>}</td></tr>
<tr><th id="254">254</th><td></td></tr>
<tr><th id="255">255</th><td><a class="macro" href="jemalloc_internal_macros.h.html#5" title="static inline" data-ref="_M/JEMALLOC_ALWAYS_INLINE">JEMALLOC_ALWAYS_INLINE</a> <a class="typedef" href="tsd_types.h.html#tsd_t" title='tsd_t' data-type='struct tsd_s' data-ref="tsd_t" data-ref-filename="tsd_t">tsd_t</a> *</td></tr>
<tr><th id="256">256</th><td><dfn class="decl def fn" id="tsd_fetch_impl" title='tsd_fetch_impl' data-ref="tsd_fetch_impl" data-ref-filename="tsd_fetch_impl">tsd_fetch_impl</dfn>(<span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col7 decl" id="367init" title='init' data-type='_Bool' data-ref="367init" data-ref-filename="367init">init</dfn>, <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col8 decl" id="368minimal" title='minimal' data-type='_Bool' data-ref="368minimal" data-ref-filename="368minimal">minimal</dfn>) {</td></tr>
<tr><th id="257">257</th><td>	<a class="typedef" href="tsd_types.h.html#tsd_t" title='tsd_t' data-type='struct tsd_s' data-ref="tsd_t" data-ref-filename="tsd_t">tsd_t</a> *<dfn class="local col9 decl" id="369tsd" title='tsd' data-type='tsd_t *' data-ref="369tsd" data-ref-filename="369tsd">tsd</dfn> = <a class="ref fn" href="tsd_tls.h.html#tsd_get" title='tsd_get' data-ref="tsd_get" data-ref-filename="tsd_get">tsd_get</a>(<a class="local col7 ref" href="#367init" title='init' data-ref="367init" data-ref-filename="367init">init</a>);</td></tr>
<tr><th id="258">258</th><td></td></tr>
<tr><th id="259">259</th><td>	<b>if</b> (!<a class="local col7 ref" href="#367init" title='init' data-ref="367init" data-ref-filename="367init">init</a> &amp;&amp; <a class="ref fn" href="tsd_tls.h.html#tsd_get_allocates" title='tsd_get_allocates' data-ref="tsd_get_allocates" data-ref-filename="tsd_get_allocates">tsd_get_allocates</a>() &amp;&amp; <a class="local col9 ref" href="#369tsd" title='tsd' data-ref="369tsd" data-ref-filename="369tsd">tsd</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="260">260</th><td>		<b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="261">261</th><td>	}</td></tr>
<tr><th id="262">262</th><td>	<a class="macro" href="assert.h.html#9" title="do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd != ((void*)0))), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 262, &quot;tsd != NULL&quot;); abort(); } } while ( 0)" data-ref="_M/assert">assert</a>(<a class="local col9 ref" href="#369tsd" title='tsd' data-ref="369tsd" data-ref-filename="369tsd">tsd</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="263">263</th><td></td></tr>
<tr><th id="264">264</th><td>	<b>if</b> (<a class="macro" href="util.h.html#33" title="__builtin_expect(!!(tsd-&gt;state != tsd_state_nominal), 0)" data-ref="_M/unlikely">unlikely</a>(<a class="local col9 ref" href="#369tsd" title='tsd' data-ref="369tsd" data-ref-filename="369tsd">tsd</a>-&gt;<a class="ref field" href="#tsd_s::state" title='tsd_s::state' data-ref="tsd_s::state" data-ref-filename="tsd_s..state">state</a> != <a class="enum" href="#tsd_state_nominal" title='tsd_state_nominal' data-ref="tsd_state_nominal" data-ref-filename="tsd_state_nominal">tsd_state_nominal</a>)) {</td></tr>
<tr><th id="265">265</th><td>		<b>return</b> <a class="macro" href="private_namespace.h.html#366" title="je_tsd_fetch_slow" data-ref="_M/tsd_fetch_slow">tsd_fetch_slow</a>(<a class="local col9 ref" href="#369tsd" title='tsd' data-ref="369tsd" data-ref-filename="369tsd">tsd</a>, <a class="local col8 ref" href="#368minimal" title='minimal' data-ref="368minimal" data-ref-filename="368minimal">minimal</a>);</td></tr>
<tr><th id="266">266</th><td>	}</td></tr>
<tr><th id="267">267</th><td>	<a class="macro" href="assert.h.html#9" title="do { if (__builtin_expect(!!(config_debug &amp;&amp; !(tsd_fast(tsd))), 0)) { je_malloc_printf( &quot;&lt;jemalloc&gt;: %s:%d: Failed assertion: \&quot;%s\&quot;\n&quot;, &quot;/___NETBSD_SRC___/external/bsd/jemalloc/lib/../include/jemalloc/internal/tsd.h&quot;, 267, &quot;tsd_fast(tsd)&quot;); abort(); } } while ( 0)" data-ref="_M/assert">assert</a>(<a class="ref fn" href="#tsd_fast" title='tsd_fast' data-ref="tsd_fast" data-ref-filename="tsd_fast">tsd_fast</a>(<a class="local col9 ref" href="#369tsd" title='tsd' data-ref="369tsd" data-ref-filename="369tsd">tsd</a>));</td></tr>
<tr><th id="268">268</th><td>	<a class="ref fn" href="#tsd_assert_fast" title='tsd_assert_fast' data-ref="tsd_assert_fast" data-ref-filename="tsd_assert_fast">tsd_assert_fast</a>(<a class="local col9 ref" href="#369tsd" title='tsd' data-ref="369tsd" data-ref-filename="369tsd">tsd</a>);</td></tr>
<tr><th id="269">269</th><td></td></tr>
<tr><th id="270">270</th><td>	<b>return</b> <a class="local col9 ref" href="#369tsd" title='tsd' data-ref="369tsd" data-ref-filename="369tsd">tsd</a>;</td></tr>
<tr><th id="271">271</th><td>}</td></tr>
<tr><th id="272">272</th><td></td></tr>
<tr><th id="273">273</th><td><i>/* Get a minimal TSD that requires no cleanup.  See comments in free(). */</i></td></tr>
<tr><th id="274">274</th><td><a class="macro" href="jemalloc_internal_macros.h.html#5" title="static inline" data-ref="_M/JEMALLOC_ALWAYS_INLINE">JEMALLOC_ALWAYS_INLINE</a> <a class="typedef" href="tsd_types.h.html#tsd_t" title='tsd_t' data-type='struct tsd_s' data-ref="tsd_t" data-ref-filename="tsd_t">tsd_t</a> *</td></tr>
<tr><th id="275">275</th><td><dfn class="decl def fn" id="tsd_fetch_min" title='tsd_fetch_min' data-ref="tsd_fetch_min" data-ref-filename="tsd_fetch_min">tsd_fetch_min</dfn>(<em>void</em>) {</td></tr>
<tr><th id="276">276</th><td>	<b>return</b> <a class="ref fn" href="#tsd_fetch_impl" title='tsd_fetch_impl' data-ref="tsd_fetch_impl" data-ref-filename="tsd_fetch_impl">tsd_fetch_impl</a>(<span class="macro" title="1" data-ref="_M/true">true</span>, <span class="macro" title="1" data-ref="_M/true">true</span>);</td></tr>
<tr><th id="277">277</th><td>}</td></tr>
<tr><th id="278">278</th><td></td></tr>
<tr><th id="279">279</th><td><i>/* For internal background threads use only. */</i></td></tr>
<tr><th id="280">280</th><td><a class="macro" href="jemalloc_internal_macros.h.html#5" title="static inline" data-ref="_M/JEMALLOC_ALWAYS_INLINE">JEMALLOC_ALWAYS_INLINE</a> <a class="typedef" href="tsd_types.h.html#tsd_t" title='tsd_t' data-type='struct tsd_s' data-ref="tsd_t" data-ref-filename="tsd_t">tsd_t</a> *</td></tr>
<tr><th id="281">281</th><td><dfn class="decl def fn" id="tsd_internal_fetch" title='tsd_internal_fetch' data-ref="tsd_internal_fetch" data-ref-filename="tsd_internal_fetch">tsd_internal_fetch</dfn>(<em>void</em>) {</td></tr>
<tr><th id="282">282</th><td>	<a class="typedef" href="tsd_types.h.html#tsd_t" title='tsd_t' data-type='struct tsd_s' data-ref="tsd_t" data-ref-filename="tsd_t">tsd_t</a> *<dfn class="local col0 decl" id="370tsd" title='tsd' data-type='tsd_t *' data-ref="370tsd" data-ref-filename="370tsd">tsd</dfn> = <a class="ref fn" href="#tsd_fetch_min" title='tsd_fetch_min' data-ref="tsd_fetch_min" data-ref-filename="tsd_fetch_min">tsd_fetch_min</a>();</td></tr>
<tr><th id="283">283</th><td>	<i>/* Use reincarnated state to prevent full initialization. */</i></td></tr>
<tr><th id="284">284</th><td>	<a class="local col0 ref" href="#370tsd" title='tsd' data-ref="370tsd" data-ref-filename="370tsd">tsd</a>-&gt;<a class="ref field" href="#tsd_s::state" title='tsd_s::state' data-ref="tsd_s::state" data-ref-filename="tsd_s..state">state</a> = <a class="enum" href="#tsd_state_reincarnated" title='tsd_state_reincarnated' data-ref="tsd_state_reincarnated" data-ref-filename="tsd_state_reincarnated">tsd_state_reincarnated</a>;</td></tr>
<tr><th id="285">285</th><td></td></tr>
<tr><th id="286">286</th><td>	<b>return</b> <a class="local col0 ref" href="#370tsd" title='tsd' data-ref="370tsd" data-ref-filename="370tsd">tsd</a>;</td></tr>
<tr><th id="287">287</th><td>}</td></tr>
<tr><th id="288">288</th><td></td></tr>
<tr><th id="289">289</th><td><a class="macro" href="jemalloc_internal_macros.h.html#5" title="static inline" data-ref="_M/JEMALLOC_ALWAYS_INLINE">JEMALLOC_ALWAYS_INLINE</a> <a class="typedef" href="tsd_types.h.html#tsd_t" title='tsd_t' data-type='struct tsd_s' data-ref="tsd_t" data-ref-filename="tsd_t">tsd_t</a> *</td></tr>
<tr><th id="290">290</th><td><dfn class="decl def fn" id="tsd_fetch" title='tsd_fetch' data-ref="tsd_fetch" data-ref-filename="tsd_fetch">tsd_fetch</dfn>(<em>void</em>) {</td></tr>
<tr><th id="291">291</th><td>	<b>return</b> <a class="ref fn" href="#tsd_fetch_impl" title='tsd_fetch_impl' data-ref="tsd_fetch_impl" data-ref-filename="tsd_fetch_impl">tsd_fetch_impl</a>(<span class="macro" title="1" data-ref="_M/true">true</span>, <span class="macro" title="0" data-ref="_M/false">false</span>);</td></tr>
<tr><th id="292">292</th><td>}</td></tr>
<tr><th id="293">293</th><td></td></tr>
<tr><th id="294">294</th><td><em>static</em> <b>inline</b> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span></td></tr>
<tr><th id="295">295</th><td><dfn class="decl def fn" id="tsd_nominal" title='tsd_nominal' data-ref="tsd_nominal" data-ref-filename="tsd_nominal">tsd_nominal</dfn>(<a class="typedef" href="tsd_types.h.html#tsd_t" title='tsd_t' data-type='struct tsd_s' data-ref="tsd_t" data-ref-filename="tsd_t">tsd_t</a> *<dfn class="local col1 decl" id="371tsd" title='tsd' data-type='tsd_t *' data-ref="371tsd" data-ref-filename="371tsd">tsd</dfn>) {</td></tr>
<tr><th id="296">296</th><td>	<b>return</b> (<a class="local col1 ref" href="#371tsd" title='tsd' data-ref="371tsd" data-ref-filename="371tsd">tsd</a>-&gt;<a class="ref field" href="#tsd_s::state" title='tsd_s::state' data-ref="tsd_s::state" data-ref-filename="tsd_s..state">state</a> &lt;= <a class="enum" href="#tsd_state_nominal_max" title='tsd_state_nominal_max' data-ref="tsd_state_nominal_max" data-ref-filename="tsd_state_nominal_max">tsd_state_nominal_max</a>);</td></tr>
<tr><th id="297">297</th><td>}</td></tr>
<tr><th id="298">298</th><td></td></tr>
<tr><th id="299">299</th><td><a class="macro" href="jemalloc_internal_macros.h.html#5" title="static inline" data-ref="_M/JEMALLOC_ALWAYS_INLINE">JEMALLOC_ALWAYS_INLINE</a> <a class="typedef" href="tsd_types.h.html#tsdn_t" title='tsdn_t' data-type='struct tsdn_s' data-ref="tsdn_t" data-ref-filename="tsdn_t">tsdn_t</a> *</td></tr>
<tr><th id="300">300</th><td><dfn class="decl def fn" id="tsdn_fetch" title='tsdn_fetch' data-ref="tsdn_fetch" data-ref-filename="tsdn_fetch">tsdn_fetch</dfn>(<em>void</em>) {</td></tr>
<tr><th id="301">301</th><td>	<b>if</b> (!<a class="ref fn" href="tsd_tls.h.html#tsd_booted_get" title='tsd_booted_get' data-ref="tsd_booted_get" data-ref-filename="tsd_booted_get">tsd_booted_get</a>()) {</td></tr>
<tr><th id="302">302</th><td>		<b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="303">303</th><td>	}</td></tr>
<tr><th id="304">304</th><td></td></tr>
<tr><th id="305">305</th><td>	<b>return</b> <a class="ref fn" href="#tsd_tsdn" title='tsd_tsdn' data-ref="tsd_tsdn" data-ref-filename="tsd_tsdn">tsd_tsdn</a>(<a class="ref fn" href="#tsd_fetch_impl" title='tsd_fetch_impl' data-ref="tsd_fetch_impl" data-ref-filename="tsd_fetch_impl">tsd_fetch_impl</a>(<span class="macro" title="0" data-ref="_M/false">false</span>, <span class="macro" title="0" data-ref="_M/false">false</span>));</td></tr>
<tr><th id="306">306</th><td>}</td></tr>
<tr><th id="307">307</th><td></td></tr>
<tr><th id="308">308</th><td><a class="macro" href="jemalloc_internal_macros.h.html#5" title="static inline" data-ref="_M/JEMALLOC_ALWAYS_INLINE">JEMALLOC_ALWAYS_INLINE</a> <a class="typedef" href="rtree_tsd.h.html#rtree_ctx_t" title='rtree_ctx_t' data-type='struct rtree_ctx_s' data-ref="rtree_ctx_t" data-ref-filename="rtree_ctx_t">rtree_ctx_t</a> *</td></tr>
<tr><th id="309">309</th><td><dfn class="decl def fn" id="tsd_rtree_ctx" title='tsd_rtree_ctx' data-ref="tsd_rtree_ctx" data-ref-filename="tsd_rtree_ctx">tsd_rtree_ctx</dfn>(<a class="typedef" href="tsd_types.h.html#tsd_t" title='tsd_t' data-type='struct tsd_s' data-ref="tsd_t" data-ref-filename="tsd_t">tsd_t</a> *<dfn class="local col2 decl" id="372tsd" title='tsd' data-type='tsd_t *' data-ref="372tsd" data-ref-filename="372tsd">tsd</dfn>) {</td></tr>
<tr><th id="310">310</th><td>	<b>return</b> <a class="ref fn" href="#200" title='tsd_rtree_ctxp_get' data-ref="tsd_rtree_ctxp_get" data-ref-filename="tsd_rtree_ctxp_get">tsd_rtree_ctxp_get</a>(<a class="local col2 ref" href="#372tsd" title='tsd' data-ref="372tsd" data-ref-filename="372tsd">tsd</a>);</td></tr>
<tr><th id="311">311</th><td>}</td></tr>
<tr><th id="312">312</th><td></td></tr>
<tr><th id="313">313</th><td><a class="macro" href="jemalloc_internal_macros.h.html#5" title="static inline" data-ref="_M/JEMALLOC_ALWAYS_INLINE">JEMALLOC_ALWAYS_INLINE</a> <a class="typedef" href="rtree_tsd.h.html#rtree_ctx_t" title='rtree_ctx_t' data-type='struct rtree_ctx_s' data-ref="rtree_ctx_t" data-ref-filename="rtree_ctx_t">rtree_ctx_t</a> *</td></tr>
<tr><th id="314">314</th><td><dfn class="decl def fn" id="tsdn_rtree_ctx" title='tsdn_rtree_ctx' data-ref="tsdn_rtree_ctx" data-ref-filename="tsdn_rtree_ctx">tsdn_rtree_ctx</dfn>(<a class="typedef" href="tsd_types.h.html#tsdn_t" title='tsdn_t' data-type='struct tsdn_s' data-ref="tsdn_t" data-ref-filename="tsdn_t">tsdn_t</a> *<dfn class="local col3 decl" id="373tsdn" title='tsdn' data-type='tsdn_t *' data-ref="373tsdn" data-ref-filename="373tsdn">tsdn</dfn>, <a class="typedef" href="rtree_tsd.h.html#rtree_ctx_t" title='rtree_ctx_t' data-type='struct rtree_ctx_s' data-ref="rtree_ctx_t" data-ref-filename="rtree_ctx_t">rtree_ctx_t</a> *<dfn class="local col4 decl" id="374fallback" title='fallback' data-type='rtree_ctx_t *' data-ref="374fallback" data-ref-filename="374fallback">fallback</dfn>) {</td></tr>
<tr><th id="315">315</th><td>	<i>/*</i></td></tr>
<tr><th id="316">316</th><td><i>	 * If tsd cannot be accessed, initialize the fallback rtree_ctx and</i></td></tr>
<tr><th id="317">317</th><td><i>	 * return a pointer to it.</i></td></tr>
<tr><th id="318">318</th><td><i>	 */</i></td></tr>
<tr><th id="319">319</th><td>	<b>if</b> (<a class="macro" href="util.h.html#33" title="__builtin_expect(!!(tsdn_null(tsdn)), 0)" data-ref="_M/unlikely">unlikely</a>(<a class="ref fn" href="#tsdn_null" title='tsdn_null' data-ref="tsdn_null" data-ref-filename="tsdn_null">tsdn_null</a>(<a class="local col3 ref" href="#373tsdn" title='tsdn' data-ref="373tsdn" data-ref-filename="373tsdn">tsdn</a>))) {</td></tr>
<tr><th id="320">320</th><td>		<a class="macro" href="private_namespace.h.html#318" title="je_rtree_ctx_data_init" data-ref="_M/rtree_ctx_data_init">rtree_ctx_data_init</a>(<a class="local col4 ref" href="#374fallback" title='fallback' data-ref="374fallback" data-ref-filename="374fallback">fallback</a>);</td></tr>
<tr><th id="321">321</th><td>		<b>return</b> <a class="local col4 ref" href="#374fallback" title='fallback' data-ref="374fallback" data-ref-filename="374fallback">fallback</a>;</td></tr>
<tr><th id="322">322</th><td>	}</td></tr>
<tr><th id="323">323</th><td>	<b>return</b> <a class="ref fn" href="#tsd_rtree_ctx" title='tsd_rtree_ctx' data-ref="tsd_rtree_ctx" data-ref-filename="tsd_rtree_ctx">tsd_rtree_ctx</a>(<a class="ref fn" href="#tsdn_tsd" title='tsdn_tsd' data-ref="tsdn_tsd" data-ref-filename="tsdn_tsd">tsdn_tsd</a>(<a class="local col3 ref" href="#373tsdn" title='tsdn' data-ref="373tsdn" data-ref-filename="373tsdn">tsdn</a>));</td></tr>
<tr><th id="324">324</th><td>}</td></tr>
<tr><th id="325">325</th><td></td></tr>
<tr><th id="326">326</th><td><u>#<span data-ppcond="1">endif</span> /* JEMALLOC_INTERNAL_TSD_H */</u></td></tr>
<tr><th id="327">327</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='../../../dist/src/arena.c.html'>netbsd/external/bsd/jemalloc/dist/src/arena.c</a><br/>Generated on <em>2019-Jul-19</em> from project netbsd revision <em>f9da89e0d</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
