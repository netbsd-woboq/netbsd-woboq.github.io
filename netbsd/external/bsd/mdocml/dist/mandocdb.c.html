<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>mandocdb.c source code [netbsd/external/bsd/mdocml/dist/mandocdb.c] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="inodev,mdoc_handler,mlink,mpage,op,str "/>
<link rel="stylesheet" href="https://code.woboq.org/data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="https://code.woboq.org/data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery-ui.min.js"></script>
<script>var file = 'netbsd/external/bsd/mdocml/dist/mandocdb.c'; var root_path = '../../../../..'; var data_path = 'https://code.woboq.org/data'; var ecma_script_api_version = 2;</script>
<script src='https://code.woboq.org/data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../..'>netbsd</a>/<a href='../../..'>external</a>/<a href='../..'>bsd</a>/<a href='..'>mdocml</a>/<a href='./'>dist</a>/<a href='mandocdb.c.html'>mandocdb.c</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*	Id: mandocdb.c,v 1.262 2018/12/30 00:49:55 schwarze Exp  */</i></td></tr>
<tr><th id="2">2</th><td><i>/*</i></td></tr>
<tr><th id="3">3</th><td><i> * Copyright (c) 2011, 2012 Kristaps Dzonsons &lt;kristaps@bsd.lv&gt;</i></td></tr>
<tr><th id="4">4</th><td><i> * Copyright (c) 2011-2018 Ingo Schwarze &lt;schwarze@openbsd.org&gt;</i></td></tr>
<tr><th id="5">5</th><td><i> * Copyright (c) 2016 Ed Maste &lt;emaste@freebsd.org&gt;</i></td></tr>
<tr><th id="6">6</th><td><i> *</i></td></tr>
<tr><th id="7">7</th><td><i> * Permission to use, copy, modify, and distribute this software for any</i></td></tr>
<tr><th id="8">8</th><td><i> * purpose with or without fee is hereby granted, provided that the above</i></td></tr>
<tr><th id="9">9</th><td><i> * copyright notice and this permission notice appear in all copies.</i></td></tr>
<tr><th id="10">10</th><td><i> *</i></td></tr>
<tr><th id="11">11</th><td><i> * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHORS DISCLAIM ALL WARRANTIES</i></td></tr>
<tr><th id="12">12</th><td><i> * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF</i></td></tr>
<tr><th id="13">13</th><td><i> * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR</i></td></tr>
<tr><th id="14">14</th><td><i> * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES</i></td></tr>
<tr><th id="15">15</th><td><i> * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN</i></td></tr>
<tr><th id="16">16</th><td><i> * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF</i></td></tr>
<tr><th id="17">17</th><td><i> * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.</i></td></tr>
<tr><th id="18">18</th><td><i> */</i></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="../include/config.h.html">"config.h"</a></u></td></tr>
<tr><th id="20">20</th><td></td></tr>
<tr><th id="21">21</th><td><u>#include <a href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html">&lt;sys/types.h&gt;</a></u></td></tr>
<tr><th id="22">22</th><td><u>#include <a href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/mman.h.html">&lt;sys/mman.h&gt;</a></u></td></tr>
<tr><th id="23">23</th><td><u>#include <a href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/stat.h.html">&lt;sys/stat.h&gt;</a></u></td></tr>
<tr><th id="24">24</th><td></td></tr>
<tr><th id="25">25</th><td><u>#include <a href="../../../../objdir.amd64/destdir.amd64/usr/include/assert.h.html">&lt;assert.h&gt;</a></u></td></tr>
<tr><th id="26">26</th><td><u>#include <a href="../../../../objdir.amd64/destdir.amd64/usr/include/ctype.h.html">&lt;ctype.h&gt;</a></u></td></tr>
<tr><th id="27">27</th><td><u>#<span data-ppcond="27">if</span> <a class="macro" href="../include/config.h.html#20" title="1" data-ref="_M/HAVE_ERR">HAVE_ERR</a></u></td></tr>
<tr><th id="28">28</th><td><u>#include <a href="../../../../objdir.amd64/destdir.amd64/usr/include/err.h.html">&lt;err.h&gt;</a></u></td></tr>
<tr><th id="29">29</th><td><u>#<span data-ppcond="27">endif</span></u></td></tr>
<tr><th id="30">30</th><td><u>#include <a href="../../../../objdir.amd64/destdir.amd64/usr/include/errno.h.html">&lt;errno.h&gt;</a></u></td></tr>
<tr><th id="31">31</th><td><u>#include <a href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/fcntl.h.html">&lt;fcntl.h&gt;</a></u></td></tr>
<tr><th id="32">32</th><td><u>#<span data-ppcond="32">if</span> <a class="macro" href="../include/config.h.html#21" title="1" data-ref="_M/HAVE_FTS">HAVE_FTS</a></u></td></tr>
<tr><th id="33">33</th><td><u>#include <a href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html">&lt;fts.h&gt;</a></u></td></tr>
<tr><th id="34">34</th><td><u>#<span data-ppcond="32">else</span></u></td></tr>
<tr><th id="35">35</th><td><u>#include "compat_fts.h"</u></td></tr>
<tr><th id="36">36</th><td><u>#<span data-ppcond="32">endif</span></u></td></tr>
<tr><th id="37">37</th><td><u>#include &lt;limits.h&gt;</u></td></tr>
<tr><th id="38">38</th><td><u>#<span data-ppcond="38">if</span> <a class="macro" href="../include/config.h.html#35" title="0" data-ref="_M/HAVE_SANDBOX_INIT">HAVE_SANDBOX_INIT</a></u></td></tr>
<tr><th id="39">39</th><td><u>#include &lt;sandbox.h&gt;</u></td></tr>
<tr><th id="40">40</th><td><u>#<span data-ppcond="38">endif</span></u></td></tr>
<tr><th id="41">41</th><td><u>#include &lt;stdarg.h&gt;</u></td></tr>
<tr><th id="42">42</th><td><u>#include &lt;stddef.h&gt;</u></td></tr>
<tr><th id="43">43</th><td><u>#include <a href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html">&lt;stdio.h&gt;</a></u></td></tr>
<tr><th id="44">44</th><td><u>#include &lt;stdint.h&gt;</u></td></tr>
<tr><th id="45">45</th><td><u>#include <a href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html">&lt;stdlib.h&gt;</a></u></td></tr>
<tr><th id="46">46</th><td><u>#include <a href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html">&lt;string.h&gt;</a></u></td></tr>
<tr><th id="47">47</th><td><u>#include <a href="../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html">&lt;unistd.h&gt;</a></u></td></tr>
<tr><th id="48">48</th><td></td></tr>
<tr><th id="49">49</th><td><u>#include <a href="mandoc_aux.h.html">"mandoc_aux.h"</a></u></td></tr>
<tr><th id="50">50</th><td><u>#include <a href="mandoc_ohash.h.html">"mandoc_ohash.h"</a></u></td></tr>
<tr><th id="51">51</th><td><u>#include <a href="mandoc.h.html">"mandoc.h"</a></u></td></tr>
<tr><th id="52">52</th><td><u>#include <a href="roff.h.html">"roff.h"</a></u></td></tr>
<tr><th id="53">53</th><td><u>#include <a href="mdoc.h.html">"mdoc.h"</a></u></td></tr>
<tr><th id="54">54</th><td><u>#include <a href="main.h.html">"main.h"</a></u></td></tr>
<tr><th id="55">55</th><td><u>#include <a href="man.h.html">"man.h"</a></u></td></tr>
<tr><th id="56">56</th><td><u>#include <a href="mandoc_parse.h.html">"mandoc_parse.h"</a></u></td></tr>
<tr><th id="57">57</th><td><u>#include <a href="manconf.h.html">"manconf.h"</a></u></td></tr>
<tr><th id="58">58</th><td><u>#include <a href="mansearch.h.html">"mansearch.h"</a></u></td></tr>
<tr><th id="59">59</th><td><u>#include <a href="dba_array.h.html">"dba_array.h"</a></u></td></tr>
<tr><th id="60">60</th><td><u>#include <a href="dba.h.html">"dba.h"</a></u></td></tr>
<tr><th id="61">61</th><td></td></tr>
<tr><th id="62">62</th><td><b>extern</b> <em>const</em> <em>char</em> *<em>const</em> <dfn class="decl" id="mansearch_keynames" title='mansearch_keynames' data-ref="mansearch_keynames" data-ref-filename="mansearch_keynames">mansearch_keynames</dfn>[];</td></tr>
<tr><th id="63">63</th><td></td></tr>
<tr><th id="64">64</th><td><b>enum</b>	<dfn class="type def" id="op" title='op' data-ref="op" data-ref-filename="op">op</dfn> {</td></tr>
<tr><th id="65">65</th><td>	<dfn class="enum" id="OP_DEFAULT" title='OP_DEFAULT' data-ref="OP_DEFAULT" data-ref-filename="OP_DEFAULT">OP_DEFAULT</dfn> = <var>0</var>, <i>/* new dbs from dir list or default config */</i></td></tr>
<tr><th id="66">66</th><td>	<dfn class="enum" id="OP_CONFFILE" title='OP_CONFFILE' data-ref="OP_CONFFILE" data-ref-filename="OP_CONFFILE">OP_CONFFILE</dfn>, <i>/* new databases from custom config file */</i></td></tr>
<tr><th id="67">67</th><td>	<dfn class="enum" id="OP_UPDATE" title='OP_UPDATE' data-ref="OP_UPDATE" data-ref-filename="OP_UPDATE">OP_UPDATE</dfn>, <i>/* delete/add entries in existing database */</i></td></tr>
<tr><th id="68">68</th><td>	<dfn class="enum" id="OP_DELETE" title='OP_DELETE' data-ref="OP_DELETE" data-ref-filename="OP_DELETE">OP_DELETE</dfn>, <i>/* delete entries from existing database */</i></td></tr>
<tr><th id="69">69</th><td>	<dfn class="enum" id="OP_TEST" title='OP_TEST' data-ref="OP_TEST" data-ref-filename="OP_TEST">OP_TEST</dfn> <i>/* change no databases, report potential problems */</i></td></tr>
<tr><th id="70">70</th><td>};</td></tr>
<tr><th id="71">71</th><td></td></tr>
<tr><th id="72">72</th><td><b>struct</b>	<dfn class="type def" id="str" title='str' data-ref="str" data-ref-filename="str">str</dfn> {</td></tr>
<tr><th id="73">73</th><td>	<em>const</em> <b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *<dfn class="tu decl field" id="str::mpage" title='str::mpage' data-type='const struct mpage *' data-ref="str::mpage" data-ref-filename="str..mpage">mpage</dfn>; <i  data-doc="str::mpage">/* if set, the owning parse */</i></td></tr>
<tr><th id="74">74</th><td>	<a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a>	 <dfn class="tu decl field" id="str::mask" title='str::mask' data-type='uint64_t' data-ref="str::mask" data-ref-filename="str..mask">mask</dfn>; <i  data-doc="str::mask">/* bitmask in sequence */</i></td></tr>
<tr><th id="75">75</th><td>	<em>char</em>		 <dfn class="tu decl field" id="str::key" title='str::key' data-type='char []' data-ref="str::key" data-ref-filename="str..key">key</dfn>[]; <i  data-doc="str::key">/* rendered text */</i></td></tr>
<tr><th id="76">76</th><td>};</td></tr>
<tr><th id="77">77</th><td></td></tr>
<tr><th id="78">78</th><td><b>struct</b>	<dfn class="type def" id="inodev" title='inodev' data-ref="inodev" data-ref-filename="inodev">inodev</dfn> {</td></tr>
<tr><th id="79">79</th><td>	<a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#ino_t" title='ino_t' data-type='uint64_t' data-ref="ino_t" data-ref-filename="ino_t">ino_t</a>		 <dfn class="tu decl field" id="inodev::st_ino" title='inodev::st_ino' data-type='ino_t' data-ref="inodev::st_ino" data-ref-filename="inodev..st_ino">st_ino</dfn>;</td></tr>
<tr><th id="80">80</th><td>	<a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#dev_t" title='dev_t' data-type='uint64_t' data-ref="dev_t" data-ref-filename="dev_t">dev_t</a>		 <dfn class="tu decl field" id="inodev::st_dev" title='inodev::st_dev' data-type='dev_t' data-ref="inodev::st_dev" data-ref-filename="inodev..st_dev">st_dev</dfn>;</td></tr>
<tr><th id="81">81</th><td>};</td></tr>
<tr><th id="82">82</th><td></td></tr>
<tr><th id="83">83</th><td><b>struct</b>	<dfn class="type def" id="mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</dfn> {</td></tr>
<tr><th id="84">84</th><td>	<b>struct</b> <a class="type" href="#inodev" title='inodev' data-ref="inodev" data-ref-filename="inodev">inodev</a>	 <dfn class="tu decl field" id="mpage::inodev" title='mpage::inodev' data-type='struct inodev' data-ref="mpage::inodev" data-ref-filename="mpage..inodev">inodev</dfn>;  <i  data-doc="mpage::inodev">/* used for hashing routine */</i></td></tr>
<tr><th id="85">85</th><td>	<b>struct</b> <a class="type" href="dba_array.h.html#dba_array" title='dba_array' data-ref="dba_array" data-ref-filename="dba_array">dba_array</a> *<dfn class="tu decl field" id="mpage::dba" title='mpage::dba' data-type='struct dba_array *' data-ref="mpage::dba" data-ref-filename="mpage..dba">dba</dfn>;</td></tr>
<tr><th id="86">86</th><td>	<em>char</em>		*<dfn class="tu decl field" id="mpage::sec" title='mpage::sec' data-type='char *' data-ref="mpage::sec" data-ref-filename="mpage..sec">sec</dfn>;     <i  data-doc="mpage::sec">/* section from file content */</i></td></tr>
<tr><th id="87">87</th><td>	<em>char</em>		*<dfn class="tu decl field" id="mpage::arch" title='mpage::arch' data-type='char *' data-ref="mpage::arch" data-ref-filename="mpage..arch">arch</dfn>;    <i  data-doc="mpage::arch">/* architecture from file content */</i></td></tr>
<tr><th id="88">88</th><td>	<em>char</em>		*<dfn class="tu decl field" id="mpage::title" title='mpage::title' data-type='char *' data-ref="mpage::title" data-ref-filename="mpage..title">title</dfn>;   <i  data-doc="mpage::title">/* title from file content */</i></td></tr>
<tr><th id="89">89</th><td>	<em>char</em>		*<dfn class="tu decl field" id="mpage::desc" title='mpage::desc' data-type='char *' data-ref="mpage::desc" data-ref-filename="mpage..desc">desc</dfn>;    <i  data-doc="mpage::desc">/* description from file content */</i></td></tr>
<tr><th id="90">90</th><td>	<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a>	*<dfn class="tu decl field" id="mpage::next" title='mpage::next' data-type='struct mpage *' data-ref="mpage::next" data-ref-filename="mpage..next">next</dfn>;    <i  data-doc="mpage::next">/* singly linked list */</i></td></tr>
<tr><th id="91">91</th><td>	<b>struct</b> <a class="type" href="#mlink" title='mlink' data-ref="mlink" data-ref-filename="mlink">mlink</a>	*<dfn class="tu decl field" id="mpage::mlinks" title='mpage::mlinks' data-type='struct mlink *' data-ref="mpage::mlinks" data-ref-filename="mpage..mlinks">mlinks</dfn>;  <i  data-doc="mpage::mlinks">/* singly linked list */</i></td></tr>
<tr><th id="92">92</th><td>	<em>int</em>		 <dfn class="tu decl field" id="mpage::name_head_done" title='mpage::name_head_done' data-type='int' data-ref="mpage::name_head_done" data-ref-filename="mpage..name_head_done">name_head_done</dfn>;</td></tr>
<tr><th id="93">93</th><td>	<b>enum</b> <a class="type" href="mansearch.h.html#form" title='form' data-ref="form" data-ref-filename="form">form</a>	 <dfn class="tu decl field" id="mpage::form" title='mpage::form' data-type='enum form' data-ref="mpage::form" data-ref-filename="mpage..form">form</dfn>;    <i  data-doc="mpage::form">/* format from file content */</i></td></tr>
<tr><th id="94">94</th><td>};</td></tr>
<tr><th id="95">95</th><td></td></tr>
<tr><th id="96">96</th><td><b>struct</b>	<dfn class="type def" id="mlink" title='mlink' data-ref="mlink" data-ref-filename="mlink">mlink</dfn> {</td></tr>
<tr><th id="97">97</th><td>	<em>char</em>		 <dfn class="tu decl field" id="mlink::file" title='mlink::file' data-type='char [1024]' data-ref="mlink::file" data-ref-filename="mlink..file">file</dfn>[<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/syslimits.h.html#60" title="1024" data-ref="_M/PATH_MAX">PATH_MAX</a>]; <i  data-doc="mlink::file">/* filename rel. to manpath */</i></td></tr>
<tr><th id="98">98</th><td>	<em>char</em>		*<dfn class="tu decl field" id="mlink::dsec" title='mlink::dsec' data-type='char *' data-ref="mlink::dsec" data-ref-filename="mlink..dsec">dsec</dfn>;    <i  data-doc="mlink::dsec">/* section from directory */</i></td></tr>
<tr><th id="99">99</th><td>	<em>char</em>		*<dfn class="tu decl field" id="mlink::arch" title='mlink::arch' data-type='char *' data-ref="mlink::arch" data-ref-filename="mlink..arch">arch</dfn>;    <i  data-doc="mlink::arch">/* architecture from directory */</i></td></tr>
<tr><th id="100">100</th><td>	<em>char</em>		*<dfn class="tu decl field" id="mlink::name" title='mlink::name' data-type='char *' data-ref="mlink::name" data-ref-filename="mlink..name">name</dfn>;    <i  data-doc="mlink::name">/* name from file name (not empty) */</i></td></tr>
<tr><th id="101">101</th><td>	<em>char</em>		*<dfn class="tu decl field" id="mlink::fsec" title='mlink::fsec' data-type='char *' data-ref="mlink::fsec" data-ref-filename="mlink..fsec">fsec</dfn>;    <i  data-doc="mlink::fsec">/* section from file name suffix */</i></td></tr>
<tr><th id="102">102</th><td>	<b>struct</b> <a class="type" href="#mlink" title='mlink' data-ref="mlink" data-ref-filename="mlink">mlink</a>	*<dfn class="tu decl field" id="mlink::next" title='mlink::next' data-type='struct mlink *' data-ref="mlink::next" data-ref-filename="mlink..next">next</dfn>;    <i  data-doc="mlink::next">/* singly linked list */</i></td></tr>
<tr><th id="103">103</th><td>	<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a>	*<dfn class="tu decl field" id="mlink::mpage" title='mlink::mpage' data-type='struct mpage *' data-ref="mlink::mpage" data-ref-filename="mlink..mpage">mpage</dfn>;   <i  data-doc="mlink::mpage">/* parent */</i></td></tr>
<tr><th id="104">104</th><td>	<em>int</em>		 <dfn class="tu decl field" id="mlink::gzip" title='mlink::gzip' data-type='int' data-ref="mlink::gzip" data-ref-filename="mlink..gzip">gzip</dfn>;	  <i  data-doc="mlink::gzip">/* filename has a .gz suffix */</i></td></tr>
<tr><th id="105">105</th><td>	<b>enum</b> <a class="type" href="mansearch.h.html#form" title='form' data-ref="form" data-ref-filename="form">form</a>	 <dfn class="tu decl field" id="mlink::dform" title='mlink::dform' data-type='enum form' data-ref="mlink::dform" data-ref-filename="mlink..dform">dform</dfn>;   <i  data-doc="mlink::dform">/* format from directory */</i></td></tr>
<tr><th id="106">106</th><td>	<b>enum</b> <a class="type" href="mansearch.h.html#form" title='form' data-ref="form" data-ref-filename="form">form</a>	 <dfn class="tu decl field" id="mlink::fform" title='mlink::fform' data-type='enum form' data-ref="mlink::fform" data-ref-filename="mlink..fform">fform</dfn>;   <i  data-doc="mlink::fform">/* format from file name suffix */</i></td></tr>
<tr><th id="107">107</th><td>};</td></tr>
<tr><th id="108">108</th><td></td></tr>
<tr><th id="109">109</th><td><b>typedef</b>	<em>int</em> (*<dfn class="typedef" id="mdoc_fp" title='mdoc_fp' data-type='int (*)(struct mpage *, const struct roff_meta *, const struct roff_node *)' data-ref="mdoc_fp" data-ref-filename="mdoc_fp">mdoc_fp</dfn>)(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_meta" title='roff_meta' data-ref="roff_meta" data-ref-filename="roff_meta">roff_meta</a> *,</td></tr>
<tr><th id="110">110</th><td>			<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *);</td></tr>
<tr><th id="111">111</th><td></td></tr>
<tr><th id="112">112</th><td><b>struct</b>	<dfn class="type def" id="mdoc_handler" title='mdoc_handler' data-ref="mdoc_handler" data-ref-filename="mdoc_handler">mdoc_handler</dfn> {</td></tr>
<tr><th id="113">113</th><td>	<a class="typedef" href="#mdoc_fp" title='mdoc_fp' data-type='int (*)(struct mpage *, const struct roff_meta *, const struct roff_node *)' data-ref="mdoc_fp" data-ref-filename="mdoc_fp">mdoc_fp</a>		 <dfn class="tu decl field" id="mdoc_handler::fp" title='mdoc_handler::fp' data-type='mdoc_fp' data-ref="mdoc_handler::fp" data-ref-filename="mdoc_handler..fp">fp</dfn>; <i  data-doc="mdoc_handler::fp">/* optional handler */</i></td></tr>
<tr><th id="114">114</th><td>	<a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a>	 <dfn class="tu decl field" id="mdoc_handler::mask" title='mdoc_handler::mask' data-type='uint64_t' data-ref="mdoc_handler::mask" data-ref-filename="mdoc_handler..mask">mask</dfn>;  <i  data-doc="mdoc_handler::mask">/* set unless handler returns 0 */</i></td></tr>
<tr><th id="115">115</th><td>	<em>int</em>		 <dfn class="tu decl field" id="mdoc_handler::taboo" title='mdoc_handler::taboo' data-type='int' data-ref="mdoc_handler::taboo" data-ref-filename="mdoc_handler..taboo">taboo</dfn>;  <i  data-doc="mdoc_handler::taboo">/* node flags that must not be set */</i></td></tr>
<tr><th id="116">116</th><td>};</td></tr>
<tr><th id="117">117</th><td></td></tr>
<tr><th id="118">118</th><td></td></tr>
<tr><th id="119">119</th><td><em>int</em>		 <a class="decl fn" href="#mandocdb" title='mandocdb' data-ref="mandocdb" data-ref-filename="mandocdb">mandocdb</a>(<em>int</em>, <em>char</em> *[]);</td></tr>
<tr><th id="120">120</th><td></td></tr>
<tr><th id="121">121</th><td><em>static</em>	<em>void</em>	 <a class="tu decl fn" href="#dbadd" title='dbadd' data-type='void dbadd(struct dba * , struct mpage * )' data-ref="dbadd" data-ref-filename="dbadd">dbadd</a>(<b>struct</b> <a class="type" href="dba.h.html#dba" title='dba' data-ref="dba" data-ref-filename="dba">dba</a> *, <b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *);</td></tr>
<tr><th id="122">122</th><td><em>static</em>	<em>void</em>	 <a class="tu decl fn" href="#dbadd_mlink" title='dbadd_mlink' data-type='void dbadd_mlink(const struct mlink * mlink)' data-ref="dbadd_mlink" data-ref-filename="dbadd_mlink">dbadd_mlink</a>(<em>const</em> <b>struct</b> <a class="type" href="#mlink" title='mlink' data-ref="mlink" data-ref-filename="mlink">mlink</a> *<dfn class="local col1 decl" id="1mlink" title='mlink' data-type='const struct mlink *' data-ref="1mlink" data-ref-filename="1mlink">mlink</dfn>);</td></tr>
<tr><th id="123">123</th><td><em>static</em>	<em>void</em>	 <a class="tu decl fn" href="#dbprune" title='dbprune' data-type='void dbprune(struct dba * )' data-ref="dbprune" data-ref-filename="dbprune">dbprune</a>(<b>struct</b> <a class="type" href="dba.h.html#dba" title='dba' data-ref="dba" data-ref-filename="dba">dba</a> *);</td></tr>
<tr><th id="124">124</th><td><em>static</em>	<em>void</em>	 <a class="tu decl fn" href="#dbwrite" title='dbwrite' data-type='void dbwrite(struct dba * )' data-ref="dbwrite" data-ref-filename="dbwrite">dbwrite</a>(<b>struct</b> <a class="type" href="dba.h.html#dba" title='dba' data-ref="dba" data-ref-filename="dba">dba</a> *);</td></tr>
<tr><th id="125">125</th><td><em>static</em>	<em>void</em>	 <a class="tu decl fn" href="#filescan" title='filescan' data-type='void filescan(const char * )' data-ref="filescan" data-ref-filename="filescan">filescan</a>(<em>const</em> <em>char</em> *);</td></tr>
<tr><th id="126">126</th><td><u>#<span data-ppcond="126">if</span> <a class="macro" href="../include/config.h.html#22" title="0" data-ref="_M/HAVE_FTS_COMPARE_CONST">HAVE_FTS_COMPARE_CONST</a></u></td></tr>
<tr><th id="127">127</th><td><em>static</em>	<em>int</em>	 fts_compare(<em>const</em> FTSENT *<em>const</em> *, <em>const</em> FTSENT *<em>const</em> *);</td></tr>
<tr><th id="128">128</th><td><u>#<span data-ppcond="126">else</span></u></td></tr>
<tr><th id="129">129</th><td><em>static</em>	<em>int</em>	 <a class="tu decl fn" href="#fts_compare" title='fts_compare' data-type='int fts_compare(const FTSENT ** , const FTSENT ** )' data-ref="fts_compare" data-ref-filename="fts_compare">fts_compare</a>(<em>const</em> <a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#FTSENT" title='FTSENT' data-type='struct _ftsent' data-ref="FTSENT" data-ref-filename="FTSENT">FTSENT</a> **, <em>const</em> <a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#FTSENT" title='FTSENT' data-type='struct _ftsent' data-ref="FTSENT" data-ref-filename="FTSENT">FTSENT</a> **);</td></tr>
<tr><th id="130">130</th><td><u>#<span data-ppcond="126">endif</span></u></td></tr>
<tr><th id="131">131</th><td><em>static</em>	<em>void</em>	 <a class="tu decl fn" href="#mlink_add" title='mlink_add' data-type='void mlink_add(struct mlink * , const struct stat * )' data-ref="mlink_add" data-ref-filename="mlink_add">mlink_add</a>(<b>struct</b> <a class="type" href="#mlink" title='mlink' data-ref="mlink" data-ref-filename="mlink">mlink</a> *, <em>const</em> <b>struct</b> <a class="type" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/stat.h.html#stat" title='stat' data-ref="stat" data-ref-filename="stat">stat</a> *);</td></tr>
<tr><th id="132">132</th><td><em>static</em>	<em>void</em>	 <a class="tu decl fn" href="#mlink_check" title='mlink_check' data-type='void mlink_check(struct mpage * , struct mlink * )' data-ref="mlink_check" data-ref-filename="mlink_check">mlink_check</a>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *, <b>struct</b> <a class="type" href="#mlink" title='mlink' data-ref="mlink" data-ref-filename="mlink">mlink</a> *);</td></tr>
<tr><th id="133">133</th><td><em>static</em>	<em>void</em>	 <a class="tu decl fn" href="#mlink_free" title='mlink_free' data-type='void mlink_free(struct mlink * )' data-ref="mlink_free" data-ref-filename="mlink_free">mlink_free</a>(<b>struct</b> <a class="type" href="#mlink" title='mlink' data-ref="mlink" data-ref-filename="mlink">mlink</a> *);</td></tr>
<tr><th id="134">134</th><td><em>static</em>	<em>void</em>	 <a class="tu decl fn" href="#mlinks_undupe" title='mlinks_undupe' data-type='void mlinks_undupe(struct mpage * )' data-ref="mlinks_undupe" data-ref-filename="mlinks_undupe">mlinks_undupe</a>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *);</td></tr>
<tr><th id="135">135</th><td><em>static</em>	<em>void</em>	 <a class="tu decl fn" href="#mpages_free" title='mpages_free' data-type='void mpages_free()' data-ref="mpages_free" data-ref-filename="mpages_free">mpages_free</a>(<em>void</em>);</td></tr>
<tr><th id="136">136</th><td><em>static</em>	<em>void</em>	 <a class="tu decl fn" href="#mpages_merge" title='mpages_merge' data-type='void mpages_merge(struct dba * , struct mparse * )' data-ref="mpages_merge" data-ref-filename="mpages_merge">mpages_merge</a>(<b>struct</b> <a class="type" href="dba.h.html#dba" title='dba' data-ref="dba" data-ref-filename="dba">dba</a> *, <b>struct</b> <a class="type" href="mandoc_parse.h.html#mparse" title='mparse' data-ref="mparse" data-ref-filename="mparse">mparse</a> *);</td></tr>
<tr><th id="137">137</th><td><em>static</em>	<em>void</em>	 <a class="tu decl fn" href="#parse_cat" title='parse_cat' data-type='void parse_cat(struct mpage * , int )' data-ref="parse_cat" data-ref-filename="parse_cat">parse_cat</a>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *, <em>int</em>);</td></tr>
<tr><th id="138">138</th><td><em>static</em>	<em>void</em>	 <a class="tu decl fn" href="#parse_man" title='parse_man' data-type='void parse_man(struct mpage * , const struct roff_meta * , const struct roff_node * )' data-ref="parse_man" data-ref-filename="parse_man">parse_man</a>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_meta" title='roff_meta' data-ref="roff_meta" data-ref-filename="roff_meta">roff_meta</a> *,</td></tr>
<tr><th id="139">139</th><td>			<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *);</td></tr>
<tr><th id="140">140</th><td><em>static</em>	<em>void</em>	 <a class="tu decl fn" href="#parse_mdoc" title='parse_mdoc' data-type='void parse_mdoc(struct mpage * , const struct roff_meta * , const struct roff_node * )' data-ref="parse_mdoc" data-ref-filename="parse_mdoc">parse_mdoc</a>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_meta" title='roff_meta' data-ref="roff_meta" data-ref-filename="roff_meta">roff_meta</a> *,</td></tr>
<tr><th id="141">141</th><td>			<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *);</td></tr>
<tr><th id="142">142</th><td><em>static</em>	<em>int</em>	 <a class="tu decl fn" href="#parse_mdoc_head" title='parse_mdoc_head' data-type='int parse_mdoc_head(struct mpage * , const struct roff_meta * , const struct roff_node * )' data-ref="parse_mdoc_head" data-ref-filename="parse_mdoc_head">parse_mdoc_head</a>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_meta" title='roff_meta' data-ref="roff_meta" data-ref-filename="roff_meta">roff_meta</a> *,</td></tr>
<tr><th id="143">143</th><td>			<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *);</td></tr>
<tr><th id="144">144</th><td><em>static</em>	<em>int</em>	 <a class="tu decl fn" href="#parse_mdoc_Fa" title='parse_mdoc_Fa' data-type='int parse_mdoc_Fa(struct mpage * , const struct roff_meta * , const struct roff_node * )' data-ref="parse_mdoc_Fa" data-ref-filename="parse_mdoc_Fa">parse_mdoc_Fa</a>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_meta" title='roff_meta' data-ref="roff_meta" data-ref-filename="roff_meta">roff_meta</a> *,</td></tr>
<tr><th id="145">145</th><td>			<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *);</td></tr>
<tr><th id="146">146</th><td><em>static</em>	<em>int</em>	 <a class="tu decl fn" href="#parse_mdoc_Fd" title='parse_mdoc_Fd' data-type='int parse_mdoc_Fd(struct mpage * , const struct roff_meta * , const struct roff_node * )' data-ref="parse_mdoc_Fd" data-ref-filename="parse_mdoc_Fd">parse_mdoc_Fd</a>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_meta" title='roff_meta' data-ref="roff_meta" data-ref-filename="roff_meta">roff_meta</a> *,</td></tr>
<tr><th id="147">147</th><td>			<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *);</td></tr>
<tr><th id="148">148</th><td><em>static</em>	<em>void</em>	 <a class="tu decl fn" href="#parse_mdoc_fname" title='parse_mdoc_fname' data-type='void parse_mdoc_fname(struct mpage * , const struct roff_node * )' data-ref="parse_mdoc_fname" data-ref-filename="parse_mdoc_fname">parse_mdoc_fname</a>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *);</td></tr>
<tr><th id="149">149</th><td><em>static</em>	<em>int</em>	 <a class="tu decl fn" href="#parse_mdoc_Fn" title='parse_mdoc_Fn' data-type='int parse_mdoc_Fn(struct mpage * , const struct roff_meta * , const struct roff_node * )' data-ref="parse_mdoc_Fn" data-ref-filename="parse_mdoc_Fn">parse_mdoc_Fn</a>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_meta" title='roff_meta' data-ref="roff_meta" data-ref-filename="roff_meta">roff_meta</a> *,</td></tr>
<tr><th id="150">150</th><td>			<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *);</td></tr>
<tr><th id="151">151</th><td><em>static</em>	<em>int</em>	 <a class="tu decl fn" href="#parse_mdoc_Fo" title='parse_mdoc_Fo' data-type='int parse_mdoc_Fo(struct mpage * , const struct roff_meta * , const struct roff_node * )' data-ref="parse_mdoc_Fo" data-ref-filename="parse_mdoc_Fo">parse_mdoc_Fo</a>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_meta" title='roff_meta' data-ref="roff_meta" data-ref-filename="roff_meta">roff_meta</a> *,</td></tr>
<tr><th id="152">152</th><td>			<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *);</td></tr>
<tr><th id="153">153</th><td><em>static</em>	<em>int</em>	 <a class="tu decl fn" href="#parse_mdoc_Nd" title='parse_mdoc_Nd' data-type='int parse_mdoc_Nd(struct mpage * , const struct roff_meta * , const struct roff_node * )' data-ref="parse_mdoc_Nd" data-ref-filename="parse_mdoc_Nd">parse_mdoc_Nd</a>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_meta" title='roff_meta' data-ref="roff_meta" data-ref-filename="roff_meta">roff_meta</a> *,</td></tr>
<tr><th id="154">154</th><td>			<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *);</td></tr>
<tr><th id="155">155</th><td><em>static</em>	<em>int</em>	 <a class="tu decl fn" href="#parse_mdoc_Nm" title='parse_mdoc_Nm' data-type='int parse_mdoc_Nm(struct mpage * , const struct roff_meta * , const struct roff_node * )' data-ref="parse_mdoc_Nm" data-ref-filename="parse_mdoc_Nm">parse_mdoc_Nm</a>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_meta" title='roff_meta' data-ref="roff_meta" data-ref-filename="roff_meta">roff_meta</a> *,</td></tr>
<tr><th id="156">156</th><td>			<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *);</td></tr>
<tr><th id="157">157</th><td><em>static</em>	<em>int</em>	 <a class="tu decl fn" href="#parse_mdoc_Sh" title='parse_mdoc_Sh' data-type='int parse_mdoc_Sh(struct mpage * , const struct roff_meta * , const struct roff_node * )' data-ref="parse_mdoc_Sh" data-ref-filename="parse_mdoc_Sh">parse_mdoc_Sh</a>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_meta" title='roff_meta' data-ref="roff_meta" data-ref-filename="roff_meta">roff_meta</a> *,</td></tr>
<tr><th id="158">158</th><td>			<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *);</td></tr>
<tr><th id="159">159</th><td><em>static</em>	<em>int</em>	 <a class="tu decl fn" href="#parse_mdoc_Va" title='parse_mdoc_Va' data-type='int parse_mdoc_Va(struct mpage * , const struct roff_meta * , const struct roff_node * )' data-ref="parse_mdoc_Va" data-ref-filename="parse_mdoc_Va">parse_mdoc_Va</a>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_meta" title='roff_meta' data-ref="roff_meta" data-ref-filename="roff_meta">roff_meta</a> *,</td></tr>
<tr><th id="160">160</th><td>			<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *);</td></tr>
<tr><th id="161">161</th><td><em>static</em>	<em>int</em>	 <a class="tu decl fn" href="#parse_mdoc_Xr" title='parse_mdoc_Xr' data-type='int parse_mdoc_Xr(struct mpage * , const struct roff_meta * , const struct roff_node * )' data-ref="parse_mdoc_Xr" data-ref-filename="parse_mdoc_Xr">parse_mdoc_Xr</a>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_meta" title='roff_meta' data-ref="roff_meta" data-ref-filename="roff_meta">roff_meta</a> *,</td></tr>
<tr><th id="162">162</th><td>			<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *);</td></tr>
<tr><th id="163">163</th><td><em>static</em>	<em>void</em>	 <a class="tu decl fn" href="#putkey" title='putkey' data-type='void putkey(const struct mpage * , char * , uint64_t )' data-ref="putkey" data-ref-filename="putkey">putkey</a>(<em>const</em> <b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *, <em>char</em> *, <a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a>);</td></tr>
<tr><th id="164">164</th><td><em>static</em>	<em>void</em>	 <a class="tu decl fn" href="#putkeys" title='putkeys' data-type='void putkeys(const struct mpage * , char * , size_t , uint64_t )' data-ref="putkeys" data-ref-filename="putkeys">putkeys</a>(<em>const</em> <b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *, <em>char</em> *, <a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</a>, <a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a>);</td></tr>
<tr><th id="165">165</th><td><em>static</em>	<em>void</em>	 <a class="tu decl fn" href="#putmdockey" title='putmdockey' data-type='void putmdockey(const struct mpage * , const struct roff_node * , uint64_t , int )' data-ref="putmdockey" data-ref-filename="putmdockey">putmdockey</a>(<em>const</em> <b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *,</td></tr>
<tr><th id="166">166</th><td>			<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *, <a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a>, <em>int</em>);</td></tr>
<tr><th id="167">167</th><td><em>static</em>	<em>int</em>	 <a class="tu decl fn" href="#render_string" title='render_string' data-type='int render_string(char ** , size_t * )' data-ref="render_string" data-ref-filename="render_string">render_string</a>(<em>char</em> **, <a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</a> *);</td></tr>
<tr><th id="168">168</th><td><em>static</em>	<em>void</em>	 <a class="tu decl fn" href="#say" title='say' data-type='void say(const char * , const char * )' data-ref="say" data-ref-filename="say">say</a>(<em>const</em> <em>char</em> *, <em>const</em> <em>char</em> *, ...)</td></tr>
<tr><th id="169">169</th><td>			<b>__attribute__</b>((__format__ (__printf__, <var>2</var>, <var>3</var>)));</td></tr>
<tr><th id="170">170</th><td><em>static</em>	<em>int</em>	 <a class="tu decl fn" href="#set_basedir" title='set_basedir' data-type='int set_basedir(const char * , int )' data-ref="set_basedir" data-ref-filename="set_basedir">set_basedir</a>(<em>const</em> <em>char</em> *, <em>int</em>);</td></tr>
<tr><th id="171">171</th><td><em>static</em>	<em>int</em>	 <a class="tu decl fn" href="#treescan" title='treescan' data-type='int treescan()' data-ref="treescan" data-ref-filename="treescan">treescan</a>(<em>void</em>);</td></tr>
<tr><th id="172">172</th><td><em>static</em>	<a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</a>	 <a class="tu decl fn" href="#utf8" title='utf8' data-type='size_t utf8(unsigned int , char * )' data-ref="utf8" data-ref-filename="utf8">utf8</a>(<em>unsigned</em> <em>int</em>, <em>char</em> [<var>7</var>]);</td></tr>
<tr><th id="173">173</th><td></td></tr>
<tr><th id="174">174</th><td><em>static</em>	<em>int</em>		 <dfn class="tu decl def" id="nodb" title='nodb' data-type='int' data-ref="nodb" data-ref-filename="nodb">nodb</dfn>; <i  data-doc="nodb">/* no database changes */</i></td></tr>
<tr><th id="175">175</th><td><em>static</em>	<em>int</em>		 <dfn class="tu decl def" id="mparse_options" title='mparse_options' data-type='int' data-ref="mparse_options" data-ref-filename="mparse_options">mparse_options</dfn>; <i  data-doc="mparse_options">/* abort the parse early */</i></td></tr>
<tr><th id="176">176</th><td><em>static</em>	<em>int</em>		 <dfn class="tu decl def" id="use_all" title='use_all' data-type='int' data-ref="use_all" data-ref-filename="use_all">use_all</dfn>; <i  data-doc="use_all">/* use all found files */</i></td></tr>
<tr><th id="177">177</th><td><em>static</em>	<em>int</em>		 <dfn class="tu decl def" id="debug" title='debug' data-type='int' data-ref="debug" data-ref-filename="debug">debug</dfn>; <i  data-doc="debug">/* print what we're doing */</i></td></tr>
<tr><th id="178">178</th><td><em>static</em>	<em>int</em>		 <dfn class="tu decl def" id="warnings" title='warnings' data-type='int' data-ref="warnings" data-ref-filename="warnings">warnings</dfn>; <i  data-doc="warnings">/* warn about crap */</i></td></tr>
<tr><th id="179">179</th><td><em>static</em>	<em>int</em>		 <dfn class="tu decl def" id="write_utf8" title='write_utf8' data-type='int' data-ref="write_utf8" data-ref-filename="write_utf8">write_utf8</dfn>; <i  data-doc="write_utf8">/* write UTF-8 output; else ASCII */</i></td></tr>
<tr><th id="180">180</th><td><em>static</em>	<em>int</em>		 <dfn class="tu decl def" id="exitcode" title='exitcode' data-type='int' data-ref="exitcode" data-ref-filename="exitcode">exitcode</dfn>; <i  data-doc="exitcode">/* to be returned by main */</i></td></tr>
<tr><th id="181">181</th><td><em>static</em>	<b>enum</b> <a class="type" href="#op" title='op' data-ref="op" data-ref-filename="op">op</a>		 <dfn class="tu decl def" id="op" title='op' data-type='enum op' data-ref="op" data-ref-filename="op">op</dfn>; <i  data-doc="op">/* operational mode */</i></td></tr>
<tr><th id="182">182</th><td><em>static</em>	<em>char</em>		 <dfn class="tu decl def" id="basedir" title='basedir' data-type='char [1024]' data-ref="basedir" data-ref-filename="basedir">basedir</dfn>[<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/syslimits.h.html#60" title="1024" data-ref="_M/PATH_MAX">PATH_MAX</a>]; <i  data-doc="basedir">/* current base directory */</i></td></tr>
<tr><th id="183">183</th><td><em>static</em>	<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a>	*<dfn class="tu decl def" id="mpage_head" title='mpage_head' data-type='struct mpage *' data-ref="mpage_head" data-ref-filename="mpage_head">mpage_head</dfn>; <i  data-doc="mpage_head">/* list of distinct manual pages */</i></td></tr>
<tr><th id="184">184</th><td><em>static</em>	<b>struct</b> <a class="type" href="compat_ohash.h.html#ohash" title='ohash' data-ref="ohash" data-ref-filename="ohash">ohash</a>	 <dfn class="tu decl def" id="mpages" title='mpages' data-type='struct ohash' data-ref="mpages" data-ref-filename="mpages">mpages</dfn>; <i  data-doc="mpages">/* table of distinct manual pages */</i></td></tr>
<tr><th id="185">185</th><td><em>static</em>	<b>struct</b> <a class="type" href="compat_ohash.h.html#ohash" title='ohash' data-ref="ohash" data-ref-filename="ohash">ohash</a>	 <dfn class="tu decl def" id="mlinks" title='mlinks' data-type='struct ohash' data-ref="mlinks" data-ref-filename="mlinks">mlinks</dfn>; <i  data-doc="mlinks">/* table of directory entries */</i></td></tr>
<tr><th id="186">186</th><td><em>static</em>	<b>struct</b> <a class="type" href="compat_ohash.h.html#ohash" title='ohash' data-ref="ohash" data-ref-filename="ohash">ohash</a>	 <dfn class="tu decl def" id="names" title='names' data-type='struct ohash' data-ref="names" data-ref-filename="names">names</dfn>; <i  data-doc="names">/* table of all names */</i></td></tr>
<tr><th id="187">187</th><td><em>static</em>	<b>struct</b> <a class="type" href="compat_ohash.h.html#ohash" title='ohash' data-ref="ohash" data-ref-filename="ohash">ohash</a>	 <dfn class="tu decl def" id="strings" title='strings' data-type='struct ohash' data-ref="strings" data-ref-filename="strings">strings</dfn>; <i  data-doc="strings">/* table of all strings */</i></td></tr>
<tr><th id="188">188</th><td><em>static</em>	<a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a>	 <dfn class="tu decl def" id="name_mask" title='name_mask' data-type='uint64_t' data-ref="name_mask" data-ref-filename="name_mask">name_mask</dfn>;</td></tr>
<tr><th id="189">189</th><td></td></tr>
<tr><th id="190">190</th><td><em>static</em>	<em>const</em> <b>struct</b> <a class="type" href="#mdoc_handler" title='mdoc_handler' data-ref="mdoc_handler" data-ref-filename="mdoc_handler">mdoc_handler</a> <dfn class="tu decl def" id="mdoc_handlers" title='mdoc_handlers' data-type='const struct mdoc_handler [120]' data-ref="mdoc_handlers" data-ref-filename="mdoc_handlers">mdoc_handlers</dfn>[<a class="enum" href="roff.h.html#MDOC_MAX" title='MDOC_MAX' data-ref="MDOC_MAX" data-ref-filename="MDOC_MAX">MDOC_MAX</a> - <a class="enum" href="roff.h.html#MDOC_Dd" title='MDOC_Dd' data-ref="MDOC_Dd" data-ref-filename="MDOC_Dd">MDOC_Dd</a>] = {</td></tr>
<tr><th id="191">191</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <a class="macro" href="roff.h.html#523" title="(1 &lt;&lt; 10)" data-ref="_M/NODE_NOPRT">NODE_NOPRT</a> },  <i>/* Dd */</i></td></tr>
<tr><th id="192">192</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <a class="macro" href="roff.h.html#523" title="(1 &lt;&lt; 10)" data-ref="_M/NODE_NOPRT">NODE_NOPRT</a> },  <i>/* Dt */</i></td></tr>
<tr><th id="193">193</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <a class="macro" href="roff.h.html#523" title="(1 &lt;&lt; 10)" data-ref="_M/NODE_NOPRT">NODE_NOPRT</a> },  <i>/* Os */</i></td></tr>
<tr><th id="194">194</th><td>	{ <a class="tu ref fn" href="#parse_mdoc_Sh" title='parse_mdoc_Sh' data-use='r' data-ref="parse_mdoc_Sh" data-ref-filename="parse_mdoc_Sh">parse_mdoc_Sh</a>, <a class="macro" href="mansearch.h.html#50" title="0x0000000000100000ULL" data-ref="_M/TYPE_Sh">TYPE_Sh</a>, <var>0</var> }, <i>/* Sh */</i></td></tr>
<tr><th id="195">195</th><td>	{ <a class="tu ref fn" href="#parse_mdoc_head" title='parse_mdoc_head' data-use='r' data-ref="parse_mdoc_head" data-ref-filename="parse_mdoc_head">parse_mdoc_head</a>, <a class="macro" href="mansearch.h.html#52" title="0x0000000000400000ULL" data-ref="_M/TYPE_Ss">TYPE_Ss</a>, <var>0</var> }, <i>/* Ss */</i></td></tr>
<tr><th id="196">196</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Pp */</i></td></tr>
<tr><th id="197">197</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* D1 */</i></td></tr>
<tr><th id="198">198</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Dl */</i></td></tr>
<tr><th id="199">199</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Bd */</i></td></tr>
<tr><th id="200">200</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Ed */</i></td></tr>
<tr><th id="201">201</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Bl */</i></td></tr>
<tr><th id="202">202</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* El */</i></td></tr>
<tr><th id="203">203</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* It */</i></td></tr>
<tr><th id="204">204</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Ad */</i></td></tr>
<tr><th id="205">205</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#54" title="0x0000000001000000ULL" data-ref="_M/TYPE_An">TYPE_An</a>, <var>0</var> },  <i>/* An */</i></td></tr>
<tr><th id="206">206</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Ap */</i></td></tr>
<tr><th id="207">207</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#33" title="0x0000000000000008ULL" data-ref="_M/TYPE_Ar">TYPE_Ar</a>, <var>0</var> },  <i>/* Ar */</i></td></tr>
<tr><th id="208">208</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#43" title="0x0000000000002000ULL" data-ref="_M/TYPE_Cd">TYPE_Cd</a>, <var>0</var> },  <i>/* Cd */</i></td></tr>
<tr><th id="209">209</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#40" title="0x0000000000000400ULL" data-ref="_M/TYPE_Cm">TYPE_Cm</a>, <var>0</var> },  <i>/* Cm */</i></td></tr>
<tr><th id="210">210</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#36" title="0x0000000000000040ULL" data-ref="_M/TYPE_Dv">TYPE_Dv</a>, <var>0</var> },  <i>/* Dv */</i></td></tr>
<tr><th id="211">211</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#47" title="0x0000000000020000ULL" data-ref="_M/TYPE_Er">TYPE_Er</a>, <var>0</var> },  <i>/* Er */</i></td></tr>
<tr><th id="212">212</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#48" title="0x0000000000040000ULL" data-ref="_M/TYPE_Ev">TYPE_Ev</a>, <var>0</var> },  <i>/* Ev */</i></td></tr>
<tr><th id="213">213</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Ex */</i></td></tr>
<tr><th id="214">214</th><td>	{ <a class="tu ref fn" href="#parse_mdoc_Fa" title='parse_mdoc_Fa' data-use='r' data-ref="parse_mdoc_Fa" data-ref-filename="parse_mdoc_Fa">parse_mdoc_Fa</a>, <var>0</var>, <var>0</var> },  <i>/* Fa */</i></td></tr>
<tr><th id="215">215</th><td>	{ <a class="tu ref fn" href="#parse_mdoc_Fd" title='parse_mdoc_Fd' data-use='r' data-ref="parse_mdoc_Fd" data-ref-filename="parse_mdoc_Fd">parse_mdoc_Fd</a>, <var>0</var>, <var>0</var> },  <i>/* Fd */</i></td></tr>
<tr><th id="216">216</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#35" title="0x0000000000000020ULL" data-ref="_M/TYPE_Fl">TYPE_Fl</a>, <var>0</var> },  <i>/* Fl */</i></td></tr>
<tr><th id="217">217</th><td>	{ <a class="tu ref fn" href="#parse_mdoc_Fn" title='parse_mdoc_Fn' data-use='r' data-ref="parse_mdoc_Fn" data-ref-filename="parse_mdoc_Fn">parse_mdoc_Fn</a>, <var>0</var>, <var>0</var> },  <i>/* Fn */</i></td></tr>
<tr><th id="218">218</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#45" title="0x0000000000008000ULL" data-ref="_M/TYPE_Ft">TYPE_Ft</a> | <a class="macro" href="mansearch.h.html#66" title="0x0000001000000000ULL" data-ref="_M/TYPE_Vt">TYPE_Vt</a>, <var>0</var> },  <i>/* Ft */</i></td></tr>
<tr><th id="219">219</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#38" title="0x0000000000000100ULL" data-ref="_M/TYPE_Ic">TYPE_Ic</a>, <var>0</var> },  <i>/* Ic */</i></td></tr>
<tr><th id="220">220</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#51" title="0x0000000000200000ULL" data-ref="_M/TYPE_In">TYPE_In</a>, <var>0</var> },  <i>/* In */</i></td></tr>
<tr><th id="221">221</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#41" title="0x0000000000000800ULL" data-ref="_M/TYPE_Li">TYPE_Li</a>, <var>0</var> },  <i>/* Li */</i></td></tr>
<tr><th id="222">222</th><td>	{ <a class="tu ref fn" href="#parse_mdoc_Nd" title='parse_mdoc_Nd' data-use='r' data-ref="parse_mdoc_Nd" data-ref-filename="parse_mdoc_Nd">parse_mdoc_Nd</a>, <var>0</var>, <var>0</var> },  <i>/* Nd */</i></td></tr>
<tr><th id="223">223</th><td>	{ <a class="tu ref fn" href="#parse_mdoc_Nm" title='parse_mdoc_Nm' data-use='r' data-ref="parse_mdoc_Nm" data-ref-filename="parse_mdoc_Nm">parse_mdoc_Nm</a>, <var>0</var>, <var>0</var> },  <i>/* Nm */</i></td></tr>
<tr><th id="224">224</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Op */</i></td></tr>
<tr><th id="225">225</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Ot */</i></td></tr>
<tr><th id="226">226</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#39" title="0x0000000000000200ULL" data-ref="_M/TYPE_Pa">TYPE_Pa</a>, <a class="macro" href="roff.h.html#522" title="(1 &lt;&lt; 9)" data-ref="_M/NODE_NOSRC">NODE_NOSRC</a> },  <i>/* Pa */</i></td></tr>
<tr><th id="227">227</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Rv */</i></td></tr>
<tr><th id="228">228</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#56" title="0x0000000004000000ULL" data-ref="_M/TYPE_St">TYPE_St</a>, <var>0</var> },  <i>/* St */</i></td></tr>
<tr><th id="229">229</th><td>	{ <a class="tu ref fn" href="#parse_mdoc_Va" title='parse_mdoc_Va' data-use='r' data-ref="parse_mdoc_Va" data-ref-filename="parse_mdoc_Va">parse_mdoc_Va</a>, <a class="macro" href="mansearch.h.html#44" title="0x0000000000004000ULL" data-ref="_M/TYPE_Va">TYPE_Va</a>, <var>0</var> },  <i>/* Va */</i></td></tr>
<tr><th id="230">230</th><td>	{ <a class="tu ref fn" href="#parse_mdoc_Va" title='parse_mdoc_Va' data-use='r' data-ref="parse_mdoc_Va" data-ref-filename="parse_mdoc_Va">parse_mdoc_Va</a>, <a class="macro" href="mansearch.h.html#66" title="0x0000001000000000ULL" data-ref="_M/TYPE_Vt">TYPE_Vt</a>, <var>0</var> },  <i>/* Vt */</i></td></tr>
<tr><th id="231">231</th><td>	{ <a class="tu ref fn" href="#parse_mdoc_Xr" title='parse_mdoc_Xr' data-use='r' data-ref="parse_mdoc_Xr" data-ref-filename="parse_mdoc_Xr">parse_mdoc_Xr</a>, <var>0</var>, <var>0</var> },  <i>/* Xr */</i></td></tr>
<tr><th id="232">232</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* %A */</i></td></tr>
<tr><th id="233">233</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* %B */</i></td></tr>
<tr><th id="234">234</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* %D */</i></td></tr>
<tr><th id="235">235</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* %I */</i></td></tr>
<tr><th id="236">236</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* %J */</i></td></tr>
<tr><th id="237">237</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* %N */</i></td></tr>
<tr><th id="238">238</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* %O */</i></td></tr>
<tr><th id="239">239</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* %P */</i></td></tr>
<tr><th id="240">240</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* %R */</i></td></tr>
<tr><th id="241">241</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* %T */</i></td></tr>
<tr><th id="242">242</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* %V */</i></td></tr>
<tr><th id="243">243</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Ac */</i></td></tr>
<tr><th id="244">244</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Ao */</i></td></tr>
<tr><th id="245">245</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Aq */</i></td></tr>
<tr><th id="246">246</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#58" title="0x0000000010000000ULL" data-ref="_M/TYPE_At">TYPE_At</a>, <var>0</var> },  <i>/* At */</i></td></tr>
<tr><th id="247">247</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Bc */</i></td></tr>
<tr><th id="248">248</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Bf */</i></td></tr>
<tr><th id="249">249</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Bo */</i></td></tr>
<tr><th id="250">250</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Bq */</i></td></tr>
<tr><th id="251">251</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#63" title="0x0000000200000000ULL" data-ref="_M/TYPE_Bsx">TYPE_Bsx</a>, <a class="macro" href="roff.h.html#522" title="(1 &lt;&lt; 9)" data-ref="_M/NODE_NOSRC">NODE_NOSRC</a> },  <i>/* Bsx */</i></td></tr>
<tr><th id="252">252</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#57" title="0x0000000008000000ULL" data-ref="_M/TYPE_Bx">TYPE_Bx</a>, <a class="macro" href="roff.h.html#522" title="(1 &lt;&lt; 9)" data-ref="_M/NODE_NOSRC">NODE_NOSRC</a> },  <i>/* Bx */</i></td></tr>
<tr><th id="253">253</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Db */</i></td></tr>
<tr><th id="254">254</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Dc */</i></td></tr>
<tr><th id="255">255</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Do */</i></td></tr>
<tr><th id="256">256</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Dq */</i></td></tr>
<tr><th id="257">257</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Ec */</i></td></tr>
<tr><th id="258">258</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Ef */</i></td></tr>
<tr><th id="259">259</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#42" title="0x0000000000001000ULL" data-ref="_M/TYPE_Em">TYPE_Em</a>, <var>0</var> },  <i>/* Em */</i></td></tr>
<tr><th id="260">260</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Eo */</i></td></tr>
<tr><th id="261">261</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#60" title="0x0000000040000000ULL" data-ref="_M/TYPE_Fx">TYPE_Fx</a>, <a class="macro" href="roff.h.html#522" title="(1 &lt;&lt; 9)" data-ref="_M/NODE_NOSRC">NODE_NOSRC</a> },  <i>/* Fx */</i></td></tr>
<tr><th id="262">262</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#62" title="0x0000000100000000ULL" data-ref="_M/TYPE_Ms">TYPE_Ms</a>, <var>0</var> },  <i>/* Ms */</i></td></tr>
<tr><th id="263">263</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* No */</i></td></tr>
<tr><th id="264">264</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Ns */</i></td></tr>
<tr><th id="265">265</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#59" title="0x0000000020000000ULL" data-ref="_M/TYPE_Nx">TYPE_Nx</a>, <a class="macro" href="roff.h.html#522" title="(1 &lt;&lt; 9)" data-ref="_M/NODE_NOSRC">NODE_NOSRC</a> },  <i>/* Nx */</i></td></tr>
<tr><th id="266">266</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#53" title="0x0000000000800000ULL" data-ref="_M/TYPE_Ox">TYPE_Ox</a>, <a class="macro" href="roff.h.html#522" title="(1 &lt;&lt; 9)" data-ref="_M/NODE_NOSRC">NODE_NOSRC</a> },  <i>/* Ox */</i></td></tr>
<tr><th id="267">267</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Pc */</i></td></tr>
<tr><th id="268">268</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Pf */</i></td></tr>
<tr><th id="269">269</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Po */</i></td></tr>
<tr><th id="270">270</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Pq */</i></td></tr>
<tr><th id="271">271</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Qc */</i></td></tr>
<tr><th id="272">272</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Ql */</i></td></tr>
<tr><th id="273">273</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Qo */</i></td></tr>
<tr><th id="274">274</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Qq */</i></td></tr>
<tr><th id="275">275</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Re */</i></td></tr>
<tr><th id="276">276</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Rs */</i></td></tr>
<tr><th id="277">277</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Sc */</i></td></tr>
<tr><th id="278">278</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* So */</i></td></tr>
<tr><th id="279">279</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Sq */</i></td></tr>
<tr><th id="280">280</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Sm */</i></td></tr>
<tr><th id="281">281</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Sx */</i></td></tr>
<tr><th id="282">282</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#49" title="0x0000000000080000ULL" data-ref="_M/TYPE_Sy">TYPE_Sy</a>, <var>0</var> },  <i>/* Sy */</i></td></tr>
<tr><th id="283">283</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#46" title="0x0000000000010000ULL" data-ref="_M/TYPE_Tn">TYPE_Tn</a>, <var>0</var> },  <i>/* Tn */</i></td></tr>
<tr><th id="284">284</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <a class="macro" href="roff.h.html#522" title="(1 &lt;&lt; 9)" data-ref="_M/NODE_NOSRC">NODE_NOSRC</a> },  <i>/* Ux */</i></td></tr>
<tr><th id="285">285</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Xc */</i></td></tr>
<tr><th id="286">286</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Xo */</i></td></tr>
<tr><th id="287">287</th><td>	{ <a class="tu ref fn" href="#parse_mdoc_Fo" title='parse_mdoc_Fo' data-use='r' data-ref="parse_mdoc_Fo" data-ref-filename="parse_mdoc_Fo">parse_mdoc_Fo</a>, <var>0</var>, <var>0</var> },  <i>/* Fo */</i></td></tr>
<tr><th id="288">288</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Fc */</i></td></tr>
<tr><th id="289">289</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Oo */</i></td></tr>
<tr><th id="290">290</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Oc */</i></td></tr>
<tr><th id="291">291</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Bk */</i></td></tr>
<tr><th id="292">292</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Ek */</i></td></tr>
<tr><th id="293">293</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Bt */</i></td></tr>
<tr><th id="294">294</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Hf */</i></td></tr>
<tr><th id="295">295</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Fr */</i></td></tr>
<tr><th id="296">296</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Ud */</i></td></tr>
<tr><th id="297">297</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#67" title="0x0000002000000000ULL" data-ref="_M/TYPE_Lb">TYPE_Lb</a>, <a class="macro" href="roff.h.html#522" title="(1 &lt;&lt; 9)" data-ref="_M/NODE_NOSRC">NODE_NOSRC</a> },  <i>/* Lb */</i></td></tr>
<tr><th id="298">298</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Lp */</i></td></tr>
<tr><th id="299">299</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#61" title="0x0000000080000000ULL" data-ref="_M/TYPE_Lk">TYPE_Lk</a>, <var>0</var> },  <i>/* Lk */</i></td></tr>
<tr><th id="300">300</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#55" title="0x0000000002000000ULL" data-ref="_M/TYPE_Mt">TYPE_Mt</a>, <a class="macro" href="roff.h.html#522" title="(1 &lt;&lt; 9)" data-ref="_M/NODE_NOSRC">NODE_NOSRC</a> },  <i>/* Mt */</i></td></tr>
<tr><th id="301">301</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Brq */</i></td></tr>
<tr><th id="302">302</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Bro */</i></td></tr>
<tr><th id="303">303</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Brc */</i></td></tr>
<tr><th id="304">304</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* %C */</i></td></tr>
<tr><th id="305">305</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Es */</i></td></tr>
<tr><th id="306">306</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* En */</i></td></tr>
<tr><th id="307">307</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="macro" href="mansearch.h.html#64" title="0x0000000400000000ULL" data-ref="_M/TYPE_Dx">TYPE_Dx</a>, <a class="macro" href="roff.h.html#522" title="(1 &lt;&lt; 9)" data-ref="_M/NODE_NOSRC">NODE_NOSRC</a> },  <i>/* Dx */</i></td></tr>
<tr><th id="308">308</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* %Q */</i></td></tr>
<tr><th id="309">309</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* %U */</i></td></tr>
<tr><th id="310">310</th><td>	{ <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>0</var>, <var>0</var> },  <i>/* Ta */</i></td></tr>
<tr><th id="311">311</th><td>};</td></tr>
<tr><th id="312">312</th><td></td></tr>
<tr><th id="313">313</th><td></td></tr>
<tr><th id="314">314</th><td><em>int</em></td></tr>
<tr><th id="315">315</th><td><dfn class="decl def fn" id="mandocdb" title='mandocdb' data-ref="mandocdb" data-ref-filename="mandocdb">mandocdb</dfn>(<em>int</em> <dfn class="local col2 decl" id="2argc" title='argc' data-type='int' data-ref="2argc" data-ref-filename="2argc">argc</dfn>, <em>char</em> *<dfn class="local col3 decl" id="3argv" title='argv' data-type='char **' data-ref="3argv" data-ref-filename="3argv">argv</dfn>[])</td></tr>
<tr><th id="316">316</th><td>{</td></tr>
<tr><th id="317">317</th><td>	<b>struct</b> <a class="type" href="manconf.h.html#manconf" title='manconf' data-ref="manconf" data-ref-filename="manconf">manconf</a>	  <dfn class="local col4 decl" id="4conf" title='conf' data-type='struct manconf' data-ref="4conf" data-ref-filename="4conf">conf</dfn>;</td></tr>
<tr><th id="318">318</th><td>	<b>struct</b> <a class="type" href="mandoc_parse.h.html#mparse" title='mparse' data-ref="mparse" data-ref-filename="mparse">mparse</a>	 *<dfn class="local col5 decl" id="5mp" title='mp' data-type='struct mparse *' data-ref="5mp" data-ref-filename="5mp">mp</dfn>;</td></tr>
<tr><th id="319">319</th><td>	<b>struct</b> <a class="type" href="dba.h.html#dba" title='dba' data-ref="dba" data-ref-filename="dba">dba</a>	 *<dfn class="local col6 decl" id="6dba" title='dba' data-type='struct dba *' data-ref="6dba" data-ref-filename="6dba">dba</dfn>;</td></tr>
<tr><th id="320">320</th><td>	<em>const</em> <em>char</em>	 *<dfn class="local col7 decl" id="7path_arg" title='path_arg' data-type='const char *' data-ref="7path_arg" data-ref-filename="7path_arg">path_arg</dfn>, *<dfn class="local col8 decl" id="8progname" title='progname' data-type='const char *' data-ref="8progname" data-ref-filename="8progname">progname</dfn>;</td></tr>
<tr><th id="321">321</th><td>	<a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</a>		  <dfn class="local col9 decl" id="9j" title='j' data-type='size_t' data-ref="9j" data-ref-filename="9j">j</dfn>, <dfn class="local col0 decl" id="10sz" title='sz' data-type='size_t' data-ref="10sz" data-ref-filename="10sz">sz</dfn>;</td></tr>
<tr><th id="322">322</th><td>	<em>int</em>		  <dfn class="local col1 decl" id="11ch" title='ch' data-type='int' data-ref="11ch" data-ref-filename="11ch">ch</dfn>, <dfn class="local col2 decl" id="12i" title='i' data-type='int' data-ref="12i" data-ref-filename="12i">i</dfn>;</td></tr>
<tr><th id="323">323</th><td></td></tr>
<tr><th id="324">324</th><td><u>#<span data-ppcond="324">if</span> <a class="macro" href="../include/config.h.html#29" title="0" data-ref="_M/HAVE_PLEDGE">HAVE_PLEDGE</a></u></td></tr>
<tr><th id="325">325</th><td>	<b>if</b> (pledge(<q>"stdio rpath wpath cpath"</q>, NULL) == -<var>1</var>) {</td></tr>
<tr><th id="326">326</th><td>		warn(<q>"pledge"</q>);</td></tr>
<tr><th id="327">327</th><td>		<b>return</b> (<em>int</em>)MANDOCLEVEL_SYSERR;</td></tr>
<tr><th id="328">328</th><td>	}</td></tr>
<tr><th id="329">329</th><td><u>#<span data-ppcond="324">endif</span></u></td></tr>
<tr><th id="330">330</th><td></td></tr>
<tr><th id="331">331</th><td><u>#<span data-ppcond="331">if</span> <a class="macro" href="../include/config.h.html#35" title="0" data-ref="_M/HAVE_SANDBOX_INIT">HAVE_SANDBOX_INIT</a></u></td></tr>
<tr><th id="332">332</th><td>	<b>if</b> (sandbox_init(kSBXProfileNoInternet, SANDBOX_NAMED, NULL) == -<var>1</var>) {</td></tr>
<tr><th id="333">333</th><td>		warnx(<q>"sandbox_init"</q>);</td></tr>
<tr><th id="334">334</th><td>		<b>return</b> (<em>int</em>)MANDOCLEVEL_SYSERR;</td></tr>
<tr><th id="335">335</th><td>	}</td></tr>
<tr><th id="336">336</th><td><u>#<span data-ppcond="331">endif</span></u></td></tr>
<tr><th id="337">337</th><td></td></tr>
<tr><th id="338">338</th><td>	<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#memset" title='memset' data-ref="memset" data-ref-filename="memset">memset</a>(&amp;<a class="local col4 ref" href="#4conf" title='conf' data-ref="4conf" data-ref-filename="4conf">conf</a>, <var>0</var>, <b>sizeof</b>(<a class="local col4 ref" href="#4conf" title='conf' data-ref="4conf" data-ref-filename="4conf">conf</a>));</td></tr>
<tr><th id="339">339</th><td></td></tr>
<tr><th id="340">340</th><td>	<i>/*</i></td></tr>
<tr><th id="341">341</th><td><i>	 * We accept a few different invocations.</i></td></tr>
<tr><th id="342">342</th><td><i>	 * The CHECKOP macro makes sure that invocation styles don't</i></td></tr>
<tr><th id="343">343</th><td><i>	 * clobber each other.</i></td></tr>
<tr><th id="344">344</th><td><i>	 */</i></td></tr>
<tr><th id="345">345</th><td><u>#define	<dfn class="macro" id="_M/CHECKOP" data-ref="_M/CHECKOP">CHECKOP</dfn>(_op, _ch) do \</u></td></tr>
<tr><th id="346">346</th><td><u>	if (<a class="enum" href="#OP_DEFAULT" title='OP_DEFAULT' data-ref="OP_DEFAULT" data-ref-filename="OP_DEFAULT">OP_DEFAULT</a> != (_op)) { \</u></td></tr>
<tr><th id="347">347</th><td><u>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/err.h.html#warnx" title='warnx' data-ref="warnx" data-ref-filename="warnx">warnx</a>("-%c: Conflicting option", (_ch)); \</u></td></tr>
<tr><th id="348">348</th><td><u>		goto <a class="lbl" href="#13usage" data-ref="13usage" data-ref-filename="13usage">usage</a>; \</u></td></tr>
<tr><th id="349">349</th><td><u>	} while (/*CONSTCOND*/0)</u></td></tr>
<tr><th id="350">350</th><td></td></tr>
<tr><th id="351">351</th><td>	<a class="tu ref" href="#mparse_options" title='mparse_options' data-use='w' data-ref="mparse_options" data-ref-filename="mparse_options">mparse_options</a> = <a class="macro" href="mandoc_parse.h.html#31" title="(1 &lt;&lt; 6)" data-ref="_M/MPARSE_VALIDATE">MPARSE_VALIDATE</a>;</td></tr>
<tr><th id="352">352</th><td>	<a class="local col7 ref" href="#7path_arg" title='path_arg' data-ref="7path_arg" data-ref-filename="7path_arg">path_arg</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="353">353</th><td>	<a class="tu ref" href="#op" title='op' data-use='w' data-ref="op" data-ref-filename="op">op</a> = <a class="enum" href="#OP_DEFAULT" title='OP_DEFAULT' data-ref="OP_DEFAULT" data-ref-filename="OP_DEFAULT">OP_DEFAULT</a>;</td></tr>
<tr><th id="354">354</th><td></td></tr>
<tr><th id="355">355</th><td>	<b>while</b> (-<var>1</var> != (<a class="local col1 ref" href="#11ch" title='ch' data-ref="11ch" data-ref-filename="11ch">ch</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#getopt" title='getopt' data-ref="getopt" data-ref-filename="getopt">getopt</a>(<a class="local col2 ref" href="#2argc" title='argc' data-ref="2argc" data-ref-filename="2argc">argc</a>, <a class="local col3 ref" href="#3argv" title='argv' data-ref="3argv" data-ref-filename="3argv">argv</a>, <q>"aC:Dd:npQT:tu:v"</q>)))</td></tr>
<tr><th id="356">356</th><td>		<b>switch</b> (<a class="local col1 ref" href="#11ch" title='ch' data-ref="11ch" data-ref-filename="11ch">ch</a>) {</td></tr>
<tr><th id="357">357</th><td>		<b>case</b> <kbd>'a'</kbd>:</td></tr>
<tr><th id="358">358</th><td>			<a class="tu ref" href="#use_all" title='use_all' data-use='w' data-ref="use_all" data-ref-filename="use_all">use_all</a> = <var>1</var>;</td></tr>
<tr><th id="359">359</th><td>			<b>break</b>;</td></tr>
<tr><th id="360">360</th><td>		<b>case</b> <kbd>'C'</kbd>:</td></tr>
<tr><th id="361">361</th><td>			<a class="macro" href="#345" title="do if (OP_DEFAULT != (op)) { warnx(&quot;-%c: Conflicting option&quot;, (ch)); goto usage; } while ( 0)" data-ref="_M/CHECKOP">CHECKOP</a>(<a class="tu ref" href="#op" title='op' data-use='r' data-ref="op" data-ref-filename="op">op</a>, <a class="local col1 ref" href="#11ch" title='ch' data-ref="11ch" data-ref-filename="11ch">ch</a>);</td></tr>
<tr><th id="362">362</th><td>			<a class="local col7 ref" href="#7path_arg" title='path_arg' data-ref="7path_arg" data-ref-filename="7path_arg">path_arg</a> = <a class="ref" href="../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#optarg" title='optarg' data-ref="optarg" data-ref-filename="optarg">optarg</a>;</td></tr>
<tr><th id="363">363</th><td>			<a class="tu ref" href="#op" title='op' data-use='w' data-ref="op" data-ref-filename="op">op</a> = <a class="enum" href="#OP_CONFFILE" title='OP_CONFFILE' data-ref="OP_CONFFILE" data-ref-filename="OP_CONFFILE">OP_CONFFILE</a>;</td></tr>
<tr><th id="364">364</th><td>			<b>break</b>;</td></tr>
<tr><th id="365">365</th><td>		<b>case</b> <kbd>'D'</kbd>:</td></tr>
<tr><th id="366">366</th><td>			<a class="tu ref" href="#debug" title='debug' data-use='w' data-ref="debug" data-ref-filename="debug">debug</a>++;</td></tr>
<tr><th id="367">367</th><td>			<b>break</b>;</td></tr>
<tr><th id="368">368</th><td>		<b>case</b> <kbd>'d'</kbd>:</td></tr>
<tr><th id="369">369</th><td>			<a class="macro" href="#345" title="do if (OP_DEFAULT != (op)) { warnx(&quot;-%c: Conflicting option&quot;, (ch)); goto usage; } while ( 0)" data-ref="_M/CHECKOP">CHECKOP</a>(<a class="tu ref" href="#op" title='op' data-use='r' data-ref="op" data-ref-filename="op">op</a>, <a class="local col1 ref" href="#11ch" title='ch' data-ref="11ch" data-ref-filename="11ch">ch</a>);</td></tr>
<tr><th id="370">370</th><td>			<a class="local col7 ref" href="#7path_arg" title='path_arg' data-ref="7path_arg" data-ref-filename="7path_arg">path_arg</a> = <a class="ref" href="../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#optarg" title='optarg' data-ref="optarg" data-ref-filename="optarg">optarg</a>;</td></tr>
<tr><th id="371">371</th><td>			<a class="tu ref" href="#op" title='op' data-use='w' data-ref="op" data-ref-filename="op">op</a> = <a class="enum" href="#OP_UPDATE" title='OP_UPDATE' data-ref="OP_UPDATE" data-ref-filename="OP_UPDATE">OP_UPDATE</a>;</td></tr>
<tr><th id="372">372</th><td>			<b>break</b>;</td></tr>
<tr><th id="373">373</th><td>		<b>case</b> <kbd>'n'</kbd>:</td></tr>
<tr><th id="374">374</th><td>			<a class="tu ref" href="#nodb" title='nodb' data-use='w' data-ref="nodb" data-ref-filename="nodb">nodb</a> = <var>1</var>;</td></tr>
<tr><th id="375">375</th><td>			<b>break</b>;</td></tr>
<tr><th id="376">376</th><td>		<b>case</b> <kbd>'p'</kbd>:</td></tr>
<tr><th id="377">377</th><td>			<a class="tu ref" href="#warnings" title='warnings' data-use='w' data-ref="warnings" data-ref-filename="warnings">warnings</a> = <var>1</var>;</td></tr>
<tr><th id="378">378</th><td>			<b>break</b>;</td></tr>
<tr><th id="379">379</th><td>		<b>case</b> <kbd>'Q'</kbd>:</td></tr>
<tr><th id="380">380</th><td>			<a class="tu ref" href="#mparse_options" title='mparse_options' data-use='w' data-ref="mparse_options" data-ref-filename="mparse_options">mparse_options</a> |= <a class="macro" href="mandoc_parse.h.html#28" title="(1 &lt;&lt; 3)" data-ref="_M/MPARSE_QUICK">MPARSE_QUICK</a>;</td></tr>
<tr><th id="381">381</th><td>			<b>break</b>;</td></tr>
<tr><th id="382">382</th><td>		<b>case</b> <kbd>'T'</kbd>:</td></tr>
<tr><th id="383">383</th><td>			<b>if</b> (<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a>(<a class="ref" href="../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#optarg" title='optarg' data-ref="optarg" data-ref-filename="optarg">optarg</a>, <q>"utf8"</q>)) {</td></tr>
<tr><th id="384">384</th><td>				<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/err.h.html#warnx" title='warnx' data-ref="warnx" data-ref-filename="warnx">warnx</a>(<q>"-T%s: Unsupported output format"</q>,</td></tr>
<tr><th id="385">385</th><td>				    <a class="ref" href="../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#optarg" title='optarg' data-ref="optarg" data-ref-filename="optarg">optarg</a>);</td></tr>
<tr><th id="386">386</th><td>				<b>goto</b> <a class="lbl" href="#13usage" data-ref="13usage" data-ref-filename="13usage">usage</a>;</td></tr>
<tr><th id="387">387</th><td>			}</td></tr>
<tr><th id="388">388</th><td>			<a class="tu ref" href="#write_utf8" title='write_utf8' data-use='w' data-ref="write_utf8" data-ref-filename="write_utf8">write_utf8</a> = <var>1</var>;</td></tr>
<tr><th id="389">389</th><td>			<b>break</b>;</td></tr>
<tr><th id="390">390</th><td>		<b>case</b> <kbd>'t'</kbd>:</td></tr>
<tr><th id="391">391</th><td>			<a class="macro" href="#345" title="do if (OP_DEFAULT != (op)) { warnx(&quot;-%c: Conflicting option&quot;, (ch)); goto usage; } while ( 0)" data-ref="_M/CHECKOP">CHECKOP</a>(<a class="tu ref" href="#op" title='op' data-use='r' data-ref="op" data-ref-filename="op">op</a>, <a class="local col1 ref" href="#11ch" title='ch' data-ref="11ch" data-ref-filename="11ch">ch</a>);</td></tr>
<tr><th id="392">392</th><td>			<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#dup2" title='dup2' data-ref="dup2" data-ref-filename="dup2">dup2</a>(<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#81" title="1" data-ref="_M/STDOUT_FILENO">STDOUT_FILENO</a>, <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#82" title="2" data-ref="_M/STDERR_FILENO">STDERR_FILENO</a>);</td></tr>
<tr><th id="393">393</th><td>			<a class="tu ref" href="#op" title='op' data-use='w' data-ref="op" data-ref-filename="op">op</a> = <a class="enum" href="#OP_TEST" title='OP_TEST' data-ref="OP_TEST" data-ref-filename="OP_TEST">OP_TEST</a>;</td></tr>
<tr><th id="394">394</th><td>			<a class="tu ref" href="#nodb" title='nodb' data-use='w' data-ref="nodb" data-ref-filename="nodb">nodb</a> = <a class="tu ref" href="#warnings" title='warnings' data-use='w' data-ref="warnings" data-ref-filename="warnings">warnings</a> = <var>1</var>;</td></tr>
<tr><th id="395">395</th><td>			<b>break</b>;</td></tr>
<tr><th id="396">396</th><td>		<b>case</b> <kbd>'u'</kbd>:</td></tr>
<tr><th id="397">397</th><td>			<a class="macro" href="#345" title="do if (OP_DEFAULT != (op)) { warnx(&quot;-%c: Conflicting option&quot;, (ch)); goto usage; } while ( 0)" data-ref="_M/CHECKOP">CHECKOP</a>(<a class="tu ref" href="#op" title='op' data-use='r' data-ref="op" data-ref-filename="op">op</a>, <a class="local col1 ref" href="#11ch" title='ch' data-ref="11ch" data-ref-filename="11ch">ch</a>);</td></tr>
<tr><th id="398">398</th><td>			<a class="local col7 ref" href="#7path_arg" title='path_arg' data-ref="7path_arg" data-ref-filename="7path_arg">path_arg</a> = <a class="ref" href="../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#optarg" title='optarg' data-ref="optarg" data-ref-filename="optarg">optarg</a>;</td></tr>
<tr><th id="399">399</th><td>			<a class="tu ref" href="#op" title='op' data-use='w' data-ref="op" data-ref-filename="op">op</a> = <a class="enum" href="#OP_DELETE" title='OP_DELETE' data-ref="OP_DELETE" data-ref-filename="OP_DELETE">OP_DELETE</a>;</td></tr>
<tr><th id="400">400</th><td>			<b>break</b>;</td></tr>
<tr><th id="401">401</th><td>		<b>case</b> <kbd>'v'</kbd>:</td></tr>
<tr><th id="402">402</th><td>			<i>/* Compatibility with espie@'s makewhatis. */</i></td></tr>
<tr><th id="403">403</th><td>			<b>break</b>;</td></tr>
<tr><th id="404">404</th><td>		<b>default</b>:</td></tr>
<tr><th id="405">405</th><td>			<b>goto</b> <a class="lbl" href="#13usage" data-ref="13usage" data-ref-filename="13usage">usage</a>;</td></tr>
<tr><th id="406">406</th><td>		}</td></tr>
<tr><th id="407">407</th><td></td></tr>
<tr><th id="408">408</th><td>	<a class="local col2 ref" href="#2argc" title='argc' data-ref="2argc" data-ref-filename="2argc">argc</a> -= <a class="ref" href="../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#optind" title='optind' data-ref="optind" data-ref-filename="optind">optind</a>;</td></tr>
<tr><th id="409">409</th><td>	<a class="local col3 ref" href="#3argv" title='argv' data-ref="3argv" data-ref-filename="3argv">argv</a> += <a class="ref" href="../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#optind" title='optind' data-ref="optind" data-ref-filename="optind">optind</a>;</td></tr>
<tr><th id="410">410</th><td></td></tr>
<tr><th id="411">411</th><td><u>#<span data-ppcond="411">if</span> <a class="macro" href="../include/config.h.html#29" title="0" data-ref="_M/HAVE_PLEDGE">HAVE_PLEDGE</a></u></td></tr>
<tr><th id="412">412</th><td>	<b>if</b> (nodb) {</td></tr>
<tr><th id="413">413</th><td>		<b>if</b> (pledge(<q>"stdio rpath"</q>, NULL) == -<var>1</var>) {</td></tr>
<tr><th id="414">414</th><td>			warn(<q>"pledge"</q>);</td></tr>
<tr><th id="415">415</th><td>			<b>return</b> (<em>int</em>)MANDOCLEVEL_SYSERR;</td></tr>
<tr><th id="416">416</th><td>		}</td></tr>
<tr><th id="417">417</th><td>	}</td></tr>
<tr><th id="418">418</th><td><u>#<span data-ppcond="411">endif</span></u></td></tr>
<tr><th id="419">419</th><td></td></tr>
<tr><th id="420">420</th><td>	<b>if</b> (<a class="enum" href="#OP_CONFFILE" title='OP_CONFFILE' data-ref="OP_CONFFILE" data-ref-filename="OP_CONFFILE">OP_CONFFILE</a> == <a class="tu ref" href="#op" title='op' data-use='r' data-ref="op" data-ref-filename="op">op</a> &amp;&amp; <a class="local col2 ref" href="#2argc" title='argc' data-ref="2argc" data-ref-filename="2argc">argc</a> &gt; <var>0</var>) {</td></tr>
<tr><th id="421">421</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/err.h.html#warnx" title='warnx' data-ref="warnx" data-ref-filename="warnx">warnx</a>(<q>"-C: Too many arguments"</q>);</td></tr>
<tr><th id="422">422</th><td>		<b>goto</b> <a class="lbl" href="#13usage" data-ref="13usage" data-ref-filename="13usage">usage</a>;</td></tr>
<tr><th id="423">423</th><td>	}</td></tr>
<tr><th id="424">424</th><td></td></tr>
<tr><th id="425">425</th><td>	<a class="tu ref" href="#exitcode" title='exitcode' data-use='w' data-ref="exitcode" data-ref-filename="exitcode">exitcode</a> = (<em>int</em>)<a class="enum" href="mandoc.h.html#MANDOCLEVEL_OK" title='MANDOCLEVEL_OK' data-ref="MANDOCLEVEL_OK" data-ref-filename="MANDOCLEVEL_OK">MANDOCLEVEL_OK</a>;</td></tr>
<tr><th id="426">426</th><td>	<a class="ref fn" href="mandoc.h.html#mchars_alloc" title='mchars_alloc' data-ref="mchars_alloc" data-ref-filename="mchars_alloc">mchars_alloc</a>();</td></tr>
<tr><th id="427">427</th><td>	<a class="local col5 ref" href="#5mp" title='mp' data-ref="5mp" data-ref-filename="5mp">mp</a> = <a class="ref fn" href="mandoc_parse.h.html#mparse_alloc" title='mparse_alloc' data-ref="mparse_alloc" data-ref-filename="mparse_alloc">mparse_alloc</a>(<a class="tu ref" href="#mparse_options" title='mparse_options' data-use='r' data-ref="mparse_options" data-ref-filename="mparse_options">mparse_options</a>, <a class="enum" href="roff.h.html#MANDOC_OS_OTHER" title='MANDOC_OS_OTHER' data-ref="MANDOC_OS_OTHER" data-ref-filename="MANDOC_OS_OTHER">MANDOC_OS_OTHER</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="428">428</th><td>	<a class="ref fn" href="mandoc_ohash.h.html#mandoc_ohash_init" title='mandoc_ohash_init' data-ref="mandoc_ohash_init" data-ref-filename="mandoc_ohash_init">mandoc_ohash_init</a>(&amp;<a class="tu ref" href="#mpages" title='mpages' data-use='a' data-ref="mpages" data-ref-filename="mpages">mpages</a>, <var>6</var>, <span class="macro" title="__builtin_offsetof(struct mpage, inodev)" data-ref="_M/offsetof">offsetof</span>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a>, inodev));</td></tr>
<tr><th id="429">429</th><td>	<a class="ref fn" href="mandoc_ohash.h.html#mandoc_ohash_init" title='mandoc_ohash_init' data-ref="mandoc_ohash_init" data-ref-filename="mandoc_ohash_init">mandoc_ohash_init</a>(&amp;<a class="tu ref" href="#mlinks" title='mlinks' data-use='a' data-ref="mlinks" data-ref-filename="mlinks">mlinks</a>, <var>6</var>, <span class="macro" title="__builtin_offsetof(struct mlink, file)" data-ref="_M/offsetof">offsetof</span>(<b>struct</b> <a class="type" href="#mlink" title='mlink' data-ref="mlink" data-ref-filename="mlink">mlink</a>, file));</td></tr>
<tr><th id="430">430</th><td></td></tr>
<tr><th id="431">431</th><td>	<b>if</b> (<a class="enum" href="#OP_UPDATE" title='OP_UPDATE' data-ref="OP_UPDATE" data-ref-filename="OP_UPDATE">OP_UPDATE</a> == <a class="tu ref" href="#op" title='op' data-use='r' data-ref="op" data-ref-filename="op">op</a> || <a class="enum" href="#OP_DELETE" title='OP_DELETE' data-ref="OP_DELETE" data-ref-filename="OP_DELETE">OP_DELETE</a> == <a class="tu ref" href="#op" title='op' data-use='r' data-ref="op" data-ref-filename="op">op</a> || <a class="enum" href="#OP_TEST" title='OP_TEST' data-ref="OP_TEST" data-ref-filename="OP_TEST">OP_TEST</a> == <a class="tu ref" href="#op" title='op' data-use='r' data-ref="op" data-ref-filename="op">op</a>) {</td></tr>
<tr><th id="432">432</th><td></td></tr>
<tr><th id="433">433</th><td>		<i>/*</i></td></tr>
<tr><th id="434">434</th><td><i>		 * Most of these deal with a specific directory.</i></td></tr>
<tr><th id="435">435</th><td><i>		 * Jump into that directory first.</i></td></tr>
<tr><th id="436">436</th><td><i>		 */</i></td></tr>
<tr><th id="437">437</th><td>		<b>if</b> (<a class="enum" href="#OP_TEST" title='OP_TEST' data-ref="OP_TEST" data-ref-filename="OP_TEST">OP_TEST</a> != <a class="tu ref" href="#op" title='op' data-use='r' data-ref="op" data-ref-filename="op">op</a> &amp;&amp; <var>0</var> == <a class="tu ref fn" href="#set_basedir" title='set_basedir' data-use='c' data-ref="set_basedir" data-ref-filename="set_basedir">set_basedir</a>(<a class="local col7 ref" href="#7path_arg" title='path_arg' data-ref="7path_arg" data-ref-filename="7path_arg">path_arg</a>, <var>1</var>))</td></tr>
<tr><th id="438">438</th><td>			<b>goto</b> <a class="lbl" href="#14out" data-ref="14out" data-ref-filename="14out">out</a>;</td></tr>
<tr><th id="439">439</th><td></td></tr>
<tr><th id="440">440</th><td>		<a class="local col6 ref" href="#6dba" title='dba' data-ref="6dba" data-ref-filename="6dba">dba</a> = <a class="tu ref" href="#nodb" title='nodb' data-use='r' data-ref="nodb" data-ref-filename="nodb">nodb</a> ? <a class="ref fn" href="dba.h.html#dba_new" title='dba_new' data-ref="dba_new" data-ref-filename="dba_new">dba_new</a>(<var>128</var>) : <a class="ref fn" href="dba.h.html#dba_read" title='dba_read' data-ref="dba_read" data-ref-filename="dba_read">dba_read</a>(<a class="macro" href="mansearch.h.html#19" title="&quot;mandoc.db&quot;" data-ref="_M/MANDOC_DB">MANDOC_DB</a>);</td></tr>
<tr><th id="441">441</th><td>		<b>if</b> (<a class="local col6 ref" href="#6dba" title='dba' data-ref="6dba" data-ref-filename="6dba">dba</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="442">442</th><td>			<i>/*</i></td></tr>
<tr><th id="443">443</th><td><i>			 * The existing database is usable.  Process</i></td></tr>
<tr><th id="444">444</th><td><i>			 * all files specified on the command-line.</i></td></tr>
<tr><th id="445">445</th><td><i>			 */</i></td></tr>
<tr><th id="446">446</th><td>			<a class="tu ref" href="#use_all" title='use_all' data-use='w' data-ref="use_all" data-ref-filename="use_all">use_all</a> = <var>1</var>;</td></tr>
<tr><th id="447">447</th><td>			<b>for</b> (<a class="local col2 ref" href="#12i" title='i' data-ref="12i" data-ref-filename="12i">i</a> = <var>0</var>; <a class="local col2 ref" href="#12i" title='i' data-ref="12i" data-ref-filename="12i">i</a> &lt; <a class="local col2 ref" href="#2argc" title='argc' data-ref="2argc" data-ref-filename="2argc">argc</a>; <a class="local col2 ref" href="#12i" title='i' data-ref="12i" data-ref-filename="12i">i</a>++)</td></tr>
<tr><th id="448">448</th><td>				<a class="tu ref fn" href="#filescan" title='filescan' data-use='c' data-ref="filescan" data-ref-filename="filescan">filescan</a>(<a class="local col3 ref" href="#3argv" title='argv' data-ref="3argv" data-ref-filename="3argv">argv</a>[<a class="local col2 ref" href="#12i" title='i' data-ref="12i" data-ref-filename="12i">i</a>]);</td></tr>
<tr><th id="449">449</th><td>			<b>if</b> (<a class="tu ref" href="#nodb" title='nodb' data-use='r' data-ref="nodb" data-ref-filename="nodb">nodb</a> == <var>0</var>)</td></tr>
<tr><th id="450">450</th><td>				<a class="tu ref fn" href="#dbprune" title='dbprune' data-use='c' data-ref="dbprune" data-ref-filename="dbprune">dbprune</a>(<a class="local col6 ref" href="#6dba" title='dba' data-ref="6dba" data-ref-filename="6dba">dba</a>);</td></tr>
<tr><th id="451">451</th><td>		} <b>else</b> {</td></tr>
<tr><th id="452">452</th><td>			<i>/* Database missing or corrupt. */</i></td></tr>
<tr><th id="453">453</th><td>			<b>if</b> (<a class="tu ref" href="#op" title='op' data-use='r' data-ref="op" data-ref-filename="op">op</a> != <a class="enum" href="#OP_UPDATE" title='OP_UPDATE' data-ref="OP_UPDATE" data-ref-filename="OP_UPDATE">OP_UPDATE</a> || <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/errno.h.html#55" title="(*__errno())" data-ref="_M/errno">errno</a> != <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/errno.h.html#43" title="2" data-ref="_M/ENOENT">ENOENT</a>)</td></tr>
<tr><th id="454">454</th><td>				<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="macro" href="mansearch.h.html#19" title="&quot;mandoc.db&quot;" data-ref="_M/MANDOC_DB">MANDOC_DB</a>, <q>"%s: Automatically recreating"</q></td></tr>
<tr><th id="455">455</th><td>				    <q>" from scratch"</q>, <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strerror" title='strerror' data-ref="strerror" data-ref-filename="strerror">strerror</a>(<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/errno.h.html#55" title="(*__errno())" data-ref="_M/errno">errno</a>));</td></tr>
<tr><th id="456">456</th><td>			<a class="tu ref" href="#exitcode" title='exitcode' data-use='w' data-ref="exitcode" data-ref-filename="exitcode">exitcode</a> = (<em>int</em>)<a class="enum" href="mandoc.h.html#MANDOCLEVEL_OK" title='MANDOCLEVEL_OK' data-ref="MANDOCLEVEL_OK" data-ref-filename="MANDOCLEVEL_OK">MANDOCLEVEL_OK</a>;</td></tr>
<tr><th id="457">457</th><td>			<a class="tu ref" href="#op" title='op' data-use='w' data-ref="op" data-ref-filename="op">op</a> = <a class="enum" href="#OP_DEFAULT" title='OP_DEFAULT' data-ref="OP_DEFAULT" data-ref-filename="OP_DEFAULT">OP_DEFAULT</a>;</td></tr>
<tr><th id="458">458</th><td>			<b>if</b> (<var>0</var> == <a class="tu ref fn" href="#treescan" title='treescan' data-use='c' data-ref="treescan" data-ref-filename="treescan">treescan</a>())</td></tr>
<tr><th id="459">459</th><td>				<b>goto</b> <a class="lbl" href="#14out" data-ref="14out" data-ref-filename="14out">out</a>;</td></tr>
<tr><th id="460">460</th><td>			<a class="local col6 ref" href="#6dba" title='dba' data-ref="6dba" data-ref-filename="6dba">dba</a> = <a class="ref fn" href="dba.h.html#dba_new" title='dba_new' data-ref="dba_new" data-ref-filename="dba_new">dba_new</a>(<var>128</var>);</td></tr>
<tr><th id="461">461</th><td>		}</td></tr>
<tr><th id="462">462</th><td>		<b>if</b> (<a class="enum" href="#OP_DELETE" title='OP_DELETE' data-ref="OP_DELETE" data-ref-filename="OP_DELETE">OP_DELETE</a> != <a class="tu ref" href="#op" title='op' data-use='r' data-ref="op" data-ref-filename="op">op</a>)</td></tr>
<tr><th id="463">463</th><td>			<a class="tu ref fn" href="#mpages_merge" title='mpages_merge' data-use='c' data-ref="mpages_merge" data-ref-filename="mpages_merge">mpages_merge</a>(<a class="local col6 ref" href="#6dba" title='dba' data-ref="6dba" data-ref-filename="6dba">dba</a>, <a class="local col5 ref" href="#5mp" title='mp' data-ref="5mp" data-ref-filename="5mp">mp</a>);</td></tr>
<tr><th id="464">464</th><td>		<b>if</b> (<a class="tu ref" href="#nodb" title='nodb' data-use='r' data-ref="nodb" data-ref-filename="nodb">nodb</a> == <var>0</var>)</td></tr>
<tr><th id="465">465</th><td>			<a class="tu ref fn" href="#dbwrite" title='dbwrite' data-use='c' data-ref="dbwrite" data-ref-filename="dbwrite">dbwrite</a>(<a class="local col6 ref" href="#6dba" title='dba' data-ref="6dba" data-ref-filename="6dba">dba</a>);</td></tr>
<tr><th id="466">466</th><td>		<a class="ref fn" href="dba.h.html#dba_free" title='dba_free' data-ref="dba_free" data-ref-filename="dba_free">dba_free</a>(<a class="local col6 ref" href="#6dba" title='dba' data-ref="6dba" data-ref-filename="6dba">dba</a>);</td></tr>
<tr><th id="467">467</th><td>	} <b>else</b> {</td></tr>
<tr><th id="468">468</th><td>		<i>/*</i></td></tr>
<tr><th id="469">469</th><td><i>		 * If we have arguments, use them as our manpaths.</i></td></tr>
<tr><th id="470">470</th><td><i>		 * If we don't, use man.conf(5).</i></td></tr>
<tr><th id="471">471</th><td><i>		 */</i></td></tr>
<tr><th id="472">472</th><td>		<b>if</b> (<a class="local col2 ref" href="#2argc" title='argc' data-ref="2argc" data-ref-filename="2argc">argc</a> &gt; <var>0</var>) {</td></tr>
<tr><th id="473">473</th><td>			<a class="local col4 ref" href="#4conf" title='conf' data-ref="4conf" data-ref-filename="4conf">conf</a>.<a class="ref field" href="manconf.h.html#manconf::manpath" title='manconf::manpath' data-ref="manconf::manpath" data-ref-filename="manconf..manpath">manpath</a>.<a class="ref field" href="manconf.h.html#manpaths::paths" title='manpaths::paths' data-ref="manpaths::paths" data-ref-filename="manpaths..paths">paths</a> = <a class="ref fn" href="mandoc_aux.h.html#mandoc_reallocarray" title='mandoc_reallocarray' data-ref="mandoc_reallocarray" data-ref-filename="mandoc_reallocarray">mandoc_reallocarray</a>(<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>,</td></tr>
<tr><th id="474">474</th><td>			    <a class="local col2 ref" href="#2argc" title='argc' data-ref="2argc" data-ref-filename="2argc">argc</a>, <b>sizeof</b>(<em>char</em> *));</td></tr>
<tr><th id="475">475</th><td>			<a class="local col4 ref" href="#4conf" title='conf' data-ref="4conf" data-ref-filename="4conf">conf</a>.<a class="ref field" href="manconf.h.html#manconf::manpath" title='manconf::manpath' data-ref="manconf::manpath" data-ref-filename="manconf..manpath">manpath</a>.<a class="ref field" href="manconf.h.html#manpaths::sz" title='manpaths::sz' data-ref="manpaths::sz" data-ref-filename="manpaths..sz">sz</a> = (<a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</a>)<a class="local col2 ref" href="#2argc" title='argc' data-ref="2argc" data-ref-filename="2argc">argc</a>;</td></tr>
<tr><th id="476">476</th><td>			<b>for</b> (<a class="local col2 ref" href="#12i" title='i' data-ref="12i" data-ref-filename="12i">i</a> = <var>0</var>; <a class="local col2 ref" href="#12i" title='i' data-ref="12i" data-ref-filename="12i">i</a> &lt; <a class="local col2 ref" href="#2argc" title='argc' data-ref="2argc" data-ref-filename="2argc">argc</a>; <a class="local col2 ref" href="#12i" title='i' data-ref="12i" data-ref-filename="12i">i</a>++)</td></tr>
<tr><th id="477">477</th><td>				<a class="local col4 ref" href="#4conf" title='conf' data-ref="4conf" data-ref-filename="4conf">conf</a>.<a class="ref field" href="manconf.h.html#manconf::manpath" title='manconf::manpath' data-ref="manconf::manpath" data-ref-filename="manconf..manpath">manpath</a>.<a class="ref field" href="manconf.h.html#manpaths::paths" title='manpaths::paths' data-ref="manpaths::paths" data-ref-filename="manpaths..paths">paths</a>[<a class="local col2 ref" href="#12i" title='i' data-ref="12i" data-ref-filename="12i">i</a>] = <a class="ref fn" href="mandoc_aux.h.html#mandoc_strdup" title='mandoc_strdup' data-ref="mandoc_strdup" data-ref-filename="mandoc_strdup">mandoc_strdup</a>(<a class="local col3 ref" href="#3argv" title='argv' data-ref="3argv" data-ref-filename="3argv">argv</a>[<a class="local col2 ref" href="#12i" title='i' data-ref="12i" data-ref-filename="12i">i</a>]);</td></tr>
<tr><th id="478">478</th><td>		} <b>else</b></td></tr>
<tr><th id="479">479</th><td>			<a class="ref fn" href="manconf.h.html#manconf_parse" title='manconf_parse' data-ref="manconf_parse" data-ref-filename="manconf_parse">manconf_parse</a>(&amp;<a class="local col4 ref" href="#4conf" title='conf' data-ref="4conf" data-ref-filename="4conf">conf</a>, <a class="local col7 ref" href="#7path_arg" title='path_arg' data-ref="7path_arg" data-ref-filename="7path_arg">path_arg</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="480">480</th><td></td></tr>
<tr><th id="481">481</th><td>		<b>if</b> (<a class="local col4 ref" href="#4conf" title='conf' data-ref="4conf" data-ref-filename="4conf">conf</a>.<a class="ref field" href="manconf.h.html#manconf::manpath" title='manconf::manpath' data-ref="manconf::manpath" data-ref-filename="manconf..manpath">manpath</a>.<a class="ref field" href="manconf.h.html#manpaths::sz" title='manpaths::sz' data-ref="manpaths::sz" data-ref-filename="manpaths..sz">sz</a> == <var>0</var>) {</td></tr>
<tr><th id="482">482</th><td>			<a class="tu ref" href="#exitcode" title='exitcode' data-use='w' data-ref="exitcode" data-ref-filename="exitcode">exitcode</a> = (<em>int</em>)<a class="enum" href="mandoc.h.html#MANDOCLEVEL_BADARG" title='MANDOCLEVEL_BADARG' data-ref="MANDOCLEVEL_BADARG" data-ref-filename="MANDOCLEVEL_BADARG">MANDOCLEVEL_BADARG</a>;</td></tr>
<tr><th id="483">483</th><td>			<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<q>""</q>, <q>"Empty manpath"</q>);</td></tr>
<tr><th id="484">484</th><td>		}</td></tr>
<tr><th id="485">485</th><td></td></tr>
<tr><th id="486">486</th><td>		<i>/*</i></td></tr>
<tr><th id="487">487</th><td><i>		 * First scan the tree rooted at a base directory, then</i></td></tr>
<tr><th id="488">488</th><td><i>		 * build a new database and finally move it into place.</i></td></tr>
<tr><th id="489">489</th><td><i>		 * Ignore zero-length directories and strip trailing</i></td></tr>
<tr><th id="490">490</th><td><i>		 * slashes.</i></td></tr>
<tr><th id="491">491</th><td><i>		 */</i></td></tr>
<tr><th id="492">492</th><td>		<b>for</b> (<a class="local col9 ref" href="#9j" title='j' data-ref="9j" data-ref-filename="9j">j</a> = <var>0</var>; <a class="local col9 ref" href="#9j" title='j' data-ref="9j" data-ref-filename="9j">j</a> &lt; <a class="local col4 ref" href="#4conf" title='conf' data-ref="4conf" data-ref-filename="4conf">conf</a>.<a class="ref field" href="manconf.h.html#manconf::manpath" title='manconf::manpath' data-ref="manconf::manpath" data-ref-filename="manconf..manpath">manpath</a>.<a class="ref field" href="manconf.h.html#manpaths::sz" title='manpaths::sz' data-ref="manpaths::sz" data-ref-filename="manpaths..sz">sz</a>; <a class="local col9 ref" href="#9j" title='j' data-ref="9j" data-ref-filename="9j">j</a>++) {</td></tr>
<tr><th id="493">493</th><td>			<a class="local col0 ref" href="#10sz" title='sz' data-ref="10sz" data-ref-filename="10sz">sz</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a>(<a class="local col4 ref" href="#4conf" title='conf' data-ref="4conf" data-ref-filename="4conf">conf</a>.<a class="ref field" href="manconf.h.html#manconf::manpath" title='manconf::manpath' data-ref="manconf::manpath" data-ref-filename="manconf..manpath">manpath</a>.<a class="ref field" href="manconf.h.html#manpaths::paths" title='manpaths::paths' data-ref="manpaths::paths" data-ref-filename="manpaths..paths">paths</a>[<a class="local col9 ref" href="#9j" title='j' data-ref="9j" data-ref-filename="9j">j</a>]);</td></tr>
<tr><th id="494">494</th><td>			<b>if</b> (<a class="local col0 ref" href="#10sz" title='sz' data-ref="10sz" data-ref-filename="10sz">sz</a> &amp;&amp; <a class="local col4 ref" href="#4conf" title='conf' data-ref="4conf" data-ref-filename="4conf">conf</a>.<a class="ref field" href="manconf.h.html#manconf::manpath" title='manconf::manpath' data-ref="manconf::manpath" data-ref-filename="manconf..manpath">manpath</a>.<a class="ref field" href="manconf.h.html#manpaths::paths" title='manpaths::paths' data-ref="manpaths::paths" data-ref-filename="manpaths..paths">paths</a>[<a class="local col9 ref" href="#9j" title='j' data-ref="9j" data-ref-filename="9j">j</a>][<a class="local col0 ref" href="#10sz" title='sz' data-ref="10sz" data-ref-filename="10sz">sz</a> - <var>1</var>] == <kbd>'/'</kbd>)</td></tr>
<tr><th id="495">495</th><td>				<a class="local col4 ref" href="#4conf" title='conf' data-ref="4conf" data-ref-filename="4conf">conf</a>.<a class="ref field" href="manconf.h.html#manconf::manpath" title='manconf::manpath' data-ref="manconf::manpath" data-ref-filename="manconf..manpath">manpath</a>.<a class="ref field" href="manconf.h.html#manpaths::paths" title='manpaths::paths' data-ref="manpaths::paths" data-ref-filename="manpaths..paths">paths</a>[<a class="local col9 ref" href="#9j" title='j' data-ref="9j" data-ref-filename="9j">j</a>][--<a class="local col0 ref" href="#10sz" title='sz' data-ref="10sz" data-ref-filename="10sz">sz</a>] = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="496">496</th><td>			<b>if</b> (<var>0</var> == <a class="local col0 ref" href="#10sz" title='sz' data-ref="10sz" data-ref-filename="10sz">sz</a>)</td></tr>
<tr><th id="497">497</th><td>				<b>continue</b>;</td></tr>
<tr><th id="498">498</th><td></td></tr>
<tr><th id="499">499</th><td>			<b>if</b> (<a class="local col9 ref" href="#9j" title='j' data-ref="9j" data-ref-filename="9j">j</a>) {</td></tr>
<tr><th id="500">500</th><td>				<a class="ref fn" href="mandoc_ohash.h.html#mandoc_ohash_init" title='mandoc_ohash_init' data-ref="mandoc_ohash_init" data-ref-filename="mandoc_ohash_init">mandoc_ohash_init</a>(&amp;<a class="tu ref" href="#mpages" title='mpages' data-use='a' data-ref="mpages" data-ref-filename="mpages">mpages</a>, <var>6</var>,</td></tr>
<tr><th id="501">501</th><td>				    <span class="macro" title="__builtin_offsetof(struct mpage, inodev)" data-ref="_M/offsetof">offsetof</span>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a>, inodev));</td></tr>
<tr><th id="502">502</th><td>				<a class="ref fn" href="mandoc_ohash.h.html#mandoc_ohash_init" title='mandoc_ohash_init' data-ref="mandoc_ohash_init" data-ref-filename="mandoc_ohash_init">mandoc_ohash_init</a>(&amp;<a class="tu ref" href="#mlinks" title='mlinks' data-use='a' data-ref="mlinks" data-ref-filename="mlinks">mlinks</a>, <var>6</var>,</td></tr>
<tr><th id="503">503</th><td>				    <span class="macro" title="__builtin_offsetof(struct mlink, file)" data-ref="_M/offsetof">offsetof</span>(<b>struct</b> <a class="type" href="#mlink" title='mlink' data-ref="mlink" data-ref-filename="mlink">mlink</a>, file));</td></tr>
<tr><th id="504">504</th><td>			}</td></tr>
<tr><th id="505">505</th><td></td></tr>
<tr><th id="506">506</th><td>			<b>if</b> ( ! <a class="tu ref fn" href="#set_basedir" title='set_basedir' data-use='c' data-ref="set_basedir" data-ref-filename="set_basedir">set_basedir</a>(<a class="local col4 ref" href="#4conf" title='conf' data-ref="4conf" data-ref-filename="4conf">conf</a>.<a class="ref field" href="manconf.h.html#manconf::manpath" title='manconf::manpath' data-ref="manconf::manpath" data-ref-filename="manconf..manpath">manpath</a>.<a class="ref field" href="manconf.h.html#manpaths::paths" title='manpaths::paths' data-ref="manpaths::paths" data-ref-filename="manpaths..paths">paths</a>[<a class="local col9 ref" href="#9j" title='j' data-ref="9j" data-ref-filename="9j">j</a>], <a class="local col2 ref" href="#2argc" title='argc' data-ref="2argc" data-ref-filename="2argc">argc</a> &gt; <var>0</var>))</td></tr>
<tr><th id="507">507</th><td>				<b>continue</b>;</td></tr>
<tr><th id="508">508</th><td>			<b>if</b> (<var>0</var> == <a class="tu ref fn" href="#treescan" title='treescan' data-use='c' data-ref="treescan" data-ref-filename="treescan">treescan</a>())</td></tr>
<tr><th id="509">509</th><td>				<b>continue</b>;</td></tr>
<tr><th id="510">510</th><td>			<a class="local col6 ref" href="#6dba" title='dba' data-ref="6dba" data-ref-filename="6dba">dba</a> = <a class="ref fn" href="dba.h.html#dba_new" title='dba_new' data-ref="dba_new" data-ref-filename="dba_new">dba_new</a>(<var>128</var>);</td></tr>
<tr><th id="511">511</th><td>			<a class="tu ref fn" href="#mpages_merge" title='mpages_merge' data-use='c' data-ref="mpages_merge" data-ref-filename="mpages_merge">mpages_merge</a>(<a class="local col6 ref" href="#6dba" title='dba' data-ref="6dba" data-ref-filename="6dba">dba</a>, <a class="local col5 ref" href="#5mp" title='mp' data-ref="5mp" data-ref-filename="5mp">mp</a>);</td></tr>
<tr><th id="512">512</th><td>			<b>if</b> (<a class="tu ref" href="#nodb" title='nodb' data-use='r' data-ref="nodb" data-ref-filename="nodb">nodb</a> == <var>0</var>)</td></tr>
<tr><th id="513">513</th><td>				<a class="tu ref fn" href="#dbwrite" title='dbwrite' data-use='c' data-ref="dbwrite" data-ref-filename="dbwrite">dbwrite</a>(<a class="local col6 ref" href="#6dba" title='dba' data-ref="6dba" data-ref-filename="6dba">dba</a>);</td></tr>
<tr><th id="514">514</th><td>			<a class="ref fn" href="dba.h.html#dba_free" title='dba_free' data-ref="dba_free" data-ref-filename="dba_free">dba_free</a>(<a class="local col6 ref" href="#6dba" title='dba' data-ref="6dba" data-ref-filename="6dba">dba</a>);</td></tr>
<tr><th id="515">515</th><td></td></tr>
<tr><th id="516">516</th><td>			<b>if</b> (<a class="local col9 ref" href="#9j" title='j' data-ref="9j" data-ref-filename="9j">j</a> + <var>1</var> &lt; <a class="local col4 ref" href="#4conf" title='conf' data-ref="4conf" data-ref-filename="4conf">conf</a>.<a class="ref field" href="manconf.h.html#manconf::manpath" title='manconf::manpath' data-ref="manconf::manpath" data-ref-filename="manconf..manpath">manpath</a>.<a class="ref field" href="manconf.h.html#manpaths::sz" title='manpaths::sz' data-ref="manpaths::sz" data-ref-filename="manpaths..sz">sz</a>) {</td></tr>
<tr><th id="517">517</th><td>				<a class="tu ref fn" href="#mpages_free" title='mpages_free' data-use='c' data-ref="mpages_free" data-ref-filename="mpages_free">mpages_free</a>();</td></tr>
<tr><th id="518">518</th><td>				<a class="ref fn" href="compat_ohash.h.html#ohash_delete" title='ohash_delete' data-ref="ohash_delete" data-ref-filename="ohash_delete">ohash_delete</a>(&amp;<a class="tu ref" href="#mpages" title='mpages' data-use='a' data-ref="mpages" data-ref-filename="mpages">mpages</a>);</td></tr>
<tr><th id="519">519</th><td>				<a class="ref fn" href="compat_ohash.h.html#ohash_delete" title='ohash_delete' data-ref="ohash_delete" data-ref-filename="ohash_delete">ohash_delete</a>(&amp;<a class="tu ref" href="#mlinks" title='mlinks' data-use='a' data-ref="mlinks" data-ref-filename="mlinks">mlinks</a>);</td></tr>
<tr><th id="520">520</th><td>			}</td></tr>
<tr><th id="521">521</th><td>		}</td></tr>
<tr><th id="522">522</th><td>	}</td></tr>
<tr><th id="523">523</th><td><dfn class="lbl" id="14out" data-ref="14out" data-ref-filename="14out">out</dfn>:</td></tr>
<tr><th id="524">524</th><td>	<a class="ref fn" href="manconf.h.html#manconf_free" title='manconf_free' data-ref="manconf_free" data-ref-filename="manconf_free">manconf_free</a>(&amp;<a class="local col4 ref" href="#4conf" title='conf' data-ref="4conf" data-ref-filename="4conf">conf</a>);</td></tr>
<tr><th id="525">525</th><td>	<a class="ref fn" href="mandoc_parse.h.html#mparse_free" title='mparse_free' data-ref="mparse_free" data-ref-filename="mparse_free">mparse_free</a>(<a class="local col5 ref" href="#5mp" title='mp' data-ref="5mp" data-ref-filename="5mp">mp</a>);</td></tr>
<tr><th id="526">526</th><td>	<a class="ref fn" href="mandoc.h.html#mchars_free" title='mchars_free' data-ref="mchars_free" data-ref-filename="mchars_free">mchars_free</a>();</td></tr>
<tr><th id="527">527</th><td>	<a class="tu ref fn" href="#mpages_free" title='mpages_free' data-use='c' data-ref="mpages_free" data-ref-filename="mpages_free">mpages_free</a>();</td></tr>
<tr><th id="528">528</th><td>	<a class="ref fn" href="compat_ohash.h.html#ohash_delete" title='ohash_delete' data-ref="ohash_delete" data-ref-filename="ohash_delete">ohash_delete</a>(&amp;<a class="tu ref" href="#mpages" title='mpages' data-use='a' data-ref="mpages" data-ref-filename="mpages">mpages</a>);</td></tr>
<tr><th id="529">529</th><td>	<a class="ref fn" href="compat_ohash.h.html#ohash_delete" title='ohash_delete' data-ref="ohash_delete" data-ref-filename="ohash_delete">ohash_delete</a>(&amp;<a class="tu ref" href="#mlinks" title='mlinks' data-use='a' data-ref="mlinks" data-ref-filename="mlinks">mlinks</a>);</td></tr>
<tr><th id="530">530</th><td>	<b>return</b> <a class="tu ref" href="#exitcode" title='exitcode' data-use='r' data-ref="exitcode" data-ref-filename="exitcode">exitcode</a>;</td></tr>
<tr><th id="531">531</th><td><dfn class="lbl" id="13usage" data-ref="13usage" data-ref-filename="13usage">usage</dfn>:</td></tr>
<tr><th id="532">532</th><td>	<a class="local col8 ref" href="#8progname" title='progname' data-ref="8progname" data-ref-filename="8progname">progname</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#getprogname" title='getprogname' data-ref="getprogname" data-ref-filename="getprogname">getprogname</a>();</td></tr>
<tr><th id="533">533</th><td>	<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fprintf" title='fprintf' data-ref="fprintf" data-ref-filename="fprintf">fprintf</a>(<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#217" title="(&amp;__sF[2])" data-ref="_M/stderr">stderr</a>, <q>"usage: %s [-aDnpQ] [-C file] [-Tutf8]\n"</q></td></tr>
<tr><th id="534">534</th><td>			<q>"       %s [-aDnpQ] [-Tutf8] dir ...\n"</q></td></tr>
<tr><th id="535">535</th><td>			<q>"       %s [-DnpQ] [-Tutf8] -d dir [file ...]\n"</q></td></tr>
<tr><th id="536">536</th><td>			<q>"       %s [-Dnp] -u dir [file ...]\n"</q></td></tr>
<tr><th id="537">537</th><td>			<q>"       %s [-Q] -t file ...\n"</q>,</td></tr>
<tr><th id="538">538</th><td>		        <a class="local col8 ref" href="#8progname" title='progname' data-ref="8progname" data-ref-filename="8progname">progname</a>, <a class="local col8 ref" href="#8progname" title='progname' data-ref="8progname" data-ref-filename="8progname">progname</a>, <a class="local col8 ref" href="#8progname" title='progname' data-ref="8progname" data-ref-filename="8progname">progname</a>, <a class="local col8 ref" href="#8progname" title='progname' data-ref="8progname" data-ref-filename="8progname">progname</a>, <a class="local col8 ref" href="#8progname" title='progname' data-ref="8progname" data-ref-filename="8progname">progname</a>);</td></tr>
<tr><th id="539">539</th><td></td></tr>
<tr><th id="540">540</th><td>	<b>return</b> (<em>int</em>)<a class="enum" href="mandoc.h.html#MANDOCLEVEL_BADARG" title='MANDOCLEVEL_BADARG' data-ref="MANDOCLEVEL_BADARG" data-ref-filename="MANDOCLEVEL_BADARG">MANDOCLEVEL_BADARG</a>;</td></tr>
<tr><th id="541">541</th><td>}</td></tr>
<tr><th id="542">542</th><td></td></tr>
<tr><th id="543">543</th><td><i  data-doc="fts_compare">/*</i></td></tr>
<tr><th id="544">544</th><td><i  data-doc="fts_compare"> * To get a singly linked list in alpha order while inserting entries</i></td></tr>
<tr><th id="545">545</th><td><i  data-doc="fts_compare"> * at the beginning, process directory entries in reverse alpha order.</i></td></tr>
<tr><th id="546">546</th><td><i  data-doc="fts_compare"> */</i></td></tr>
<tr><th id="547">547</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="548">548</th><td><u>#<span data-ppcond="548">if</span> <a class="macro" href="../include/config.h.html#22" title="0" data-ref="_M/HAVE_FTS_COMPARE_CONST">HAVE_FTS_COMPARE_CONST</a></u></td></tr>
<tr><th id="549">549</th><td>fts_compare(<em>const</em> FTSENT *<em>const</em> *a, <em>const</em> FTSENT *<em>const</em> *b)</td></tr>
<tr><th id="550">550</th><td><u>#<span data-ppcond="548">else</span></u></td></tr>
<tr><th id="551">551</th><td><dfn class="tu decl def fn" id="fts_compare" title='fts_compare' data-type='int fts_compare(const FTSENT ** a, const FTSENT ** b)' data-ref="fts_compare" data-ref-filename="fts_compare">fts_compare</dfn>(<em>const</em> <a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#FTSENT" title='FTSENT' data-type='struct _ftsent' data-ref="FTSENT" data-ref-filename="FTSENT">FTSENT</a> **<dfn class="local col5 decl" id="15a" title='a' data-type='const FTSENT **' data-ref="15a" data-ref-filename="15a">a</dfn>, <em>const</em> <a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#FTSENT" title='FTSENT' data-type='struct _ftsent' data-ref="FTSENT" data-ref-filename="FTSENT">FTSENT</a> **<dfn class="local col6 decl" id="16b" title='b' data-type='const FTSENT **' data-ref="16b" data-ref-filename="16b">b</dfn>)</td></tr>
<tr><th id="552">552</th><td><u>#<span data-ppcond="548">endif</span></u></td></tr>
<tr><th id="553">553</th><td>{</td></tr>
<tr><th id="554">554</th><td>	<b>return</b> -<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a>((*<a class="local col5 ref" href="#15a" title='a' data-ref="15a" data-ref-filename="15a">a</a>)-&gt;<a class="ref field" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#_ftsent::fts_name" title='_ftsent::fts_name' data-ref="_ftsent::fts_name" data-ref-filename="_ftsent..fts_name">fts_name</a>, (*<a class="local col6 ref" href="#16b" title='b' data-ref="16b" data-ref-filename="16b">b</a>)-&gt;<a class="ref field" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#_ftsent::fts_name" title='_ftsent::fts_name' data-ref="_ftsent::fts_name" data-ref-filename="_ftsent..fts_name">fts_name</a>);</td></tr>
<tr><th id="555">555</th><td>}</td></tr>
<tr><th id="556">556</th><td></td></tr>
<tr><th id="557">557</th><td><i  data-doc="treescan">/*</i></td></tr>
<tr><th id="558">558</th><td><i  data-doc="treescan"> * Scan a directory tree rooted at "basedir" for manpages.</i></td></tr>
<tr><th id="559">559</th><td><i  data-doc="treescan"> * We use fts(), scanning directory parts along the way for clues to our</i></td></tr>
<tr><th id="560">560</th><td><i  data-doc="treescan"> * section and architecture.</i></td></tr>
<tr><th id="561">561</th><td><i  data-doc="treescan"> *</i></td></tr>
<tr><th id="562">562</th><td><i  data-doc="treescan"> * If use_all has been specified, grok all files.</i></td></tr>
<tr><th id="563">563</th><td><i  data-doc="treescan"> * If not, sanitise paths to the following:</i></td></tr>
<tr><th id="564">564</th><td><i  data-doc="treescan"> *</i></td></tr>
<tr><th id="565">565</th><td><i  data-doc="treescan"> *   [./]man*[/&lt;arch&gt;]/&lt;name&gt;.&lt;section&gt;</i></td></tr>
<tr><th id="566">566</th><td><i  data-doc="treescan"> *   or</i></td></tr>
<tr><th id="567">567</th><td><i  data-doc="treescan"> *   [./]cat&lt;section&gt;[/&lt;arch&gt;]/&lt;name&gt;.0</i></td></tr>
<tr><th id="568">568</th><td><i  data-doc="treescan"> *</i></td></tr>
<tr><th id="569">569</th><td><i  data-doc="treescan"> * TODO: accommodate for multi-language directories.</i></td></tr>
<tr><th id="570">570</th><td><i  data-doc="treescan"> */</i></td></tr>
<tr><th id="571">571</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="572">572</th><td><dfn class="tu decl def fn" id="treescan" title='treescan' data-type='int treescan()' data-ref="treescan" data-ref-filename="treescan">treescan</dfn>(<em>void</em>)</td></tr>
<tr><th id="573">573</th><td>{</td></tr>
<tr><th id="574">574</th><td>	<em>char</em>		 <dfn class="local col7 decl" id="17buf" title='buf' data-type='char [1024]' data-ref="17buf" data-ref-filename="17buf">buf</dfn>[<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/syslimits.h.html#60" title="1024" data-ref="_M/PATH_MAX">PATH_MAX</a>];</td></tr>
<tr><th id="575">575</th><td>	<a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#FTS" title='FTS' data-type='struct FTS' data-ref="FTS" data-ref-filename="FTS">FTS</a>		*<dfn class="local col8 decl" id="18f" title='f' data-type='FTS *' data-ref="18f" data-ref-filename="18f">f</dfn>;</td></tr>
<tr><th id="576">576</th><td>	<a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#FTSENT" title='FTSENT' data-type='struct _ftsent' data-ref="FTSENT" data-ref-filename="FTSENT">FTSENT</a>		*<dfn class="local col9 decl" id="19ff" title='ff' data-type='FTSENT *' data-ref="19ff" data-ref-filename="19ff">ff</dfn>;</td></tr>
<tr><th id="577">577</th><td>	<b>struct</b> <a class="type" href="#mlink" title='mlink' data-ref="mlink" data-ref-filename="mlink">mlink</a>	*<dfn class="local col0 decl" id="20mlink" title='mlink' data-type='struct mlink *' data-ref="20mlink" data-ref-filename="20mlink">mlink</dfn>;</td></tr>
<tr><th id="578">578</th><td>	<em>int</em>		 <dfn class="local col1 decl" id="21gzip" title='gzip' data-type='int' data-ref="21gzip" data-ref-filename="21gzip">gzip</dfn>;</td></tr>
<tr><th id="579">579</th><td>	<b>enum</b> <a class="type" href="mansearch.h.html#form" title='form' data-ref="form" data-ref-filename="form">form</a>	 <dfn class="local col2 decl" id="22dform" title='dform' data-type='enum form' data-ref="22dform" data-ref-filename="22dform">dform</dfn>;</td></tr>
<tr><th id="580">580</th><td>	<em>char</em>		*<dfn class="local col3 decl" id="23dsec" title='dsec' data-type='char *' data-ref="23dsec" data-ref-filename="23dsec">dsec</dfn>, *<dfn class="local col4 decl" id="24arch" title='arch' data-type='char *' data-ref="24arch" data-ref-filename="24arch">arch</dfn>, *<dfn class="local col5 decl" id="25fsec" title='fsec' data-type='char *' data-ref="25fsec" data-ref-filename="25fsec">fsec</dfn>, *<dfn class="local col6 decl" id="26cp" title='cp' data-type='char *' data-ref="26cp" data-ref-filename="26cp">cp</dfn>;</td></tr>
<tr><th id="581">581</th><td>	<em>const</em> <em>char</em>	*<dfn class="local col7 decl" id="27path" title='path' data-type='const char *' data-ref="27path" data-ref-filename="27path">path</dfn>;</td></tr>
<tr><th id="582">582</th><td>	<em>const</em> <em>char</em>	*<dfn class="local col8 decl" id="28argv" title='argv' data-type='const char *[2]' data-ref="28argv" data-ref-filename="28argv">argv</dfn>[<var>2</var>];</td></tr>
<tr><th id="583">583</th><td></td></tr>
<tr><th id="584">584</th><td>	<a class="local col8 ref" href="#28argv" title='argv' data-ref="28argv" data-ref-filename="28argv">argv</a>[<var>0</var>] = <q>"."</q>;</td></tr>
<tr><th id="585">585</th><td>	<a class="local col8 ref" href="#28argv" title='argv' data-ref="28argv" data-ref-filename="28argv">argv</a>[<var>1</var>] = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="586">586</th><td></td></tr>
<tr><th id="587">587</th><td>	<a class="local col8 ref" href="#18f" title='f' data-ref="18f" data-ref-filename="18f">f</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#__fts_open60" title='fts_open' data-ref="__fts_open60" data-ref-filename="__fts_open60">fts_open</a>((<em>char</em> * <em>const</em> *)<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/cdefs.h.html#169" title="((void *)(unsigned long)(const void *)(*argv))" data-ref="_M/__UNCONST">__UNCONST</a>(*<a class="local col8 ref" href="#28argv" title='argv' data-ref="28argv" data-ref-filename="28argv">argv</a>),</td></tr>
<tr><th id="588">588</th><td>	    <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#75" title="0x010" data-ref="_M/FTS_PHYSICAL">FTS_PHYSICAL</a> | <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#73" title="0x004" data-ref="_M/FTS_NOCHDIR">FTS_NOCHDIR</a>, <a class="tu ref fn" href="#fts_compare" title='fts_compare' data-use='r' data-ref="fts_compare" data-ref-filename="fts_compare">fts_compare</a>);</td></tr>
<tr><th id="589">589</th><td>	<b>if</b> (<a class="local col8 ref" href="#18f" title='f' data-ref="18f" data-ref-filename="18f">f</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="590">590</th><td>		<a class="tu ref" href="#exitcode" title='exitcode' data-use='w' data-ref="exitcode" data-ref-filename="exitcode">exitcode</a> = (<em>int</em>)<a class="enum" href="mandoc.h.html#MANDOCLEVEL_SYSERR" title='MANDOCLEVEL_SYSERR' data-ref="MANDOCLEVEL_SYSERR" data-ref-filename="MANDOCLEVEL_SYSERR">MANDOCLEVEL_SYSERR</a>;</td></tr>
<tr><th id="591">591</th><td>		<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<q>""</q>, <q>"&amp;fts_open"</q>);</td></tr>
<tr><th id="592">592</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="593">593</th><td>	}</td></tr>
<tr><th id="594">594</th><td></td></tr>
<tr><th id="595">595</th><td>	<a class="local col3 ref" href="#23dsec" title='dsec' data-ref="23dsec" data-ref-filename="23dsec">dsec</a> = <a class="local col4 ref" href="#24arch" title='arch' data-ref="24arch" data-ref-filename="24arch">arch</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="596">596</th><td>	<a class="local col2 ref" href="#22dform" title='dform' data-ref="22dform" data-ref-filename="22dform">dform</a> = <a class="enum" href="mansearch.h.html#FORM_NONE" title='FORM_NONE' data-ref="FORM_NONE" data-ref-filename="FORM_NONE">FORM_NONE</a>;</td></tr>
<tr><th id="597">597</th><td></td></tr>
<tr><th id="598">598</th><td>	<b>while</b> ((<a class="local col9 ref" href="#19ff" title='ff' data-ref="19ff" data-ref-filename="19ff">ff</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#__fts_read60" title='fts_read' data-ref="__fts_read60" data-ref-filename="__fts_read60">fts_read</a>(<a class="local col8 ref" href="#18f" title='f' data-ref="18f" data-ref-filename="18f">f</a>)) != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="599">599</th><td>		<a class="local col7 ref" href="#27path" title='path' data-ref="27path" data-ref-filename="27path">path</a> = <a class="local col9 ref" href="#19ff" title='ff' data-ref="19ff" data-ref-filename="19ff">ff</a>-&gt;<a class="ref field" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#_ftsent::fts_path" title='_ftsent::fts_path' data-ref="_ftsent::fts_path" data-ref-filename="_ftsent..fts_path">fts_path</a> + <var>2</var>;</td></tr>
<tr><th id="600">600</th><td>		<b>switch</b> (<a class="local col9 ref" href="#19ff" title='ff' data-ref="19ff" data-ref-filename="19ff">ff</a>-&gt;<a class="ref field" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#_ftsent::fts_info" title='_ftsent::fts_info' data-ref="_ftsent::fts_info" data-ref-filename="_ftsent..fts_info">fts_info</a>) {</td></tr>
<tr><th id="601">601</th><td></td></tr>
<tr><th id="602">602</th><td>		<i>/*</i></td></tr>
<tr><th id="603">603</th><td><i>		 * Symbolic links require various sanity checks,</i></td></tr>
<tr><th id="604">604</th><td><i>		 * then get handled just like regular files.</i></td></tr>
<tr><th id="605">605</th><td><i>		 */</i></td></tr>
<tr><th id="606">606</th><td>		<b>case</b> <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#118" title="12" data-ref="_M/FTS_SL">FTS_SL</a>:</td></tr>
<tr><th id="607">607</th><td>			<b>if</b> (<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#realpath" title='realpath' data-ref="realpath" data-ref-filename="realpath">realpath</a>(<a class="local col7 ref" href="#27path" title='path' data-ref="27path" data-ref-filename="27path">path</a>, <a class="local col7 ref" href="#17buf" title='buf' data-ref="17buf" data-ref-filename="17buf">buf</a>) == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="608">608</th><td>				<b>if</b> (<a class="tu ref" href="#warnings" title='warnings' data-use='r' data-ref="warnings" data-ref-filename="warnings">warnings</a>)</td></tr>
<tr><th id="609">609</th><td>					<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col7 ref" href="#27path" title='path' data-ref="27path" data-ref-filename="27path">path</a>, <q>"&amp;realpath"</q>);</td></tr>
<tr><th id="610">610</th><td>				<b>continue</b>;</td></tr>
<tr><th id="611">611</th><td>			}</td></tr>
<tr><th id="612">612</th><td>			<b>if</b> (<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strstr" title='strstr' data-ref="strstr" data-ref-filename="strstr">strstr</a>(<a class="local col7 ref" href="#17buf" title='buf' data-ref="17buf" data-ref-filename="17buf">buf</a>, <a class="tu ref" href="#basedir" title='basedir' data-use='r' data-ref="basedir" data-ref-filename="basedir">basedir</a>) != <a class="local col7 ref" href="#17buf" title='buf' data-ref="17buf" data-ref-filename="17buf">buf</a></td></tr>
<tr><th id="613">613</th><td><u>#<span data-ppcond="613">ifdef</span> <span class="macro" data-ref="_M/HOMEBREWDIR">HOMEBREWDIR</span></u></td></tr>
<tr><th id="614">614</th><td>			    &amp;&amp; strstr(buf, HOMEBREWDIR) != buf</td></tr>
<tr><th id="615">615</th><td><u>#<span data-ppcond="613">endif</span></u></td></tr>
<tr><th id="616">616</th><td>			) {</td></tr>
<tr><th id="617">617</th><td>				<b>if</b> (<a class="tu ref" href="#warnings" title='warnings' data-use='r' data-ref="warnings" data-ref-filename="warnings">warnings</a>) <a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<q>""</q>,</td></tr>
<tr><th id="618">618</th><td>				    <q>"%s: outside base directory"</q>, <a class="local col7 ref" href="#17buf" title='buf' data-ref="17buf" data-ref-filename="17buf">buf</a>);</td></tr>
<tr><th id="619">619</th><td>				<b>continue</b>;</td></tr>
<tr><th id="620">620</th><td>			}</td></tr>
<tr><th id="621">621</th><td>			<i>/* Use logical inode to avoid mpages dupe. */</i></td></tr>
<tr><th id="622">622</th><td>			<b>if</b> (<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/stat.h.html#__stat50" title='stat' data-ref="__stat50" data-ref-filename="__stat50">stat</a>(<a class="local col7 ref" href="#27path" title='path' data-ref="27path" data-ref-filename="27path">path</a>, <a class="local col9 ref" href="#19ff" title='ff' data-ref="19ff" data-ref-filename="19ff">ff</a>-&gt;<a class="ref field" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#_ftsent::fts_statp" title='_ftsent::fts_statp' data-ref="_ftsent::fts_statp" data-ref-filename="_ftsent..fts_statp">fts_statp</a>) == -<var>1</var>) {</td></tr>
<tr><th id="623">623</th><td>				<b>if</b> (<a class="tu ref" href="#warnings" title='warnings' data-use='r' data-ref="warnings" data-ref-filename="warnings">warnings</a>)</td></tr>
<tr><th id="624">624</th><td>					<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col7 ref" href="#27path" title='path' data-ref="27path" data-ref-filename="27path">path</a>, <q>"&amp;stat"</q>);</td></tr>
<tr><th id="625">625</th><td>				<b>continue</b>;</td></tr>
<tr><th id="626">626</th><td>			}</td></tr>
<tr><th id="627">627</th><td>			<i>/* FALLTHROUGH */</i></td></tr>
<tr><th id="628">628</th><td></td></tr>
<tr><th id="629">629</th><td>		<i>/*</i></td></tr>
<tr><th id="630">630</th><td><i>		 * If we're a regular file, add an mlink by using the</i></td></tr>
<tr><th id="631">631</th><td><i>		 * stored directory data and handling the filename.</i></td></tr>
<tr><th id="632">632</th><td><i>		 */</i></td></tr>
<tr><th id="633">633</th><td>		<b>case</b> <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#114" title="8" data-ref="_M/FTS_F">FTS_F</a>:</td></tr>
<tr><th id="634">634</th><td>			<b>if</b> ( ! <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a>(<a class="local col7 ref" href="#27path" title='path' data-ref="27path" data-ref-filename="27path">path</a>, <a class="macro" href="mansearch.h.html#19" title="&quot;mandoc.db&quot;" data-ref="_M/MANDOC_DB">MANDOC_DB</a>))</td></tr>
<tr><th id="635">635</th><td>				<b>continue</b>;</td></tr>
<tr><th id="636">636</th><td>			<b>if</b> ( ! <a class="tu ref" href="#use_all" title='use_all' data-use='r' data-ref="use_all" data-ref-filename="use_all">use_all</a> &amp;&amp; <a class="local col9 ref" href="#19ff" title='ff' data-ref="19ff" data-ref-filename="19ff">ff</a>-&gt;<a class="ref field" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#_ftsent::fts_level" title='_ftsent::fts_level' data-ref="_ftsent::fts_level" data-ref-filename="_ftsent..fts_level">fts_level</a> &lt; <var>2</var>) {</td></tr>
<tr><th id="637">637</th><td>				<b>if</b> (<a class="tu ref" href="#warnings" title='warnings' data-use='r' data-ref="warnings" data-ref-filename="warnings">warnings</a>)</td></tr>
<tr><th id="638">638</th><td>					<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col7 ref" href="#27path" title='path' data-ref="27path" data-ref-filename="27path">path</a>, <q>"Extraneous file"</q>);</td></tr>
<tr><th id="639">639</th><td>				<b>continue</b>;</td></tr>
<tr><th id="640">640</th><td>			}</td></tr>
<tr><th id="641">641</th><td>			<a class="local col1 ref" href="#21gzip" title='gzip' data-ref="21gzip" data-ref-filename="21gzip">gzip</a> = <var>0</var>;</td></tr>
<tr><th id="642">642</th><td>			<a class="local col5 ref" href="#25fsec" title='fsec' data-ref="25fsec" data-ref-filename="25fsec">fsec</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="643">643</th><td>			<b>while</b> (<a class="local col5 ref" href="#25fsec" title='fsec' data-ref="25fsec" data-ref-filename="25fsec">fsec</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="644">644</th><td>				<a class="local col5 ref" href="#25fsec" title='fsec' data-ref="25fsec" data-ref-filename="25fsec">fsec</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strrchr" title='strrchr' data-ref="strrchr" data-ref-filename="strrchr">strrchr</a>(<a class="local col9 ref" href="#19ff" title='ff' data-ref="19ff" data-ref-filename="19ff">ff</a>-&gt;<a class="ref field" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#_ftsent::fts_name" title='_ftsent::fts_name' data-ref="_ftsent::fts_name" data-ref-filename="_ftsent..fts_name">fts_name</a>, <kbd>'.'</kbd>);</td></tr>
<tr><th id="645">645</th><td>				<b>if</b> (<a class="local col5 ref" href="#25fsec" title='fsec' data-ref="25fsec" data-ref-filename="25fsec">fsec</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> || <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a>(<a class="local col5 ref" href="#25fsec" title='fsec' data-ref="25fsec" data-ref-filename="25fsec">fsec</a>+<var>1</var>, <q>"gz"</q>))</td></tr>
<tr><th id="646">646</th><td>					<b>break</b>;</td></tr>
<tr><th id="647">647</th><td>				<a class="local col1 ref" href="#21gzip" title='gzip' data-ref="21gzip" data-ref-filename="21gzip">gzip</a> = <var>1</var>;</td></tr>
<tr><th id="648">648</th><td>				*<a class="local col5 ref" href="#25fsec" title='fsec' data-ref="25fsec" data-ref-filename="25fsec">fsec</a> = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="649">649</th><td>				<a class="local col5 ref" href="#25fsec" title='fsec' data-ref="25fsec" data-ref-filename="25fsec">fsec</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="650">650</th><td>			}</td></tr>
<tr><th id="651">651</th><td>			<b>if</b> (<a class="local col5 ref" href="#25fsec" title='fsec' data-ref="25fsec" data-ref-filename="25fsec">fsec</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="652">652</th><td>				<b>if</b> ( ! <a class="tu ref" href="#use_all" title='use_all' data-use='r' data-ref="use_all" data-ref-filename="use_all">use_all</a>) {</td></tr>
<tr><th id="653">653</th><td>					<b>if</b> (<a class="tu ref" href="#warnings" title='warnings' data-use='r' data-ref="warnings" data-ref-filename="warnings">warnings</a>)</td></tr>
<tr><th id="654">654</th><td>						<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col7 ref" href="#27path" title='path' data-ref="27path" data-ref-filename="27path">path</a>,</td></tr>
<tr><th id="655">655</th><td>						    <q>"No filename suffix"</q>);</td></tr>
<tr><th id="656">656</th><td>					<b>continue</b>;</td></tr>
<tr><th id="657">657</th><td>				}</td></tr>
<tr><th id="658">658</th><td>			} <b>else</b> <b>if</b> ( ! <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a>(++<a class="local col5 ref" href="#25fsec" title='fsec' data-ref="25fsec" data-ref-filename="25fsec">fsec</a>, <q>"html"</q>)) {</td></tr>
<tr><th id="659">659</th><td>				<b>if</b> (<a class="tu ref" href="#warnings" title='warnings' data-use='r' data-ref="warnings" data-ref-filename="warnings">warnings</a>)</td></tr>
<tr><th id="660">660</th><td>					<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col7 ref" href="#27path" title='path' data-ref="27path" data-ref-filename="27path">path</a>, <q>"Skip html"</q>);</td></tr>
<tr><th id="661">661</th><td>				<b>continue</b>;</td></tr>
<tr><th id="662">662</th><td>			} <b>else</b> <b>if</b> ( ! <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a>(<a class="local col5 ref" href="#25fsec" title='fsec' data-ref="25fsec" data-ref-filename="25fsec">fsec</a>, <q>"ps"</q>)) {</td></tr>
<tr><th id="663">663</th><td>				<b>if</b> (<a class="tu ref" href="#warnings" title='warnings' data-use='r' data-ref="warnings" data-ref-filename="warnings">warnings</a>)</td></tr>
<tr><th id="664">664</th><td>					<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col7 ref" href="#27path" title='path' data-ref="27path" data-ref-filename="27path">path</a>, <q>"Skip ps"</q>);</td></tr>
<tr><th id="665">665</th><td>				<b>continue</b>;</td></tr>
<tr><th id="666">666</th><td>			} <b>else</b> <b>if</b> ( ! <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a>(<a class="local col5 ref" href="#25fsec" title='fsec' data-ref="25fsec" data-ref-filename="25fsec">fsec</a>, <q>"pdf"</q>)) {</td></tr>
<tr><th id="667">667</th><td>				<b>if</b> (<a class="tu ref" href="#warnings" title='warnings' data-use='r' data-ref="warnings" data-ref-filename="warnings">warnings</a>)</td></tr>
<tr><th id="668">668</th><td>					<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col7 ref" href="#27path" title='path' data-ref="27path" data-ref-filename="27path">path</a>, <q>"Skip pdf"</q>);</td></tr>
<tr><th id="669">669</th><td>				<b>continue</b>;</td></tr>
<tr><th id="670">670</th><td>			} <b>else</b> <b>if</b> ( ! <a class="tu ref" href="#use_all" title='use_all' data-use='r' data-ref="use_all" data-ref-filename="use_all">use_all</a> &amp;&amp;</td></tr>
<tr><th id="671">671</th><td>			    ((<a class="local col2 ref" href="#22dform" title='dform' data-ref="22dform" data-ref-filename="22dform">dform</a> == <a class="enum" href="mansearch.h.html#FORM_SRC" title='FORM_SRC' data-ref="FORM_SRC" data-ref-filename="FORM_SRC">FORM_SRC</a> &amp;&amp;</td></tr>
<tr><th id="672">672</th><td>			      <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strncmp" title='strncmp' data-ref="strncmp" data-ref-filename="strncmp">strncmp</a>(<a class="local col5 ref" href="#25fsec" title='fsec' data-ref="25fsec" data-ref-filename="25fsec">fsec</a>, <a class="local col3 ref" href="#23dsec" title='dsec' data-ref="23dsec" data-ref-filename="23dsec">dsec</a>, <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a>(<a class="local col3 ref" href="#23dsec" title='dsec' data-ref="23dsec" data-ref-filename="23dsec">dsec</a>))) ||</td></tr>
<tr><th id="673">673</th><td>			     (<a class="local col2 ref" href="#22dform" title='dform' data-ref="22dform" data-ref-filename="22dform">dform</a> == <a class="enum" href="mansearch.h.html#FORM_CAT" title='FORM_CAT' data-ref="FORM_CAT" data-ref-filename="FORM_CAT">FORM_CAT</a> &amp;&amp; <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a>(<a class="local col5 ref" href="#25fsec" title='fsec' data-ref="25fsec" data-ref-filename="25fsec">fsec</a>, <q>"0"</q>)))) {</td></tr>
<tr><th id="674">674</th><td>				<b>if</b> (<a class="tu ref" href="#warnings" title='warnings' data-use='r' data-ref="warnings" data-ref-filename="warnings">warnings</a>)</td></tr>
<tr><th id="675">675</th><td>					<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col7 ref" href="#27path" title='path' data-ref="27path" data-ref-filename="27path">path</a>, <q>"Wrong filename suffix"</q>);</td></tr>
<tr><th id="676">676</th><td>				<b>continue</b>;</td></tr>
<tr><th id="677">677</th><td>			} <b>else</b></td></tr>
<tr><th id="678">678</th><td>				<a class="local col5 ref" href="#25fsec" title='fsec' data-ref="25fsec" data-ref-filename="25fsec">fsec</a>[-<var>1</var>] = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="679">679</th><td></td></tr>
<tr><th id="680">680</th><td>			<a class="local col0 ref" href="#20mlink" title='mlink' data-ref="20mlink" data-ref-filename="20mlink">mlink</a> = <a class="ref fn" href="mandoc_aux.h.html#mandoc_calloc" title='mandoc_calloc' data-ref="mandoc_calloc" data-ref-filename="mandoc_calloc">mandoc_calloc</a>(<var>1</var>, <b>sizeof</b>(<b>struct</b> <a class="type" href="#mlink" title='mlink' data-ref="mlink" data-ref-filename="mlink">mlink</a>));</td></tr>
<tr><th id="681">681</th><td>			<b>if</b> (<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlcpy" title='strlcpy' data-ref="strlcpy" data-ref-filename="strlcpy">strlcpy</a>(<a class="local col0 ref" href="#20mlink" title='mlink' data-ref="20mlink" data-ref-filename="20mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>, <a class="local col7 ref" href="#27path" title='path' data-ref="27path" data-ref-filename="27path">path</a>,</td></tr>
<tr><th id="682">682</th><td>			    <b>sizeof</b>(<a class="local col0 ref" href="#20mlink" title='mlink' data-ref="20mlink" data-ref-filename="20mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>)) &gt;=</td></tr>
<tr><th id="683">683</th><td>			    <b>sizeof</b>(<a class="local col0 ref" href="#20mlink" title='mlink' data-ref="20mlink" data-ref-filename="20mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>)) {</td></tr>
<tr><th id="684">684</th><td>				<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col7 ref" href="#27path" title='path' data-ref="27path" data-ref-filename="27path">path</a>, <q>"Filename too long"</q>);</td></tr>
<tr><th id="685">685</th><td>				<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col0 ref" href="#20mlink" title='mlink' data-ref="20mlink" data-ref-filename="20mlink">mlink</a>);</td></tr>
<tr><th id="686">686</th><td>				<b>continue</b>;</td></tr>
<tr><th id="687">687</th><td>			}</td></tr>
<tr><th id="688">688</th><td>			<a class="local col0 ref" href="#20mlink" title='mlink' data-ref="20mlink" data-ref-filename="20mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::dform" title='mlink::dform' data-use='w' data-ref="mlink::dform" data-ref-filename="mlink..dform">dform</a> = <a class="local col2 ref" href="#22dform" title='dform' data-ref="22dform" data-ref-filename="22dform">dform</a>;</td></tr>
<tr><th id="689">689</th><td>			<a class="local col0 ref" href="#20mlink" title='mlink' data-ref="20mlink" data-ref-filename="20mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::dsec" title='mlink::dsec' data-use='w' data-ref="mlink::dsec" data-ref-filename="mlink..dsec">dsec</a> = <a class="local col3 ref" href="#23dsec" title='dsec' data-ref="23dsec" data-ref-filename="23dsec">dsec</a>;</td></tr>
<tr><th id="690">690</th><td>			<a class="local col0 ref" href="#20mlink" title='mlink' data-ref="20mlink" data-ref-filename="20mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::arch" title='mlink::arch' data-use='w' data-ref="mlink::arch" data-ref-filename="mlink..arch">arch</a> = <a class="local col4 ref" href="#24arch" title='arch' data-ref="24arch" data-ref-filename="24arch">arch</a>;</td></tr>
<tr><th id="691">691</th><td>			<a class="local col0 ref" href="#20mlink" title='mlink' data-ref="20mlink" data-ref-filename="20mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::name" title='mlink::name' data-use='w' data-ref="mlink::name" data-ref-filename="mlink..name">name</a> = <a class="local col9 ref" href="#19ff" title='ff' data-ref="19ff" data-ref-filename="19ff">ff</a>-&gt;<a class="ref field" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#_ftsent::fts_name" title='_ftsent::fts_name' data-ref="_ftsent::fts_name" data-ref-filename="_ftsent..fts_name">fts_name</a>;</td></tr>
<tr><th id="692">692</th><td>			<a class="local col0 ref" href="#20mlink" title='mlink' data-ref="20mlink" data-ref-filename="20mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::fsec" title='mlink::fsec' data-use='w' data-ref="mlink::fsec" data-ref-filename="mlink..fsec">fsec</a> = <a class="local col5 ref" href="#25fsec" title='fsec' data-ref="25fsec" data-ref-filename="25fsec">fsec</a>;</td></tr>
<tr><th id="693">693</th><td>			<a class="local col0 ref" href="#20mlink" title='mlink' data-ref="20mlink" data-ref-filename="20mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::gzip" title='mlink::gzip' data-use='w' data-ref="mlink::gzip" data-ref-filename="mlink..gzip">gzip</a> = <a class="local col1 ref" href="#21gzip" title='gzip' data-ref="21gzip" data-ref-filename="21gzip">gzip</a>;</td></tr>
<tr><th id="694">694</th><td>			<a class="tu ref fn" href="#mlink_add" title='mlink_add' data-use='c' data-ref="mlink_add" data-ref-filename="mlink_add">mlink_add</a>(<a class="local col0 ref" href="#20mlink" title='mlink' data-ref="20mlink" data-ref-filename="20mlink">mlink</a>, <a class="local col9 ref" href="#19ff" title='ff' data-ref="19ff" data-ref-filename="19ff">ff</a>-&gt;<a class="ref field" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#_ftsent::fts_statp" title='_ftsent::fts_statp' data-ref="_ftsent::fts_statp" data-ref-filename="_ftsent..fts_statp">fts_statp</a>);</td></tr>
<tr><th id="695">695</th><td>			<b>continue</b>;</td></tr>
<tr><th id="696">696</th><td></td></tr>
<tr><th id="697">697</th><td>		<b>case</b> <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#107" title="1" data-ref="_M/FTS_D">FTS_D</a>:</td></tr>
<tr><th id="698">698</th><td>		<b>case</b> <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#112" title="6" data-ref="_M/FTS_DP">FTS_DP</a>:</td></tr>
<tr><th id="699">699</th><td>			<b>break</b>;</td></tr>
<tr><th id="700">700</th><td></td></tr>
<tr><th id="701">701</th><td>		<b>default</b>:</td></tr>
<tr><th id="702">702</th><td>			<b>if</b> (<a class="tu ref" href="#warnings" title='warnings' data-use='r' data-ref="warnings" data-ref-filename="warnings">warnings</a>)</td></tr>
<tr><th id="703">703</th><td>				<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col7 ref" href="#27path" title='path' data-ref="27path" data-ref-filename="27path">path</a>, <q>"Not a regular file"</q>);</td></tr>
<tr><th id="704">704</th><td>			<b>continue</b>;</td></tr>
<tr><th id="705">705</th><td>		}</td></tr>
<tr><th id="706">706</th><td></td></tr>
<tr><th id="707">707</th><td>		<b>switch</b> (<a class="local col9 ref" href="#19ff" title='ff' data-ref="19ff" data-ref-filename="19ff">ff</a>-&gt;<a class="ref field" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#_ftsent::fts_level" title='_ftsent::fts_level' data-ref="_ftsent::fts_level" data-ref-filename="_ftsent..fts_level">fts_level</a>) {</td></tr>
<tr><th id="708">708</th><td>		<b>case</b> <var>0</var>:</td></tr>
<tr><th id="709">709</th><td>			<i>/* Ignore the root directory. */</i></td></tr>
<tr><th id="710">710</th><td>			<b>break</b>;</td></tr>
<tr><th id="711">711</th><td>		<b>case</b> <var>1</var>:</td></tr>
<tr><th id="712">712</th><td>			<i>/*</i></td></tr>
<tr><th id="713">713</th><td><i>			 * This might contain manX/ or catX/.</i></td></tr>
<tr><th id="714">714</th><td><i>			 * Try to infer this from the name.</i></td></tr>
<tr><th id="715">715</th><td><i>			 * If we're not in use_all, enforce it.</i></td></tr>
<tr><th id="716">716</th><td><i>			 */</i></td></tr>
<tr><th id="717">717</th><td>			<a class="local col6 ref" href="#26cp" title='cp' data-ref="26cp" data-ref-filename="26cp">cp</a> = <a class="local col9 ref" href="#19ff" title='ff' data-ref="19ff" data-ref-filename="19ff">ff</a>-&gt;<a class="ref field" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#_ftsent::fts_name" title='_ftsent::fts_name' data-ref="_ftsent::fts_name" data-ref-filename="_ftsent..fts_name">fts_name</a>;</td></tr>
<tr><th id="718">718</th><td>			<b>if</b> (<a class="local col9 ref" href="#19ff" title='ff' data-ref="19ff" data-ref-filename="19ff">ff</a>-&gt;<a class="ref field" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#_ftsent::fts_info" title='_ftsent::fts_info' data-ref="_ftsent::fts_info" data-ref-filename="_ftsent..fts_info">fts_info</a> == <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#112" title="6" data-ref="_M/FTS_DP">FTS_DP</a>) {</td></tr>
<tr><th id="719">719</th><td>				<a class="local col2 ref" href="#22dform" title='dform' data-ref="22dform" data-ref-filename="22dform">dform</a> = <a class="enum" href="mansearch.h.html#FORM_NONE" title='FORM_NONE' data-ref="FORM_NONE" data-ref-filename="FORM_NONE">FORM_NONE</a>;</td></tr>
<tr><th id="720">720</th><td>				<a class="local col3 ref" href="#23dsec" title='dsec' data-ref="23dsec" data-ref-filename="23dsec">dsec</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="721">721</th><td>				<b>break</b>;</td></tr>
<tr><th id="722">722</th><td>			}</td></tr>
<tr><th id="723">723</th><td></td></tr>
<tr><th id="724">724</th><td>			<b>if</b> ( ! <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strncmp" title='strncmp' data-ref="strncmp" data-ref-filename="strncmp">strncmp</a>(<a class="local col6 ref" href="#26cp" title='cp' data-ref="26cp" data-ref-filename="26cp">cp</a>, <q>"man"</q>, <var>3</var>)) {</td></tr>
<tr><th id="725">725</th><td>				<a class="local col2 ref" href="#22dform" title='dform' data-ref="22dform" data-ref-filename="22dform">dform</a> = <a class="enum" href="mansearch.h.html#FORM_SRC" title='FORM_SRC' data-ref="FORM_SRC" data-ref-filename="FORM_SRC">FORM_SRC</a>;</td></tr>
<tr><th id="726">726</th><td>				<a class="local col3 ref" href="#23dsec" title='dsec' data-ref="23dsec" data-ref-filename="23dsec">dsec</a> = <a class="local col6 ref" href="#26cp" title='cp' data-ref="26cp" data-ref-filename="26cp">cp</a> + <var>3</var>;</td></tr>
<tr><th id="727">727</th><td>			} <b>else</b> <b>if</b> ( ! <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strncmp" title='strncmp' data-ref="strncmp" data-ref-filename="strncmp">strncmp</a>(<a class="local col6 ref" href="#26cp" title='cp' data-ref="26cp" data-ref-filename="26cp">cp</a>, <q>"cat"</q>, <var>3</var>)) {</td></tr>
<tr><th id="728">728</th><td>				<a class="local col2 ref" href="#22dform" title='dform' data-ref="22dform" data-ref-filename="22dform">dform</a> = <a class="enum" href="mansearch.h.html#FORM_CAT" title='FORM_CAT' data-ref="FORM_CAT" data-ref-filename="FORM_CAT">FORM_CAT</a>;</td></tr>
<tr><th id="729">729</th><td>				<a class="local col3 ref" href="#23dsec" title='dsec' data-ref="23dsec" data-ref-filename="23dsec">dsec</a> = <a class="local col6 ref" href="#26cp" title='cp' data-ref="26cp" data-ref-filename="26cp">cp</a> + <var>3</var>;</td></tr>
<tr><th id="730">730</th><td>			} <b>else</b> {</td></tr>
<tr><th id="731">731</th><td>				<a class="local col2 ref" href="#22dform" title='dform' data-ref="22dform" data-ref-filename="22dform">dform</a> = <a class="enum" href="mansearch.h.html#FORM_NONE" title='FORM_NONE' data-ref="FORM_NONE" data-ref-filename="FORM_NONE">FORM_NONE</a>;</td></tr>
<tr><th id="732">732</th><td>				<a class="local col3 ref" href="#23dsec" title='dsec' data-ref="23dsec" data-ref-filename="23dsec">dsec</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="733">733</th><td>			}</td></tr>
<tr><th id="734">734</th><td></td></tr>
<tr><th id="735">735</th><td>			<b>if</b> (<a class="local col3 ref" href="#23dsec" title='dsec' data-ref="23dsec" data-ref-filename="23dsec">dsec</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> || <a class="tu ref" href="#use_all" title='use_all' data-use='r' data-ref="use_all" data-ref-filename="use_all">use_all</a>)</td></tr>
<tr><th id="736">736</th><td>				<b>break</b>;</td></tr>
<tr><th id="737">737</th><td></td></tr>
<tr><th id="738">738</th><td>			<b>if</b> (<a class="tu ref" href="#warnings" title='warnings' data-use='r' data-ref="warnings" data-ref-filename="warnings">warnings</a>)</td></tr>
<tr><th id="739">739</th><td>				<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col7 ref" href="#27path" title='path' data-ref="27path" data-ref-filename="27path">path</a>, <q>"Unknown directory part"</q>);</td></tr>
<tr><th id="740">740</th><td>			<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#__fts_set60" title='fts_set' data-ref="__fts_set60" data-ref-filename="__fts_set60">fts_set</a>(<a class="local col8 ref" href="#18f" title='f' data-ref="18f" data-ref-filename="18f">f</a>, <a class="local col9 ref" href="#19ff" title='ff' data-ref="19ff" data-ref-filename="19ff">ff</a>, <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#131" title="4" data-ref="_M/FTS_SKIP">FTS_SKIP</a>);</td></tr>
<tr><th id="741">741</th><td>			<b>break</b>;</td></tr>
<tr><th id="742">742</th><td>		<b>case</b> <var>2</var>:</td></tr>
<tr><th id="743">743</th><td>			<i>/*</i></td></tr>
<tr><th id="744">744</th><td><i>			 * Possibly our architecture.</i></td></tr>
<tr><th id="745">745</th><td><i>			 * If we're descending, keep tabs on it.</i></td></tr>
<tr><th id="746">746</th><td><i>			 */</i></td></tr>
<tr><th id="747">747</th><td>			<b>if</b> (<a class="local col9 ref" href="#19ff" title='ff' data-ref="19ff" data-ref-filename="19ff">ff</a>-&gt;<a class="ref field" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#_ftsent::fts_info" title='_ftsent::fts_info' data-ref="_ftsent::fts_info" data-ref-filename="_ftsent..fts_info">fts_info</a> != <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#112" title="6" data-ref="_M/FTS_DP">FTS_DP</a> &amp;&amp; <a class="local col3 ref" href="#23dsec" title='dsec' data-ref="23dsec" data-ref-filename="23dsec">dsec</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="748">748</th><td>				<a class="local col4 ref" href="#24arch" title='arch' data-ref="24arch" data-ref-filename="24arch">arch</a> = <a class="local col9 ref" href="#19ff" title='ff' data-ref="19ff" data-ref-filename="19ff">ff</a>-&gt;<a class="ref field" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#_ftsent::fts_name" title='_ftsent::fts_name' data-ref="_ftsent::fts_name" data-ref-filename="_ftsent..fts_name">fts_name</a>;</td></tr>
<tr><th id="749">749</th><td>			<b>else</b></td></tr>
<tr><th id="750">750</th><td>				<a class="local col4 ref" href="#24arch" title='arch' data-ref="24arch" data-ref-filename="24arch">arch</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="751">751</th><td>			<b>break</b>;</td></tr>
<tr><th id="752">752</th><td>		<b>default</b>:</td></tr>
<tr><th id="753">753</th><td>			<b>if</b> (<a class="local col9 ref" href="#19ff" title='ff' data-ref="19ff" data-ref-filename="19ff">ff</a>-&gt;<a class="ref field" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#_ftsent::fts_info" title='_ftsent::fts_info' data-ref="_ftsent::fts_info" data-ref-filename="_ftsent..fts_info">fts_info</a> == <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#112" title="6" data-ref="_M/FTS_DP">FTS_DP</a> || <a class="tu ref" href="#use_all" title='use_all' data-use='r' data-ref="use_all" data-ref-filename="use_all">use_all</a>)</td></tr>
<tr><th id="754">754</th><td>				<b>break</b>;</td></tr>
<tr><th id="755">755</th><td>			<b>if</b> (<a class="tu ref" href="#warnings" title='warnings' data-use='r' data-ref="warnings" data-ref-filename="warnings">warnings</a>)</td></tr>
<tr><th id="756">756</th><td>				<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col7 ref" href="#27path" title='path' data-ref="27path" data-ref-filename="27path">path</a>, <q>"Extraneous directory part"</q>);</td></tr>
<tr><th id="757">757</th><td>			<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#__fts_set60" title='fts_set' data-ref="__fts_set60" data-ref-filename="__fts_set60">fts_set</a>(<a class="local col8 ref" href="#18f" title='f' data-ref="18f" data-ref-filename="18f">f</a>, <a class="local col9 ref" href="#19ff" title='ff' data-ref="19ff" data-ref-filename="19ff">ff</a>, <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#131" title="4" data-ref="_M/FTS_SKIP">FTS_SKIP</a>);</td></tr>
<tr><th id="758">758</th><td>			<b>break</b>;</td></tr>
<tr><th id="759">759</th><td>		}</td></tr>
<tr><th id="760">760</th><td>	}</td></tr>
<tr><th id="761">761</th><td></td></tr>
<tr><th id="762">762</th><td>	<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/fts.h.html#__fts_close60" title='fts_close' data-ref="__fts_close60" data-ref-filename="__fts_close60">fts_close</a>(<a class="local col8 ref" href="#18f" title='f' data-ref="18f" data-ref-filename="18f">f</a>);</td></tr>
<tr><th id="763">763</th><td>	<b>return</b> <var>1</var>;</td></tr>
<tr><th id="764">764</th><td>}</td></tr>
<tr><th id="765">765</th><td></td></tr>
<tr><th id="766">766</th><td><i  data-doc="filescan">/*</i></td></tr>
<tr><th id="767">767</th><td><i  data-doc="filescan"> * Add a file to the mlinks table.</i></td></tr>
<tr><th id="768">768</th><td><i  data-doc="filescan"> * Do not verify that it's a "valid" looking manpage (we'll do that</i></td></tr>
<tr><th id="769">769</th><td><i  data-doc="filescan"> * later).</i></td></tr>
<tr><th id="770">770</th><td><i  data-doc="filescan"> *</i></td></tr>
<tr><th id="771">771</th><td><i  data-doc="filescan"> * Try to infer the manual section, architecture, and page name from the</i></td></tr>
<tr><th id="772">772</th><td><i  data-doc="filescan"> * path, assuming it looks like</i></td></tr>
<tr><th id="773">773</th><td><i  data-doc="filescan"> *</i></td></tr>
<tr><th id="774">774</th><td><i  data-doc="filescan"> *   [./]man*[/&lt;arch&gt;]/&lt;name&gt;.&lt;section&gt;</i></td></tr>
<tr><th id="775">775</th><td><i  data-doc="filescan"> *   or</i></td></tr>
<tr><th id="776">776</th><td><i  data-doc="filescan"> *   [./]cat&lt;section&gt;[/&lt;arch&gt;]/&lt;name&gt;.0</i></td></tr>
<tr><th id="777">777</th><td><i  data-doc="filescan"> *</i></td></tr>
<tr><th id="778">778</th><td><i  data-doc="filescan"> * See treescan() for the fts(3) version of this.</i></td></tr>
<tr><th id="779">779</th><td><i  data-doc="filescan"> */</i></td></tr>
<tr><th id="780">780</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="781">781</th><td><dfn class="tu decl def fn" id="filescan" title='filescan' data-type='void filescan(const char * file)' data-ref="filescan" data-ref-filename="filescan">filescan</dfn>(<em>const</em> <em>char</em> *<dfn class="local col9 decl" id="29file" title='file' data-type='const char *' data-ref="29file" data-ref-filename="29file">file</dfn>)</td></tr>
<tr><th id="782">782</th><td>{</td></tr>
<tr><th id="783">783</th><td>	<em>char</em>		 <dfn class="local col0 decl" id="30buf" title='buf' data-type='char [1024]' data-ref="30buf" data-ref-filename="30buf">buf</dfn>[<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/syslimits.h.html#60" title="1024" data-ref="_M/PATH_MAX">PATH_MAX</a>];</td></tr>
<tr><th id="784">784</th><td>	<b>struct</b> <a class="type" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/stat.h.html#stat" title='stat' data-ref="stat" data-ref-filename="stat">stat</a>	 <dfn class="local col1 decl" id="31st" title='st' data-type='struct stat' data-ref="31st" data-ref-filename="31st">st</dfn>;</td></tr>
<tr><th id="785">785</th><td>	<b>struct</b> <a class="type" href="#mlink" title='mlink' data-ref="mlink" data-ref-filename="mlink">mlink</a>	*<dfn class="local col2 decl" id="32mlink" title='mlink' data-type='struct mlink *' data-ref="32mlink" data-ref-filename="32mlink">mlink</dfn>;</td></tr>
<tr><th id="786">786</th><td>	<em>char</em>		*<dfn class="local col3 decl" id="33p" title='p' data-type='char *' data-ref="33p" data-ref-filename="33p">p</dfn>, *<dfn class="local col4 decl" id="34start" title='start' data-type='char *' data-ref="34start" data-ref-filename="34start">start</dfn>;</td></tr>
<tr><th id="787">787</th><td></td></tr>
<tr><th id="788">788</th><td>	<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/assert.h.html#58" title="((use_all) ? (void)0 : __assert13(&quot;/___NETBSD_SRC___/objdir.amd64/external/bsd/mdocml/bin/mandoc/../../../../../../external/bsd/mdocml/dist/mandocdb.c&quot;, 788, __func__, &quot;use_all&quot;))" data-ref="_M/assert">assert</a>(<a class="tu ref" href="#use_all" title='use_all' data-use='r' data-ref="use_all" data-ref-filename="use_all">use_all</a>);</td></tr>
<tr><th id="789">789</th><td></td></tr>
<tr><th id="790">790</th><td>	<b>if</b> (<var>0</var> == <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strncmp" title='strncmp' data-ref="strncmp" data-ref-filename="strncmp">strncmp</a>(<a class="local col9 ref" href="#29file" title='file' data-ref="29file" data-ref-filename="29file">file</a>, <q>"./"</q>, <var>2</var>))</td></tr>
<tr><th id="791">791</th><td>		<a class="local col9 ref" href="#29file" title='file' data-ref="29file" data-ref-filename="29file">file</a> += <var>2</var>;</td></tr>
<tr><th id="792">792</th><td></td></tr>
<tr><th id="793">793</th><td>	<i>/*</i></td></tr>
<tr><th id="794">794</th><td><i>	 * We have to do lstat(2) before realpath(3) loses</i></td></tr>
<tr><th id="795">795</th><td><i>	 * the information whether this is a symbolic link.</i></td></tr>
<tr><th id="796">796</th><td><i>	 * We need to know that because for symbolic links,</i></td></tr>
<tr><th id="797">797</th><td><i>	 * we want to use the orginal file name, while for</i></td></tr>
<tr><th id="798">798</th><td><i>	 * regular files, we want to use the real path.</i></td></tr>
<tr><th id="799">799</th><td><i>	 */</i></td></tr>
<tr><th id="800">800</th><td>	<b>if</b> (-<var>1</var> == <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/stat.h.html#__lstat50" title='lstat' data-ref="__lstat50" data-ref-filename="__lstat50">lstat</a>(<a class="local col9 ref" href="#29file" title='file' data-ref="29file" data-ref-filename="29file">file</a>, &amp;<a class="local col1 ref" href="#31st" title='st' data-ref="31st" data-ref-filename="31st">st</a>)) {</td></tr>
<tr><th id="801">801</th><td>		<a class="tu ref" href="#exitcode" title='exitcode' data-use='w' data-ref="exitcode" data-ref-filename="exitcode">exitcode</a> = (<em>int</em>)<a class="enum" href="mandoc.h.html#MANDOCLEVEL_BADARG" title='MANDOCLEVEL_BADARG' data-ref="MANDOCLEVEL_BADARG" data-ref-filename="MANDOCLEVEL_BADARG">MANDOCLEVEL_BADARG</a>;</td></tr>
<tr><th id="802">802</th><td>		<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col9 ref" href="#29file" title='file' data-ref="29file" data-ref-filename="29file">file</a>, <q>"&amp;lstat"</q>);</td></tr>
<tr><th id="803">803</th><td>		<b>return</b>;</td></tr>
<tr><th id="804">804</th><td>	} <b>else</b> <b>if</b> (<var>0</var> == ((<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/stat.h.html#157" title="0100000" data-ref="_M/S_IFREG">S_IFREG</a> | <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/stat.h.html#158" title="0120000" data-ref="_M/S_IFLNK">S_IFLNK</a>) &amp; <a class="local col1 ref" href="#31st" title='st' data-ref="31st" data-ref-filename="31st">st</a>.<a class="ref field" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/stat.h.html#stat::st_mode" title='stat::st_mode' data-ref="stat::st_mode" data-ref-filename="stat..st_mode">st_mode</a>)) {</td></tr>
<tr><th id="805">805</th><td>		<a class="tu ref" href="#exitcode" title='exitcode' data-use='w' data-ref="exitcode" data-ref-filename="exitcode">exitcode</a> = (<em>int</em>)<a class="enum" href="mandoc.h.html#MANDOCLEVEL_BADARG" title='MANDOCLEVEL_BADARG' data-ref="MANDOCLEVEL_BADARG" data-ref-filename="MANDOCLEVEL_BADARG">MANDOCLEVEL_BADARG</a>;</td></tr>
<tr><th id="806">806</th><td>		<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col9 ref" href="#29file" title='file' data-ref="29file" data-ref-filename="29file">file</a>, <q>"Not a regular file"</q>);</td></tr>
<tr><th id="807">807</th><td>		<b>return</b>;</td></tr>
<tr><th id="808">808</th><td>	}</td></tr>
<tr><th id="809">809</th><td></td></tr>
<tr><th id="810">810</th><td>	<i>/*</i></td></tr>
<tr><th id="811">811</th><td><i>	 * We have to resolve the file name to the real path</i></td></tr>
<tr><th id="812">812</th><td><i>	 * in any case for the base directory check.</i></td></tr>
<tr><th id="813">813</th><td><i>	 */</i></td></tr>
<tr><th id="814">814</th><td>	<b>if</b> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> == <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#realpath" title='realpath' data-ref="realpath" data-ref-filename="realpath">realpath</a>(<a class="local col9 ref" href="#29file" title='file' data-ref="29file" data-ref-filename="29file">file</a>, <a class="local col0 ref" href="#30buf" title='buf' data-ref="30buf" data-ref-filename="30buf">buf</a>)) {</td></tr>
<tr><th id="815">815</th><td>		<a class="tu ref" href="#exitcode" title='exitcode' data-use='w' data-ref="exitcode" data-ref-filename="exitcode">exitcode</a> = (<em>int</em>)<a class="enum" href="mandoc.h.html#MANDOCLEVEL_BADARG" title='MANDOCLEVEL_BADARG' data-ref="MANDOCLEVEL_BADARG" data-ref-filename="MANDOCLEVEL_BADARG">MANDOCLEVEL_BADARG</a>;</td></tr>
<tr><th id="816">816</th><td>		<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col9 ref" href="#29file" title='file' data-ref="29file" data-ref-filename="29file">file</a>, <q>"&amp;realpath"</q>);</td></tr>
<tr><th id="817">817</th><td>		<b>return</b>;</td></tr>
<tr><th id="818">818</th><td>	}</td></tr>
<tr><th id="819">819</th><td></td></tr>
<tr><th id="820">820</th><td>	<b>if</b> (<a class="enum" href="#OP_TEST" title='OP_TEST' data-ref="OP_TEST" data-ref-filename="OP_TEST">OP_TEST</a> == <a class="tu ref" href="#op" title='op' data-use='r' data-ref="op" data-ref-filename="op">op</a>)</td></tr>
<tr><th id="821">821</th><td>		<a class="local col4 ref" href="#34start" title='start' data-ref="34start" data-ref-filename="34start">start</a> = <a class="local col0 ref" href="#30buf" title='buf' data-ref="30buf" data-ref-filename="30buf">buf</a>;</td></tr>
<tr><th id="822">822</th><td>	<b>else</b> <b>if</b> (<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strstr" title='strstr' data-ref="strstr" data-ref-filename="strstr">strstr</a>(<a class="local col0 ref" href="#30buf" title='buf' data-ref="30buf" data-ref-filename="30buf">buf</a>, <a class="tu ref" href="#basedir" title='basedir' data-use='r' data-ref="basedir" data-ref-filename="basedir">basedir</a>) == <a class="local col0 ref" href="#30buf" title='buf' data-ref="30buf" data-ref-filename="30buf">buf</a>)</td></tr>
<tr><th id="823">823</th><td>		<a class="local col4 ref" href="#34start" title='start' data-ref="34start" data-ref-filename="34start">start</a> = <a class="local col0 ref" href="#30buf" title='buf' data-ref="30buf" data-ref-filename="30buf">buf</a> + <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a>(<a class="tu ref" href="#basedir" title='basedir' data-use='r' data-ref="basedir" data-ref-filename="basedir">basedir</a>);</td></tr>
<tr><th id="824">824</th><td><u>#<span data-ppcond="824">ifdef</span> <span class="macro" data-ref="_M/HOMEBREWDIR">HOMEBREWDIR</span></u></td></tr>
<tr><th id="825">825</th><td>	<b>else</b> <b>if</b> (strstr(buf, HOMEBREWDIR) == buf)</td></tr>
<tr><th id="826">826</th><td>		start = buf;</td></tr>
<tr><th id="827">827</th><td><u>#<span data-ppcond="824">endif</span></u></td></tr>
<tr><th id="828">828</th><td>	<b>else</b> {</td></tr>
<tr><th id="829">829</th><td>		<a class="tu ref" href="#exitcode" title='exitcode' data-use='w' data-ref="exitcode" data-ref-filename="exitcode">exitcode</a> = (<em>int</em>)<a class="enum" href="mandoc.h.html#MANDOCLEVEL_BADARG" title='MANDOCLEVEL_BADARG' data-ref="MANDOCLEVEL_BADARG" data-ref-filename="MANDOCLEVEL_BADARG">MANDOCLEVEL_BADARG</a>;</td></tr>
<tr><th id="830">830</th><td>		<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<q>""</q>, <q>"%s: outside base directory"</q>, <a class="local col0 ref" href="#30buf" title='buf' data-ref="30buf" data-ref-filename="30buf">buf</a>);</td></tr>
<tr><th id="831">831</th><td>		<b>return</b>;</td></tr>
<tr><th id="832">832</th><td>	}</td></tr>
<tr><th id="833">833</th><td></td></tr>
<tr><th id="834">834</th><td>	<i>/*</i></td></tr>
<tr><th id="835">835</th><td><i>	 * Now we are sure the file is inside our tree.</i></td></tr>
<tr><th id="836">836</th><td><i>	 * If it is a symbolic link, ignore the real path</i></td></tr>
<tr><th id="837">837</th><td><i>	 * and use the original name.</i></td></tr>
<tr><th id="838">838</th><td><i>	 * This implies passing stuff like "cat1/../man1/foo.1"</i></td></tr>
<tr><th id="839">839</th><td><i>	 * on the command line won't work.  So don't do that.</i></td></tr>
<tr><th id="840">840</th><td><i>	 * Note the stat(2) can still fail if the link target</i></td></tr>
<tr><th id="841">841</th><td><i>	 * doesn't exist.</i></td></tr>
<tr><th id="842">842</th><td><i>	 */</i></td></tr>
<tr><th id="843">843</th><td>	<b>if</b> (<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/stat.h.html#158" title="0120000" data-ref="_M/S_IFLNK">S_IFLNK</a> &amp; <a class="local col1 ref" href="#31st" title='st' data-ref="31st" data-ref-filename="31st">st</a>.<a class="ref field" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/stat.h.html#stat::st_mode" title='stat::st_mode' data-ref="stat::st_mode" data-ref-filename="stat..st_mode">st_mode</a>) {</td></tr>
<tr><th id="844">844</th><td>		<b>if</b> (-<var>1</var> == <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/stat.h.html#__stat50" title='stat' data-ref="__stat50" data-ref-filename="__stat50">stat</a>(<a class="local col0 ref" href="#30buf" title='buf' data-ref="30buf" data-ref-filename="30buf">buf</a>, &amp;<a class="local col1 ref" href="#31st" title='st' data-ref="31st" data-ref-filename="31st">st</a>)) {</td></tr>
<tr><th id="845">845</th><td>			<a class="tu ref" href="#exitcode" title='exitcode' data-use='w' data-ref="exitcode" data-ref-filename="exitcode">exitcode</a> = (<em>int</em>)<a class="enum" href="mandoc.h.html#MANDOCLEVEL_BADARG" title='MANDOCLEVEL_BADARG' data-ref="MANDOCLEVEL_BADARG" data-ref-filename="MANDOCLEVEL_BADARG">MANDOCLEVEL_BADARG</a>;</td></tr>
<tr><th id="846">846</th><td>			<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col9 ref" href="#29file" title='file' data-ref="29file" data-ref-filename="29file">file</a>, <q>"&amp;stat"</q>);</td></tr>
<tr><th id="847">847</th><td>			<b>return</b>;</td></tr>
<tr><th id="848">848</th><td>		}</td></tr>
<tr><th id="849">849</th><td>		<b>if</b> (<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlcpy" title='strlcpy' data-ref="strlcpy" data-ref-filename="strlcpy">strlcpy</a>(<a class="local col0 ref" href="#30buf" title='buf' data-ref="30buf" data-ref-filename="30buf">buf</a>, <a class="local col9 ref" href="#29file" title='file' data-ref="29file" data-ref-filename="29file">file</a>, <b>sizeof</b>(<a class="local col0 ref" href="#30buf" title='buf' data-ref="30buf" data-ref-filename="30buf">buf</a>)) &gt;= <b>sizeof</b>(<a class="local col0 ref" href="#30buf" title='buf' data-ref="30buf" data-ref-filename="30buf">buf</a>)) {</td></tr>
<tr><th id="850">850</th><td>			<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col9 ref" href="#29file" title='file' data-ref="29file" data-ref-filename="29file">file</a>, <q>"Filename too long"</q>);</td></tr>
<tr><th id="851">851</th><td>			<b>return</b>;</td></tr>
<tr><th id="852">852</th><td>		}</td></tr>
<tr><th id="853">853</th><td>		<a class="local col4 ref" href="#34start" title='start' data-ref="34start" data-ref-filename="34start">start</a> = <a class="local col0 ref" href="#30buf" title='buf' data-ref="30buf" data-ref-filename="30buf">buf</a>;</td></tr>
<tr><th id="854">854</th><td>		<b>if</b> (<a class="enum" href="#OP_TEST" title='OP_TEST' data-ref="OP_TEST" data-ref-filename="OP_TEST">OP_TEST</a> != <a class="tu ref" href="#op" title='op' data-use='r' data-ref="op" data-ref-filename="op">op</a> &amp;&amp; <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strstr" title='strstr' data-ref="strstr" data-ref-filename="strstr">strstr</a>(<a class="local col0 ref" href="#30buf" title='buf' data-ref="30buf" data-ref-filename="30buf">buf</a>, <a class="tu ref" href="#basedir" title='basedir' data-use='r' data-ref="basedir" data-ref-filename="basedir">basedir</a>) == <a class="local col0 ref" href="#30buf" title='buf' data-ref="30buf" data-ref-filename="30buf">buf</a>)</td></tr>
<tr><th id="855">855</th><td>			<a class="local col4 ref" href="#34start" title='start' data-ref="34start" data-ref-filename="34start">start</a> += <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a>(<a class="tu ref" href="#basedir" title='basedir' data-use='r' data-ref="basedir" data-ref-filename="basedir">basedir</a>);</td></tr>
<tr><th id="856">856</th><td>	}</td></tr>
<tr><th id="857">857</th><td></td></tr>
<tr><th id="858">858</th><td>	<a class="local col2 ref" href="#32mlink" title='mlink' data-ref="32mlink" data-ref-filename="32mlink">mlink</a> = <a class="ref fn" href="mandoc_aux.h.html#mandoc_calloc" title='mandoc_calloc' data-ref="mandoc_calloc" data-ref-filename="mandoc_calloc">mandoc_calloc</a>(<var>1</var>, <b>sizeof</b>(<b>struct</b> <a class="type" href="#mlink" title='mlink' data-ref="mlink" data-ref-filename="mlink">mlink</a>));</td></tr>
<tr><th id="859">859</th><td>	<a class="local col2 ref" href="#32mlink" title='mlink' data-ref="32mlink" data-ref-filename="32mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::dform" title='mlink::dform' data-use='w' data-ref="mlink::dform" data-ref-filename="mlink..dform">dform</a> = <a class="enum" href="mansearch.h.html#FORM_NONE" title='FORM_NONE' data-ref="FORM_NONE" data-ref-filename="FORM_NONE">FORM_NONE</a>;</td></tr>
<tr><th id="860">860</th><td>	<b>if</b> (<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlcpy" title='strlcpy' data-ref="strlcpy" data-ref-filename="strlcpy">strlcpy</a>(<a class="local col2 ref" href="#32mlink" title='mlink' data-ref="32mlink" data-ref-filename="32mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>, <a class="local col4 ref" href="#34start" title='start' data-ref="34start" data-ref-filename="34start">start</a>, <b>sizeof</b>(<a class="local col2 ref" href="#32mlink" title='mlink' data-ref="32mlink" data-ref-filename="32mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>)) &gt;=</td></tr>
<tr><th id="861">861</th><td>	    <b>sizeof</b>(<a class="local col2 ref" href="#32mlink" title='mlink' data-ref="32mlink" data-ref-filename="32mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>)) {</td></tr>
<tr><th id="862">862</th><td>		<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col4 ref" href="#34start" title='start' data-ref="34start" data-ref-filename="34start">start</a>, <q>"Filename too long"</q>);</td></tr>
<tr><th id="863">863</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col2 ref" href="#32mlink" title='mlink' data-ref="32mlink" data-ref-filename="32mlink">mlink</a>);</td></tr>
<tr><th id="864">864</th><td>		<b>return</b>;</td></tr>
<tr><th id="865">865</th><td>	}</td></tr>
<tr><th id="866">866</th><td></td></tr>
<tr><th id="867">867</th><td>	<i>/*</i></td></tr>
<tr><th id="868">868</th><td><i>	 * In test mode or when the original name is absolute</i></td></tr>
<tr><th id="869">869</th><td><i>	 * but outside our tree, guess the base directory.</i></td></tr>
<tr><th id="870">870</th><td><i>	 */</i></td></tr>
<tr><th id="871">871</th><td></td></tr>
<tr><th id="872">872</th><td>	<b>if</b> (<a class="tu ref" href="#op" title='op' data-use='r' data-ref="op" data-ref-filename="op">op</a> == <a class="enum" href="#OP_TEST" title='OP_TEST' data-ref="OP_TEST" data-ref-filename="OP_TEST">OP_TEST</a> || (<a class="local col4 ref" href="#34start" title='start' data-ref="34start" data-ref-filename="34start">start</a> == <a class="local col0 ref" href="#30buf" title='buf' data-ref="30buf" data-ref-filename="30buf">buf</a> &amp;&amp; *<a class="local col4 ref" href="#34start" title='start' data-ref="34start" data-ref-filename="34start">start</a> == <kbd>'/'</kbd>)) {</td></tr>
<tr><th id="873">873</th><td>		<b>if</b> (<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strncmp" title='strncmp' data-ref="strncmp" data-ref-filename="strncmp">strncmp</a>(<a class="local col0 ref" href="#30buf" title='buf' data-ref="30buf" data-ref-filename="30buf">buf</a>, <q>"man/"</q>, <var>4</var>) == <var>0</var>)</td></tr>
<tr><th id="874">874</th><td>			<a class="local col4 ref" href="#34start" title='start' data-ref="34start" data-ref-filename="34start">start</a> = <a class="local col0 ref" href="#30buf" title='buf' data-ref="30buf" data-ref-filename="30buf">buf</a> + <var>4</var>;</td></tr>
<tr><th id="875">875</th><td>		<b>else</b> <b>if</b> ((<a class="local col4 ref" href="#34start" title='start' data-ref="34start" data-ref-filename="34start">start</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strstr" title='strstr' data-ref="strstr" data-ref-filename="strstr">strstr</a>(<a class="local col0 ref" href="#30buf" title='buf' data-ref="30buf" data-ref-filename="30buf">buf</a>, <q>"/man/"</q>)) != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="876">876</th><td>			<a class="local col4 ref" href="#34start" title='start' data-ref="34start" data-ref-filename="34start">start</a> += <var>5</var>;</td></tr>
<tr><th id="877">877</th><td>		<b>else</b></td></tr>
<tr><th id="878">878</th><td>			<a class="local col4 ref" href="#34start" title='start' data-ref="34start" data-ref-filename="34start">start</a> = <a class="local col0 ref" href="#30buf" title='buf' data-ref="30buf" data-ref-filename="30buf">buf</a>;</td></tr>
<tr><th id="879">879</th><td>	}</td></tr>
<tr><th id="880">880</th><td></td></tr>
<tr><th id="881">881</th><td>	<i>/*</i></td></tr>
<tr><th id="882">882</th><td><i>	 * First try to guess our directory structure.</i></td></tr>
<tr><th id="883">883</th><td><i>	 * If we find a separator, try to look for man* or cat*.</i></td></tr>
<tr><th id="884">884</th><td><i>	 * If we find one of these and what's underneath is a directory,</i></td></tr>
<tr><th id="885">885</th><td><i>	 * assume it's an architecture.</i></td></tr>
<tr><th id="886">886</th><td><i>	 */</i></td></tr>
<tr><th id="887">887</th><td>	<b>if</b> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> != (<a class="local col3 ref" href="#33p" title='p' data-ref="33p" data-ref-filename="33p">p</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strchr" title='strchr' data-ref="strchr" data-ref-filename="strchr">strchr</a>(<a class="local col4 ref" href="#34start" title='start' data-ref="34start" data-ref-filename="34start">start</a>, <kbd>'/'</kbd>))) {</td></tr>
<tr><th id="888">888</th><td>		*<a class="local col3 ref" href="#33p" title='p' data-ref="33p" data-ref-filename="33p">p</a>++ = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="889">889</th><td>		<b>if</b> (<var>0</var> == <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strncmp" title='strncmp' data-ref="strncmp" data-ref-filename="strncmp">strncmp</a>(<a class="local col4 ref" href="#34start" title='start' data-ref="34start" data-ref-filename="34start">start</a>, <q>"man"</q>, <var>3</var>)) {</td></tr>
<tr><th id="890">890</th><td>			<a class="local col2 ref" href="#32mlink" title='mlink' data-ref="32mlink" data-ref-filename="32mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::dform" title='mlink::dform' data-use='w' data-ref="mlink::dform" data-ref-filename="mlink..dform">dform</a> = <a class="enum" href="mansearch.h.html#FORM_SRC" title='FORM_SRC' data-ref="FORM_SRC" data-ref-filename="FORM_SRC">FORM_SRC</a>;</td></tr>
<tr><th id="891">891</th><td>			<a class="local col2 ref" href="#32mlink" title='mlink' data-ref="32mlink" data-ref-filename="32mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::dsec" title='mlink::dsec' data-use='w' data-ref="mlink::dsec" data-ref-filename="mlink..dsec">dsec</a> = <a class="local col4 ref" href="#34start" title='start' data-ref="34start" data-ref-filename="34start">start</a> + <var>3</var>;</td></tr>
<tr><th id="892">892</th><td>		} <b>else</b> <b>if</b> (<var>0</var> == <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strncmp" title='strncmp' data-ref="strncmp" data-ref-filename="strncmp">strncmp</a>(<a class="local col4 ref" href="#34start" title='start' data-ref="34start" data-ref-filename="34start">start</a>, <q>"cat"</q>, <var>3</var>)) {</td></tr>
<tr><th id="893">893</th><td>			<a class="local col2 ref" href="#32mlink" title='mlink' data-ref="32mlink" data-ref-filename="32mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::dform" title='mlink::dform' data-use='w' data-ref="mlink::dform" data-ref-filename="mlink..dform">dform</a> = <a class="enum" href="mansearch.h.html#FORM_CAT" title='FORM_CAT' data-ref="FORM_CAT" data-ref-filename="FORM_CAT">FORM_CAT</a>;</td></tr>
<tr><th id="894">894</th><td>			<a class="local col2 ref" href="#32mlink" title='mlink' data-ref="32mlink" data-ref-filename="32mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::dsec" title='mlink::dsec' data-use='w' data-ref="mlink::dsec" data-ref-filename="mlink..dsec">dsec</a> = <a class="local col4 ref" href="#34start" title='start' data-ref="34start" data-ref-filename="34start">start</a> + <var>3</var>;</td></tr>
<tr><th id="895">895</th><td>		}</td></tr>
<tr><th id="896">896</th><td></td></tr>
<tr><th id="897">897</th><td>		<a class="local col4 ref" href="#34start" title='start' data-ref="34start" data-ref-filename="34start">start</a> = <a class="local col3 ref" href="#33p" title='p' data-ref="33p" data-ref-filename="33p">p</a>;</td></tr>
<tr><th id="898">898</th><td>		<b>if</b> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> != <a class="local col2 ref" href="#32mlink" title='mlink' data-ref="32mlink" data-ref-filename="32mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::dsec" title='mlink::dsec' data-use='r' data-ref="mlink::dsec" data-ref-filename="mlink..dsec">dsec</a> &amp;&amp; <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> != (<a class="local col3 ref" href="#33p" title='p' data-ref="33p" data-ref-filename="33p">p</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strchr" title='strchr' data-ref="strchr" data-ref-filename="strchr">strchr</a>(<a class="local col4 ref" href="#34start" title='start' data-ref="34start" data-ref-filename="34start">start</a>, <kbd>'/'</kbd>))) {</td></tr>
<tr><th id="899">899</th><td>			*<a class="local col3 ref" href="#33p" title='p' data-ref="33p" data-ref-filename="33p">p</a>++ = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="900">900</th><td>			<a class="local col2 ref" href="#32mlink" title='mlink' data-ref="32mlink" data-ref-filename="32mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::arch" title='mlink::arch' data-use='w' data-ref="mlink::arch" data-ref-filename="mlink..arch">arch</a> = <a class="local col4 ref" href="#34start" title='start' data-ref="34start" data-ref-filename="34start">start</a>;</td></tr>
<tr><th id="901">901</th><td>			<a class="local col4 ref" href="#34start" title='start' data-ref="34start" data-ref-filename="34start">start</a> = <a class="local col3 ref" href="#33p" title='p' data-ref="33p" data-ref-filename="33p">p</a>;</td></tr>
<tr><th id="902">902</th><td>		}</td></tr>
<tr><th id="903">903</th><td>	}</td></tr>
<tr><th id="904">904</th><td></td></tr>
<tr><th id="905">905</th><td>	<i>/*</i></td></tr>
<tr><th id="906">906</th><td><i>	 * Now check the file suffix.</i></td></tr>
<tr><th id="907">907</th><td><i>	 * Suffix of `.0' indicates a catpage, `.1-9' is a manpage.</i></td></tr>
<tr><th id="908">908</th><td><i>	 */</i></td></tr>
<tr><th id="909">909</th><td>	<a class="local col3 ref" href="#33p" title='p' data-ref="33p" data-ref-filename="33p">p</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strrchr" title='strrchr' data-ref="strrchr" data-ref-filename="strrchr">strrchr</a>(<a class="local col4 ref" href="#34start" title='start' data-ref="34start" data-ref-filename="34start">start</a>, <kbd>'\0'</kbd>);</td></tr>
<tr><th id="910">910</th><td>	<b>while</b> (<a class="local col3 ref" href="#33p" title='p' data-ref="33p" data-ref-filename="33p">p</a>-- &gt; <a class="local col4 ref" href="#34start" title='start' data-ref="34start" data-ref-filename="34start">start</a> &amp;&amp; <kbd>'/'</kbd> != *<a class="local col3 ref" href="#33p" title='p' data-ref="33p" data-ref-filename="33p">p</a> &amp;&amp; <kbd>'.'</kbd> != *<a class="local col3 ref" href="#33p" title='p' data-ref="33p" data-ref-filename="33p">p</a>)</td></tr>
<tr><th id="911">911</th><td>		<i>/* Loop. */</i> ;</td></tr>
<tr><th id="912">912</th><td></td></tr>
<tr><th id="913">913</th><td>	<b>if</b> (<kbd>'.'</kbd> == *<a class="local col3 ref" href="#33p" title='p' data-ref="33p" data-ref-filename="33p">p</a>) {</td></tr>
<tr><th id="914">914</th><td>		*<a class="local col3 ref" href="#33p" title='p' data-ref="33p" data-ref-filename="33p">p</a>++ = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="915">915</th><td>		<a class="local col2 ref" href="#32mlink" title='mlink' data-ref="32mlink" data-ref-filename="32mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::fsec" title='mlink::fsec' data-use='w' data-ref="mlink::fsec" data-ref-filename="mlink..fsec">fsec</a> = <a class="local col3 ref" href="#33p" title='p' data-ref="33p" data-ref-filename="33p">p</a>;</td></tr>
<tr><th id="916">916</th><td>	}</td></tr>
<tr><th id="917">917</th><td></td></tr>
<tr><th id="918">918</th><td>	<i>/*</i></td></tr>
<tr><th id="919">919</th><td><i>	 * Now try to parse the name.</i></td></tr>
<tr><th id="920">920</th><td><i>	 * Use the filename portion of the path.</i></td></tr>
<tr><th id="921">921</th><td><i>	 */</i></td></tr>
<tr><th id="922">922</th><td>	<a class="local col2 ref" href="#32mlink" title='mlink' data-ref="32mlink" data-ref-filename="32mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::name" title='mlink::name' data-use='w' data-ref="mlink::name" data-ref-filename="mlink..name">name</a> = <a class="local col4 ref" href="#34start" title='start' data-ref="34start" data-ref-filename="34start">start</a>;</td></tr>
<tr><th id="923">923</th><td>	<b>if</b> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> != (<a class="local col3 ref" href="#33p" title='p' data-ref="33p" data-ref-filename="33p">p</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strrchr" title='strrchr' data-ref="strrchr" data-ref-filename="strrchr">strrchr</a>(<a class="local col4 ref" href="#34start" title='start' data-ref="34start" data-ref-filename="34start">start</a>, <kbd>'/'</kbd>))) {</td></tr>
<tr><th id="924">924</th><td>		<a class="local col2 ref" href="#32mlink" title='mlink' data-ref="32mlink" data-ref-filename="32mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::name" title='mlink::name' data-use='w' data-ref="mlink::name" data-ref-filename="mlink..name">name</a> = <a class="local col3 ref" href="#33p" title='p' data-ref="33p" data-ref-filename="33p">p</a> + <var>1</var>;</td></tr>
<tr><th id="925">925</th><td>		*<a class="local col3 ref" href="#33p" title='p' data-ref="33p" data-ref-filename="33p">p</a> = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="926">926</th><td>	}</td></tr>
<tr><th id="927">927</th><td>	<a class="tu ref fn" href="#mlink_add" title='mlink_add' data-use='c' data-ref="mlink_add" data-ref-filename="mlink_add">mlink_add</a>(<a class="local col2 ref" href="#32mlink" title='mlink' data-ref="32mlink" data-ref-filename="32mlink">mlink</a>, &amp;<a class="local col1 ref" href="#31st" title='st' data-ref="31st" data-ref-filename="31st">st</a>);</td></tr>
<tr><th id="928">928</th><td>}</td></tr>
<tr><th id="929">929</th><td></td></tr>
<tr><th id="930">930</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="931">931</th><td><dfn class="tu decl def fn" id="mlink_add" title='mlink_add' data-type='void mlink_add(struct mlink * mlink, const struct stat * st)' data-ref="mlink_add" data-ref-filename="mlink_add">mlink_add</dfn>(<b>struct</b> <a class="type" href="#mlink" title='mlink' data-ref="mlink" data-ref-filename="mlink">mlink</a> *<dfn class="local col5 decl" id="35mlink" title='mlink' data-type='struct mlink *' data-ref="35mlink" data-ref-filename="35mlink">mlink</dfn>, <em>const</em> <b>struct</b> <a class="type" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/stat.h.html#stat" title='stat' data-ref="stat" data-ref-filename="stat">stat</a> *<dfn class="local col6 decl" id="36st" title='st' data-type='const struct stat *' data-ref="36st" data-ref-filename="36st">st</dfn>)</td></tr>
<tr><th id="932">932</th><td>{</td></tr>
<tr><th id="933">933</th><td>	<b>struct</b> <a class="type" href="#inodev" title='inodev' data-ref="inodev" data-ref-filename="inodev">inodev</a>	 <dfn class="local col7 decl" id="37inodev" title='inodev' data-type='struct inodev' data-ref="37inodev" data-ref-filename="37inodev">inodev</dfn>;</td></tr>
<tr><th id="934">934</th><td>	<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a>	*<dfn class="local col8 decl" id="38mpage" title='mpage' data-type='struct mpage *' data-ref="38mpage" data-ref-filename="38mpage">mpage</dfn>;</td></tr>
<tr><th id="935">935</th><td>	<em>unsigned</em> <em>int</em>	 <dfn class="local col9 decl" id="39slot" title='slot' data-type='unsigned int' data-ref="39slot" data-ref-filename="39slot">slot</dfn>;</td></tr>
<tr><th id="936">936</th><td></td></tr>
<tr><th id="937">937</th><td>	<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/assert.h.html#58" title="((((void*)0) != mlink-&gt;file) ? (void)0 : __assert13(&quot;/___NETBSD_SRC___/objdir.amd64/external/bsd/mdocml/bin/mandoc/../../../../../../external/bsd/mdocml/dist/mandocdb.c&quot;, 937, __func__, &quot;NULL != mlink-&gt;file&quot;))" data-ref="_M/assert">assert</a>(<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> != <a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>);</td></tr>
<tr><th id="938">938</th><td></td></tr>
<tr><th id="939">939</th><td>	<a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::dsec" title='mlink::dsec' data-use='w' data-ref="mlink::dsec" data-ref-filename="mlink..dsec">dsec</a> = <a class="ref fn" href="mandoc_aux.h.html#mandoc_strdup" title='mandoc_strdup' data-ref="mandoc_strdup" data-ref-filename="mandoc_strdup">mandoc_strdup</a>(<a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::dsec" title='mlink::dsec' data-use='r' data-ref="mlink::dsec" data-ref-filename="mlink..dsec">dsec</a> ? <a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::dsec" title='mlink::dsec' data-use='r' data-ref="mlink::dsec" data-ref-filename="mlink..dsec">dsec</a> : <q>""</q>);</td></tr>
<tr><th id="940">940</th><td>	<a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::arch" title='mlink::arch' data-use='w' data-ref="mlink::arch" data-ref-filename="mlink..arch">arch</a> = <a class="ref fn" href="mandoc_aux.h.html#mandoc_strdup" title='mandoc_strdup' data-ref="mandoc_strdup" data-ref-filename="mandoc_strdup">mandoc_strdup</a>(<a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::arch" title='mlink::arch' data-use='r' data-ref="mlink::arch" data-ref-filename="mlink..arch">arch</a> ? <a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::arch" title='mlink::arch' data-use='r' data-ref="mlink::arch" data-ref-filename="mlink..arch">arch</a> : <q>""</q>);</td></tr>
<tr><th id="941">941</th><td>	<a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::name" title='mlink::name' data-use='w' data-ref="mlink::name" data-ref-filename="mlink..name">name</a> = <a class="ref fn" href="mandoc_aux.h.html#mandoc_strdup" title='mandoc_strdup' data-ref="mandoc_strdup" data-ref-filename="mandoc_strdup">mandoc_strdup</a>(<a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::name" title='mlink::name' data-use='r' data-ref="mlink::name" data-ref-filename="mlink..name">name</a> ? <a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::name" title='mlink::name' data-use='r' data-ref="mlink::name" data-ref-filename="mlink..name">name</a> : <q>""</q>);</td></tr>
<tr><th id="942">942</th><td>	<a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::fsec" title='mlink::fsec' data-use='w' data-ref="mlink::fsec" data-ref-filename="mlink..fsec">fsec</a> = <a class="ref fn" href="mandoc_aux.h.html#mandoc_strdup" title='mandoc_strdup' data-ref="mandoc_strdup" data-ref-filename="mandoc_strdup">mandoc_strdup</a>(<a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::fsec" title='mlink::fsec' data-use='r' data-ref="mlink::fsec" data-ref-filename="mlink..fsec">fsec</a> ? <a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::fsec" title='mlink::fsec' data-use='r' data-ref="mlink::fsec" data-ref-filename="mlink..fsec">fsec</a> : <q>""</q>);</td></tr>
<tr><th id="943">943</th><td></td></tr>
<tr><th id="944">944</th><td>	<b>if</b> (<kbd>'0'</kbd> == *<a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::fsec" title='mlink::fsec' data-use='r' data-ref="mlink::fsec" data-ref-filename="mlink..fsec">fsec</a>) {</td></tr>
<tr><th id="945">945</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::fsec" title='mlink::fsec' data-use='r' data-ref="mlink::fsec" data-ref-filename="mlink..fsec">fsec</a>);</td></tr>
<tr><th id="946">946</th><td>		<a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::fsec" title='mlink::fsec' data-use='w' data-ref="mlink::fsec" data-ref-filename="mlink..fsec">fsec</a> = <a class="ref fn" href="mandoc_aux.h.html#mandoc_strdup" title='mandoc_strdup' data-ref="mandoc_strdup" data-ref-filename="mandoc_strdup">mandoc_strdup</a>(<a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::dsec" title='mlink::dsec' data-use='r' data-ref="mlink::dsec" data-ref-filename="mlink..dsec">dsec</a>);</td></tr>
<tr><th id="947">947</th><td>		<a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::fform" title='mlink::fform' data-use='w' data-ref="mlink::fform" data-ref-filename="mlink..fform">fform</a> = <a class="enum" href="mansearch.h.html#FORM_CAT" title='FORM_CAT' data-ref="FORM_CAT" data-ref-filename="FORM_CAT">FORM_CAT</a>;</td></tr>
<tr><th id="948">948</th><td>	} <b>else</b> <b>if</b> (<kbd>'1'</kbd> &lt;= *<a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::fsec" title='mlink::fsec' data-use='r' data-ref="mlink::fsec" data-ref-filename="mlink..fsec">fsec</a> &amp;&amp; <kbd>'9'</kbd> &gt;= *<a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::fsec" title='mlink::fsec' data-use='r' data-ref="mlink::fsec" data-ref-filename="mlink..fsec">fsec</a>)</td></tr>
<tr><th id="949">949</th><td>		<a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::fform" title='mlink::fform' data-use='w' data-ref="mlink::fform" data-ref-filename="mlink..fform">fform</a> = <a class="enum" href="mansearch.h.html#FORM_SRC" title='FORM_SRC' data-ref="FORM_SRC" data-ref-filename="FORM_SRC">FORM_SRC</a>;</td></tr>
<tr><th id="950">950</th><td>	<b>else</b></td></tr>
<tr><th id="951">951</th><td>		<a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::fform" title='mlink::fform' data-use='w' data-ref="mlink::fform" data-ref-filename="mlink..fform">fform</a> = <a class="enum" href="mansearch.h.html#FORM_NONE" title='FORM_NONE' data-ref="FORM_NONE" data-ref-filename="FORM_NONE">FORM_NONE</a>;</td></tr>
<tr><th id="952">952</th><td></td></tr>
<tr><th id="953">953</th><td>	<a class="local col9 ref" href="#39slot" title='slot' data-ref="39slot" data-ref-filename="39slot">slot</a> = <a class="ref fn" href="compat_ohash.h.html#ohash_qlookup" title='ohash_qlookup' data-ref="ohash_qlookup" data-ref-filename="ohash_qlookup">ohash_qlookup</a>(&amp;<a class="tu ref" href="#mlinks" title='mlinks' data-use='a' data-ref="mlinks" data-ref-filename="mlinks">mlinks</a>, <a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>);</td></tr>
<tr><th id="954">954</th><td>	<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/assert.h.html#58" title="((((void*)0) == ohash_find(&amp;mlinks, slot)) ? (void)0 : __assert13(&quot;/___NETBSD_SRC___/objdir.amd64/external/bsd/mdocml/bin/mandoc/../../../../../../external/bsd/mdocml/dist/mandocdb.c&quot;, 954, __func__, &quot;NULL == ohash_find(&amp;mlinks, slot)&quot;))" data-ref="_M/assert">assert</a>(<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> == <a class="ref fn" href="compat_ohash.h.html#ohash_find" title='ohash_find' data-ref="ohash_find" data-ref-filename="ohash_find">ohash_find</a>(&amp;<a class="tu ref" href="#mlinks" title='mlinks' data-use='a' data-ref="mlinks" data-ref-filename="mlinks">mlinks</a>, <a class="local col9 ref" href="#39slot" title='slot' data-ref="39slot" data-ref-filename="39slot">slot</a>));</td></tr>
<tr><th id="955">955</th><td>	<a class="ref fn" href="compat_ohash.h.html#ohash_insert" title='ohash_insert' data-ref="ohash_insert" data-ref-filename="ohash_insert">ohash_insert</a>(&amp;<a class="tu ref" href="#mlinks" title='mlinks' data-use='a' data-ref="mlinks" data-ref-filename="mlinks">mlinks</a>, <a class="local col9 ref" href="#39slot" title='slot' data-ref="39slot" data-ref-filename="39slot">slot</a>, <a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>);</td></tr>
<tr><th id="956">956</th><td></td></tr>
<tr><th id="957">957</th><td>	<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#memset" title='memset' data-ref="memset" data-ref-filename="memset">memset</a>(&amp;<a class="local col7 ref" href="#37inodev" title='inodev' data-ref="37inodev" data-ref-filename="37inodev">inodev</a>, <var>0</var>, <b>sizeof</b>(<a class="local col7 ref" href="#37inodev" title='inodev' data-ref="37inodev" data-ref-filename="37inodev">inodev</a>));  <i>/* Clear padding. */</i></td></tr>
<tr><th id="958">958</th><td>	<a class="local col7 ref" href="#37inodev" title='inodev' data-ref="37inodev" data-ref-filename="37inodev">inodev</a>.<a class="tu ref field" href="#inodev::st_ino" title='inodev::st_ino' data-use='w' data-ref="inodev::st_ino" data-ref-filename="inodev..st_ino">st_ino</a> = <a class="local col6 ref" href="#36st" title='st' data-ref="36st" data-ref-filename="36st">st</a>-&gt;<a class="ref field" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/stat.h.html#stat::st_ino" title='stat::st_ino' data-ref="stat::st_ino" data-ref-filename="stat..st_ino">st_ino</a>;</td></tr>
<tr><th id="959">959</th><td>	<a class="local col7 ref" href="#37inodev" title='inodev' data-ref="37inodev" data-ref-filename="37inodev">inodev</a>.<a class="tu ref field" href="#inodev::st_dev" title='inodev::st_dev' data-use='w' data-ref="inodev::st_dev" data-ref-filename="inodev..st_dev">st_dev</a> = <a class="local col6 ref" href="#36st" title='st' data-ref="36st" data-ref-filename="36st">st</a>-&gt;<a class="ref field" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/stat.h.html#stat::st_dev" title='stat::st_dev' data-ref="stat::st_dev" data-ref-filename="stat..st_dev">st_dev</a>;</td></tr>
<tr><th id="960">960</th><td>	<a class="local col9 ref" href="#39slot" title='slot' data-ref="39slot" data-ref-filename="39slot">slot</a> = <a class="ref fn" href="compat_ohash.h.html#ohash_lookup_memory" title='ohash_lookup_memory' data-ref="ohash_lookup_memory" data-ref-filename="ohash_lookup_memory">ohash_lookup_memory</a>(&amp;<a class="tu ref" href="#mpages" title='mpages' data-use='a' data-ref="mpages" data-ref-filename="mpages">mpages</a>, (<em>char</em> *)&amp;<a class="local col7 ref" href="#37inodev" title='inodev' data-ref="37inodev" data-ref-filename="37inodev">inodev</a>,</td></tr>
<tr><th id="961">961</th><td>	    <b>sizeof</b>(<b>struct</b> <a class="type" href="#inodev" title='inodev' data-ref="inodev" data-ref-filename="inodev">inodev</a>), <a class="local col7 ref" href="#37inodev" title='inodev' data-ref="37inodev" data-ref-filename="37inodev">inodev</a>.<a class="tu ref field" href="#inodev::st_ino" title='inodev::st_ino' data-use='r' data-ref="inodev::st_ino" data-ref-filename="inodev..st_ino">st_ino</a>);</td></tr>
<tr><th id="962">962</th><td>	<a class="local col8 ref" href="#38mpage" title='mpage' data-ref="38mpage" data-ref-filename="38mpage">mpage</a> = <a class="ref fn" href="compat_ohash.h.html#ohash_find" title='ohash_find' data-ref="ohash_find" data-ref-filename="ohash_find">ohash_find</a>(&amp;<a class="tu ref" href="#mpages" title='mpages' data-use='a' data-ref="mpages" data-ref-filename="mpages">mpages</a>, <a class="local col9 ref" href="#39slot" title='slot' data-ref="39slot" data-ref-filename="39slot">slot</a>);</td></tr>
<tr><th id="963">963</th><td>	<b>if</b> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> == <a class="local col8 ref" href="#38mpage" title='mpage' data-ref="38mpage" data-ref-filename="38mpage">mpage</a>) {</td></tr>
<tr><th id="964">964</th><td>		<a class="local col8 ref" href="#38mpage" title='mpage' data-ref="38mpage" data-ref-filename="38mpage">mpage</a> = <a class="ref fn" href="mandoc_aux.h.html#mandoc_calloc" title='mandoc_calloc' data-ref="mandoc_calloc" data-ref-filename="mandoc_calloc">mandoc_calloc</a>(<var>1</var>, <b>sizeof</b>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a>));</td></tr>
<tr><th id="965">965</th><td>		<a class="local col8 ref" href="#38mpage" title='mpage' data-ref="38mpage" data-ref-filename="38mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::inodev" title='mpage::inodev' data-use='m' data-ref="mpage::inodev" data-ref-filename="mpage..inodev">inodev</a>.<a class="tu ref field" href="#inodev::st_ino" title='inodev::st_ino' data-use='w' data-ref="inodev::st_ino" data-ref-filename="inodev..st_ino">st_ino</a> = <a class="local col7 ref" href="#37inodev" title='inodev' data-ref="37inodev" data-ref-filename="37inodev">inodev</a>.<a class="tu ref field" href="#inodev::st_ino" title='inodev::st_ino' data-use='r' data-ref="inodev::st_ino" data-ref-filename="inodev..st_ino">st_ino</a>;</td></tr>
<tr><th id="966">966</th><td>		<a class="local col8 ref" href="#38mpage" title='mpage' data-ref="38mpage" data-ref-filename="38mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::inodev" title='mpage::inodev' data-use='m' data-ref="mpage::inodev" data-ref-filename="mpage..inodev">inodev</a>.<a class="tu ref field" href="#inodev::st_dev" title='inodev::st_dev' data-use='w' data-ref="inodev::st_dev" data-ref-filename="inodev..st_dev">st_dev</a> = <a class="local col7 ref" href="#37inodev" title='inodev' data-ref="37inodev" data-ref-filename="37inodev">inodev</a>.<a class="tu ref field" href="#inodev::st_dev" title='inodev::st_dev' data-use='r' data-ref="inodev::st_dev" data-ref-filename="inodev..st_dev">st_dev</a>;</td></tr>
<tr><th id="967">967</th><td>		<a class="local col8 ref" href="#38mpage" title='mpage' data-ref="38mpage" data-ref-filename="38mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::form" title='mpage::form' data-use='w' data-ref="mpage::form" data-ref-filename="mpage..form">form</a> = <a class="enum" href="mansearch.h.html#FORM_NONE" title='FORM_NONE' data-ref="FORM_NONE" data-ref-filename="FORM_NONE">FORM_NONE</a>;</td></tr>
<tr><th id="968">968</th><td>		<a class="local col8 ref" href="#38mpage" title='mpage' data-ref="38mpage" data-ref-filename="38mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::next" title='mpage::next' data-use='w' data-ref="mpage::next" data-ref-filename="mpage..next">next</a> = <a class="tu ref" href="#mpage_head" title='mpage_head' data-use='r' data-ref="mpage_head" data-ref-filename="mpage_head">mpage_head</a>;</td></tr>
<tr><th id="969">969</th><td>		<a class="tu ref" href="#mpage_head" title='mpage_head' data-use='w' data-ref="mpage_head" data-ref-filename="mpage_head">mpage_head</a> = <a class="local col8 ref" href="#38mpage" title='mpage' data-ref="38mpage" data-ref-filename="38mpage">mpage</a>;</td></tr>
<tr><th id="970">970</th><td>		<a class="ref fn" href="compat_ohash.h.html#ohash_insert" title='ohash_insert' data-ref="ohash_insert" data-ref-filename="ohash_insert">ohash_insert</a>(&amp;<a class="tu ref" href="#mpages" title='mpages' data-use='a' data-ref="mpages" data-ref-filename="mpages">mpages</a>, <a class="local col9 ref" href="#39slot" title='slot' data-ref="39slot" data-ref-filename="39slot">slot</a>, <a class="local col8 ref" href="#38mpage" title='mpage' data-ref="38mpage" data-ref-filename="38mpage">mpage</a>);</td></tr>
<tr><th id="971">971</th><td>	} <b>else</b></td></tr>
<tr><th id="972">972</th><td>		<a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::next" title='mlink::next' data-use='w' data-ref="mlink::next" data-ref-filename="mlink..next">next</a> = <a class="local col8 ref" href="#38mpage" title='mpage' data-ref="38mpage" data-ref-filename="38mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::mlinks" title='mpage::mlinks' data-use='r' data-ref="mpage::mlinks" data-ref-filename="mpage..mlinks">mlinks</a>;</td></tr>
<tr><th id="973">973</th><td>	<a class="local col8 ref" href="#38mpage" title='mpage' data-ref="38mpage" data-ref-filename="38mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::mlinks" title='mpage::mlinks' data-use='w' data-ref="mpage::mlinks" data-ref-filename="mpage..mlinks">mlinks</a> = <a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>;</td></tr>
<tr><th id="974">974</th><td>	<a class="local col5 ref" href="#35mlink" title='mlink' data-ref="35mlink" data-ref-filename="35mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::mpage" title='mlink::mpage' data-use='w' data-ref="mlink::mpage" data-ref-filename="mlink..mpage">mpage</a> = <a class="local col8 ref" href="#38mpage" title='mpage' data-ref="38mpage" data-ref-filename="38mpage">mpage</a>;</td></tr>
<tr><th id="975">975</th><td>}</td></tr>
<tr><th id="976">976</th><td></td></tr>
<tr><th id="977">977</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="978">978</th><td><dfn class="tu decl def fn" id="mlink_free" title='mlink_free' data-type='void mlink_free(struct mlink * mlink)' data-ref="mlink_free" data-ref-filename="mlink_free">mlink_free</dfn>(<b>struct</b> <a class="type" href="#mlink" title='mlink' data-ref="mlink" data-ref-filename="mlink">mlink</a> *<dfn class="local col0 decl" id="40mlink" title='mlink' data-type='struct mlink *' data-ref="40mlink" data-ref-filename="40mlink">mlink</dfn>)</td></tr>
<tr><th id="979">979</th><td>{</td></tr>
<tr><th id="980">980</th><td></td></tr>
<tr><th id="981">981</th><td>	<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col0 ref" href="#40mlink" title='mlink' data-ref="40mlink" data-ref-filename="40mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::dsec" title='mlink::dsec' data-use='r' data-ref="mlink::dsec" data-ref-filename="mlink..dsec">dsec</a>);</td></tr>
<tr><th id="982">982</th><td>	<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col0 ref" href="#40mlink" title='mlink' data-ref="40mlink" data-ref-filename="40mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::arch" title='mlink::arch' data-use='r' data-ref="mlink::arch" data-ref-filename="mlink..arch">arch</a>);</td></tr>
<tr><th id="983">983</th><td>	<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col0 ref" href="#40mlink" title='mlink' data-ref="40mlink" data-ref-filename="40mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::name" title='mlink::name' data-use='r' data-ref="mlink::name" data-ref-filename="mlink..name">name</a>);</td></tr>
<tr><th id="984">984</th><td>	<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col0 ref" href="#40mlink" title='mlink' data-ref="40mlink" data-ref-filename="40mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::fsec" title='mlink::fsec' data-use='r' data-ref="mlink::fsec" data-ref-filename="mlink..fsec">fsec</a>);</td></tr>
<tr><th id="985">985</th><td>	<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col0 ref" href="#40mlink" title='mlink' data-ref="40mlink" data-ref-filename="40mlink">mlink</a>);</td></tr>
<tr><th id="986">986</th><td>}</td></tr>
<tr><th id="987">987</th><td></td></tr>
<tr><th id="988">988</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="989">989</th><td><dfn class="tu decl def fn" id="mpages_free" title='mpages_free' data-type='void mpages_free()' data-ref="mpages_free" data-ref-filename="mpages_free">mpages_free</dfn>(<em>void</em>)</td></tr>
<tr><th id="990">990</th><td>{</td></tr>
<tr><th id="991">991</th><td>	<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a>	*<dfn class="local col1 decl" id="41mpage" title='mpage' data-type='struct mpage *' data-ref="41mpage" data-ref-filename="41mpage">mpage</dfn>;</td></tr>
<tr><th id="992">992</th><td>	<b>struct</b> <a class="type" href="#mlink" title='mlink' data-ref="mlink" data-ref-filename="mlink">mlink</a>	*<dfn class="local col2 decl" id="42mlink" title='mlink' data-type='struct mlink *' data-ref="42mlink" data-ref-filename="42mlink">mlink</dfn>;</td></tr>
<tr><th id="993">993</th><td></td></tr>
<tr><th id="994">994</th><td>	<b>while</b> ((<a class="local col1 ref" href="#41mpage" title='mpage' data-ref="41mpage" data-ref-filename="41mpage">mpage</a> = <a class="tu ref" href="#mpage_head" title='mpage_head' data-use='r' data-ref="mpage_head" data-ref-filename="mpage_head">mpage_head</a>) != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="995">995</th><td>		<b>while</b> ((<a class="local col2 ref" href="#42mlink" title='mlink' data-ref="42mlink" data-ref-filename="42mlink">mlink</a> = <a class="local col1 ref" href="#41mpage" title='mpage' data-ref="41mpage" data-ref-filename="41mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::mlinks" title='mpage::mlinks' data-use='r' data-ref="mpage::mlinks" data-ref-filename="mpage..mlinks">mlinks</a>) != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="996">996</th><td>			<a class="local col1 ref" href="#41mpage" title='mpage' data-ref="41mpage" data-ref-filename="41mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::mlinks" title='mpage::mlinks' data-use='w' data-ref="mpage::mlinks" data-ref-filename="mpage..mlinks">mlinks</a> = <a class="local col2 ref" href="#42mlink" title='mlink' data-ref="42mlink" data-ref-filename="42mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::next" title='mlink::next' data-use='r' data-ref="mlink::next" data-ref-filename="mlink..next">next</a>;</td></tr>
<tr><th id="997">997</th><td>			<a class="tu ref fn" href="#mlink_free" title='mlink_free' data-use='c' data-ref="mlink_free" data-ref-filename="mlink_free">mlink_free</a>(<a class="local col2 ref" href="#42mlink" title='mlink' data-ref="42mlink" data-ref-filename="42mlink">mlink</a>);</td></tr>
<tr><th id="998">998</th><td>		}</td></tr>
<tr><th id="999">999</th><td>		<a class="tu ref" href="#mpage_head" title='mpage_head' data-use='w' data-ref="mpage_head" data-ref-filename="mpage_head">mpage_head</a> = <a class="local col1 ref" href="#41mpage" title='mpage' data-ref="41mpage" data-ref-filename="41mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::next" title='mpage::next' data-use='r' data-ref="mpage::next" data-ref-filename="mpage..next">next</a>;</td></tr>
<tr><th id="1000">1000</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col1 ref" href="#41mpage" title='mpage' data-ref="41mpage" data-ref-filename="41mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::sec" title='mpage::sec' data-use='r' data-ref="mpage::sec" data-ref-filename="mpage..sec">sec</a>);</td></tr>
<tr><th id="1001">1001</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col1 ref" href="#41mpage" title='mpage' data-ref="41mpage" data-ref-filename="41mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::arch" title='mpage::arch' data-use='r' data-ref="mpage::arch" data-ref-filename="mpage..arch">arch</a>);</td></tr>
<tr><th id="1002">1002</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col1 ref" href="#41mpage" title='mpage' data-ref="41mpage" data-ref-filename="41mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::title" title='mpage::title' data-use='r' data-ref="mpage::title" data-ref-filename="mpage..title">title</a>);</td></tr>
<tr><th id="1003">1003</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col1 ref" href="#41mpage" title='mpage' data-ref="41mpage" data-ref-filename="41mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::desc" title='mpage::desc' data-use='r' data-ref="mpage::desc" data-ref-filename="mpage..desc">desc</a>);</td></tr>
<tr><th id="1004">1004</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col1 ref" href="#41mpage" title='mpage' data-ref="41mpage" data-ref-filename="41mpage">mpage</a>);</td></tr>
<tr><th id="1005">1005</th><td>	}</td></tr>
<tr><th id="1006">1006</th><td>}</td></tr>
<tr><th id="1007">1007</th><td></td></tr>
<tr><th id="1008">1008</th><td><i  data-doc="mlinks_undupe">/*</i></td></tr>
<tr><th id="1009">1009</th><td><i  data-doc="mlinks_undupe"> * For each mlink to the mpage, check whether the path looks like</i></td></tr>
<tr><th id="1010">1010</th><td><i  data-doc="mlinks_undupe"> * it is formatted, and if it does, check whether a source manual</i></td></tr>
<tr><th id="1011">1011</th><td><i  data-doc="mlinks_undupe"> * exists by the same name, ignoring the suffix.</i></td></tr>
<tr><th id="1012">1012</th><td><i  data-doc="mlinks_undupe"> * If both conditions hold, drop the mlink.</i></td></tr>
<tr><th id="1013">1013</th><td><i  data-doc="mlinks_undupe"> */</i></td></tr>
<tr><th id="1014">1014</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="1015">1015</th><td><dfn class="tu decl def fn" id="mlinks_undupe" title='mlinks_undupe' data-type='void mlinks_undupe(struct mpage * mpage)' data-ref="mlinks_undupe" data-ref-filename="mlinks_undupe">mlinks_undupe</dfn>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *<dfn class="local col3 decl" id="43mpage" title='mpage' data-type='struct mpage *' data-ref="43mpage" data-ref-filename="43mpage">mpage</dfn>)</td></tr>
<tr><th id="1016">1016</th><td>{</td></tr>
<tr><th id="1017">1017</th><td>	<em>char</em>		  <dfn class="local col4 decl" id="44buf" title='buf' data-type='char [1024]' data-ref="44buf" data-ref-filename="44buf">buf</dfn>[<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/syslimits.h.html#60" title="1024" data-ref="_M/PATH_MAX">PATH_MAX</a>];</td></tr>
<tr><th id="1018">1018</th><td>	<b>struct</b> <a class="type" href="#mlink" title='mlink' data-ref="mlink" data-ref-filename="mlink">mlink</a>	**<dfn class="local col5 decl" id="45prev" title='prev' data-type='struct mlink **' data-ref="45prev" data-ref-filename="45prev">prev</dfn>;</td></tr>
<tr><th id="1019">1019</th><td>	<b>struct</b> <a class="type" href="#mlink" title='mlink' data-ref="mlink" data-ref-filename="mlink">mlink</a>	 *<dfn class="local col6 decl" id="46mlink" title='mlink' data-type='struct mlink *' data-ref="46mlink" data-ref-filename="46mlink">mlink</dfn>;</td></tr>
<tr><th id="1020">1020</th><td>	<em>char</em>		 *<dfn class="local col7 decl" id="47bufp" title='bufp' data-type='char *' data-ref="47bufp" data-ref-filename="47bufp">bufp</dfn>;</td></tr>
<tr><th id="1021">1021</th><td></td></tr>
<tr><th id="1022">1022</th><td>	<a class="local col3 ref" href="#43mpage" title='mpage' data-ref="43mpage" data-ref-filename="43mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::form" title='mpage::form' data-use='w' data-ref="mpage::form" data-ref-filename="mpage..form">form</a> = <a class="enum" href="mansearch.h.html#FORM_CAT" title='FORM_CAT' data-ref="FORM_CAT" data-ref-filename="FORM_CAT">FORM_CAT</a>;</td></tr>
<tr><th id="1023">1023</th><td>	<a class="local col5 ref" href="#45prev" title='prev' data-ref="45prev" data-ref-filename="45prev">prev</a> = &amp;<a class="local col3 ref" href="#43mpage" title='mpage' data-ref="43mpage" data-ref-filename="43mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::mlinks" title='mpage::mlinks' data-use='a' data-ref="mpage::mlinks" data-ref-filename="mpage..mlinks">mlinks</a>;</td></tr>
<tr><th id="1024">1024</th><td>	<b>while</b> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> != (<a class="local col6 ref" href="#46mlink" title='mlink' data-ref="46mlink" data-ref-filename="46mlink">mlink</a> = *<a class="local col5 ref" href="#45prev" title='prev' data-ref="45prev" data-ref-filename="45prev">prev</a>)) {</td></tr>
<tr><th id="1025">1025</th><td>		<b>if</b> (<a class="enum" href="mansearch.h.html#FORM_CAT" title='FORM_CAT' data-ref="FORM_CAT" data-ref-filename="FORM_CAT">FORM_CAT</a> != <a class="local col6 ref" href="#46mlink" title='mlink' data-ref="46mlink" data-ref-filename="46mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::dform" title='mlink::dform' data-use='r' data-ref="mlink::dform" data-ref-filename="mlink..dform">dform</a>) {</td></tr>
<tr><th id="1026">1026</th><td>			<a class="local col3 ref" href="#43mpage" title='mpage' data-ref="43mpage" data-ref-filename="43mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::form" title='mpage::form' data-use='w' data-ref="mpage::form" data-ref-filename="mpage..form">form</a> = <a class="enum" href="mansearch.h.html#FORM_NONE" title='FORM_NONE' data-ref="FORM_NONE" data-ref-filename="FORM_NONE">FORM_NONE</a>;</td></tr>
<tr><th id="1027">1027</th><td>			<b>goto</b> <a class="lbl" href="#48nextlink" data-ref="48nextlink" data-ref-filename="48nextlink">nextlink</a>;</td></tr>
<tr><th id="1028">1028</th><td>		}</td></tr>
<tr><th id="1029">1029</th><td>		(<em>void</em>)<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlcpy" title='strlcpy' data-ref="strlcpy" data-ref-filename="strlcpy">strlcpy</a>(<a class="local col4 ref" href="#44buf" title='buf' data-ref="44buf" data-ref-filename="44buf">buf</a>, <a class="local col6 ref" href="#46mlink" title='mlink' data-ref="46mlink" data-ref-filename="46mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>, <b>sizeof</b>(<a class="local col4 ref" href="#44buf" title='buf' data-ref="44buf" data-ref-filename="44buf">buf</a>));</td></tr>
<tr><th id="1030">1030</th><td>		<a class="local col7 ref" href="#47bufp" title='bufp' data-ref="47bufp" data-ref-filename="47bufp">bufp</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strstr" title='strstr' data-ref="strstr" data-ref-filename="strstr">strstr</a>(<a class="local col4 ref" href="#44buf" title='buf' data-ref="44buf" data-ref-filename="44buf">buf</a>, <q>"cat"</q>);</td></tr>
<tr><th id="1031">1031</th><td>		<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/assert.h.html#58" title="((((void*)0) != bufp) ? (void)0 : __assert13(&quot;/___NETBSD_SRC___/objdir.amd64/external/bsd/mdocml/bin/mandoc/../../../../../../external/bsd/mdocml/dist/mandocdb.c&quot;, 1031, __func__, &quot;NULL != bufp&quot;))" data-ref="_M/assert">assert</a>(<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> != <a class="local col7 ref" href="#47bufp" title='bufp' data-ref="47bufp" data-ref-filename="47bufp">bufp</a>);</td></tr>
<tr><th id="1032">1032</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#memcpy" title='memcpy' data-ref="memcpy" data-ref-filename="memcpy">memcpy</a>(<a class="local col7 ref" href="#47bufp" title='bufp' data-ref="47bufp" data-ref-filename="47bufp">bufp</a>, <q>"man"</q>, <var>3</var>);</td></tr>
<tr><th id="1033">1033</th><td>		<b>if</b> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> != (<a class="local col7 ref" href="#47bufp" title='bufp' data-ref="47bufp" data-ref-filename="47bufp">bufp</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strrchr" title='strrchr' data-ref="strrchr" data-ref-filename="strrchr">strrchr</a>(<a class="local col4 ref" href="#44buf" title='buf' data-ref="44buf" data-ref-filename="44buf">buf</a>, <kbd>'.'</kbd>)))</td></tr>
<tr><th id="1034">1034</th><td>			*++<a class="local col7 ref" href="#47bufp" title='bufp' data-ref="47bufp" data-ref-filename="47bufp">bufp</a> = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="1035">1035</th><td>		(<em>void</em>)<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlcat" title='strlcat' data-ref="strlcat" data-ref-filename="strlcat">strlcat</a>(<a class="local col4 ref" href="#44buf" title='buf' data-ref="44buf" data-ref-filename="44buf">buf</a>, <a class="local col6 ref" href="#46mlink" title='mlink' data-ref="46mlink" data-ref-filename="46mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::dsec" title='mlink::dsec' data-use='r' data-ref="mlink::dsec" data-ref-filename="mlink..dsec">dsec</a>, <b>sizeof</b>(<a class="local col4 ref" href="#44buf" title='buf' data-ref="44buf" data-ref-filename="44buf">buf</a>));</td></tr>
<tr><th id="1036">1036</th><td>		<b>if</b> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> == <a class="ref fn" href="compat_ohash.h.html#ohash_find" title='ohash_find' data-ref="ohash_find" data-ref-filename="ohash_find">ohash_find</a>(&amp;<a class="tu ref" href="#mlinks" title='mlinks' data-use='a' data-ref="mlinks" data-ref-filename="mlinks">mlinks</a>,</td></tr>
<tr><th id="1037">1037</th><td>		    <a class="ref fn" href="compat_ohash.h.html#ohash_qlookup" title='ohash_qlookup' data-ref="ohash_qlookup" data-ref-filename="ohash_qlookup">ohash_qlookup</a>(&amp;<a class="tu ref" href="#mlinks" title='mlinks' data-use='a' data-ref="mlinks" data-ref-filename="mlinks">mlinks</a>, <a class="local col4 ref" href="#44buf" title='buf' data-ref="44buf" data-ref-filename="44buf">buf</a>)))</td></tr>
<tr><th id="1038">1038</th><td>			<b>goto</b> <a class="lbl" href="#48nextlink" data-ref="48nextlink" data-ref-filename="48nextlink">nextlink</a>;</td></tr>
<tr><th id="1039">1039</th><td>		<b>if</b> (<a class="tu ref" href="#warnings" title='warnings' data-use='r' data-ref="warnings" data-ref-filename="warnings">warnings</a>)</td></tr>
<tr><th id="1040">1040</th><td>			<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col6 ref" href="#46mlink" title='mlink' data-ref="46mlink" data-ref-filename="46mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>, <q>"Man source exists: %s"</q>, <a class="local col4 ref" href="#44buf" title='buf' data-ref="44buf" data-ref-filename="44buf">buf</a>);</td></tr>
<tr><th id="1041">1041</th><td>		<b>if</b> (<a class="tu ref" href="#use_all" title='use_all' data-use='r' data-ref="use_all" data-ref-filename="use_all">use_all</a>)</td></tr>
<tr><th id="1042">1042</th><td>			<b>goto</b> <a class="lbl" href="#48nextlink" data-ref="48nextlink" data-ref-filename="48nextlink">nextlink</a>;</td></tr>
<tr><th id="1043">1043</th><td>		*<a class="local col5 ref" href="#45prev" title='prev' data-ref="45prev" data-ref-filename="45prev">prev</a> = <a class="local col6 ref" href="#46mlink" title='mlink' data-ref="46mlink" data-ref-filename="46mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::next" title='mlink::next' data-use='r' data-ref="mlink::next" data-ref-filename="mlink..next">next</a>;</td></tr>
<tr><th id="1044">1044</th><td>		<a class="tu ref fn" href="#mlink_free" title='mlink_free' data-use='c' data-ref="mlink_free" data-ref-filename="mlink_free">mlink_free</a>(<a class="local col6 ref" href="#46mlink" title='mlink' data-ref="46mlink" data-ref-filename="46mlink">mlink</a>);</td></tr>
<tr><th id="1045">1045</th><td>		<b>continue</b>;</td></tr>
<tr><th id="1046">1046</th><td><dfn class="lbl" id="48nextlink" data-ref="48nextlink" data-ref-filename="48nextlink">nextlink</dfn>:</td></tr>
<tr><th id="1047">1047</th><td>		<a class="local col5 ref" href="#45prev" title='prev' data-ref="45prev" data-ref-filename="45prev">prev</a> = &amp;(*<a class="local col5 ref" href="#45prev" title='prev' data-ref="45prev" data-ref-filename="45prev">prev</a>)-&gt;<a class="tu ref field" href="#mlink::next" title='mlink::next' data-use='a' data-ref="mlink::next" data-ref-filename="mlink..next">next</a>;</td></tr>
<tr><th id="1048">1048</th><td>	}</td></tr>
<tr><th id="1049">1049</th><td>}</td></tr>
<tr><th id="1050">1050</th><td></td></tr>
<tr><th id="1051">1051</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="1052">1052</th><td><dfn class="tu decl def fn" id="mlink_check" title='mlink_check' data-type='void mlink_check(struct mpage * mpage, struct mlink * mlink)' data-ref="mlink_check" data-ref-filename="mlink_check">mlink_check</dfn>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *<dfn class="local col9 decl" id="49mpage" title='mpage' data-type='struct mpage *' data-ref="49mpage" data-ref-filename="49mpage">mpage</dfn>, <b>struct</b> <a class="type" href="#mlink" title='mlink' data-ref="mlink" data-ref-filename="mlink">mlink</a> *<dfn class="local col0 decl" id="50mlink" title='mlink' data-type='struct mlink *' data-ref="50mlink" data-ref-filename="50mlink">mlink</dfn>)</td></tr>
<tr><th id="1053">1053</th><td>{</td></tr>
<tr><th id="1054">1054</th><td>	<b>struct</b> <a class="type" href="#str" title='str' data-ref="str" data-ref-filename="str">str</a>	*<dfn class="local col1 decl" id="51str" title='str' data-type='struct str *' data-ref="51str" data-ref-filename="51str">str</dfn>;</td></tr>
<tr><th id="1055">1055</th><td>	<em>unsigned</em> <em>int</em>	 <dfn class="local col2 decl" id="52slot" title='slot' data-type='unsigned int' data-ref="52slot" data-ref-filename="52slot">slot</dfn>;</td></tr>
<tr><th id="1056">1056</th><td></td></tr>
<tr><th id="1057">1057</th><td>	<i>/*</i></td></tr>
<tr><th id="1058">1058</th><td><i>	 * Check whether the manual section given in a file</i></td></tr>
<tr><th id="1059">1059</th><td><i>	 * agrees with the directory where the file is located.</i></td></tr>
<tr><th id="1060">1060</th><td><i>	 * Some manuals have suffixes like (3p) on their</i></td></tr>
<tr><th id="1061">1061</th><td><i>	 * section number either inside the file or in the</i></td></tr>
<tr><th id="1062">1062</th><td><i>	 * directory name, some are linked into more than one</i></td></tr>
<tr><th id="1063">1063</th><td><i>	 * section, like encrypt(1) = makekey(8).</i></td></tr>
<tr><th id="1064">1064</th><td><i>	 */</i></td></tr>
<tr><th id="1065">1065</th><td></td></tr>
<tr><th id="1066">1066</th><td>	<b>if</b> (<a class="enum" href="mansearch.h.html#FORM_SRC" title='FORM_SRC' data-ref="FORM_SRC" data-ref-filename="FORM_SRC">FORM_SRC</a> == <a class="local col9 ref" href="#49mpage" title='mpage' data-ref="49mpage" data-ref-filename="49mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::form" title='mpage::form' data-use='r' data-ref="mpage::form" data-ref-filename="mpage..form">form</a> &amp;&amp;</td></tr>
<tr><th id="1067">1067</th><td>	    <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/strings.h.html#strcasecmp" title='strcasecmp' data-ref="strcasecmp" data-ref-filename="strcasecmp">strcasecmp</a>(<a class="local col9 ref" href="#49mpage" title='mpage' data-ref="49mpage" data-ref-filename="49mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::sec" title='mpage::sec' data-use='r' data-ref="mpage::sec" data-ref-filename="mpage..sec">sec</a>, <a class="local col0 ref" href="#50mlink" title='mlink' data-ref="50mlink" data-ref-filename="50mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::dsec" title='mlink::dsec' data-use='r' data-ref="mlink::dsec" data-ref-filename="mlink..dsec">dsec</a>))</td></tr>
<tr><th id="1068">1068</th><td>		<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col0 ref" href="#50mlink" title='mlink' data-ref="50mlink" data-ref-filename="50mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>, <q>"Section \"%s\" manual in %s directory"</q>,</td></tr>
<tr><th id="1069">1069</th><td>		    <a class="local col9 ref" href="#49mpage" title='mpage' data-ref="49mpage" data-ref-filename="49mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::sec" title='mpage::sec' data-use='r' data-ref="mpage::sec" data-ref-filename="mpage..sec">sec</a>, <a class="local col0 ref" href="#50mlink" title='mlink' data-ref="50mlink" data-ref-filename="50mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::dsec" title='mlink::dsec' data-use='r' data-ref="mlink::dsec" data-ref-filename="mlink..dsec">dsec</a>);</td></tr>
<tr><th id="1070">1070</th><td></td></tr>
<tr><th id="1071">1071</th><td>	<i>/*</i></td></tr>
<tr><th id="1072">1072</th><td><i>	 * Manual page directories exist for each kernel</i></td></tr>
<tr><th id="1073">1073</th><td><i>	 * architecture as returned by machine(1).</i></td></tr>
<tr><th id="1074">1074</th><td><i>	 * However, many manuals only depend on the</i></td></tr>
<tr><th id="1075">1075</th><td><i>	 * application architecture as returned by arch(1).</i></td></tr>
<tr><th id="1076">1076</th><td><i>	 * For example, some (2/ARM) manuals are shared</i></td></tr>
<tr><th id="1077">1077</th><td><i>	 * across the "armish" and "zaurus" kernel</i></td></tr>
<tr><th id="1078">1078</th><td><i>	 * architectures.</i></td></tr>
<tr><th id="1079">1079</th><td><i>	 * A few manuals are even shared across completely</i></td></tr>
<tr><th id="1080">1080</th><td><i>	 * different architectures, for example fdformat(1)</i></td></tr>
<tr><th id="1081">1081</th><td><i>	 * on amd64, i386, and sparc64.</i></td></tr>
<tr><th id="1082">1082</th><td><i>	 */</i></td></tr>
<tr><th id="1083">1083</th><td></td></tr>
<tr><th id="1084">1084</th><td>	<b>if</b> (<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/strings.h.html#strcasecmp" title='strcasecmp' data-ref="strcasecmp" data-ref-filename="strcasecmp">strcasecmp</a>(<a class="local col9 ref" href="#49mpage" title='mpage' data-ref="49mpage" data-ref-filename="49mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::arch" title='mpage::arch' data-use='r' data-ref="mpage::arch" data-ref-filename="mpage..arch">arch</a>, <a class="local col0 ref" href="#50mlink" title='mlink' data-ref="50mlink" data-ref-filename="50mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::arch" title='mlink::arch' data-use='r' data-ref="mlink::arch" data-ref-filename="mlink..arch">arch</a>))</td></tr>
<tr><th id="1085">1085</th><td>		<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col0 ref" href="#50mlink" title='mlink' data-ref="50mlink" data-ref-filename="50mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>, <q>"Architecture \"%s\" manual in "</q></td></tr>
<tr><th id="1086">1086</th><td>		    <q>"\"%s\" directory"</q>, <a class="local col9 ref" href="#49mpage" title='mpage' data-ref="49mpage" data-ref-filename="49mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::arch" title='mpage::arch' data-use='r' data-ref="mpage::arch" data-ref-filename="mpage..arch">arch</a>, <a class="local col0 ref" href="#50mlink" title='mlink' data-ref="50mlink" data-ref-filename="50mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::arch" title='mlink::arch' data-use='r' data-ref="mlink::arch" data-ref-filename="mlink..arch">arch</a>);</td></tr>
<tr><th id="1087">1087</th><td></td></tr>
<tr><th id="1088">1088</th><td>	<i>/*</i></td></tr>
<tr><th id="1089">1089</th><td><i>	 * XXX</i></td></tr>
<tr><th id="1090">1090</th><td><i>	 * parse_cat() doesn't set NAME_TITLE yet.</i></td></tr>
<tr><th id="1091">1091</th><td><i>	 */</i></td></tr>
<tr><th id="1092">1092</th><td></td></tr>
<tr><th id="1093">1093</th><td>	<b>if</b> (<a class="enum" href="mansearch.h.html#FORM_CAT" title='FORM_CAT' data-ref="FORM_CAT" data-ref-filename="FORM_CAT">FORM_CAT</a> == <a class="local col9 ref" href="#49mpage" title='mpage' data-ref="49mpage" data-ref-filename="49mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::form" title='mpage::form' data-use='r' data-ref="mpage::form" data-ref-filename="mpage..form">form</a>)</td></tr>
<tr><th id="1094">1094</th><td>		<b>return</b>;</td></tr>
<tr><th id="1095">1095</th><td></td></tr>
<tr><th id="1096">1096</th><td>	<i>/*</i></td></tr>
<tr><th id="1097">1097</th><td><i>	 * Check whether this mlink</i></td></tr>
<tr><th id="1098">1098</th><td><i>	 * appears as a name in the NAME section.</i></td></tr>
<tr><th id="1099">1099</th><td><i>	 */</i></td></tr>
<tr><th id="1100">1100</th><td></td></tr>
<tr><th id="1101">1101</th><td>	<a class="local col2 ref" href="#52slot" title='slot' data-ref="52slot" data-ref-filename="52slot">slot</a> = <a class="ref fn" href="compat_ohash.h.html#ohash_qlookup" title='ohash_qlookup' data-ref="ohash_qlookup" data-ref-filename="ohash_qlookup">ohash_qlookup</a>(&amp;<a class="tu ref" href="#names" title='names' data-use='a' data-ref="names" data-ref-filename="names">names</a>, <a class="local col0 ref" href="#50mlink" title='mlink' data-ref="50mlink" data-ref-filename="50mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::name" title='mlink::name' data-use='r' data-ref="mlink::name" data-ref-filename="mlink..name">name</a>);</td></tr>
<tr><th id="1102">1102</th><td>	<a class="local col1 ref" href="#51str" title='str' data-ref="51str" data-ref-filename="51str">str</a> = <a class="ref fn" href="compat_ohash.h.html#ohash_find" title='ohash_find' data-ref="ohash_find" data-ref-filename="ohash_find">ohash_find</a>(&amp;<a class="tu ref" href="#names" title='names' data-use='a' data-ref="names" data-ref-filename="names">names</a>, <a class="local col2 ref" href="#52slot" title='slot' data-ref="52slot" data-ref-filename="52slot">slot</a>);</td></tr>
<tr><th id="1103">1103</th><td>	<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/assert.h.html#58" title="((((void*)0) != str) ? (void)0 : __assert13(&quot;/___NETBSD_SRC___/objdir.amd64/external/bsd/mdocml/bin/mandoc/../../../../../../external/bsd/mdocml/dist/mandocdb.c&quot;, 1103, __func__, &quot;NULL != str&quot;))" data-ref="_M/assert">assert</a>(<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> != <a class="local col1 ref" href="#51str" title='str' data-ref="51str" data-ref-filename="51str">str</a>);</td></tr>
<tr><th id="1104">1104</th><td>	<b>if</b> ( ! (<a class="macro" href="mansearch.h.html#73" title="0x0000004000000006ULL" data-ref="_M/NAME_TITLE">NAME_TITLE</a> &amp; <a class="local col1 ref" href="#51str" title='str' data-ref="51str" data-ref-filename="51str">str</a>-&gt;<a class="tu ref field" href="#str::mask" title='str::mask' data-use='r' data-ref="str::mask" data-ref-filename="str..mask">mask</a>))</td></tr>
<tr><th id="1105">1105</th><td>		<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col0 ref" href="#50mlink" title='mlink' data-ref="50mlink" data-ref-filename="50mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>, <q>"Name missing in NAME section"</q>);</td></tr>
<tr><th id="1106">1106</th><td>}</td></tr>
<tr><th id="1107">1107</th><td></td></tr>
<tr><th id="1108">1108</th><td><i  data-doc="mpages_merge">/*</i></td></tr>
<tr><th id="1109">1109</th><td><i  data-doc="mpages_merge"> * Run through the files in the global vector "mpages"</i></td></tr>
<tr><th id="1110">1110</th><td><i  data-doc="mpages_merge"> * and add them to the database specified in "basedir".</i></td></tr>
<tr><th id="1111">1111</th><td><i  data-doc="mpages_merge"> *</i></td></tr>
<tr><th id="1112">1112</th><td><i  data-doc="mpages_merge"> * This handles the parsing scheme itself, using the cues of directory</i></td></tr>
<tr><th id="1113">1113</th><td><i  data-doc="mpages_merge"> * and filename to determine whether the file is parsable or not.</i></td></tr>
<tr><th id="1114">1114</th><td><i  data-doc="mpages_merge"> */</i></td></tr>
<tr><th id="1115">1115</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="1116">1116</th><td><dfn class="tu decl def fn" id="mpages_merge" title='mpages_merge' data-type='void mpages_merge(struct dba * dba, struct mparse * mp)' data-ref="mpages_merge" data-ref-filename="mpages_merge">mpages_merge</dfn>(<b>struct</b> <a class="type" href="dba.h.html#dba" title='dba' data-ref="dba" data-ref-filename="dba">dba</a> *<dfn class="local col3 decl" id="53dba" title='dba' data-type='struct dba *' data-ref="53dba" data-ref-filename="53dba">dba</dfn>, <b>struct</b> <a class="type" href="mandoc_parse.h.html#mparse" title='mparse' data-ref="mparse" data-ref-filename="mparse">mparse</a> *<dfn class="local col4 decl" id="54mp" title='mp' data-type='struct mparse *' data-ref="54mp" data-ref-filename="54mp">mp</dfn>)</td></tr>
<tr><th id="1117">1117</th><td>{</td></tr>
<tr><th id="1118">1118</th><td>	<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a>		*<dfn class="local col5 decl" id="55mpage" title='mpage' data-type='struct mpage *' data-ref="55mpage" data-ref-filename="55mpage">mpage</dfn>, *<dfn class="local col6 decl" id="56mpage_dest" title='mpage_dest' data-type='struct mpage *' data-ref="56mpage_dest" data-ref-filename="56mpage_dest">mpage_dest</dfn>;</td></tr>
<tr><th id="1119">1119</th><td>	<b>struct</b> <a class="type" href="#mlink" title='mlink' data-ref="mlink" data-ref-filename="mlink">mlink</a>		*<dfn class="local col7 decl" id="57mlink" title='mlink' data-type='struct mlink *' data-ref="57mlink" data-ref-filename="57mlink">mlink</dfn>, *<dfn class="local col8 decl" id="58mlink_dest" title='mlink_dest' data-type='struct mlink *' data-ref="58mlink_dest" data-ref-filename="58mlink_dest">mlink_dest</dfn>;</td></tr>
<tr><th id="1120">1120</th><td>	<b>struct</b> <a class="type" href="roff.h.html#roff_meta" title='roff_meta' data-ref="roff_meta" data-ref-filename="roff_meta">roff_meta</a>	*<dfn class="local col9 decl" id="59meta" title='meta' data-type='struct roff_meta *' data-ref="59meta" data-ref-filename="59meta">meta</dfn>;</td></tr>
<tr><th id="1121">1121</th><td>	<em>char</em>			*<dfn class="local col0 decl" id="60cp" title='cp' data-type='char *' data-ref="60cp" data-ref-filename="60cp">cp</dfn>;</td></tr>
<tr><th id="1122">1122</th><td>	<em>int</em>			 <dfn class="local col1 decl" id="61fd" title='fd' data-type='int' data-ref="61fd" data-ref-filename="61fd">fd</dfn>;</td></tr>
<tr><th id="1123">1123</th><td></td></tr>
<tr><th id="1124">1124</th><td>	<b>for</b> (<a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a> = <a class="tu ref" href="#mpage_head" title='mpage_head' data-use='r' data-ref="mpage_head" data-ref-filename="mpage_head">mpage_head</a>; <a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>; <a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a> = <a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::next" title='mpage::next' data-use='r' data-ref="mpage::next" data-ref-filename="mpage..next">next</a>) {</td></tr>
<tr><th id="1125">1125</th><td>		<a class="tu ref fn" href="#mlinks_undupe" title='mlinks_undupe' data-use='c' data-ref="mlinks_undupe" data-ref-filename="mlinks_undupe">mlinks_undupe</a>(<a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>);</td></tr>
<tr><th id="1126">1126</th><td>		<b>if</b> ((<a class="local col7 ref" href="#57mlink" title='mlink' data-ref="57mlink" data-ref-filename="57mlink">mlink</a> = <a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::mlinks" title='mpage::mlinks' data-use='r' data-ref="mpage::mlinks" data-ref-filename="mpage..mlinks">mlinks</a>) == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1127">1127</th><td>			<b>continue</b>;</td></tr>
<tr><th id="1128">1128</th><td></td></tr>
<tr><th id="1129">1129</th><td>		<a class="tu ref" href="#name_mask" title='name_mask' data-use='w' data-ref="name_mask" data-ref-filename="name_mask">name_mask</a> = <a class="macro" href="mansearch.h.html#76" title="0x000000000000001fULL" data-ref="_M/NAME_MASK">NAME_MASK</a>;</td></tr>
<tr><th id="1130">1130</th><td>		<a class="ref fn" href="mandoc_ohash.h.html#mandoc_ohash_init" title='mandoc_ohash_init' data-ref="mandoc_ohash_init" data-ref-filename="mandoc_ohash_init">mandoc_ohash_init</a>(&amp;<a class="tu ref" href="#names" title='names' data-use='a' data-ref="names" data-ref-filename="names">names</a>, <var>4</var>, <span class="macro" title="__builtin_offsetof(struct str, key)" data-ref="_M/offsetof">offsetof</span>(<b>struct</b> <a class="type" href="#str" title='str' data-ref="str" data-ref-filename="str">str</a>, key));</td></tr>
<tr><th id="1131">1131</th><td>		<a class="ref fn" href="mandoc_ohash.h.html#mandoc_ohash_init" title='mandoc_ohash_init' data-ref="mandoc_ohash_init" data-ref-filename="mandoc_ohash_init">mandoc_ohash_init</a>(&amp;<a class="tu ref" href="#strings" title='strings' data-use='a' data-ref="strings" data-ref-filename="strings">strings</a>, <var>6</var>, <span class="macro" title="__builtin_offsetof(struct str, key)" data-ref="_M/offsetof">offsetof</span>(<b>struct</b> <a class="type" href="#str" title='str' data-ref="str" data-ref-filename="str">str</a>, key));</td></tr>
<tr><th id="1132">1132</th><td>		<a class="ref fn" href="mandoc_parse.h.html#mparse_reset" title='mparse_reset' data-ref="mparse_reset" data-ref-filename="mparse_reset">mparse_reset</a>(<a class="local col4 ref" href="#54mp" title='mp' data-ref="54mp" data-ref-filename="54mp">mp</a>);</td></tr>
<tr><th id="1133">1133</th><td>		<a class="local col9 ref" href="#59meta" title='meta' data-ref="59meta" data-ref-filename="59meta">meta</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1134">1134</th><td></td></tr>
<tr><th id="1135">1135</th><td>		<b>if</b> ((<a class="local col1 ref" href="#61fd" title='fd' data-ref="61fd" data-ref-filename="61fd">fd</a> = <a class="ref fn" href="mandoc_parse.h.html#mparse_open" title='mparse_open' data-ref="mparse_open" data-ref-filename="mparse_open">mparse_open</a>(<a class="local col4 ref" href="#54mp" title='mp' data-ref="54mp" data-ref-filename="54mp">mp</a>, <a class="local col7 ref" href="#57mlink" title='mlink' data-ref="57mlink" data-ref-filename="57mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>)) == -<var>1</var>) {</td></tr>
<tr><th id="1136">1136</th><td>			<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col7 ref" href="#57mlink" title='mlink' data-ref="57mlink" data-ref-filename="57mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>, <q>"&amp;open"</q>);</td></tr>
<tr><th id="1137">1137</th><td>			<b>goto</b> <a class="lbl" href="#62nextpage" data-ref="62nextpage" data-ref-filename="62nextpage">nextpage</a>;</td></tr>
<tr><th id="1138">1138</th><td>		}</td></tr>
<tr><th id="1139">1139</th><td></td></tr>
<tr><th id="1140">1140</th><td>		<i>/*</i></td></tr>
<tr><th id="1141">1141</th><td><i>		 * Interpret the file as mdoc(7) or man(7) source</i></td></tr>
<tr><th id="1142">1142</th><td><i>		 * code, unless it is known to be formatted.</i></td></tr>
<tr><th id="1143">1143</th><td><i>		 */</i></td></tr>
<tr><th id="1144">1144</th><td>		<b>if</b> (<a class="local col7 ref" href="#57mlink" title='mlink' data-ref="57mlink" data-ref-filename="57mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::dform" title='mlink::dform' data-use='r' data-ref="mlink::dform" data-ref-filename="mlink..dform">dform</a> != <a class="enum" href="mansearch.h.html#FORM_CAT" title='FORM_CAT' data-ref="FORM_CAT" data-ref-filename="FORM_CAT">FORM_CAT</a> || <a class="local col7 ref" href="#57mlink" title='mlink' data-ref="57mlink" data-ref-filename="57mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::fform" title='mlink::fform' data-use='r' data-ref="mlink::fform" data-ref-filename="mlink..fform">fform</a> != <a class="enum" href="mansearch.h.html#FORM_CAT" title='FORM_CAT' data-ref="FORM_CAT" data-ref-filename="FORM_CAT">FORM_CAT</a>) {</td></tr>
<tr><th id="1145">1145</th><td>			<a class="ref fn" href="mandoc_parse.h.html#mparse_readfd" title='mparse_readfd' data-ref="mparse_readfd" data-ref-filename="mparse_readfd">mparse_readfd</a>(<a class="local col4 ref" href="#54mp" title='mp' data-ref="54mp" data-ref-filename="54mp">mp</a>, <a class="local col1 ref" href="#61fd" title='fd' data-ref="61fd" data-ref-filename="61fd">fd</a>, <a class="local col7 ref" href="#57mlink" title='mlink' data-ref="57mlink" data-ref-filename="57mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>);</td></tr>
<tr><th id="1146">1146</th><td>			<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#close" title='close' data-ref="close" data-ref-filename="close">close</a>(<a class="local col1 ref" href="#61fd" title='fd' data-ref="61fd" data-ref-filename="61fd">fd</a>);</td></tr>
<tr><th id="1147">1147</th><td>			<a class="local col1 ref" href="#61fd" title='fd' data-ref="61fd" data-ref-filename="61fd">fd</a> = -<var>1</var>;</td></tr>
<tr><th id="1148">1148</th><td>			<a class="local col9 ref" href="#59meta" title='meta' data-ref="59meta" data-ref-filename="59meta">meta</a> = <a class="ref fn" href="mandoc_parse.h.html#mparse_result" title='mparse_result' data-ref="mparse_result" data-ref-filename="mparse_result">mparse_result</a>(<a class="local col4 ref" href="#54mp" title='mp' data-ref="54mp" data-ref-filename="54mp">mp</a>);</td></tr>
<tr><th id="1149">1149</th><td>		}</td></tr>
<tr><th id="1150">1150</th><td></td></tr>
<tr><th id="1151">1151</th><td>		<b>if</b> (<a class="local col9 ref" href="#59meta" title='meta' data-ref="59meta" data-ref-filename="59meta">meta</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> &amp;&amp; <a class="local col9 ref" href="#59meta" title='meta' data-ref="59meta" data-ref-filename="59meta">meta</a>-&gt;<a class="ref field" href="roff.h.html#roff_meta::sodest" title='roff_meta::sodest' data-ref="roff_meta::sodest" data-ref-filename="roff_meta..sodest">sodest</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="1152">1152</th><td>			<a class="local col8 ref" href="#58mlink_dest" title='mlink_dest' data-ref="58mlink_dest" data-ref-filename="58mlink_dest">mlink_dest</a> = <a class="ref fn" href="compat_ohash.h.html#ohash_find" title='ohash_find' data-ref="ohash_find" data-ref-filename="ohash_find">ohash_find</a>(&amp;<a class="tu ref" href="#mlinks" title='mlinks' data-use='a' data-ref="mlinks" data-ref-filename="mlinks">mlinks</a>,</td></tr>
<tr><th id="1153">1153</th><td>			    <a class="ref fn" href="compat_ohash.h.html#ohash_qlookup" title='ohash_qlookup' data-ref="ohash_qlookup" data-ref-filename="ohash_qlookup">ohash_qlookup</a>(&amp;<a class="tu ref" href="#mlinks" title='mlinks' data-use='a' data-ref="mlinks" data-ref-filename="mlinks">mlinks</a>, <a class="local col9 ref" href="#59meta" title='meta' data-ref="59meta" data-ref-filename="59meta">meta</a>-&gt;<a class="ref field" href="roff.h.html#roff_meta::sodest" title='roff_meta::sodest' data-ref="roff_meta::sodest" data-ref-filename="roff_meta..sodest">sodest</a>));</td></tr>
<tr><th id="1154">1154</th><td>			<b>if</b> (<a class="local col8 ref" href="#58mlink_dest" title='mlink_dest' data-ref="58mlink_dest" data-ref-filename="58mlink_dest">mlink_dest</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="1155">1155</th><td>				<a class="ref fn" href="mandoc_aux.h.html#mandoc_asprintf" title='mandoc_asprintf' data-ref="mandoc_asprintf" data-ref-filename="mandoc_asprintf">mandoc_asprintf</a>(&amp;<a class="local col0 ref" href="#60cp" title='cp' data-ref="60cp" data-ref-filename="60cp">cp</a>, <q>"%s.gz"</q>, <a class="local col9 ref" href="#59meta" title='meta' data-ref="59meta" data-ref-filename="59meta">meta</a>-&gt;<a class="ref field" href="roff.h.html#roff_meta::sodest" title='roff_meta::sodest' data-ref="roff_meta::sodest" data-ref-filename="roff_meta..sodest">sodest</a>);</td></tr>
<tr><th id="1156">1156</th><td>				<a class="local col8 ref" href="#58mlink_dest" title='mlink_dest' data-ref="58mlink_dest" data-ref-filename="58mlink_dest">mlink_dest</a> = <a class="ref fn" href="compat_ohash.h.html#ohash_find" title='ohash_find' data-ref="ohash_find" data-ref-filename="ohash_find">ohash_find</a>(&amp;<a class="tu ref" href="#mlinks" title='mlinks' data-use='a' data-ref="mlinks" data-ref-filename="mlinks">mlinks</a>,</td></tr>
<tr><th id="1157">1157</th><td>				    <a class="ref fn" href="compat_ohash.h.html#ohash_qlookup" title='ohash_qlookup' data-ref="ohash_qlookup" data-ref-filename="ohash_qlookup">ohash_qlookup</a>(&amp;<a class="tu ref" href="#mlinks" title='mlinks' data-use='a' data-ref="mlinks" data-ref-filename="mlinks">mlinks</a>, <a class="local col0 ref" href="#60cp" title='cp' data-ref="60cp" data-ref-filename="60cp">cp</a>));</td></tr>
<tr><th id="1158">1158</th><td>				<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col0 ref" href="#60cp" title='cp' data-ref="60cp" data-ref-filename="60cp">cp</a>);</td></tr>
<tr><th id="1159">1159</th><td>			}</td></tr>
<tr><th id="1160">1160</th><td>			<b>if</b> (<a class="local col8 ref" href="#58mlink_dest" title='mlink_dest' data-ref="58mlink_dest" data-ref-filename="58mlink_dest">mlink_dest</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="1161">1161</th><td></td></tr>
<tr><th id="1162">1162</th><td>				<i>/* The .so target exists. */</i></td></tr>
<tr><th id="1163">1163</th><td></td></tr>
<tr><th id="1164">1164</th><td>				<a class="local col6 ref" href="#56mpage_dest" title='mpage_dest' data-ref="56mpage_dest" data-ref-filename="56mpage_dest">mpage_dest</a> = <a class="local col8 ref" href="#58mlink_dest" title='mlink_dest' data-ref="58mlink_dest" data-ref-filename="58mlink_dest">mlink_dest</a>-&gt;<a class="tu ref field" href="#mlink::mpage" title='mlink::mpage' data-use='r' data-ref="mlink::mpage" data-ref-filename="mlink..mpage">mpage</a>;</td></tr>
<tr><th id="1165">1165</th><td>				<b>while</b> (<var>1</var>) {</td></tr>
<tr><th id="1166">1166</th><td>					<a class="local col7 ref" href="#57mlink" title='mlink' data-ref="57mlink" data-ref-filename="57mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::mpage" title='mlink::mpage' data-use='w' data-ref="mlink::mpage" data-ref-filename="mlink..mpage">mpage</a> = <a class="local col6 ref" href="#56mpage_dest" title='mpage_dest' data-ref="56mpage_dest" data-ref-filename="56mpage_dest">mpage_dest</a>;</td></tr>
<tr><th id="1167">1167</th><td></td></tr>
<tr><th id="1168">1168</th><td>					<i>/*</i></td></tr>
<tr><th id="1169">1169</th><td><i>					 * If the target was already</i></td></tr>
<tr><th id="1170">1170</th><td><i>					 * processed, add the links</i></td></tr>
<tr><th id="1171">1171</th><td><i>					 * to the database now.</i></td></tr>
<tr><th id="1172">1172</th><td><i>					 * Otherwise, this will</i></td></tr>
<tr><th id="1173">1173</th><td><i>					 * happen when we come</i></td></tr>
<tr><th id="1174">1174</th><td><i>					 * to the target.</i></td></tr>
<tr><th id="1175">1175</th><td><i>					 */</i></td></tr>
<tr><th id="1176">1176</th><td></td></tr>
<tr><th id="1177">1177</th><td>					<b>if</b> (<a class="local col6 ref" href="#56mpage_dest" title='mpage_dest' data-ref="56mpage_dest" data-ref-filename="56mpage_dest">mpage_dest</a>-&gt;<a class="tu ref field" href="#mpage::dba" title='mpage::dba' data-use='r' data-ref="mpage::dba" data-ref-filename="mpage..dba">dba</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1178">1178</th><td>						<a class="tu ref fn" href="#dbadd_mlink" title='dbadd_mlink' data-use='c' data-ref="dbadd_mlink" data-ref-filename="dbadd_mlink">dbadd_mlink</a>(<a class="local col7 ref" href="#57mlink" title='mlink' data-ref="57mlink" data-ref-filename="57mlink">mlink</a>);</td></tr>
<tr><th id="1179">1179</th><td></td></tr>
<tr><th id="1180">1180</th><td>					<b>if</b> (<a class="local col7 ref" href="#57mlink" title='mlink' data-ref="57mlink" data-ref-filename="57mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::next" title='mlink::next' data-use='r' data-ref="mlink::next" data-ref-filename="mlink..next">next</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1181">1181</th><td>						<b>break</b>;</td></tr>
<tr><th id="1182">1182</th><td>					<a class="local col7 ref" href="#57mlink" title='mlink' data-ref="57mlink" data-ref-filename="57mlink">mlink</a> = <a class="local col7 ref" href="#57mlink" title='mlink' data-ref="57mlink" data-ref-filename="57mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::next" title='mlink::next' data-use='r' data-ref="mlink::next" data-ref-filename="mlink..next">next</a>;</td></tr>
<tr><th id="1183">1183</th><td>				}</td></tr>
<tr><th id="1184">1184</th><td></td></tr>
<tr><th id="1185">1185</th><td>				<i>/* Move all links to the target. */</i></td></tr>
<tr><th id="1186">1186</th><td></td></tr>
<tr><th id="1187">1187</th><td>				<a class="local col7 ref" href="#57mlink" title='mlink' data-ref="57mlink" data-ref-filename="57mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::next" title='mlink::next' data-use='w' data-ref="mlink::next" data-ref-filename="mlink..next">next</a> = <a class="local col8 ref" href="#58mlink_dest" title='mlink_dest' data-ref="58mlink_dest" data-ref-filename="58mlink_dest">mlink_dest</a>-&gt;<a class="tu ref field" href="#mlink::next" title='mlink::next' data-use='r' data-ref="mlink::next" data-ref-filename="mlink..next">next</a>;</td></tr>
<tr><th id="1188">1188</th><td>				<a class="local col8 ref" href="#58mlink_dest" title='mlink_dest' data-ref="58mlink_dest" data-ref-filename="58mlink_dest">mlink_dest</a>-&gt;<a class="tu ref field" href="#mlink::next" title='mlink::next' data-use='w' data-ref="mlink::next" data-ref-filename="mlink..next">next</a> = <a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::mlinks" title='mpage::mlinks' data-use='r' data-ref="mpage::mlinks" data-ref-filename="mpage..mlinks">mlinks</a>;</td></tr>
<tr><th id="1189">1189</th><td>				<a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::mlinks" title='mpage::mlinks' data-use='w' data-ref="mpage::mlinks" data-ref-filename="mpage..mlinks">mlinks</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1190">1190</th><td>			}</td></tr>
<tr><th id="1191">1191</th><td>			<b>goto</b> <a class="lbl" href="#62nextpage" data-ref="62nextpage" data-ref-filename="62nextpage">nextpage</a>;</td></tr>
<tr><th id="1192">1192</th><td>		} <b>else</b> <b>if</b> (<a class="local col9 ref" href="#59meta" title='meta' data-ref="59meta" data-ref-filename="59meta">meta</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> &amp;&amp; <a class="local col9 ref" href="#59meta" title='meta' data-ref="59meta" data-ref-filename="59meta">meta</a>-&gt;<a class="ref field" href="roff.h.html#roff_meta::macroset" title='roff_meta::macroset' data-ref="roff_meta::macroset" data-ref-filename="roff_meta..macroset">macroset</a> == <a class="enum" href="roff.h.html#MACROSET_MDOC" title='MACROSET_MDOC' data-ref="MACROSET_MDOC" data-ref-filename="MACROSET_MDOC">MACROSET_MDOC</a>) {</td></tr>
<tr><th id="1193">1193</th><td>			<a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::form" title='mpage::form' data-use='w' data-ref="mpage::form" data-ref-filename="mpage..form">form</a> = <a class="enum" href="mansearch.h.html#FORM_SRC" title='FORM_SRC' data-ref="FORM_SRC" data-ref-filename="FORM_SRC">FORM_SRC</a>;</td></tr>
<tr><th id="1194">1194</th><td>			<a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::sec" title='mpage::sec' data-use='w' data-ref="mpage::sec" data-ref-filename="mpage..sec">sec</a> = <a class="local col9 ref" href="#59meta" title='meta' data-ref="59meta" data-ref-filename="59meta">meta</a>-&gt;<a class="ref field" href="roff.h.html#roff_meta::msec" title='roff_meta::msec' data-ref="roff_meta::msec" data-ref-filename="roff_meta..msec">msec</a>;</td></tr>
<tr><th id="1195">1195</th><td>			<a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::sec" title='mpage::sec' data-use='w' data-ref="mpage::sec" data-ref-filename="mpage..sec">sec</a> = <a class="ref fn" href="mandoc_aux.h.html#mandoc_strdup" title='mandoc_strdup' data-ref="mandoc_strdup" data-ref-filename="mandoc_strdup">mandoc_strdup</a>(</td></tr>
<tr><th id="1196">1196</th><td>			    <a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::sec" title='mpage::sec' data-use='r' data-ref="mpage::sec" data-ref-filename="mpage..sec">sec</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> ? <q>""</q> : <a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::sec" title='mpage::sec' data-use='r' data-ref="mpage::sec" data-ref-filename="mpage..sec">sec</a>);</td></tr>
<tr><th id="1197">1197</th><td>			<a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::arch" title='mpage::arch' data-use='w' data-ref="mpage::arch" data-ref-filename="mpage..arch">arch</a> = <a class="local col9 ref" href="#59meta" title='meta' data-ref="59meta" data-ref-filename="59meta">meta</a>-&gt;<a class="ref field" href="roff.h.html#roff_meta::arch" title='roff_meta::arch' data-ref="roff_meta::arch" data-ref-filename="roff_meta..arch">arch</a>;</td></tr>
<tr><th id="1198">1198</th><td>			<a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::arch" title='mpage::arch' data-use='w' data-ref="mpage::arch" data-ref-filename="mpage..arch">arch</a> = <a class="ref fn" href="mandoc_aux.h.html#mandoc_strdup" title='mandoc_strdup' data-ref="mandoc_strdup" data-ref-filename="mandoc_strdup">mandoc_strdup</a>(</td></tr>
<tr><th id="1199">1199</th><td>			    <a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::arch" title='mpage::arch' data-use='r' data-ref="mpage::arch" data-ref-filename="mpage..arch">arch</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> ? <q>""</q> : <a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::arch" title='mpage::arch' data-use='r' data-ref="mpage::arch" data-ref-filename="mpage..arch">arch</a>);</td></tr>
<tr><th id="1200">1200</th><td>			<a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::title" title='mpage::title' data-use='w' data-ref="mpage::title" data-ref-filename="mpage..title">title</a> = <a class="ref fn" href="mandoc_aux.h.html#mandoc_strdup" title='mandoc_strdup' data-ref="mandoc_strdup" data-ref-filename="mandoc_strdup">mandoc_strdup</a>(<a class="local col9 ref" href="#59meta" title='meta' data-ref="59meta" data-ref-filename="59meta">meta</a>-&gt;<a class="ref field" href="roff.h.html#roff_meta::title" title='roff_meta::title' data-ref="roff_meta::title" data-ref-filename="roff_meta..title">title</a>);</td></tr>
<tr><th id="1201">1201</th><td>		} <b>else</b> <b>if</b> (<a class="local col9 ref" href="#59meta" title='meta' data-ref="59meta" data-ref-filename="59meta">meta</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> &amp;&amp; <a class="local col9 ref" href="#59meta" title='meta' data-ref="59meta" data-ref-filename="59meta">meta</a>-&gt;<a class="ref field" href="roff.h.html#roff_meta::macroset" title='roff_meta::macroset' data-ref="roff_meta::macroset" data-ref-filename="roff_meta..macroset">macroset</a> == <a class="enum" href="roff.h.html#MACROSET_MAN" title='MACROSET_MAN' data-ref="MACROSET_MAN" data-ref-filename="MACROSET_MAN">MACROSET_MAN</a>) {</td></tr>
<tr><th id="1202">1202</th><td>			<b>if</b> (*<a class="local col9 ref" href="#59meta" title='meta' data-ref="59meta" data-ref-filename="59meta">meta</a>-&gt;<a class="ref field" href="roff.h.html#roff_meta::msec" title='roff_meta::msec' data-ref="roff_meta::msec" data-ref-filename="roff_meta..msec">msec</a> != <kbd>'\0'</kbd> || *<a class="local col9 ref" href="#59meta" title='meta' data-ref="59meta" data-ref-filename="59meta">meta</a>-&gt;<a class="ref field" href="roff.h.html#roff_meta::title" title='roff_meta::title' data-ref="roff_meta::title" data-ref-filename="roff_meta..title">title</a> != <kbd>'\0'</kbd>) {</td></tr>
<tr><th id="1203">1203</th><td>				<a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::form" title='mpage::form' data-use='w' data-ref="mpage::form" data-ref-filename="mpage..form">form</a> = <a class="enum" href="mansearch.h.html#FORM_SRC" title='FORM_SRC' data-ref="FORM_SRC" data-ref-filename="FORM_SRC">FORM_SRC</a>;</td></tr>
<tr><th id="1204">1204</th><td>				<a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::sec" title='mpage::sec' data-use='w' data-ref="mpage::sec" data-ref-filename="mpage..sec">sec</a> = <a class="ref fn" href="mandoc_aux.h.html#mandoc_strdup" title='mandoc_strdup' data-ref="mandoc_strdup" data-ref-filename="mandoc_strdup">mandoc_strdup</a>(<a class="local col9 ref" href="#59meta" title='meta' data-ref="59meta" data-ref-filename="59meta">meta</a>-&gt;<a class="ref field" href="roff.h.html#roff_meta::msec" title='roff_meta::msec' data-ref="roff_meta::msec" data-ref-filename="roff_meta..msec">msec</a>);</td></tr>
<tr><th id="1205">1205</th><td>				<a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::arch" title='mpage::arch' data-use='w' data-ref="mpage::arch" data-ref-filename="mpage..arch">arch</a> = <a class="ref fn" href="mandoc_aux.h.html#mandoc_strdup" title='mandoc_strdup' data-ref="mandoc_strdup" data-ref-filename="mandoc_strdup">mandoc_strdup</a>(<a class="local col7 ref" href="#57mlink" title='mlink' data-ref="57mlink" data-ref-filename="57mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::arch" title='mlink::arch' data-use='r' data-ref="mlink::arch" data-ref-filename="mlink..arch">arch</a>);</td></tr>
<tr><th id="1206">1206</th><td>				<a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::title" title='mpage::title' data-use='w' data-ref="mpage::title" data-ref-filename="mpage..title">title</a> = <a class="ref fn" href="mandoc_aux.h.html#mandoc_strdup" title='mandoc_strdup' data-ref="mandoc_strdup" data-ref-filename="mandoc_strdup">mandoc_strdup</a>(<a class="local col9 ref" href="#59meta" title='meta' data-ref="59meta" data-ref-filename="59meta">meta</a>-&gt;<a class="ref field" href="roff.h.html#roff_meta::title" title='roff_meta::title' data-ref="roff_meta::title" data-ref-filename="roff_meta..title">title</a>);</td></tr>
<tr><th id="1207">1207</th><td>			} <b>else</b></td></tr>
<tr><th id="1208">1208</th><td>				<a class="local col9 ref" href="#59meta" title='meta' data-ref="59meta" data-ref-filename="59meta">meta</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1209">1209</th><td>		}</td></tr>
<tr><th id="1210">1210</th><td></td></tr>
<tr><th id="1211">1211</th><td>		<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/assert.h.html#58" title="((mpage-&gt;desc == ((void*)0)) ? (void)0 : __assert13(&quot;/___NETBSD_SRC___/objdir.amd64/external/bsd/mdocml/bin/mandoc/../../../../../../external/bsd/mdocml/dist/mandocdb.c&quot;, 1211, __func__, &quot;mpage-&gt;desc == NULL&quot;))" data-ref="_M/assert">assert</a>(<a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::desc" title='mpage::desc' data-use='r' data-ref="mpage::desc" data-ref-filename="mpage..desc">desc</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="1212">1212</th><td>		<b>if</b> (<a class="local col9 ref" href="#59meta" title='meta' data-ref="59meta" data-ref-filename="59meta">meta</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="1213">1213</th><td>			<a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::form" title='mpage::form' data-use='w' data-ref="mpage::form" data-ref-filename="mpage..form">form</a> = <a class="enum" href="mansearch.h.html#FORM_CAT" title='FORM_CAT' data-ref="FORM_CAT" data-ref-filename="FORM_CAT">FORM_CAT</a>;</td></tr>
<tr><th id="1214">1214</th><td>			<a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::sec" title='mpage::sec' data-use='w' data-ref="mpage::sec" data-ref-filename="mpage..sec">sec</a> = <a class="ref fn" href="mandoc_aux.h.html#mandoc_strdup" title='mandoc_strdup' data-ref="mandoc_strdup" data-ref-filename="mandoc_strdup">mandoc_strdup</a>(<a class="local col7 ref" href="#57mlink" title='mlink' data-ref="57mlink" data-ref-filename="57mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::dsec" title='mlink::dsec' data-use='r' data-ref="mlink::dsec" data-ref-filename="mlink..dsec">dsec</a>);</td></tr>
<tr><th id="1215">1215</th><td>			<a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::arch" title='mpage::arch' data-use='w' data-ref="mpage::arch" data-ref-filename="mpage..arch">arch</a> = <a class="ref fn" href="mandoc_aux.h.html#mandoc_strdup" title='mandoc_strdup' data-ref="mandoc_strdup" data-ref-filename="mandoc_strdup">mandoc_strdup</a>(<a class="local col7 ref" href="#57mlink" title='mlink' data-ref="57mlink" data-ref-filename="57mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::arch" title='mlink::arch' data-use='r' data-ref="mlink::arch" data-ref-filename="mlink..arch">arch</a>);</td></tr>
<tr><th id="1216">1216</th><td>			<a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::title" title='mpage::title' data-use='w' data-ref="mpage::title" data-ref-filename="mpage..title">title</a> = <a class="ref fn" href="mandoc_aux.h.html#mandoc_strdup" title='mandoc_strdup' data-ref="mandoc_strdup" data-ref-filename="mandoc_strdup">mandoc_strdup</a>(<a class="local col7 ref" href="#57mlink" title='mlink' data-ref="57mlink" data-ref-filename="57mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::name" title='mlink::name' data-use='r' data-ref="mlink::name" data-ref-filename="mlink..name">name</a>);</td></tr>
<tr><th id="1217">1217</th><td>			<a class="tu ref fn" href="#parse_cat" title='parse_cat' data-use='c' data-ref="parse_cat" data-ref-filename="parse_cat">parse_cat</a>(<a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>, <a class="local col1 ref" href="#61fd" title='fd' data-ref="61fd" data-ref-filename="61fd">fd</a>);</td></tr>
<tr><th id="1218">1218</th><td>		} <b>else</b> <b>if</b> (<a class="local col9 ref" href="#59meta" title='meta' data-ref="59meta" data-ref-filename="59meta">meta</a>-&gt;<a class="ref field" href="roff.h.html#roff_meta::macroset" title='roff_meta::macroset' data-ref="roff_meta::macroset" data-ref-filename="roff_meta..macroset">macroset</a> == <a class="enum" href="roff.h.html#MACROSET_MDOC" title='MACROSET_MDOC' data-ref="MACROSET_MDOC" data-ref-filename="MACROSET_MDOC">MACROSET_MDOC</a>)</td></tr>
<tr><th id="1219">1219</th><td>			<a class="tu ref fn" href="#parse_mdoc" title='parse_mdoc' data-use='c' data-ref="parse_mdoc" data-ref-filename="parse_mdoc">parse_mdoc</a>(<a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>, <a class="local col9 ref" href="#59meta" title='meta' data-ref="59meta" data-ref-filename="59meta">meta</a>, <a class="local col9 ref" href="#59meta" title='meta' data-ref="59meta" data-ref-filename="59meta">meta</a>-&gt;<a class="ref field" href="roff.h.html#roff_meta::first" title='roff_meta::first' data-ref="roff_meta::first" data-ref-filename="roff_meta..first">first</a>);</td></tr>
<tr><th id="1220">1220</th><td>		<b>else</b></td></tr>
<tr><th id="1221">1221</th><td>			<a class="tu ref fn" href="#parse_man" title='parse_man' data-use='c' data-ref="parse_man" data-ref-filename="parse_man">parse_man</a>(<a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>, <a class="local col9 ref" href="#59meta" title='meta' data-ref="59meta" data-ref-filename="59meta">meta</a>, <a class="local col9 ref" href="#59meta" title='meta' data-ref="59meta" data-ref-filename="59meta">meta</a>-&gt;<a class="ref field" href="roff.h.html#roff_meta::first" title='roff_meta::first' data-ref="roff_meta::first" data-ref-filename="roff_meta..first">first</a>);</td></tr>
<tr><th id="1222">1222</th><td>		<b>if</b> (<a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::desc" title='mpage::desc' data-use='r' data-ref="mpage::desc" data-ref-filename="mpage..desc">desc</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="1223">1223</th><td>			<a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::desc" title='mpage::desc' data-use='w' data-ref="mpage::desc" data-ref-filename="mpage..desc">desc</a> = <a class="ref fn" href="mandoc_aux.h.html#mandoc_strdup" title='mandoc_strdup' data-ref="mandoc_strdup" data-ref-filename="mandoc_strdup">mandoc_strdup</a>(<a class="local col7 ref" href="#57mlink" title='mlink' data-ref="57mlink" data-ref-filename="57mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::name" title='mlink::name' data-use='r' data-ref="mlink::name" data-ref-filename="mlink..name">name</a>);</td></tr>
<tr><th id="1224">1224</th><td>			<b>if</b> (<a class="tu ref" href="#warnings" title='warnings' data-use='r' data-ref="warnings" data-ref-filename="warnings">warnings</a>)</td></tr>
<tr><th id="1225">1225</th><td>				<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col7 ref" href="#57mlink" title='mlink' data-ref="57mlink" data-ref-filename="57mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>, <q>"No one-line description, "</q></td></tr>
<tr><th id="1226">1226</th><td>				    <q>"using filename \"%s\""</q>, <a class="local col7 ref" href="#57mlink" title='mlink' data-ref="57mlink" data-ref-filename="57mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::name" title='mlink::name' data-use='r' data-ref="mlink::name" data-ref-filename="mlink..name">name</a>);</td></tr>
<tr><th id="1227">1227</th><td>		}</td></tr>
<tr><th id="1228">1228</th><td></td></tr>
<tr><th id="1229">1229</th><td>		<b>for</b> (<a class="local col7 ref" href="#57mlink" title='mlink' data-ref="57mlink" data-ref-filename="57mlink">mlink</a> = <a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::mlinks" title='mpage::mlinks' data-use='r' data-ref="mpage::mlinks" data-ref-filename="mpage..mlinks">mlinks</a>;</td></tr>
<tr><th id="1230">1230</th><td>		     <a class="local col7 ref" href="#57mlink" title='mlink' data-ref="57mlink" data-ref-filename="57mlink">mlink</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1231">1231</th><td>		     <a class="local col7 ref" href="#57mlink" title='mlink' data-ref="57mlink" data-ref-filename="57mlink">mlink</a> = <a class="local col7 ref" href="#57mlink" title='mlink' data-ref="57mlink" data-ref-filename="57mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::next" title='mlink::next' data-use='r' data-ref="mlink::next" data-ref-filename="mlink..next">next</a>) {</td></tr>
<tr><th id="1232">1232</th><td>			<a class="tu ref fn" href="#putkey" title='putkey' data-use='c' data-ref="putkey" data-ref-filename="putkey">putkey</a>(<a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>, <a class="local col7 ref" href="#57mlink" title='mlink' data-ref="57mlink" data-ref-filename="57mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::name" title='mlink::name' data-use='r' data-ref="mlink::name" data-ref-filename="mlink..name">name</a>, <a class="macro" href="mansearch.h.html#75" title="0x0000004000000010ULL" data-ref="_M/NAME_FILE">NAME_FILE</a>);</td></tr>
<tr><th id="1233">1233</th><td>			<b>if</b> (<a class="tu ref" href="#warnings" title='warnings' data-use='r' data-ref="warnings" data-ref-filename="warnings">warnings</a> &amp;&amp; !<a class="tu ref" href="#use_all" title='use_all' data-use='r' data-ref="use_all" data-ref-filename="use_all">use_all</a>)</td></tr>
<tr><th id="1234">1234</th><td>				<a class="tu ref fn" href="#mlink_check" title='mlink_check' data-use='c' data-ref="mlink_check" data-ref-filename="mlink_check">mlink_check</a>(<a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>, <a class="local col7 ref" href="#57mlink" title='mlink' data-ref="57mlink" data-ref-filename="57mlink">mlink</a>);</td></tr>
<tr><th id="1235">1235</th><td>		}</td></tr>
<tr><th id="1236">1236</th><td></td></tr>
<tr><th id="1237">1237</th><td>		<a class="tu ref fn" href="#dbadd" title='dbadd' data-use='c' data-ref="dbadd" data-ref-filename="dbadd">dbadd</a>(<a class="local col3 ref" href="#53dba" title='dba' data-ref="53dba" data-ref-filename="53dba">dba</a>, <a class="local col5 ref" href="#55mpage" title='mpage' data-ref="55mpage" data-ref-filename="55mpage">mpage</a>);</td></tr>
<tr><th id="1238">1238</th><td></td></tr>
<tr><th id="1239">1239</th><td><dfn class="lbl" id="62nextpage" data-ref="62nextpage" data-ref-filename="62nextpage">nextpage</dfn>:</td></tr>
<tr><th id="1240">1240</th><td>		<a class="ref fn" href="compat_ohash.h.html#ohash_delete" title='ohash_delete' data-ref="ohash_delete" data-ref-filename="ohash_delete">ohash_delete</a>(&amp;<a class="tu ref" href="#strings" title='strings' data-use='a' data-ref="strings" data-ref-filename="strings">strings</a>);</td></tr>
<tr><th id="1241">1241</th><td>		<a class="ref fn" href="compat_ohash.h.html#ohash_delete" title='ohash_delete' data-ref="ohash_delete" data-ref-filename="ohash_delete">ohash_delete</a>(&amp;<a class="tu ref" href="#names" title='names' data-use='a' data-ref="names" data-ref-filename="names">names</a>);</td></tr>
<tr><th id="1242">1242</th><td>	}</td></tr>
<tr><th id="1243">1243</th><td>}</td></tr>
<tr><th id="1244">1244</th><td></td></tr>
<tr><th id="1245">1245</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="1246">1246</th><td><dfn class="tu decl def fn" id="parse_cat" title='parse_cat' data-type='void parse_cat(struct mpage * mpage, int fd)' data-ref="parse_cat" data-ref-filename="parse_cat">parse_cat</dfn>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *<dfn class="local col3 decl" id="63mpage" title='mpage' data-type='struct mpage *' data-ref="63mpage" data-ref-filename="63mpage">mpage</dfn>, <em>int</em> <dfn class="local col4 decl" id="64fd" title='fd' data-type='int' data-ref="64fd" data-ref-filename="64fd">fd</dfn>)</td></tr>
<tr><th id="1247">1247</th><td>{</td></tr>
<tr><th id="1248">1248</th><td>	<a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#FILE" title='FILE' data-type='struct __sFILE' data-ref="FILE" data-ref-filename="FILE">FILE</a>		*<dfn class="local col5 decl" id="65stream" title='stream' data-type='FILE *' data-ref="65stream" data-ref-filename="65stream">stream</dfn>;</td></tr>
<tr><th id="1249">1249</th><td>	<b>struct</b> <a class="type" href="#mlink" title='mlink' data-ref="mlink" data-ref-filename="mlink">mlink</a>	*<dfn class="local col6 decl" id="66mlink" title='mlink' data-type='struct mlink *' data-ref="66mlink" data-ref-filename="66mlink">mlink</dfn>;</td></tr>
<tr><th id="1250">1250</th><td>	<em>char</em>		*<dfn class="local col7 decl" id="67line" title='line' data-type='char *' data-ref="67line" data-ref-filename="67line">line</dfn>, *<dfn class="local col8 decl" id="68p" title='p' data-type='char *' data-ref="68p" data-ref-filename="68p">p</dfn>, *<dfn class="local col9 decl" id="69title" title='title' data-type='char *' data-ref="69title" data-ref-filename="69title">title</dfn>, *<dfn class="local col0 decl" id="70sec" title='sec' data-type='char *' data-ref="70sec" data-ref-filename="70sec">sec</dfn>;</td></tr>
<tr><th id="1251">1251</th><td>	<a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</a>		 <dfn class="local col1 decl" id="71linesz" title='linesz' data-type='size_t' data-ref="71linesz" data-ref-filename="71linesz">linesz</dfn>, <dfn class="local col2 decl" id="72plen" title='plen' data-type='size_t' data-ref="72plen" data-ref-filename="72plen">plen</dfn>, <dfn class="local col3 decl" id="73titlesz" title='titlesz' data-type='size_t' data-ref="73titlesz" data-ref-filename="73titlesz">titlesz</dfn>;</td></tr>
<tr><th id="1252">1252</th><td>	<a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#ssize_t" title='ssize_t' data-type='long' data-ref="ssize_t" data-ref-filename="ssize_t">ssize_t</a>		 <dfn class="local col4 decl" id="74len" title='len' data-type='ssize_t' data-ref="74len" data-ref-filename="74len">len</dfn>;</td></tr>
<tr><th id="1253">1253</th><td>	<em>int</em>		 <dfn class="local col5 decl" id="75offs" title='offs' data-type='int' data-ref="75offs" data-ref-filename="75offs">offs</dfn>;</td></tr>
<tr><th id="1254">1254</th><td></td></tr>
<tr><th id="1255">1255</th><td>	<a class="local col6 ref" href="#66mlink" title='mlink' data-ref="66mlink" data-ref-filename="66mlink">mlink</a> = <a class="local col3 ref" href="#63mpage" title='mpage' data-ref="63mpage" data-ref-filename="63mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::mlinks" title='mpage::mlinks' data-use='r' data-ref="mpage::mlinks" data-ref-filename="mpage..mlinks">mlinks</a>;</td></tr>
<tr><th id="1256">1256</th><td>	<a class="local col5 ref" href="#65stream" title='stream' data-ref="65stream" data-ref-filename="65stream">stream</a> = <a class="local col4 ref" href="#64fd" title='fd' data-ref="64fd" data-ref-filename="64fd">fd</a> == -<var>1</var> ? <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fopen" title='fopen' data-ref="fopen" data-ref-filename="fopen">fopen</a>(<a class="local col6 ref" href="#66mlink" title='mlink' data-ref="66mlink" data-ref-filename="66mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>, <q>"r"</q>) : <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fdopen" title='fdopen' data-ref="fdopen" data-ref-filename="fdopen">fdopen</a>(<a class="local col4 ref" href="#64fd" title='fd' data-ref="64fd" data-ref-filename="64fd">fd</a>, <q>"r"</q>);</td></tr>
<tr><th id="1257">1257</th><td>	<b>if</b> (<a class="local col5 ref" href="#65stream" title='stream' data-ref="65stream" data-ref-filename="65stream">stream</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="1258">1258</th><td>		<b>if</b> (<a class="local col4 ref" href="#64fd" title='fd' data-ref="64fd" data-ref-filename="64fd">fd</a> != -<var>1</var>)</td></tr>
<tr><th id="1259">1259</th><td>			<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#close" title='close' data-ref="close" data-ref-filename="close">close</a>(<a class="local col4 ref" href="#64fd" title='fd' data-ref="64fd" data-ref-filename="64fd">fd</a>);</td></tr>
<tr><th id="1260">1260</th><td>		<b>if</b> (<a class="tu ref" href="#warnings" title='warnings' data-use='r' data-ref="warnings" data-ref-filename="warnings">warnings</a>)</td></tr>
<tr><th id="1261">1261</th><td>			<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col6 ref" href="#66mlink" title='mlink' data-ref="66mlink" data-ref-filename="66mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>, <q>"&amp;fopen"</q>);</td></tr>
<tr><th id="1262">1262</th><td>		<b>return</b>;</td></tr>
<tr><th id="1263">1263</th><td>	}</td></tr>
<tr><th id="1264">1264</th><td></td></tr>
<tr><th id="1265">1265</th><td>	<a class="local col7 ref" href="#67line" title='line' data-ref="67line" data-ref-filename="67line">line</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1266">1266</th><td>	<a class="local col1 ref" href="#71linesz" title='linesz' data-ref="71linesz" data-ref-filename="71linesz">linesz</a> = <var>0</var>;</td></tr>
<tr><th id="1267">1267</th><td></td></tr>
<tr><th id="1268">1268</th><td>	<i>/* Parse the section number from the header line. */</i></td></tr>
<tr><th id="1269">1269</th><td></td></tr>
<tr><th id="1270">1270</th><td>	<b>while</b> (<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#getline" title='getline' data-ref="getline" data-ref-filename="getline">getline</a>(&amp;<a class="local col7 ref" href="#67line" title='line' data-ref="67line" data-ref-filename="67line">line</a>, &amp;<a class="local col1 ref" href="#71linesz" title='linesz' data-ref="71linesz" data-ref-filename="71linesz">linesz</a>, <a class="local col5 ref" href="#65stream" title='stream' data-ref="65stream" data-ref-filename="65stream">stream</a>) != -<var>1</var>) {</td></tr>
<tr><th id="1271">1271</th><td>		<b>if</b> (*<a class="local col7 ref" href="#67line" title='line' data-ref="67line" data-ref-filename="67line">line</a> == <kbd>'\n'</kbd>)</td></tr>
<tr><th id="1272">1272</th><td>			<b>continue</b>;</td></tr>
<tr><th id="1273">1273</th><td>		<b>if</b> ((<a class="local col0 ref" href="#70sec" title='sec' data-ref="70sec" data-ref-filename="70sec">sec</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strchr" title='strchr' data-ref="strchr" data-ref-filename="strchr">strchr</a>(<a class="local col7 ref" href="#67line" title='line' data-ref="67line" data-ref-filename="67line">line</a>, <kbd>'('</kbd>)) == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1274">1274</th><td>			<b>break</b>;</td></tr>
<tr><th id="1275">1275</th><td>		<b>if</b> ((<a class="local col8 ref" href="#68p" title='p' data-ref="68p" data-ref-filename="68p">p</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strchr" title='strchr' data-ref="strchr" data-ref-filename="strchr">strchr</a>(++<a class="local col0 ref" href="#70sec" title='sec' data-ref="70sec" data-ref-filename="70sec">sec</a>, <kbd>')'</kbd>)) == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1276">1276</th><td>			<b>break</b>;</td></tr>
<tr><th id="1277">1277</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col3 ref" href="#63mpage" title='mpage' data-ref="63mpage" data-ref-filename="63mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::sec" title='mpage::sec' data-use='r' data-ref="mpage::sec" data-ref-filename="mpage..sec">sec</a>);</td></tr>
<tr><th id="1278">1278</th><td>		<a class="local col3 ref" href="#63mpage" title='mpage' data-ref="63mpage" data-ref-filename="63mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::sec" title='mpage::sec' data-use='w' data-ref="mpage::sec" data-ref-filename="mpage..sec">sec</a> = <a class="ref fn" href="mandoc_aux.h.html#mandoc_strndup" title='mandoc_strndup' data-ref="mandoc_strndup" data-ref-filename="mandoc_strndup">mandoc_strndup</a>(<a class="local col0 ref" href="#70sec" title='sec' data-ref="70sec" data-ref-filename="70sec">sec</a>, <a class="local col8 ref" href="#68p" title='p' data-ref="68p" data-ref-filename="68p">p</a> - <a class="local col0 ref" href="#70sec" title='sec' data-ref="70sec" data-ref-filename="70sec">sec</a>);</td></tr>
<tr><th id="1279">1279</th><td>		<b>if</b> (<a class="tu ref" href="#warnings" title='warnings' data-use='r' data-ref="warnings" data-ref-filename="warnings">warnings</a> &amp;&amp; *<a class="local col6 ref" href="#66mlink" title='mlink' data-ref="66mlink" data-ref-filename="66mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::dsec" title='mlink::dsec' data-use='r' data-ref="mlink::dsec" data-ref-filename="mlink..dsec">dsec</a> != <kbd>'\0'</kbd> &amp;&amp;</td></tr>
<tr><th id="1280">1280</th><td>		    <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/strings.h.html#strcasecmp" title='strcasecmp' data-ref="strcasecmp" data-ref-filename="strcasecmp">strcasecmp</a>(<a class="local col3 ref" href="#63mpage" title='mpage' data-ref="63mpage" data-ref-filename="63mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::sec" title='mpage::sec' data-use='r' data-ref="mpage::sec" data-ref-filename="mpage..sec">sec</a>, <a class="local col6 ref" href="#66mlink" title='mlink' data-ref="66mlink" data-ref-filename="66mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::dsec" title='mlink::dsec' data-use='r' data-ref="mlink::dsec" data-ref-filename="mlink..dsec">dsec</a>))</td></tr>
<tr><th id="1281">1281</th><td>			<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col6 ref" href="#66mlink" title='mlink' data-ref="66mlink" data-ref-filename="66mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>,</td></tr>
<tr><th id="1282">1282</th><td>			    <q>"Section \"%s\" manual in %s directory"</q>,</td></tr>
<tr><th id="1283">1283</th><td>			    <a class="local col3 ref" href="#63mpage" title='mpage' data-ref="63mpage" data-ref-filename="63mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::sec" title='mpage::sec' data-use='r' data-ref="mpage::sec" data-ref-filename="mpage..sec">sec</a>, <a class="local col6 ref" href="#66mlink" title='mlink' data-ref="66mlink" data-ref-filename="66mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::dsec" title='mlink::dsec' data-use='r' data-ref="mlink::dsec" data-ref-filename="mlink..dsec">dsec</a>);</td></tr>
<tr><th id="1284">1284</th><td>		<b>break</b>;</td></tr>
<tr><th id="1285">1285</th><td>	}</td></tr>
<tr><th id="1286">1286</th><td></td></tr>
<tr><th id="1287">1287</th><td>	<i>/* Skip to first blank line. */</i></td></tr>
<tr><th id="1288">1288</th><td></td></tr>
<tr><th id="1289">1289</th><td>	<b>while</b> (<a class="local col7 ref" href="#67line" title='line' data-ref="67line" data-ref-filename="67line">line</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> || *<a class="local col7 ref" href="#67line" title='line' data-ref="67line" data-ref-filename="67line">line</a> != <kbd>'\n'</kbd>)</td></tr>
<tr><th id="1290">1290</th><td>		<b>if</b> (<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#getline" title='getline' data-ref="getline" data-ref-filename="getline">getline</a>(&amp;<a class="local col7 ref" href="#67line" title='line' data-ref="67line" data-ref-filename="67line">line</a>, &amp;<a class="local col1 ref" href="#71linesz" title='linesz' data-ref="71linesz" data-ref-filename="71linesz">linesz</a>, <a class="local col5 ref" href="#65stream" title='stream' data-ref="65stream" data-ref-filename="65stream">stream</a>) == -<var>1</var>)</td></tr>
<tr><th id="1291">1291</th><td>			<b>break</b>;</td></tr>
<tr><th id="1292">1292</th><td></td></tr>
<tr><th id="1293">1293</th><td>	<i>/*</i></td></tr>
<tr><th id="1294">1294</th><td><i>	 * Assume the first line that is not indented</i></td></tr>
<tr><th id="1295">1295</th><td><i>	 * is the first section header.  Skip to it.</i></td></tr>
<tr><th id="1296">1296</th><td><i>	 */</i></td></tr>
<tr><th id="1297">1297</th><td></td></tr>
<tr><th id="1298">1298</th><td>	<b>while</b> (<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#getline" title='getline' data-ref="getline" data-ref-filename="getline">getline</a>(&amp;<a class="local col7 ref" href="#67line" title='line' data-ref="67line" data-ref-filename="67line">line</a>, &amp;<a class="local col1 ref" href="#71linesz" title='linesz' data-ref="71linesz" data-ref-filename="71linesz">linesz</a>, <a class="local col5 ref" href="#65stream" title='stream' data-ref="65stream" data-ref-filename="65stream">stream</a>) != -<var>1</var>)</td></tr>
<tr><th id="1299">1299</th><td>		<b>if</b> (*<a class="local col7 ref" href="#67line" title='line' data-ref="67line" data-ref-filename="67line">line</a> != <kbd>'\n'</kbd> &amp;&amp; *<a class="local col7 ref" href="#67line" title='line' data-ref="67line" data-ref-filename="67line">line</a> != <kbd>' '</kbd>)</td></tr>
<tr><th id="1300">1300</th><td>			<b>break</b>;</td></tr>
<tr><th id="1301">1301</th><td></td></tr>
<tr><th id="1302">1302</th><td>	<i>/*</i></td></tr>
<tr><th id="1303">1303</th><td><i>	 * Read up until the next section into a buffer.</i></td></tr>
<tr><th id="1304">1304</th><td><i>	 * Strip the leading and trailing newline from each read line,</i></td></tr>
<tr><th id="1305">1305</th><td><i>	 * appending a trailing space.</i></td></tr>
<tr><th id="1306">1306</th><td><i>	 * Ignore empty (whitespace-only) lines.</i></td></tr>
<tr><th id="1307">1307</th><td><i>	 */</i></td></tr>
<tr><th id="1308">1308</th><td></td></tr>
<tr><th id="1309">1309</th><td>	<a class="local col3 ref" href="#73titlesz" title='titlesz' data-ref="73titlesz" data-ref-filename="73titlesz">titlesz</a> = <var>0</var>;</td></tr>
<tr><th id="1310">1310</th><td>	<a class="local col9 ref" href="#69title" title='title' data-ref="69title" data-ref-filename="69title">title</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1311">1311</th><td></td></tr>
<tr><th id="1312">1312</th><td>	<b>while</b> ((<a class="local col4 ref" href="#74len" title='len' data-ref="74len" data-ref-filename="74len">len</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#getline" title='getline' data-ref="getline" data-ref-filename="getline">getline</a>(&amp;<a class="local col7 ref" href="#67line" title='line' data-ref="67line" data-ref-filename="67line">line</a>, &amp;<a class="local col1 ref" href="#71linesz" title='linesz' data-ref="71linesz" data-ref-filename="71linesz">linesz</a>, <a class="local col5 ref" href="#65stream" title='stream' data-ref="65stream" data-ref-filename="65stream">stream</a>)) != -<var>1</var>) {</td></tr>
<tr><th id="1313">1313</th><td>		<b>if</b> (*<a class="local col7 ref" href="#67line" title='line' data-ref="67line" data-ref-filename="67line">line</a> != <kbd>' '</kbd>)</td></tr>
<tr><th id="1314">1314</th><td>			<b>break</b>;</td></tr>
<tr><th id="1315">1315</th><td>		<a class="local col5 ref" href="#75offs" title='offs' data-ref="75offs" data-ref-filename="75offs">offs</a> = <var>0</var>;</td></tr>
<tr><th id="1316">1316</th><td>		<b>while</b> (<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/ctype_inline.h.html#56" title="((int)((_ctype_tab_ + 1)[((unsigned char)line[offs])] &amp; 0x0040))" data-ref="_M/isspace">isspace</a>((<em>unsigned</em> <em>char</em>)<a class="local col7 ref" href="#67line" title='line' data-ref="67line" data-ref-filename="67line">line</a>[<a class="local col5 ref" href="#75offs" title='offs' data-ref="75offs" data-ref-filename="75offs">offs</a>]))</td></tr>
<tr><th id="1317">1317</th><td>			<a class="local col5 ref" href="#75offs" title='offs' data-ref="75offs" data-ref-filename="75offs">offs</a>++;</td></tr>
<tr><th id="1318">1318</th><td>		<b>if</b> (<a class="local col7 ref" href="#67line" title='line' data-ref="67line" data-ref-filename="67line">line</a>[<a class="local col5 ref" href="#75offs" title='offs' data-ref="75offs" data-ref-filename="75offs">offs</a>] == <kbd>'\0'</kbd>)</td></tr>
<tr><th id="1319">1319</th><td>			<b>continue</b>;</td></tr>
<tr><th id="1320">1320</th><td>		<a class="local col9 ref" href="#69title" title='title' data-ref="69title" data-ref-filename="69title">title</a> = <a class="ref fn" href="mandoc_aux.h.html#mandoc_realloc" title='mandoc_realloc' data-ref="mandoc_realloc" data-ref-filename="mandoc_realloc">mandoc_realloc</a>(<a class="local col9 ref" href="#69title" title='title' data-ref="69title" data-ref-filename="69title">title</a>, <a class="local col3 ref" href="#73titlesz" title='titlesz' data-ref="73titlesz" data-ref-filename="73titlesz">titlesz</a> + <a class="local col4 ref" href="#74len" title='len' data-ref="74len" data-ref-filename="74len">len</a> - <a class="local col5 ref" href="#75offs" title='offs' data-ref="75offs" data-ref-filename="75offs">offs</a>);</td></tr>
<tr><th id="1321">1321</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#memcpy" title='memcpy' data-ref="memcpy" data-ref-filename="memcpy">memcpy</a>(<a class="local col9 ref" href="#69title" title='title' data-ref="69title" data-ref-filename="69title">title</a> + <a class="local col3 ref" href="#73titlesz" title='titlesz' data-ref="73titlesz" data-ref-filename="73titlesz">titlesz</a>, <a class="local col7 ref" href="#67line" title='line' data-ref="67line" data-ref-filename="67line">line</a> + <a class="local col5 ref" href="#75offs" title='offs' data-ref="75offs" data-ref-filename="75offs">offs</a>, <a class="local col4 ref" href="#74len" title='len' data-ref="74len" data-ref-filename="74len">len</a> - <a class="local col5 ref" href="#75offs" title='offs' data-ref="75offs" data-ref-filename="75offs">offs</a>);</td></tr>
<tr><th id="1322">1322</th><td>		<a class="local col3 ref" href="#73titlesz" title='titlesz' data-ref="73titlesz" data-ref-filename="73titlesz">titlesz</a> += <a class="local col4 ref" href="#74len" title='len' data-ref="74len" data-ref-filename="74len">len</a> - <a class="local col5 ref" href="#75offs" title='offs' data-ref="75offs" data-ref-filename="75offs">offs</a>;</td></tr>
<tr><th id="1323">1323</th><td>		<a class="local col9 ref" href="#69title" title='title' data-ref="69title" data-ref-filename="69title">title</a>[<a class="local col3 ref" href="#73titlesz" title='titlesz' data-ref="73titlesz" data-ref-filename="73titlesz">titlesz</a> - <var>1</var>] = <kbd>' '</kbd>;</td></tr>
<tr><th id="1324">1324</th><td>	}</td></tr>
<tr><th id="1325">1325</th><td>	<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col7 ref" href="#67line" title='line' data-ref="67line" data-ref-filename="67line">line</a>);</td></tr>
<tr><th id="1326">1326</th><td></td></tr>
<tr><th id="1327">1327</th><td>	<i>/*</i></td></tr>
<tr><th id="1328">1328</th><td><i>	 * If no page content can be found, or the input line</i></td></tr>
<tr><th id="1329">1329</th><td><i>	 * is already the next section header, or there is no</i></td></tr>
<tr><th id="1330">1330</th><td><i>	 * trailing newline, reuse the page title as the page</i></td></tr>
<tr><th id="1331">1331</th><td><i>	 * description.</i></td></tr>
<tr><th id="1332">1332</th><td><i>	 */</i></td></tr>
<tr><th id="1333">1333</th><td></td></tr>
<tr><th id="1334">1334</th><td>	<b>if</b> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> == <a class="local col9 ref" href="#69title" title='title' data-ref="69title" data-ref-filename="69title">title</a> || <kbd>'\0'</kbd> == *<a class="local col9 ref" href="#69title" title='title' data-ref="69title" data-ref-filename="69title">title</a>) {</td></tr>
<tr><th id="1335">1335</th><td>		<b>if</b> (<a class="tu ref" href="#warnings" title='warnings' data-use='r' data-ref="warnings" data-ref-filename="warnings">warnings</a>)</td></tr>
<tr><th id="1336">1336</th><td>			<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col6 ref" href="#66mlink" title='mlink' data-ref="66mlink" data-ref-filename="66mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>, <q>"Cannot find NAME section"</q>);</td></tr>
<tr><th id="1337">1337</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fclose" title='fclose' data-ref="fclose" data-ref-filename="fclose">fclose</a>(<a class="local col5 ref" href="#65stream" title='stream' data-ref="65stream" data-ref-filename="65stream">stream</a>);</td></tr>
<tr><th id="1338">1338</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col9 ref" href="#69title" title='title' data-ref="69title" data-ref-filename="69title">title</a>);</td></tr>
<tr><th id="1339">1339</th><td>		<b>return</b>;</td></tr>
<tr><th id="1340">1340</th><td>	}</td></tr>
<tr><th id="1341">1341</th><td></td></tr>
<tr><th id="1342">1342</th><td>	<a class="local col9 ref" href="#69title" title='title' data-ref="69title" data-ref-filename="69title">title</a>[<a class="local col3 ref" href="#73titlesz" title='titlesz' data-ref="73titlesz" data-ref-filename="73titlesz">titlesz</a> - <var>1</var>] = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="1343">1343</th><td></td></tr>
<tr><th id="1344">1344</th><td>	<i>/*</i></td></tr>
<tr><th id="1345">1345</th><td><i>	 * Skip to the first dash.</i></td></tr>
<tr><th id="1346">1346</th><td><i>	 * Use the remaining line as the description (no more than 70</i></td></tr>
<tr><th id="1347">1347</th><td><i>	 * bytes).</i></td></tr>
<tr><th id="1348">1348</th><td><i>	 */</i></td></tr>
<tr><th id="1349">1349</th><td></td></tr>
<tr><th id="1350">1350</th><td>	<b>if</b> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> != (<a class="local col8 ref" href="#68p" title='p' data-ref="68p" data-ref-filename="68p">p</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strstr" title='strstr' data-ref="strstr" data-ref-filename="strstr">strstr</a>(<a class="local col9 ref" href="#69title" title='title' data-ref="69title" data-ref-filename="69title">title</a>, <q>"- "</q>))) {</td></tr>
<tr><th id="1351">1351</th><td>		<b>for</b> (<a class="local col8 ref" href="#68p" title='p' data-ref="68p" data-ref-filename="68p">p</a> += <var>2</var>; <kbd>' '</kbd> == *<a class="local col8 ref" href="#68p" title='p' data-ref="68p" data-ref-filename="68p">p</a> || <kbd>'\b'</kbd> == *<a class="local col8 ref" href="#68p" title='p' data-ref="68p" data-ref-filename="68p">p</a>; <a class="local col8 ref" href="#68p" title='p' data-ref="68p" data-ref-filename="68p">p</a>++)</td></tr>
<tr><th id="1352">1352</th><td>			<i>/* Skip to next word. */</i> ;</td></tr>
<tr><th id="1353">1353</th><td>	} <b>else</b> {</td></tr>
<tr><th id="1354">1354</th><td>		<b>if</b> (<a class="tu ref" href="#warnings" title='warnings' data-use='r' data-ref="warnings" data-ref-filename="warnings">warnings</a>)</td></tr>
<tr><th id="1355">1355</th><td>			<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col6 ref" href="#66mlink" title='mlink' data-ref="66mlink" data-ref-filename="66mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>, <q>"No dash in title line, "</q></td></tr>
<tr><th id="1356">1356</th><td>			    <q>"reusing \"%s\" as one-line description"</q>, <a class="local col9 ref" href="#69title" title='title' data-ref="69title" data-ref-filename="69title">title</a>);</td></tr>
<tr><th id="1357">1357</th><td>		<a class="local col8 ref" href="#68p" title='p' data-ref="68p" data-ref-filename="68p">p</a> = <a class="local col9 ref" href="#69title" title='title' data-ref="69title" data-ref-filename="69title">title</a>;</td></tr>
<tr><th id="1358">1358</th><td>	}</td></tr>
<tr><th id="1359">1359</th><td></td></tr>
<tr><th id="1360">1360</th><td>	<a class="local col2 ref" href="#72plen" title='plen' data-ref="72plen" data-ref-filename="72plen">plen</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a>(<a class="local col8 ref" href="#68p" title='p' data-ref="68p" data-ref-filename="68p">p</a>);</td></tr>
<tr><th id="1361">1361</th><td></td></tr>
<tr><th id="1362">1362</th><td>	<i>/* Strip backspace-encoding from line. */</i></td></tr>
<tr><th id="1363">1363</th><td></td></tr>
<tr><th id="1364">1364</th><td>	<b>while</b> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> != (<a class="local col7 ref" href="#67line" title='line' data-ref="67line" data-ref-filename="67line">line</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#memchr" title='memchr' data-ref="memchr" data-ref-filename="memchr">memchr</a>(<a class="local col8 ref" href="#68p" title='p' data-ref="68p" data-ref-filename="68p">p</a>, <kbd>'\b'</kbd>, <a class="local col2 ref" href="#72plen" title='plen' data-ref="72plen" data-ref-filename="72plen">plen</a>))) {</td></tr>
<tr><th id="1365">1365</th><td>		<a class="local col4 ref" href="#74len" title='len' data-ref="74len" data-ref-filename="74len">len</a> = <a class="local col7 ref" href="#67line" title='line' data-ref="67line" data-ref-filename="67line">line</a> - <a class="local col8 ref" href="#68p" title='p' data-ref="68p" data-ref-filename="68p">p</a>;</td></tr>
<tr><th id="1366">1366</th><td>		<b>if</b> (<var>0</var> == <a class="local col4 ref" href="#74len" title='len' data-ref="74len" data-ref-filename="74len">len</a>) {</td></tr>
<tr><th id="1367">1367</th><td>			<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#memmove" title='memmove' data-ref="memmove" data-ref-filename="memmove">memmove</a>(<a class="local col7 ref" href="#67line" title='line' data-ref="67line" data-ref-filename="67line">line</a>, <a class="local col7 ref" href="#67line" title='line' data-ref="67line" data-ref-filename="67line">line</a> + <var>1</var>, <a class="local col2 ref" href="#72plen" title='plen' data-ref="72plen" data-ref-filename="72plen">plen</a>--);</td></tr>
<tr><th id="1368">1368</th><td>			<b>continue</b>;</td></tr>
<tr><th id="1369">1369</th><td>		}</td></tr>
<tr><th id="1370">1370</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#memmove" title='memmove' data-ref="memmove" data-ref-filename="memmove">memmove</a>(<a class="local col7 ref" href="#67line" title='line' data-ref="67line" data-ref-filename="67line">line</a> - <var>1</var>, <a class="local col7 ref" href="#67line" title='line' data-ref="67line" data-ref-filename="67line">line</a> + <var>1</var>, <a class="local col2 ref" href="#72plen" title='plen' data-ref="72plen" data-ref-filename="72plen">plen</a> - <a class="local col4 ref" href="#74len" title='len' data-ref="74len" data-ref-filename="74len">len</a>);</td></tr>
<tr><th id="1371">1371</th><td>		<a class="local col2 ref" href="#72plen" title='plen' data-ref="72plen" data-ref-filename="72plen">plen</a> -= <var>2</var>;</td></tr>
<tr><th id="1372">1372</th><td>	}</td></tr>
<tr><th id="1373">1373</th><td></td></tr>
<tr><th id="1374">1374</th><td>	<i>/*</i></td></tr>
<tr><th id="1375">1375</th><td><i>	 * Cut off excessive one-line descriptions.</i></td></tr>
<tr><th id="1376">1376</th><td><i>	 * Bad pages are not worth better heuristics.</i></td></tr>
<tr><th id="1377">1377</th><td><i>	 */</i></td></tr>
<tr><th id="1378">1378</th><td></td></tr>
<tr><th id="1379">1379</th><td>	<a class="local col3 ref" href="#63mpage" title='mpage' data-ref="63mpage" data-ref-filename="63mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::desc" title='mpage::desc' data-use='w' data-ref="mpage::desc" data-ref-filename="mpage..desc">desc</a> = <a class="ref fn" href="mandoc_aux.h.html#mandoc_strndup" title='mandoc_strndup' data-ref="mandoc_strndup" data-ref-filename="mandoc_strndup">mandoc_strndup</a>(<a class="local col8 ref" href="#68p" title='p' data-ref="68p" data-ref-filename="68p">p</a>, <var>150</var>);</td></tr>
<tr><th id="1380">1380</th><td>	<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fclose" title='fclose' data-ref="fclose" data-ref-filename="fclose">fclose</a>(<a class="local col5 ref" href="#65stream" title='stream' data-ref="65stream" data-ref-filename="65stream">stream</a>);</td></tr>
<tr><th id="1381">1381</th><td>	<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col9 ref" href="#69title" title='title' data-ref="69title" data-ref-filename="69title">title</a>);</td></tr>
<tr><th id="1382">1382</th><td>}</td></tr>
<tr><th id="1383">1383</th><td></td></tr>
<tr><th id="1384">1384</th><td><i  data-doc="putkey">/*</i></td></tr>
<tr><th id="1385">1385</th><td><i  data-doc="putkey"> * Put a type/word pair into the word database for this particular file.</i></td></tr>
<tr><th id="1386">1386</th><td><i  data-doc="putkey"> */</i></td></tr>
<tr><th id="1387">1387</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="1388">1388</th><td><dfn class="tu decl def fn" id="putkey" title='putkey' data-type='void putkey(const struct mpage * mpage, char * value, uint64_t type)' data-ref="putkey" data-ref-filename="putkey">putkey</dfn>(<em>const</em> <b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *<dfn class="local col6 decl" id="76mpage" title='mpage' data-type='const struct mpage *' data-ref="76mpage" data-ref-filename="76mpage">mpage</dfn>, <em>char</em> *<dfn class="local col7 decl" id="77value" title='value' data-type='char *' data-ref="77value" data-ref-filename="77value">value</dfn>, <a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a> <dfn class="local col8 decl" id="78type" title='type' data-type='uint64_t' data-ref="78type" data-ref-filename="78type">type</dfn>)</td></tr>
<tr><th id="1389">1389</th><td>{</td></tr>
<tr><th id="1390">1390</th><td>	<a class="tu ref fn" href="#putkeys" title='putkeys' data-use='c' data-ref="putkeys" data-ref-filename="putkeys">putkeys</a>(<a class="local col6 ref" href="#76mpage" title='mpage' data-ref="76mpage" data-ref-filename="76mpage">mpage</a>, <a class="local col7 ref" href="#77value" title='value' data-ref="77value" data-ref-filename="77value">value</a>, <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a>(<a class="local col7 ref" href="#77value" title='value' data-ref="77value" data-ref-filename="77value">value</a>), <a class="local col8 ref" href="#78type" title='type' data-ref="78type" data-ref-filename="78type">type</a>);</td></tr>
<tr><th id="1391">1391</th><td>}</td></tr>
<tr><th id="1392">1392</th><td></td></tr>
<tr><th id="1393">1393</th><td><i  data-doc="putmdockey">/*</i></td></tr>
<tr><th id="1394">1394</th><td><i  data-doc="putmdockey"> * Grok all nodes at or below a certain mdoc node into putkey().</i></td></tr>
<tr><th id="1395">1395</th><td><i  data-doc="putmdockey"> */</i></td></tr>
<tr><th id="1396">1396</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="1397">1397</th><td><dfn class="tu decl def fn" id="putmdockey" title='putmdockey' data-type='void putmdockey(const struct mpage * mpage, const struct roff_node * n, uint64_t m, int taboo)' data-ref="putmdockey" data-ref-filename="putmdockey">putmdockey</dfn>(<em>const</em> <b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *<dfn class="local col9 decl" id="79mpage" title='mpage' data-type='const struct mpage *' data-ref="79mpage" data-ref-filename="79mpage">mpage</dfn>,</td></tr>
<tr><th id="1398">1398</th><td>	<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *<dfn class="local col0 decl" id="80n" title='n' data-type='const struct roff_node *' data-ref="80n" data-ref-filename="80n">n</dfn>, <a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a> <dfn class="local col1 decl" id="81m" title='m' data-type='uint64_t' data-ref="81m" data-ref-filename="81m">m</dfn>, <em>int</em> <dfn class="local col2 decl" id="82taboo" title='taboo' data-type='int' data-ref="82taboo" data-ref-filename="82taboo">taboo</dfn>)</td></tr>
<tr><th id="1399">1399</th><td>{</td></tr>
<tr><th id="1400">1400</th><td></td></tr>
<tr><th id="1401">1401</th><td>	<b>for</b> ( ; <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> != <a class="local col0 ref" href="#80n" title='n' data-ref="80n" data-ref-filename="80n">n</a>; <a class="local col0 ref" href="#80n" title='n' data-ref="80n" data-ref-filename="80n">n</a> = <a class="local col0 ref" href="#80n" title='n' data-ref="80n" data-ref-filename="80n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::next" title='roff_node::next' data-ref="roff_node::next" data-ref-filename="roff_node..next">next</a>) {</td></tr>
<tr><th id="1402">1402</th><td>		<b>if</b> (<a class="local col0 ref" href="#80n" title='n' data-ref="80n" data-ref-filename="80n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::flags" title='roff_node::flags' data-ref="roff_node::flags" data-ref-filename="roff_node..flags">flags</a> &amp; <a class="local col2 ref" href="#82taboo" title='taboo' data-ref="82taboo" data-ref-filename="82taboo">taboo</a>)</td></tr>
<tr><th id="1403">1403</th><td>			<b>continue</b>;</td></tr>
<tr><th id="1404">1404</th><td>		<b>if</b> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> != <a class="local col0 ref" href="#80n" title='n' data-ref="80n" data-ref-filename="80n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::child" title='roff_node::child' data-ref="roff_node::child" data-ref-filename="roff_node..child">child</a>)</td></tr>
<tr><th id="1405">1405</th><td>			<a class="tu ref fn" href="#putmdockey" title='putmdockey' data-use='c' data-ref="putmdockey" data-ref-filename="putmdockey">putmdockey</a>(<a class="local col9 ref" href="#79mpage" title='mpage' data-ref="79mpage" data-ref-filename="79mpage">mpage</a>, <a class="local col0 ref" href="#80n" title='n' data-ref="80n" data-ref-filename="80n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::child" title='roff_node::child' data-ref="roff_node::child" data-ref-filename="roff_node..child">child</a>, <a class="local col1 ref" href="#81m" title='m' data-ref="81m" data-ref-filename="81m">m</a>, <a class="local col2 ref" href="#82taboo" title='taboo' data-ref="82taboo" data-ref-filename="82taboo">taboo</a>);</td></tr>
<tr><th id="1406">1406</th><td>		<b>if</b> (<a class="local col0 ref" href="#80n" title='n' data-ref="80n" data-ref-filename="80n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::type" title='roff_node::type' data-ref="roff_node::type" data-ref-filename="roff_node..type">type</a> == <a class="enum" href="roff.h.html#ROFFT_TEXT" title='ROFFT_TEXT' data-ref="ROFFT_TEXT" data-ref-filename="ROFFT_TEXT">ROFFT_TEXT</a>)</td></tr>
<tr><th id="1407">1407</th><td>			<a class="tu ref fn" href="#putkey" title='putkey' data-use='c' data-ref="putkey" data-ref-filename="putkey">putkey</a>(<a class="local col9 ref" href="#79mpage" title='mpage' data-ref="79mpage" data-ref-filename="79mpage">mpage</a>, <a class="local col0 ref" href="#80n" title='n' data-ref="80n" data-ref-filename="80n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::string" title='roff_node::string' data-ref="roff_node::string" data-ref-filename="roff_node..string">string</a>, <a class="local col1 ref" href="#81m" title='m' data-ref="81m" data-ref-filename="81m">m</a>);</td></tr>
<tr><th id="1408">1408</th><td>	}</td></tr>
<tr><th id="1409">1409</th><td>}</td></tr>
<tr><th id="1410">1410</th><td></td></tr>
<tr><th id="1411">1411</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="1412">1412</th><td><dfn class="tu decl def fn" id="parse_man" title='parse_man' data-type='void parse_man(struct mpage * mpage, const struct roff_meta * meta, const struct roff_node * n)' data-ref="parse_man" data-ref-filename="parse_man">parse_man</dfn>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *<dfn class="local col3 decl" id="83mpage" title='mpage' data-type='struct mpage *' data-ref="83mpage" data-ref-filename="83mpage">mpage</dfn>, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_meta" title='roff_meta' data-ref="roff_meta" data-ref-filename="roff_meta">roff_meta</a> *<dfn class="local col4 decl" id="84meta" title='meta' data-type='const struct roff_meta *' data-ref="84meta" data-ref-filename="84meta">meta</dfn>,</td></tr>
<tr><th id="1413">1413</th><td>	<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *<dfn class="local col5 decl" id="85n" title='n' data-type='const struct roff_node *' data-ref="85n" data-ref-filename="85n">n</dfn>)</td></tr>
<tr><th id="1414">1414</th><td>{</td></tr>
<tr><th id="1415">1415</th><td>	<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *<dfn class="local col6 decl" id="86head" title='head' data-type='const struct roff_node *' data-ref="86head" data-ref-filename="86head">head</dfn>, *<dfn class="local col7 decl" id="87body" title='body' data-type='const struct roff_node *' data-ref="87body" data-ref-filename="87body">body</dfn>;</td></tr>
<tr><th id="1416">1416</th><td>	<em>char</em>		*<dfn class="local col8 decl" id="88start" title='start' data-type='char *' data-ref="88start" data-ref-filename="88start">start</dfn>, *<dfn class="local col9 decl" id="89title" title='title' data-type='char *' data-ref="89title" data-ref-filename="89title">title</dfn>;</td></tr>
<tr><th id="1417">1417</th><td>	<em>char</em>		 <dfn class="local col0 decl" id="90byte" title='byte' data-type='char' data-ref="90byte" data-ref-filename="90byte">byte</dfn>;</td></tr>
<tr><th id="1418">1418</th><td>	<a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</a>		 <dfn class="local col1 decl" id="91sz" title='sz' data-type='size_t' data-ref="91sz" data-ref-filename="91sz">sz</dfn>;</td></tr>
<tr><th id="1419">1419</th><td></td></tr>
<tr><th id="1420">1420</th><td>	<b>if</b> (<a class="local col5 ref" href="#85n" title='n' data-ref="85n" data-ref-filename="85n">n</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1421">1421</th><td>		<b>return</b>;</td></tr>
<tr><th id="1422">1422</th><td></td></tr>
<tr><th id="1423">1423</th><td>	<i>/*</i></td></tr>
<tr><th id="1424">1424</th><td><i>	 * We're only searching for one thing: the first text child in</i></td></tr>
<tr><th id="1425">1425</th><td><i>	 * the BODY of a NAME section.  Since we don't keep track of</i></td></tr>
<tr><th id="1426">1426</th><td><i>	 * sections in -man, run some hoops to find out whether we're in</i></td></tr>
<tr><th id="1427">1427</th><td><i>	 * the correct section or not.</i></td></tr>
<tr><th id="1428">1428</th><td><i>	 */</i></td></tr>
<tr><th id="1429">1429</th><td></td></tr>
<tr><th id="1430">1430</th><td>	<b>if</b> (<a class="local col5 ref" href="#85n" title='n' data-ref="85n" data-ref-filename="85n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::type" title='roff_node::type' data-ref="roff_node::type" data-ref-filename="roff_node..type">type</a> == <a class="enum" href="roff.h.html#ROFFT_BODY" title='ROFFT_BODY' data-ref="ROFFT_BODY" data-ref-filename="ROFFT_BODY">ROFFT_BODY</a> &amp;&amp; <a class="local col5 ref" href="#85n" title='n' data-ref="85n" data-ref-filename="85n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::tok" title='roff_node::tok' data-ref="roff_node::tok" data-ref-filename="roff_node..tok">tok</a> == <a class="enum" href="roff.h.html#MAN_SH" title='MAN_SH' data-ref="MAN_SH" data-ref-filename="MAN_SH">MAN_SH</a>) {</td></tr>
<tr><th id="1431">1431</th><td>		<a class="local col7 ref" href="#87body" title='body' data-ref="87body" data-ref-filename="87body">body</a> = <a class="local col5 ref" href="#85n" title='n' data-ref="85n" data-ref-filename="85n">n</a>;</td></tr>
<tr><th id="1432">1432</th><td>		<b>if</b> ((<a class="local col6 ref" href="#86head" title='head' data-ref="86head" data-ref-filename="86head">head</a> = <a class="local col7 ref" href="#87body" title='body' data-ref="87body" data-ref-filename="87body">body</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::parent" title='roff_node::parent' data-ref="roff_node::parent" data-ref-filename="roff_node..parent">parent</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::head" title='roff_node::head' data-ref="roff_node::head" data-ref-filename="roff_node..head">head</a>) != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> &amp;&amp;</td></tr>
<tr><th id="1433">1433</th><td>		    (<a class="local col6 ref" href="#86head" title='head' data-ref="86head" data-ref-filename="86head">head</a> = <a class="local col6 ref" href="#86head" title='head' data-ref="86head" data-ref-filename="86head">head</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::child" title='roff_node::child' data-ref="roff_node::child" data-ref-filename="roff_node..child">child</a>) != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> &amp;&amp;</td></tr>
<tr><th id="1434">1434</th><td>		    <a class="local col6 ref" href="#86head" title='head' data-ref="86head" data-ref-filename="86head">head</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::next" title='roff_node::next' data-ref="roff_node::next" data-ref-filename="roff_node..next">next</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> &amp;&amp;</td></tr>
<tr><th id="1435">1435</th><td>		    <a class="local col6 ref" href="#86head" title='head' data-ref="86head" data-ref-filename="86head">head</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::type" title='roff_node::type' data-ref="roff_node::type" data-ref-filename="roff_node..type">type</a> == <a class="enum" href="roff.h.html#ROFFT_TEXT" title='ROFFT_TEXT' data-ref="ROFFT_TEXT" data-ref-filename="ROFFT_TEXT">ROFFT_TEXT</a> &amp;&amp;</td></tr>
<tr><th id="1436">1436</th><td>		    <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a>(<a class="local col6 ref" href="#86head" title='head' data-ref="86head" data-ref-filename="86head">head</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::string" title='roff_node::string' data-ref="roff_node::string" data-ref-filename="roff_node..string">string</a>, <q>"NAME"</q>) == <var>0</var> &amp;&amp;</td></tr>
<tr><th id="1437">1437</th><td>		    <a class="local col7 ref" href="#87body" title='body' data-ref="87body" data-ref-filename="87body">body</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::child" title='roff_node::child' data-ref="roff_node::child" data-ref-filename="roff_node..child">child</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="1438">1438</th><td></td></tr>
<tr><th id="1439">1439</th><td>			<i>/*</i></td></tr>
<tr><th id="1440">1440</th><td><i>			 * Suck the entire NAME section into memory.</i></td></tr>
<tr><th id="1441">1441</th><td><i>			 * Yes, we might run away.</i></td></tr>
<tr><th id="1442">1442</th><td><i>			 * But too many manuals have big, spread-out</i></td></tr>
<tr><th id="1443">1443</th><td><i>			 * NAME sections over many lines.</i></td></tr>
<tr><th id="1444">1444</th><td><i>			 */</i></td></tr>
<tr><th id="1445">1445</th><td></td></tr>
<tr><th id="1446">1446</th><td>			<a class="local col9 ref" href="#89title" title='title' data-ref="89title" data-ref-filename="89title">title</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1447">1447</th><td>			<a class="ref fn" href="roff.h.html#deroff" title='deroff' data-ref="deroff" data-ref-filename="deroff">deroff</a>(&amp;<a class="local col9 ref" href="#89title" title='title' data-ref="89title" data-ref-filename="89title">title</a>, <a class="local col7 ref" href="#87body" title='body' data-ref="87body" data-ref-filename="87body">body</a>);</td></tr>
<tr><th id="1448">1448</th><td>			<b>if</b> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> == <a class="local col9 ref" href="#89title" title='title' data-ref="89title" data-ref-filename="89title">title</a>)</td></tr>
<tr><th id="1449">1449</th><td>				<b>return</b>;</td></tr>
<tr><th id="1450">1450</th><td></td></tr>
<tr><th id="1451">1451</th><td>			<i>/*</i></td></tr>
<tr><th id="1452">1452</th><td><i>			 * Go through a special heuristic dance here.</i></td></tr>
<tr><th id="1453">1453</th><td><i>			 * Conventionally, one or more manual names are</i></td></tr>
<tr><th id="1454">1454</th><td><i>			 * comma-specified prior to a whitespace, then a</i></td></tr>
<tr><th id="1455">1455</th><td><i>			 * dash, then a description.  Try to puzzle out</i></td></tr>
<tr><th id="1456">1456</th><td><i>			 * the name parts here.</i></td></tr>
<tr><th id="1457">1457</th><td><i>			 */</i></td></tr>
<tr><th id="1458">1458</th><td></td></tr>
<tr><th id="1459">1459</th><td>			<a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a> = <a class="local col9 ref" href="#89title" title='title' data-ref="89title" data-ref-filename="89title">title</a>;</td></tr>
<tr><th id="1460">1460</th><td>			<b>for</b> ( ;; ) {</td></tr>
<tr><th id="1461">1461</th><td>				<a class="local col1 ref" href="#91sz" title='sz' data-ref="91sz" data-ref-filename="91sz">sz</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strcspn" title='strcspn' data-ref="strcspn" data-ref-filename="strcspn">strcspn</a>(<a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a>, <q>" ,"</q>);</td></tr>
<tr><th id="1462">1462</th><td>				<b>if</b> (<kbd>'\0'</kbd> == <a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a>[<a class="local col1 ref" href="#91sz" title='sz' data-ref="91sz" data-ref-filename="91sz">sz</a>])</td></tr>
<tr><th id="1463">1463</th><td>					<b>break</b>;</td></tr>
<tr><th id="1464">1464</th><td></td></tr>
<tr><th id="1465">1465</th><td>				<a class="local col0 ref" href="#90byte" title='byte' data-ref="90byte" data-ref-filename="90byte">byte</a> = <a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a>[<a class="local col1 ref" href="#91sz" title='sz' data-ref="91sz" data-ref-filename="91sz">sz</a>];</td></tr>
<tr><th id="1466">1466</th><td>				<a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a>[<a class="local col1 ref" href="#91sz" title='sz' data-ref="91sz" data-ref-filename="91sz">sz</a>] = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="1467">1467</th><td></td></tr>
<tr><th id="1468">1468</th><td>				<i>/*</i></td></tr>
<tr><th id="1469">1469</th><td><i>				 * Assume a stray trailing comma in the</i></td></tr>
<tr><th id="1470">1470</th><td><i>				 * name list if a name begins with a dash.</i></td></tr>
<tr><th id="1471">1471</th><td><i>				 */</i></td></tr>
<tr><th id="1472">1472</th><td></td></tr>
<tr><th id="1473">1473</th><td>				<b>if</b> (<kbd>'-'</kbd> == <a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a>[<var>0</var>] ||</td></tr>
<tr><th id="1474">1474</th><td>				    (<kbd>'\\'</kbd> == <a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a>[<var>0</var>] &amp;&amp; <kbd>'-'</kbd> == <a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a>[<var>1</var>]))</td></tr>
<tr><th id="1475">1475</th><td>					<b>break</b>;</td></tr>
<tr><th id="1476">1476</th><td></td></tr>
<tr><th id="1477">1477</th><td>				<a class="tu ref fn" href="#putkey" title='putkey' data-use='c' data-ref="putkey" data-ref-filename="putkey">putkey</a>(<a class="local col3 ref" href="#83mpage" title='mpage' data-ref="83mpage" data-ref-filename="83mpage">mpage</a>, <a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a>, <a class="macro" href="mansearch.h.html#73" title="0x0000004000000006ULL" data-ref="_M/NAME_TITLE">NAME_TITLE</a>);</td></tr>
<tr><th id="1478">1478</th><td>				<b>if</b> ( ! (<a class="local col3 ref" href="#83mpage" title='mpage' data-ref="83mpage" data-ref-filename="83mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::name_head_done" title='mpage::name_head_done' data-use='r' data-ref="mpage::name_head_done" data-ref-filename="mpage..name_head_done">name_head_done</a> ||</td></tr>
<tr><th id="1479">1479</th><td>				    <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/strings.h.html#strcasecmp" title='strcasecmp' data-ref="strcasecmp" data-ref-filename="strcasecmp">strcasecmp</a>(<a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a>, <a class="local col4 ref" href="#84meta" title='meta' data-ref="84meta" data-ref-filename="84meta">meta</a>-&gt;<a class="ref field" href="roff.h.html#roff_meta::title" title='roff_meta::title' data-ref="roff_meta::title" data-ref-filename="roff_meta..title">title</a>))) {</td></tr>
<tr><th id="1480">1480</th><td>					<a class="tu ref fn" href="#putkey" title='putkey' data-use='c' data-ref="putkey" data-ref-filename="putkey">putkey</a>(<a class="local col3 ref" href="#83mpage" title='mpage' data-ref="83mpage" data-ref-filename="83mpage">mpage</a>, <a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a>, <a class="macro" href="mansearch.h.html#74" title="0x0000004000000008ULL" data-ref="_M/NAME_HEAD">NAME_HEAD</a>);</td></tr>
<tr><th id="1481">1481</th><td>					<a class="local col3 ref" href="#83mpage" title='mpage' data-ref="83mpage" data-ref-filename="83mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::name_head_done" title='mpage::name_head_done' data-use='w' data-ref="mpage::name_head_done" data-ref-filename="mpage..name_head_done">name_head_done</a> = <var>1</var>;</td></tr>
<tr><th id="1482">1482</th><td>				}</td></tr>
<tr><th id="1483">1483</th><td></td></tr>
<tr><th id="1484">1484</th><td>				<b>if</b> (<kbd>' '</kbd> == <a class="local col0 ref" href="#90byte" title='byte' data-ref="90byte" data-ref-filename="90byte">byte</a>) {</td></tr>
<tr><th id="1485">1485</th><td>					<a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a> += <a class="local col1 ref" href="#91sz" title='sz' data-ref="91sz" data-ref-filename="91sz">sz</a> + <var>1</var>;</td></tr>
<tr><th id="1486">1486</th><td>					<b>break</b>;</td></tr>
<tr><th id="1487">1487</th><td>				}</td></tr>
<tr><th id="1488">1488</th><td></td></tr>
<tr><th id="1489">1489</th><td>				<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/assert.h.html#58" title="((&apos;,&apos; == byte) ? (void)0 : __assert13(&quot;/___NETBSD_SRC___/objdir.amd64/external/bsd/mdocml/bin/mandoc/../../../../../../external/bsd/mdocml/dist/mandocdb.c&quot;, 1489, __func__, &quot;&apos;,&apos; == byte&quot;))" data-ref="_M/assert">assert</a>(<kbd>','</kbd> == <a class="local col0 ref" href="#90byte" title='byte' data-ref="90byte" data-ref-filename="90byte">byte</a>);</td></tr>
<tr><th id="1490">1490</th><td>				<a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a> += <a class="local col1 ref" href="#91sz" title='sz' data-ref="91sz" data-ref-filename="91sz">sz</a> + <var>1</var>;</td></tr>
<tr><th id="1491">1491</th><td>				<b>while</b> (<kbd>' '</kbd> == *<a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a>)</td></tr>
<tr><th id="1492">1492</th><td>					<a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a>++;</td></tr>
<tr><th id="1493">1493</th><td>			}</td></tr>
<tr><th id="1494">1494</th><td></td></tr>
<tr><th id="1495">1495</th><td>			<b>if</b> (<a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a> == <a class="local col9 ref" href="#89title" title='title' data-ref="89title" data-ref-filename="89title">title</a>) {</td></tr>
<tr><th id="1496">1496</th><td>				<a class="tu ref fn" href="#putkey" title='putkey' data-use='c' data-ref="putkey" data-ref-filename="putkey">putkey</a>(<a class="local col3 ref" href="#83mpage" title='mpage' data-ref="83mpage" data-ref-filename="83mpage">mpage</a>, <a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a>, <a class="macro" href="mansearch.h.html#73" title="0x0000004000000006ULL" data-ref="_M/NAME_TITLE">NAME_TITLE</a>);</td></tr>
<tr><th id="1497">1497</th><td>				<b>if</b> ( ! (<a class="local col3 ref" href="#83mpage" title='mpage' data-ref="83mpage" data-ref-filename="83mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::name_head_done" title='mpage::name_head_done' data-use='r' data-ref="mpage::name_head_done" data-ref-filename="mpage..name_head_done">name_head_done</a> ||</td></tr>
<tr><th id="1498">1498</th><td>				    <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/strings.h.html#strcasecmp" title='strcasecmp' data-ref="strcasecmp" data-ref-filename="strcasecmp">strcasecmp</a>(<a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a>, <a class="local col4 ref" href="#84meta" title='meta' data-ref="84meta" data-ref-filename="84meta">meta</a>-&gt;<a class="ref field" href="roff.h.html#roff_meta::title" title='roff_meta::title' data-ref="roff_meta::title" data-ref-filename="roff_meta..title">title</a>))) {</td></tr>
<tr><th id="1499">1499</th><td>					<a class="tu ref fn" href="#putkey" title='putkey' data-use='c' data-ref="putkey" data-ref-filename="putkey">putkey</a>(<a class="local col3 ref" href="#83mpage" title='mpage' data-ref="83mpage" data-ref-filename="83mpage">mpage</a>, <a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a>, <a class="macro" href="mansearch.h.html#74" title="0x0000004000000008ULL" data-ref="_M/NAME_HEAD">NAME_HEAD</a>);</td></tr>
<tr><th id="1500">1500</th><td>					<a class="local col3 ref" href="#83mpage" title='mpage' data-ref="83mpage" data-ref-filename="83mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::name_head_done" title='mpage::name_head_done' data-use='w' data-ref="mpage::name_head_done" data-ref-filename="mpage..name_head_done">name_head_done</a> = <var>1</var>;</td></tr>
<tr><th id="1501">1501</th><td>				}</td></tr>
<tr><th id="1502">1502</th><td>				<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col9 ref" href="#89title" title='title' data-ref="89title" data-ref-filename="89title">title</a>);</td></tr>
<tr><th id="1503">1503</th><td>				<b>return</b>;</td></tr>
<tr><th id="1504">1504</th><td>			}</td></tr>
<tr><th id="1505">1505</th><td></td></tr>
<tr><th id="1506">1506</th><td>			<b>while</b> (<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/ctype_inline.h.html#56" title="((int)((_ctype_tab_ + 1)[((unsigned char)*start)] &amp; 0x0040))" data-ref="_M/isspace">isspace</a>((<em>unsigned</em> <em>char</em>)*<a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a>))</td></tr>
<tr><th id="1507">1507</th><td>				<a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a>++;</td></tr>
<tr><th id="1508">1508</th><td></td></tr>
<tr><th id="1509">1509</th><td>			<b>if</b> (<var>0</var> == <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strncmp" title='strncmp' data-ref="strncmp" data-ref-filename="strncmp">strncmp</a>(<a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a>, <q>"-"</q>, <var>1</var>))</td></tr>
<tr><th id="1510">1510</th><td>				<a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a> += <var>1</var>;</td></tr>
<tr><th id="1511">1511</th><td>			<b>else</b> <b>if</b> (<var>0</var> == <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strncmp" title='strncmp' data-ref="strncmp" data-ref-filename="strncmp">strncmp</a>(<a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a>, <q>"\\-\\-"</q>, <var>4</var>))</td></tr>
<tr><th id="1512">1512</th><td>				<a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a> += <var>4</var>;</td></tr>
<tr><th id="1513">1513</th><td>			<b>else</b> <b>if</b> (<var>0</var> == <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strncmp" title='strncmp' data-ref="strncmp" data-ref-filename="strncmp">strncmp</a>(<a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a>, <q>"\\-"</q>, <var>2</var>))</td></tr>
<tr><th id="1514">1514</th><td>				<a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a> += <var>2</var>;</td></tr>
<tr><th id="1515">1515</th><td>			<b>else</b> <b>if</b> (<var>0</var> == <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strncmp" title='strncmp' data-ref="strncmp" data-ref-filename="strncmp">strncmp</a>(<a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a>, <q>"\\(en"</q>, <var>4</var>))</td></tr>
<tr><th id="1516">1516</th><td>				<a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a> += <var>4</var>;</td></tr>
<tr><th id="1517">1517</th><td>			<b>else</b> <b>if</b> (<var>0</var> == <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strncmp" title='strncmp' data-ref="strncmp" data-ref-filename="strncmp">strncmp</a>(<a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a>, <q>"\\(em"</q>, <var>4</var>))</td></tr>
<tr><th id="1518">1518</th><td>				<a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a> += <var>4</var>;</td></tr>
<tr><th id="1519">1519</th><td></td></tr>
<tr><th id="1520">1520</th><td>			<b>while</b> (<kbd>' '</kbd> == *<a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a>)</td></tr>
<tr><th id="1521">1521</th><td>				<a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a>++;</td></tr>
<tr><th id="1522">1522</th><td></td></tr>
<tr><th id="1523">1523</th><td>			<i>/*</i></td></tr>
<tr><th id="1524">1524</th><td><i>			 * Cut off excessive one-line descriptions.</i></td></tr>
<tr><th id="1525">1525</th><td><i>			 * Bad pages are not worth better heuristics.</i></td></tr>
<tr><th id="1526">1526</th><td><i>			 */</i></td></tr>
<tr><th id="1527">1527</th><td></td></tr>
<tr><th id="1528">1528</th><td>			<a class="local col3 ref" href="#83mpage" title='mpage' data-ref="83mpage" data-ref-filename="83mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::desc" title='mpage::desc' data-use='w' data-ref="mpage::desc" data-ref-filename="mpage..desc">desc</a> = <a class="ref fn" href="mandoc_aux.h.html#mandoc_strndup" title='mandoc_strndup' data-ref="mandoc_strndup" data-ref-filename="mandoc_strndup">mandoc_strndup</a>(<a class="local col8 ref" href="#88start" title='start' data-ref="88start" data-ref-filename="88start">start</a>, <var>150</var>);</td></tr>
<tr><th id="1529">1529</th><td>			<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col9 ref" href="#89title" title='title' data-ref="89title" data-ref-filename="89title">title</a>);</td></tr>
<tr><th id="1530">1530</th><td>			<b>return</b>;</td></tr>
<tr><th id="1531">1531</th><td>		}</td></tr>
<tr><th id="1532">1532</th><td>	}</td></tr>
<tr><th id="1533">1533</th><td></td></tr>
<tr><th id="1534">1534</th><td>	<b>for</b> (<a class="local col5 ref" href="#85n" title='n' data-ref="85n" data-ref-filename="85n">n</a> = <a class="local col5 ref" href="#85n" title='n' data-ref="85n" data-ref-filename="85n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::child" title='roff_node::child' data-ref="roff_node::child" data-ref-filename="roff_node..child">child</a>; <a class="local col5 ref" href="#85n" title='n' data-ref="85n" data-ref-filename="85n">n</a>; <a class="local col5 ref" href="#85n" title='n' data-ref="85n" data-ref-filename="85n">n</a> = <a class="local col5 ref" href="#85n" title='n' data-ref="85n" data-ref-filename="85n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::next" title='roff_node::next' data-ref="roff_node::next" data-ref-filename="roff_node..next">next</a>) {</td></tr>
<tr><th id="1535">1535</th><td>		<b>if</b> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> != <a class="local col3 ref" href="#83mpage" title='mpage' data-ref="83mpage" data-ref-filename="83mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::desc" title='mpage::desc' data-use='r' data-ref="mpage::desc" data-ref-filename="mpage..desc">desc</a>)</td></tr>
<tr><th id="1536">1536</th><td>			<b>break</b>;</td></tr>
<tr><th id="1537">1537</th><td>		<a class="tu ref fn" href="#parse_man" title='parse_man' data-use='c' data-ref="parse_man" data-ref-filename="parse_man">parse_man</a>(<a class="local col3 ref" href="#83mpage" title='mpage' data-ref="83mpage" data-ref-filename="83mpage">mpage</a>, <a class="local col4 ref" href="#84meta" title='meta' data-ref="84meta" data-ref-filename="84meta">meta</a>, <a class="local col5 ref" href="#85n" title='n' data-ref="85n" data-ref-filename="85n">n</a>);</td></tr>
<tr><th id="1538">1538</th><td>	}</td></tr>
<tr><th id="1539">1539</th><td>}</td></tr>
<tr><th id="1540">1540</th><td></td></tr>
<tr><th id="1541">1541</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="1542">1542</th><td><dfn class="tu decl def fn" id="parse_mdoc" title='parse_mdoc' data-type='void parse_mdoc(struct mpage * mpage, const struct roff_meta * meta, const struct roff_node * n)' data-ref="parse_mdoc" data-ref-filename="parse_mdoc">parse_mdoc</dfn>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *<dfn class="local col2 decl" id="92mpage" title='mpage' data-type='struct mpage *' data-ref="92mpage" data-ref-filename="92mpage">mpage</dfn>, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_meta" title='roff_meta' data-ref="roff_meta" data-ref-filename="roff_meta">roff_meta</a> *<dfn class="local col3 decl" id="93meta" title='meta' data-type='const struct roff_meta *' data-ref="93meta" data-ref-filename="93meta">meta</dfn>,</td></tr>
<tr><th id="1543">1543</th><td>	<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *<dfn class="local col4 decl" id="94n" title='n' data-type='const struct roff_node *' data-ref="94n" data-ref-filename="94n">n</dfn>)</td></tr>
<tr><th id="1544">1544</th><td>{</td></tr>
<tr><th id="1545">1545</th><td>	<em>const</em> <b>struct</b> <a class="type" href="#mdoc_handler" title='mdoc_handler' data-ref="mdoc_handler" data-ref-filename="mdoc_handler">mdoc_handler</a> *<dfn class="local col5 decl" id="95handler" title='handler' data-type='const struct mdoc_handler *' data-ref="95handler" data-ref-filename="95handler">handler</dfn>;</td></tr>
<tr><th id="1546">1546</th><td></td></tr>
<tr><th id="1547">1547</th><td>	<b>for</b> (<a class="local col4 ref" href="#94n" title='n' data-ref="94n" data-ref-filename="94n">n</a> = <a class="local col4 ref" href="#94n" title='n' data-ref="94n" data-ref-filename="94n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::child" title='roff_node::child' data-ref="roff_node::child" data-ref-filename="roff_node..child">child</a>; <a class="local col4 ref" href="#94n" title='n' data-ref="94n" data-ref-filename="94n">n</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>; <a class="local col4 ref" href="#94n" title='n' data-ref="94n" data-ref-filename="94n">n</a> = <a class="local col4 ref" href="#94n" title='n' data-ref="94n" data-ref-filename="94n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::next" title='roff_node::next' data-ref="roff_node::next" data-ref-filename="roff_node..next">next</a>) {</td></tr>
<tr><th id="1548">1548</th><td>		<b>if</b> (<a class="local col4 ref" href="#94n" title='n' data-ref="94n" data-ref-filename="94n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::tok" title='roff_node::tok' data-ref="roff_node::tok" data-ref-filename="roff_node..tok">tok</a> == <a class="enum" href="roff.h.html#TOKEN_NONE" title='TOKEN_NONE' data-ref="TOKEN_NONE" data-ref-filename="TOKEN_NONE">TOKEN_NONE</a> || <a class="local col4 ref" href="#94n" title='n' data-ref="94n" data-ref-filename="94n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::tok" title='roff_node::tok' data-ref="roff_node::tok" data-ref-filename="roff_node..tok">tok</a> &lt; <a class="enum" href="roff.h.html#ROFF_MAX" title='ROFF_MAX' data-ref="ROFF_MAX" data-ref-filename="ROFF_MAX">ROFF_MAX</a>)</td></tr>
<tr><th id="1549">1549</th><td>			<b>continue</b>;</td></tr>
<tr><th id="1550">1550</th><td>		<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/assert.h.html#58" title="((n-&gt;tok &gt;= MDOC_Dd &amp;&amp; n-&gt;tok &lt; MDOC_MAX) ? (void)0 : __assert13(&quot;/___NETBSD_SRC___/objdir.amd64/external/bsd/mdocml/bin/mandoc/../../../../../../external/bsd/mdocml/dist/mandocdb.c&quot;, 1550, __func__, &quot;n-&gt;tok &gt;= MDOC_Dd &amp;&amp; n-&gt;tok &lt; MDOC_MAX&quot;))" data-ref="_M/assert">assert</a>(<a class="local col4 ref" href="#94n" title='n' data-ref="94n" data-ref-filename="94n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::tok" title='roff_node::tok' data-ref="roff_node::tok" data-ref-filename="roff_node..tok">tok</a> &gt;= <a class="enum" href="roff.h.html#MDOC_Dd" title='MDOC_Dd' data-ref="MDOC_Dd" data-ref-filename="MDOC_Dd">MDOC_Dd</a> &amp;&amp; <a class="local col4 ref" href="#94n" title='n' data-ref="94n" data-ref-filename="94n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::tok" title='roff_node::tok' data-ref="roff_node::tok" data-ref-filename="roff_node..tok">tok</a> &lt; <a class="enum" href="roff.h.html#MDOC_MAX" title='MDOC_MAX' data-ref="MDOC_MAX" data-ref-filename="MDOC_MAX">MDOC_MAX</a>);</td></tr>
<tr><th id="1551">1551</th><td>		<a class="local col5 ref" href="#95handler" title='handler' data-ref="95handler" data-ref-filename="95handler">handler</a> = <a class="tu ref" href="#mdoc_handlers" title='mdoc_handlers' data-use='r' data-ref="mdoc_handlers" data-ref-filename="mdoc_handlers">mdoc_handlers</a> + (<a class="local col4 ref" href="#94n" title='n' data-ref="94n" data-ref-filename="94n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::tok" title='roff_node::tok' data-ref="roff_node::tok" data-ref-filename="roff_node..tok">tok</a> - <a class="enum" href="roff.h.html#MDOC_Dd" title='MDOC_Dd' data-ref="MDOC_Dd" data-ref-filename="MDOC_Dd">MDOC_Dd</a>);</td></tr>
<tr><th id="1552">1552</th><td>		<b>if</b> (<a class="local col4 ref" href="#94n" title='n' data-ref="94n" data-ref-filename="94n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::flags" title='roff_node::flags' data-ref="roff_node::flags" data-ref-filename="roff_node..flags">flags</a> &amp; <a class="local col5 ref" href="#95handler" title='handler' data-ref="95handler" data-ref-filename="95handler">handler</a>-&gt;<a class="tu ref field" href="#mdoc_handler::taboo" title='mdoc_handler::taboo' data-use='r' data-ref="mdoc_handler::taboo" data-ref-filename="mdoc_handler..taboo">taboo</a>)</td></tr>
<tr><th id="1553">1553</th><td>			<b>continue</b>;</td></tr>
<tr><th id="1554">1554</th><td></td></tr>
<tr><th id="1555">1555</th><td>		<b>switch</b> (<a class="local col4 ref" href="#94n" title='n' data-ref="94n" data-ref-filename="94n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::type" title='roff_node::type' data-ref="roff_node::type" data-ref-filename="roff_node..type">type</a>) {</td></tr>
<tr><th id="1556">1556</th><td>		<b>case</b> <a class="enum" href="roff.h.html#ROFFT_ELEM" title='ROFFT_ELEM' data-ref="ROFFT_ELEM" data-ref-filename="ROFFT_ELEM">ROFFT_ELEM</a>:</td></tr>
<tr><th id="1557">1557</th><td>		<b>case</b> <a class="enum" href="roff.h.html#ROFFT_BLOCK" title='ROFFT_BLOCK' data-ref="ROFFT_BLOCK" data-ref-filename="ROFFT_BLOCK">ROFFT_BLOCK</a>:</td></tr>
<tr><th id="1558">1558</th><td>		<b>case</b> <a class="enum" href="roff.h.html#ROFFT_HEAD" title='ROFFT_HEAD' data-ref="ROFFT_HEAD" data-ref-filename="ROFFT_HEAD">ROFFT_HEAD</a>:</td></tr>
<tr><th id="1559">1559</th><td>		<b>case</b> <a class="enum" href="roff.h.html#ROFFT_BODY" title='ROFFT_BODY' data-ref="ROFFT_BODY" data-ref-filename="ROFFT_BODY">ROFFT_BODY</a>:</td></tr>
<tr><th id="1560">1560</th><td>		<b>case</b> <a class="enum" href="roff.h.html#ROFFT_TAIL" title='ROFFT_TAIL' data-ref="ROFFT_TAIL" data-ref-filename="ROFFT_TAIL">ROFFT_TAIL</a>:</td></tr>
<tr><th id="1561">1561</th><td>			<b>if</b> (<a class="local col5 ref" href="#95handler" title='handler' data-ref="95handler" data-ref-filename="95handler">handler</a>-&gt;<a class="tu ref field" href="#mdoc_handler::fp" title='mdoc_handler::fp' data-use='r' data-ref="mdoc_handler::fp" data-ref-filename="mdoc_handler..fp">fp</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> &amp;&amp;</td></tr>
<tr><th id="1562">1562</th><td>			    (*<a class="local col5 ref" href="#95handler" title='handler' data-ref="95handler" data-ref-filename="95handler">handler</a>-&gt;<a class="tu ref field" href="#mdoc_handler::fp" title='mdoc_handler::fp' data-use='r' data-ref="mdoc_handler::fp" data-ref-filename="mdoc_handler..fp">fp</a>)(<a class="local col2 ref" href="#92mpage" title='mpage' data-ref="92mpage" data-ref-filename="92mpage">mpage</a>, <a class="local col3 ref" href="#93meta" title='meta' data-ref="93meta" data-ref-filename="93meta">meta</a>, <a class="local col4 ref" href="#94n" title='n' data-ref="94n" data-ref-filename="94n">n</a>) == <var>0</var>)</td></tr>
<tr><th id="1563">1563</th><td>				<b>break</b>;</td></tr>
<tr><th id="1564">1564</th><td>			<b>if</b> (<a class="local col5 ref" href="#95handler" title='handler' data-ref="95handler" data-ref-filename="95handler">handler</a>-&gt;<a class="tu ref field" href="#mdoc_handler::mask" title='mdoc_handler::mask' data-use='r' data-ref="mdoc_handler::mask" data-ref-filename="mdoc_handler..mask">mask</a>)</td></tr>
<tr><th id="1565">1565</th><td>				<a class="tu ref fn" href="#putmdockey" title='putmdockey' data-use='c' data-ref="putmdockey" data-ref-filename="putmdockey">putmdockey</a>(<a class="local col2 ref" href="#92mpage" title='mpage' data-ref="92mpage" data-ref-filename="92mpage">mpage</a>, <a class="local col4 ref" href="#94n" title='n' data-ref="94n" data-ref-filename="94n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::child" title='roff_node::child' data-ref="roff_node::child" data-ref-filename="roff_node..child">child</a>,</td></tr>
<tr><th id="1566">1566</th><td>				    <a class="local col5 ref" href="#95handler" title='handler' data-ref="95handler" data-ref-filename="95handler">handler</a>-&gt;<a class="tu ref field" href="#mdoc_handler::mask" title='mdoc_handler::mask' data-use='r' data-ref="mdoc_handler::mask" data-ref-filename="mdoc_handler..mask">mask</a>, <a class="local col5 ref" href="#95handler" title='handler' data-ref="95handler" data-ref-filename="95handler">handler</a>-&gt;<a class="tu ref field" href="#mdoc_handler::taboo" title='mdoc_handler::taboo' data-use='r' data-ref="mdoc_handler::taboo" data-ref-filename="mdoc_handler..taboo">taboo</a>);</td></tr>
<tr><th id="1567">1567</th><td>			<b>break</b>;</td></tr>
<tr><th id="1568">1568</th><td>		<b>default</b>:</td></tr>
<tr><th id="1569">1569</th><td>			<b>continue</b>;</td></tr>
<tr><th id="1570">1570</th><td>		}</td></tr>
<tr><th id="1571">1571</th><td>		<b>if</b> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> != <a class="local col4 ref" href="#94n" title='n' data-ref="94n" data-ref-filename="94n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::child" title='roff_node::child' data-ref="roff_node::child" data-ref-filename="roff_node..child">child</a>)</td></tr>
<tr><th id="1572">1572</th><td>			<a class="tu ref fn" href="#parse_mdoc" title='parse_mdoc' data-use='c' data-ref="parse_mdoc" data-ref-filename="parse_mdoc">parse_mdoc</a>(<a class="local col2 ref" href="#92mpage" title='mpage' data-ref="92mpage" data-ref-filename="92mpage">mpage</a>, <a class="local col3 ref" href="#93meta" title='meta' data-ref="93meta" data-ref-filename="93meta">meta</a>, <a class="local col4 ref" href="#94n" title='n' data-ref="94n" data-ref-filename="94n">n</a>);</td></tr>
<tr><th id="1573">1573</th><td>	}</td></tr>
<tr><th id="1574">1574</th><td>}</td></tr>
<tr><th id="1575">1575</th><td></td></tr>
<tr><th id="1576">1576</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="1577">1577</th><td><dfn class="tu decl def fn" id="parse_mdoc_Fa" title='parse_mdoc_Fa' data-type='int parse_mdoc_Fa(struct mpage * mpage, const struct roff_meta * meta, const struct roff_node * n)' data-ref="parse_mdoc_Fa" data-ref-filename="parse_mdoc_Fa">parse_mdoc_Fa</dfn>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *<dfn class="local col6 decl" id="96mpage" title='mpage' data-type='struct mpage *' data-ref="96mpage" data-ref-filename="96mpage">mpage</dfn>, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_meta" title='roff_meta' data-ref="roff_meta" data-ref-filename="roff_meta">roff_meta</a> *<dfn class="local col7 decl" id="97meta" title='meta' data-type='const struct roff_meta *' data-ref="97meta" data-ref-filename="97meta">meta</dfn>,</td></tr>
<tr><th id="1578">1578</th><td>	<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *<dfn class="local col8 decl" id="98n" title='n' data-type='const struct roff_node *' data-ref="98n" data-ref-filename="98n">n</dfn>)</td></tr>
<tr><th id="1579">1579</th><td>{</td></tr>
<tr><th id="1580">1580</th><td>	<a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a> <dfn class="local col9 decl" id="99mask" title='mask' data-type='uint64_t' data-ref="99mask" data-ref-filename="99mask">mask</dfn>;</td></tr>
<tr><th id="1581">1581</th><td></td></tr>
<tr><th id="1582">1582</th><td>	<a class="local col9 ref" href="#99mask" title='mask' data-ref="99mask" data-ref-filename="99mask">mask</a> = <a class="macro" href="mansearch.h.html#34" title="0x0000000000000010ULL" data-ref="_M/TYPE_Fa">TYPE_Fa</a>;</td></tr>
<tr><th id="1583">1583</th><td>	<b>if</b> (<a class="local col8 ref" href="#98n" title='n' data-ref="98n" data-ref-filename="98n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::sec" title='roff_node::sec' data-ref="roff_node::sec" data-ref-filename="roff_node..sec">sec</a> == <a class="enum" href="roff.h.html#SEC_SYNOPSIS" title='SEC_SYNOPSIS' data-ref="SEC_SYNOPSIS" data-ref-filename="SEC_SYNOPSIS">SEC_SYNOPSIS</a>)</td></tr>
<tr><th id="1584">1584</th><td>		<a class="local col9 ref" href="#99mask" title='mask' data-ref="99mask" data-ref-filename="99mask">mask</a> |= <a class="macro" href="mansearch.h.html#66" title="0x0000001000000000ULL" data-ref="_M/TYPE_Vt">TYPE_Vt</a>;</td></tr>
<tr><th id="1585">1585</th><td></td></tr>
<tr><th id="1586">1586</th><td>	<a class="tu ref fn" href="#putmdockey" title='putmdockey' data-use='c' data-ref="putmdockey" data-ref-filename="putmdockey">putmdockey</a>(<a class="local col6 ref" href="#96mpage" title='mpage' data-ref="96mpage" data-ref-filename="96mpage">mpage</a>, <a class="local col8 ref" href="#98n" title='n' data-ref="98n" data-ref-filename="98n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::child" title='roff_node::child' data-ref="roff_node::child" data-ref-filename="roff_node..child">child</a>, <a class="local col9 ref" href="#99mask" title='mask' data-ref="99mask" data-ref-filename="99mask">mask</a>, <var>0</var>);</td></tr>
<tr><th id="1587">1587</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1588">1588</th><td>}</td></tr>
<tr><th id="1589">1589</th><td></td></tr>
<tr><th id="1590">1590</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="1591">1591</th><td><dfn class="tu decl def fn" id="parse_mdoc_Fd" title='parse_mdoc_Fd' data-type='int parse_mdoc_Fd(struct mpage * mpage, const struct roff_meta * meta, const struct roff_node * n)' data-ref="parse_mdoc_Fd" data-ref-filename="parse_mdoc_Fd">parse_mdoc_Fd</dfn>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *<dfn class="local col0 decl" id="100mpage" title='mpage' data-type='struct mpage *' data-ref="100mpage" data-ref-filename="100mpage">mpage</dfn>, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_meta" title='roff_meta' data-ref="roff_meta" data-ref-filename="roff_meta">roff_meta</a> *<dfn class="local col1 decl" id="101meta" title='meta' data-type='const struct roff_meta *' data-ref="101meta" data-ref-filename="101meta">meta</dfn>,</td></tr>
<tr><th id="1592">1592</th><td>	<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *<dfn class="local col2 decl" id="102n" title='n' data-type='const struct roff_node *' data-ref="102n" data-ref-filename="102n">n</dfn>)</td></tr>
<tr><th id="1593">1593</th><td>{</td></tr>
<tr><th id="1594">1594</th><td>	<em>char</em>		*<dfn class="local col3 decl" id="103start" title='start' data-type='char *' data-ref="103start" data-ref-filename="103start">start</dfn>, *<dfn class="local col4 decl" id="104end" title='end' data-type='char *' data-ref="104end" data-ref-filename="104end">end</dfn>;</td></tr>
<tr><th id="1595">1595</th><td>	<a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</a>		 <dfn class="local col5 decl" id="105sz" title='sz' data-type='size_t' data-ref="105sz" data-ref-filename="105sz">sz</dfn>;</td></tr>
<tr><th id="1596">1596</th><td></td></tr>
<tr><th id="1597">1597</th><td>	<b>if</b> (<a class="enum" href="roff.h.html#SEC_SYNOPSIS" title='SEC_SYNOPSIS' data-ref="SEC_SYNOPSIS" data-ref-filename="SEC_SYNOPSIS">SEC_SYNOPSIS</a> != <a class="local col2 ref" href="#102n" title='n' data-ref="102n" data-ref-filename="102n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::sec" title='roff_node::sec' data-ref="roff_node::sec" data-ref-filename="roff_node..sec">sec</a> ||</td></tr>
<tr><th id="1598">1598</th><td>	    <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> == (<a class="local col2 ref" href="#102n" title='n' data-ref="102n" data-ref-filename="102n">n</a> = <a class="local col2 ref" href="#102n" title='n' data-ref="102n" data-ref-filename="102n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::child" title='roff_node::child' data-ref="roff_node::child" data-ref-filename="roff_node..child">child</a>) ||</td></tr>
<tr><th id="1599">1599</th><td>	    <a class="local col2 ref" href="#102n" title='n' data-ref="102n" data-ref-filename="102n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::type" title='roff_node::type' data-ref="roff_node::type" data-ref-filename="roff_node..type">type</a> != <a class="enum" href="roff.h.html#ROFFT_TEXT" title='ROFFT_TEXT' data-ref="ROFFT_TEXT" data-ref-filename="ROFFT_TEXT">ROFFT_TEXT</a>)</td></tr>
<tr><th id="1600">1600</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1601">1601</th><td></td></tr>
<tr><th id="1602">1602</th><td>	<i>/*</i></td></tr>
<tr><th id="1603">1603</th><td><i>	 * Only consider those `Fd' macro fields that begin with an</i></td></tr>
<tr><th id="1604">1604</th><td><i>	 * "inclusion" token (versus, e.g., #define).</i></td></tr>
<tr><th id="1605">1605</th><td><i>	 */</i></td></tr>
<tr><th id="1606">1606</th><td></td></tr>
<tr><th id="1607">1607</th><td>	<b>if</b> (<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a>(<q>"#include"</q>, <a class="local col2 ref" href="#102n" title='n' data-ref="102n" data-ref-filename="102n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::string" title='roff_node::string' data-ref="roff_node::string" data-ref-filename="roff_node..string">string</a>))</td></tr>
<tr><th id="1608">1608</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1609">1609</th><td></td></tr>
<tr><th id="1610">1610</th><td>	<b>if</b> ((<a class="local col2 ref" href="#102n" title='n' data-ref="102n" data-ref-filename="102n">n</a> = <a class="local col2 ref" href="#102n" title='n' data-ref="102n" data-ref-filename="102n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::next" title='roff_node::next' data-ref="roff_node::next" data-ref-filename="roff_node..next">next</a>) == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> || <a class="local col2 ref" href="#102n" title='n' data-ref="102n" data-ref-filename="102n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::type" title='roff_node::type' data-ref="roff_node::type" data-ref-filename="roff_node..type">type</a> != <a class="enum" href="roff.h.html#ROFFT_TEXT" title='ROFFT_TEXT' data-ref="ROFFT_TEXT" data-ref-filename="ROFFT_TEXT">ROFFT_TEXT</a>)</td></tr>
<tr><th id="1611">1611</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1612">1612</th><td></td></tr>
<tr><th id="1613">1613</th><td>	<i>/*</i></td></tr>
<tr><th id="1614">1614</th><td><i>	 * Strip away the enclosing angle brackets and make sure we're</i></td></tr>
<tr><th id="1615">1615</th><td><i>	 * not zero-length.</i></td></tr>
<tr><th id="1616">1616</th><td><i>	 */</i></td></tr>
<tr><th id="1617">1617</th><td></td></tr>
<tr><th id="1618">1618</th><td>	<a class="local col3 ref" href="#103start" title='start' data-ref="103start" data-ref-filename="103start">start</a> = <a class="local col2 ref" href="#102n" title='n' data-ref="102n" data-ref-filename="102n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::string" title='roff_node::string' data-ref="roff_node::string" data-ref-filename="roff_node..string">string</a>;</td></tr>
<tr><th id="1619">1619</th><td>	<b>if</b> (<kbd>'&lt;'</kbd> == *<a class="local col3 ref" href="#103start" title='start' data-ref="103start" data-ref-filename="103start">start</a> || <kbd>'"'</kbd> == *<a class="local col3 ref" href="#103start" title='start' data-ref="103start" data-ref-filename="103start">start</a>)</td></tr>
<tr><th id="1620">1620</th><td>		<a class="local col3 ref" href="#103start" title='start' data-ref="103start" data-ref-filename="103start">start</a>++;</td></tr>
<tr><th id="1621">1621</th><td></td></tr>
<tr><th id="1622">1622</th><td>	<b>if</b> (<var>0</var> == (<a class="local col5 ref" href="#105sz" title='sz' data-ref="105sz" data-ref-filename="105sz">sz</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a>(<a class="local col3 ref" href="#103start" title='start' data-ref="103start" data-ref-filename="103start">start</a>)))</td></tr>
<tr><th id="1623">1623</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1624">1624</th><td></td></tr>
<tr><th id="1625">1625</th><td>	<a class="local col4 ref" href="#104end" title='end' data-ref="104end" data-ref-filename="104end">end</a> = &amp;<a class="local col3 ref" href="#103start" title='start' data-ref="103start" data-ref-filename="103start">start</a>[(<em>int</em>)<a class="local col5 ref" href="#105sz" title='sz' data-ref="105sz" data-ref-filename="105sz">sz</a> - <var>1</var>];</td></tr>
<tr><th id="1626">1626</th><td>	<b>if</b> (<kbd>'&gt;'</kbd> == *<a class="local col4 ref" href="#104end" title='end' data-ref="104end" data-ref-filename="104end">end</a> || <kbd>'"'</kbd> == *<a class="local col4 ref" href="#104end" title='end' data-ref="104end" data-ref-filename="104end">end</a>)</td></tr>
<tr><th id="1627">1627</th><td>		<a class="local col4 ref" href="#104end" title='end' data-ref="104end" data-ref-filename="104end">end</a>--;</td></tr>
<tr><th id="1628">1628</th><td></td></tr>
<tr><th id="1629">1629</th><td>	<b>if</b> (<a class="local col4 ref" href="#104end" title='end' data-ref="104end" data-ref-filename="104end">end</a> &gt; <a class="local col3 ref" href="#103start" title='start' data-ref="103start" data-ref-filename="103start">start</a>)</td></tr>
<tr><th id="1630">1630</th><td>		<a class="tu ref fn" href="#putkeys" title='putkeys' data-use='c' data-ref="putkeys" data-ref-filename="putkeys">putkeys</a>(<a class="local col0 ref" href="#100mpage" title='mpage' data-ref="100mpage" data-ref-filename="100mpage">mpage</a>, <a class="local col3 ref" href="#103start" title='start' data-ref="103start" data-ref-filename="103start">start</a>, <a class="local col4 ref" href="#104end" title='end' data-ref="104end" data-ref-filename="104end">end</a> - <a class="local col3 ref" href="#103start" title='start' data-ref="103start" data-ref-filename="103start">start</a> + <var>1</var>, <a class="macro" href="mansearch.h.html#51" title="0x0000000000200000ULL" data-ref="_M/TYPE_In">TYPE_In</a>);</td></tr>
<tr><th id="1631">1631</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1632">1632</th><td>}</td></tr>
<tr><th id="1633">1633</th><td></td></tr>
<tr><th id="1634">1634</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="1635">1635</th><td><dfn class="tu decl def fn" id="parse_mdoc_fname" title='parse_mdoc_fname' data-type='void parse_mdoc_fname(struct mpage * mpage, const struct roff_node * n)' data-ref="parse_mdoc_fname" data-ref-filename="parse_mdoc_fname">parse_mdoc_fname</dfn>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *<dfn class="local col6 decl" id="106mpage" title='mpage' data-type='struct mpage *' data-ref="106mpage" data-ref-filename="106mpage">mpage</dfn>, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *<dfn class="local col7 decl" id="107n" title='n' data-type='const struct roff_node *' data-ref="107n" data-ref-filename="107n">n</dfn>)</td></tr>
<tr><th id="1636">1636</th><td>{</td></tr>
<tr><th id="1637">1637</th><td>	<em>char</em>	*<dfn class="local col8 decl" id="108cp" title='cp' data-type='char *' data-ref="108cp" data-ref-filename="108cp">cp</dfn>;</td></tr>
<tr><th id="1638">1638</th><td>	<a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</a>	 <dfn class="local col9 decl" id="109sz" title='sz' data-type='size_t' data-ref="109sz" data-ref-filename="109sz">sz</dfn>;</td></tr>
<tr><th id="1639">1639</th><td></td></tr>
<tr><th id="1640">1640</th><td>	<b>if</b> (<a class="local col7 ref" href="#107n" title='n' data-ref="107n" data-ref-filename="107n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::type" title='roff_node::type' data-ref="roff_node::type" data-ref-filename="roff_node..type">type</a> != <a class="enum" href="roff.h.html#ROFFT_TEXT" title='ROFFT_TEXT' data-ref="ROFFT_TEXT" data-ref-filename="ROFFT_TEXT">ROFFT_TEXT</a>)</td></tr>
<tr><th id="1641">1641</th><td>		<b>return</b>;</td></tr>
<tr><th id="1642">1642</th><td></td></tr>
<tr><th id="1643">1643</th><td>	<i>/* Skip function pointer punctuation. */</i></td></tr>
<tr><th id="1644">1644</th><td></td></tr>
<tr><th id="1645">1645</th><td>	<a class="local col8 ref" href="#108cp" title='cp' data-ref="108cp" data-ref-filename="108cp">cp</a> = <a class="local col7 ref" href="#107n" title='n' data-ref="107n" data-ref-filename="107n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::string" title='roff_node::string' data-ref="roff_node::string" data-ref-filename="roff_node..string">string</a>;</td></tr>
<tr><th id="1646">1646</th><td>	<b>while</b> (*<a class="local col8 ref" href="#108cp" title='cp' data-ref="108cp" data-ref-filename="108cp">cp</a> == <kbd>'('</kbd> || *<a class="local col8 ref" href="#108cp" title='cp' data-ref="108cp" data-ref-filename="108cp">cp</a> == <kbd>'*'</kbd>)</td></tr>
<tr><th id="1647">1647</th><td>		<a class="local col8 ref" href="#108cp" title='cp' data-ref="108cp" data-ref-filename="108cp">cp</a>++;</td></tr>
<tr><th id="1648">1648</th><td>	<a class="local col9 ref" href="#109sz" title='sz' data-ref="109sz" data-ref-filename="109sz">sz</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strcspn" title='strcspn' data-ref="strcspn" data-ref-filename="strcspn">strcspn</a>(<a class="local col8 ref" href="#108cp" title='cp' data-ref="108cp" data-ref-filename="108cp">cp</a>, <q>"()"</q>);</td></tr>
<tr><th id="1649">1649</th><td></td></tr>
<tr><th id="1650">1650</th><td>	<a class="tu ref fn" href="#putkeys" title='putkeys' data-use='c' data-ref="putkeys" data-ref-filename="putkeys">putkeys</a>(<a class="local col6 ref" href="#106mpage" title='mpage' data-ref="106mpage" data-ref-filename="106mpage">mpage</a>, <a class="local col8 ref" href="#108cp" title='cp' data-ref="108cp" data-ref-filename="108cp">cp</a>, <a class="local col9 ref" href="#109sz" title='sz' data-ref="109sz" data-ref-filename="109sz">sz</a>, <a class="macro" href="mansearch.h.html#37" title="0x0000000000000080ULL" data-ref="_M/TYPE_Fn">TYPE_Fn</a>);</td></tr>
<tr><th id="1651">1651</th><td>	<b>if</b> (<a class="local col7 ref" href="#107n" title='n' data-ref="107n" data-ref-filename="107n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::sec" title='roff_node::sec' data-ref="roff_node::sec" data-ref-filename="roff_node..sec">sec</a> == <a class="enum" href="roff.h.html#SEC_SYNOPSIS" title='SEC_SYNOPSIS' data-ref="SEC_SYNOPSIS" data-ref-filename="SEC_SYNOPSIS">SEC_SYNOPSIS</a>)</td></tr>
<tr><th id="1652">1652</th><td>		<a class="tu ref fn" href="#putkeys" title='putkeys' data-use='c' data-ref="putkeys" data-ref-filename="putkeys">putkeys</a>(<a class="local col6 ref" href="#106mpage" title='mpage' data-ref="106mpage" data-ref-filename="106mpage">mpage</a>, <a class="local col8 ref" href="#108cp" title='cp' data-ref="108cp" data-ref-filename="108cp">cp</a>, <a class="local col9 ref" href="#109sz" title='sz' data-ref="109sz" data-ref-filename="109sz">sz</a>, <a class="macro" href="mansearch.h.html#71" title="0x0000004000000001ULL" data-ref="_M/NAME_SYN">NAME_SYN</a>);</td></tr>
<tr><th id="1653">1653</th><td>}</td></tr>
<tr><th id="1654">1654</th><td></td></tr>
<tr><th id="1655">1655</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="1656">1656</th><td><dfn class="tu decl def fn" id="parse_mdoc_Fn" title='parse_mdoc_Fn' data-type='int parse_mdoc_Fn(struct mpage * mpage, const struct roff_meta * meta, const struct roff_node * n)' data-ref="parse_mdoc_Fn" data-ref-filename="parse_mdoc_Fn">parse_mdoc_Fn</dfn>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *<dfn class="local col0 decl" id="110mpage" title='mpage' data-type='struct mpage *' data-ref="110mpage" data-ref-filename="110mpage">mpage</dfn>, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_meta" title='roff_meta' data-ref="roff_meta" data-ref-filename="roff_meta">roff_meta</a> *<dfn class="local col1 decl" id="111meta" title='meta' data-type='const struct roff_meta *' data-ref="111meta" data-ref-filename="111meta">meta</dfn>,</td></tr>
<tr><th id="1657">1657</th><td>	<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *<dfn class="local col2 decl" id="112n" title='n' data-type='const struct roff_node *' data-ref="112n" data-ref-filename="112n">n</dfn>)</td></tr>
<tr><th id="1658">1658</th><td>{</td></tr>
<tr><th id="1659">1659</th><td>	<a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a> <dfn class="local col3 decl" id="113mask" title='mask' data-type='uint64_t' data-ref="113mask" data-ref-filename="113mask">mask</dfn>;</td></tr>
<tr><th id="1660">1660</th><td></td></tr>
<tr><th id="1661">1661</th><td>	<b>if</b> (<a class="local col2 ref" href="#112n" title='n' data-ref="112n" data-ref-filename="112n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::child" title='roff_node::child' data-ref="roff_node::child" data-ref-filename="roff_node..child">child</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1662">1662</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1663">1663</th><td></td></tr>
<tr><th id="1664">1664</th><td>	<a class="tu ref fn" href="#parse_mdoc_fname" title='parse_mdoc_fname' data-use='c' data-ref="parse_mdoc_fname" data-ref-filename="parse_mdoc_fname">parse_mdoc_fname</a>(<a class="local col0 ref" href="#110mpage" title='mpage' data-ref="110mpage" data-ref-filename="110mpage">mpage</a>, <a class="local col2 ref" href="#112n" title='n' data-ref="112n" data-ref-filename="112n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::child" title='roff_node::child' data-ref="roff_node::child" data-ref-filename="roff_node..child">child</a>);</td></tr>
<tr><th id="1665">1665</th><td></td></tr>
<tr><th id="1666">1666</th><td>	<a class="local col2 ref" href="#112n" title='n' data-ref="112n" data-ref-filename="112n">n</a> = <a class="local col2 ref" href="#112n" title='n' data-ref="112n" data-ref-filename="112n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::child" title='roff_node::child' data-ref="roff_node::child" data-ref-filename="roff_node..child">child</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::next" title='roff_node::next' data-ref="roff_node::next" data-ref-filename="roff_node..next">next</a>;</td></tr>
<tr><th id="1667">1667</th><td>	<b>if</b> (<a class="local col2 ref" href="#112n" title='n' data-ref="112n" data-ref-filename="112n">n</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> &amp;&amp; <a class="local col2 ref" href="#112n" title='n' data-ref="112n" data-ref-filename="112n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::type" title='roff_node::type' data-ref="roff_node::type" data-ref-filename="roff_node..type">type</a> == <a class="enum" href="roff.h.html#ROFFT_TEXT" title='ROFFT_TEXT' data-ref="ROFFT_TEXT" data-ref-filename="ROFFT_TEXT">ROFFT_TEXT</a>) {</td></tr>
<tr><th id="1668">1668</th><td>		<a class="local col3 ref" href="#113mask" title='mask' data-ref="113mask" data-ref-filename="113mask">mask</a> = <a class="macro" href="mansearch.h.html#34" title="0x0000000000000010ULL" data-ref="_M/TYPE_Fa">TYPE_Fa</a>;</td></tr>
<tr><th id="1669">1669</th><td>		<b>if</b> (<a class="local col2 ref" href="#112n" title='n' data-ref="112n" data-ref-filename="112n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::sec" title='roff_node::sec' data-ref="roff_node::sec" data-ref-filename="roff_node..sec">sec</a> == <a class="enum" href="roff.h.html#SEC_SYNOPSIS" title='SEC_SYNOPSIS' data-ref="SEC_SYNOPSIS" data-ref-filename="SEC_SYNOPSIS">SEC_SYNOPSIS</a>)</td></tr>
<tr><th id="1670">1670</th><td>			<a class="local col3 ref" href="#113mask" title='mask' data-ref="113mask" data-ref-filename="113mask">mask</a> |= <a class="macro" href="mansearch.h.html#66" title="0x0000001000000000ULL" data-ref="_M/TYPE_Vt">TYPE_Vt</a>;</td></tr>
<tr><th id="1671">1671</th><td>		<a class="tu ref fn" href="#putmdockey" title='putmdockey' data-use='c' data-ref="putmdockey" data-ref-filename="putmdockey">putmdockey</a>(<a class="local col0 ref" href="#110mpage" title='mpage' data-ref="110mpage" data-ref-filename="110mpage">mpage</a>, <a class="local col2 ref" href="#112n" title='n' data-ref="112n" data-ref-filename="112n">n</a>, <a class="local col3 ref" href="#113mask" title='mask' data-ref="113mask" data-ref-filename="113mask">mask</a>, <var>0</var>);</td></tr>
<tr><th id="1672">1672</th><td>	}</td></tr>
<tr><th id="1673">1673</th><td></td></tr>
<tr><th id="1674">1674</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1675">1675</th><td>}</td></tr>
<tr><th id="1676">1676</th><td></td></tr>
<tr><th id="1677">1677</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="1678">1678</th><td><dfn class="tu decl def fn" id="parse_mdoc_Fo" title='parse_mdoc_Fo' data-type='int parse_mdoc_Fo(struct mpage * mpage, const struct roff_meta * meta, const struct roff_node * n)' data-ref="parse_mdoc_Fo" data-ref-filename="parse_mdoc_Fo">parse_mdoc_Fo</dfn>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *<dfn class="local col4 decl" id="114mpage" title='mpage' data-type='struct mpage *' data-ref="114mpage" data-ref-filename="114mpage">mpage</dfn>, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_meta" title='roff_meta' data-ref="roff_meta" data-ref-filename="roff_meta">roff_meta</a> *<dfn class="local col5 decl" id="115meta" title='meta' data-type='const struct roff_meta *' data-ref="115meta" data-ref-filename="115meta">meta</dfn>,</td></tr>
<tr><th id="1679">1679</th><td>	<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *<dfn class="local col6 decl" id="116n" title='n' data-type='const struct roff_node *' data-ref="116n" data-ref-filename="116n">n</dfn>)</td></tr>
<tr><th id="1680">1680</th><td>{</td></tr>
<tr><th id="1681">1681</th><td></td></tr>
<tr><th id="1682">1682</th><td>	<b>if</b> (<a class="local col6 ref" href="#116n" title='n' data-ref="116n" data-ref-filename="116n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::type" title='roff_node::type' data-ref="roff_node::type" data-ref-filename="roff_node..type">type</a> != <a class="enum" href="roff.h.html#ROFFT_HEAD" title='ROFFT_HEAD' data-ref="ROFFT_HEAD" data-ref-filename="ROFFT_HEAD">ROFFT_HEAD</a>)</td></tr>
<tr><th id="1683">1683</th><td>		<b>return</b> <var>1</var>;</td></tr>
<tr><th id="1684">1684</th><td></td></tr>
<tr><th id="1685">1685</th><td>	<b>if</b> (<a class="local col6 ref" href="#116n" title='n' data-ref="116n" data-ref-filename="116n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::child" title='roff_node::child' data-ref="roff_node::child" data-ref-filename="roff_node..child">child</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1686">1686</th><td>		<a class="tu ref fn" href="#parse_mdoc_fname" title='parse_mdoc_fname' data-use='c' data-ref="parse_mdoc_fname" data-ref-filename="parse_mdoc_fname">parse_mdoc_fname</a>(<a class="local col4 ref" href="#114mpage" title='mpage' data-ref="114mpage" data-ref-filename="114mpage">mpage</a>, <a class="local col6 ref" href="#116n" title='n' data-ref="116n" data-ref-filename="116n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::child" title='roff_node::child' data-ref="roff_node::child" data-ref-filename="roff_node..child">child</a>);</td></tr>
<tr><th id="1687">1687</th><td></td></tr>
<tr><th id="1688">1688</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1689">1689</th><td>}</td></tr>
<tr><th id="1690">1690</th><td></td></tr>
<tr><th id="1691">1691</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="1692">1692</th><td><dfn class="tu decl def fn" id="parse_mdoc_Va" title='parse_mdoc_Va' data-type='int parse_mdoc_Va(struct mpage * mpage, const struct roff_meta * meta, const struct roff_node * n)' data-ref="parse_mdoc_Va" data-ref-filename="parse_mdoc_Va">parse_mdoc_Va</dfn>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *<dfn class="local col7 decl" id="117mpage" title='mpage' data-type='struct mpage *' data-ref="117mpage" data-ref-filename="117mpage">mpage</dfn>, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_meta" title='roff_meta' data-ref="roff_meta" data-ref-filename="roff_meta">roff_meta</a> *<dfn class="local col8 decl" id="118meta" title='meta' data-type='const struct roff_meta *' data-ref="118meta" data-ref-filename="118meta">meta</dfn>,</td></tr>
<tr><th id="1693">1693</th><td>	<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *<dfn class="local col9 decl" id="119n" title='n' data-type='const struct roff_node *' data-ref="119n" data-ref-filename="119n">n</dfn>)</td></tr>
<tr><th id="1694">1694</th><td>{</td></tr>
<tr><th id="1695">1695</th><td>	<em>char</em> *<dfn class="local col0 decl" id="120cp" title='cp' data-type='char *' data-ref="120cp" data-ref-filename="120cp">cp</dfn>;</td></tr>
<tr><th id="1696">1696</th><td></td></tr>
<tr><th id="1697">1697</th><td>	<b>if</b> (<a class="local col9 ref" href="#119n" title='n' data-ref="119n" data-ref-filename="119n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::type" title='roff_node::type' data-ref="roff_node::type" data-ref-filename="roff_node..type">type</a> != <a class="enum" href="roff.h.html#ROFFT_ELEM" title='ROFFT_ELEM' data-ref="ROFFT_ELEM" data-ref-filename="ROFFT_ELEM">ROFFT_ELEM</a> &amp;&amp; <a class="local col9 ref" href="#119n" title='n' data-ref="119n" data-ref-filename="119n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::type" title='roff_node::type' data-ref="roff_node::type" data-ref-filename="roff_node..type">type</a> != <a class="enum" href="roff.h.html#ROFFT_BODY" title='ROFFT_BODY' data-ref="ROFFT_BODY" data-ref-filename="ROFFT_BODY">ROFFT_BODY</a>)</td></tr>
<tr><th id="1698">1698</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1699">1699</th><td></td></tr>
<tr><th id="1700">1700</th><td>	<b>if</b> (<a class="local col9 ref" href="#119n" title='n' data-ref="119n" data-ref-filename="119n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::child" title='roff_node::child' data-ref="roff_node::child" data-ref-filename="roff_node..child">child</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> &amp;&amp;</td></tr>
<tr><th id="1701">1701</th><td>	    <a class="local col9 ref" href="#119n" title='n' data-ref="119n" data-ref-filename="119n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::child" title='roff_node::child' data-ref="roff_node::child" data-ref-filename="roff_node..child">child</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::next" title='roff_node::next' data-ref="roff_node::next" data-ref-filename="roff_node..next">next</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> &amp;&amp;</td></tr>
<tr><th id="1702">1702</th><td>	    <a class="local col9 ref" href="#119n" title='n' data-ref="119n" data-ref-filename="119n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::child" title='roff_node::child' data-ref="roff_node::child" data-ref-filename="roff_node..child">child</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::type" title='roff_node::type' data-ref="roff_node::type" data-ref-filename="roff_node..type">type</a> == <a class="enum" href="roff.h.html#ROFFT_TEXT" title='ROFFT_TEXT' data-ref="ROFFT_TEXT" data-ref-filename="ROFFT_TEXT">ROFFT_TEXT</a>)</td></tr>
<tr><th id="1703">1703</th><td>		<b>return</b> <var>1</var>;</td></tr>
<tr><th id="1704">1704</th><td></td></tr>
<tr><th id="1705">1705</th><td>	<a class="local col0 ref" href="#120cp" title='cp' data-ref="120cp" data-ref-filename="120cp">cp</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1706">1706</th><td>	<a class="ref fn" href="roff.h.html#deroff" title='deroff' data-ref="deroff" data-ref-filename="deroff">deroff</a>(&amp;<a class="local col0 ref" href="#120cp" title='cp' data-ref="120cp" data-ref-filename="120cp">cp</a>, <a class="local col9 ref" href="#119n" title='n' data-ref="119n" data-ref-filename="119n">n</a>);</td></tr>
<tr><th id="1707">1707</th><td>	<b>if</b> (<a class="local col0 ref" href="#120cp" title='cp' data-ref="120cp" data-ref-filename="120cp">cp</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="1708">1708</th><td>		<a class="tu ref fn" href="#putkey" title='putkey' data-use='c' data-ref="putkey" data-ref-filename="putkey">putkey</a>(<a class="local col7 ref" href="#117mpage" title='mpage' data-ref="117mpage" data-ref-filename="117mpage">mpage</a>, <a class="local col0 ref" href="#120cp" title='cp' data-ref="120cp" data-ref-filename="120cp">cp</a>, <a class="macro" href="mansearch.h.html#66" title="0x0000001000000000ULL" data-ref="_M/TYPE_Vt">TYPE_Vt</a> | (<a class="local col9 ref" href="#119n" title='n' data-ref="119n" data-ref-filename="119n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::tok" title='roff_node::tok' data-ref="roff_node::tok" data-ref-filename="roff_node..tok">tok</a> == <a class="enum" href="roff.h.html#MDOC_Va" title='MDOC_Va' data-ref="MDOC_Va" data-ref-filename="MDOC_Va">MDOC_Va</a> ||</td></tr>
<tr><th id="1709">1709</th><td>		    <a class="local col9 ref" href="#119n" title='n' data-ref="119n" data-ref-filename="119n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::type" title='roff_node::type' data-ref="roff_node::type" data-ref-filename="roff_node..type">type</a> == <a class="enum" href="roff.h.html#ROFFT_BODY" title='ROFFT_BODY' data-ref="ROFFT_BODY" data-ref-filename="ROFFT_BODY">ROFFT_BODY</a> ? <a class="macro" href="mansearch.h.html#44" title="0x0000000000004000ULL" data-ref="_M/TYPE_Va">TYPE_Va</a> : <var>0</var>));</td></tr>
<tr><th id="1710">1710</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col0 ref" href="#120cp" title='cp' data-ref="120cp" data-ref-filename="120cp">cp</a>);</td></tr>
<tr><th id="1711">1711</th><td>	}</td></tr>
<tr><th id="1712">1712</th><td></td></tr>
<tr><th id="1713">1713</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1714">1714</th><td>}</td></tr>
<tr><th id="1715">1715</th><td></td></tr>
<tr><th id="1716">1716</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="1717">1717</th><td><dfn class="tu decl def fn" id="parse_mdoc_Xr" title='parse_mdoc_Xr' data-type='int parse_mdoc_Xr(struct mpage * mpage, const struct roff_meta * meta, const struct roff_node * n)' data-ref="parse_mdoc_Xr" data-ref-filename="parse_mdoc_Xr">parse_mdoc_Xr</dfn>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *<dfn class="local col1 decl" id="121mpage" title='mpage' data-type='struct mpage *' data-ref="121mpage" data-ref-filename="121mpage">mpage</dfn>, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_meta" title='roff_meta' data-ref="roff_meta" data-ref-filename="roff_meta">roff_meta</a> *<dfn class="local col2 decl" id="122meta" title='meta' data-type='const struct roff_meta *' data-ref="122meta" data-ref-filename="122meta">meta</dfn>,</td></tr>
<tr><th id="1718">1718</th><td>	<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *<dfn class="local col3 decl" id="123n" title='n' data-type='const struct roff_node *' data-ref="123n" data-ref-filename="123n">n</dfn>)</td></tr>
<tr><th id="1719">1719</th><td>{</td></tr>
<tr><th id="1720">1720</th><td>	<em>char</em>	*<dfn class="local col4 decl" id="124cp" title='cp' data-type='char *' data-ref="124cp" data-ref-filename="124cp">cp</dfn>;</td></tr>
<tr><th id="1721">1721</th><td></td></tr>
<tr><th id="1722">1722</th><td>	<b>if</b> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> == (<a class="local col3 ref" href="#123n" title='n' data-ref="123n" data-ref-filename="123n">n</a> = <a class="local col3 ref" href="#123n" title='n' data-ref="123n" data-ref-filename="123n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::child" title='roff_node::child' data-ref="roff_node::child" data-ref-filename="roff_node..child">child</a>))</td></tr>
<tr><th id="1723">1723</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1724">1724</th><td></td></tr>
<tr><th id="1725">1725</th><td>	<b>if</b> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> == <a class="local col3 ref" href="#123n" title='n' data-ref="123n" data-ref-filename="123n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::next" title='roff_node::next' data-ref="roff_node::next" data-ref-filename="roff_node..next">next</a>) {</td></tr>
<tr><th id="1726">1726</th><td>		<a class="tu ref fn" href="#putkey" title='putkey' data-use='c' data-ref="putkey" data-ref-filename="putkey">putkey</a>(<a class="local col1 ref" href="#121mpage" title='mpage' data-ref="121mpage" data-ref-filename="121mpage">mpage</a>, <a class="local col3 ref" href="#123n" title='n' data-ref="123n" data-ref-filename="123n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::string" title='roff_node::string' data-ref="roff_node::string" data-ref-filename="roff_node..string">string</a>, <a class="macro" href="mansearch.h.html#32" title="0x0000000000000004ULL" data-ref="_M/TYPE_Xr">TYPE_Xr</a>);</td></tr>
<tr><th id="1727">1727</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1728">1728</th><td>	}</td></tr>
<tr><th id="1729">1729</th><td></td></tr>
<tr><th id="1730">1730</th><td>	<a class="ref fn" href="mandoc_aux.h.html#mandoc_asprintf" title='mandoc_asprintf' data-ref="mandoc_asprintf" data-ref-filename="mandoc_asprintf">mandoc_asprintf</a>(&amp;<a class="local col4 ref" href="#124cp" title='cp' data-ref="124cp" data-ref-filename="124cp">cp</a>, <q>"%s(%s)"</q>, <a class="local col3 ref" href="#123n" title='n' data-ref="123n" data-ref-filename="123n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::string" title='roff_node::string' data-ref="roff_node::string" data-ref-filename="roff_node..string">string</a>, <a class="local col3 ref" href="#123n" title='n' data-ref="123n" data-ref-filename="123n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::next" title='roff_node::next' data-ref="roff_node::next" data-ref-filename="roff_node..next">next</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::string" title='roff_node::string' data-ref="roff_node::string" data-ref-filename="roff_node..string">string</a>);</td></tr>
<tr><th id="1731">1731</th><td>	<a class="tu ref fn" href="#putkey" title='putkey' data-use='c' data-ref="putkey" data-ref-filename="putkey">putkey</a>(<a class="local col1 ref" href="#121mpage" title='mpage' data-ref="121mpage" data-ref-filename="121mpage">mpage</a>, <a class="local col4 ref" href="#124cp" title='cp' data-ref="124cp" data-ref-filename="124cp">cp</a>, <a class="macro" href="mansearch.h.html#32" title="0x0000000000000004ULL" data-ref="_M/TYPE_Xr">TYPE_Xr</a>);</td></tr>
<tr><th id="1732">1732</th><td>	<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col4 ref" href="#124cp" title='cp' data-ref="124cp" data-ref-filename="124cp">cp</a>);</td></tr>
<tr><th id="1733">1733</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1734">1734</th><td>}</td></tr>
<tr><th id="1735">1735</th><td></td></tr>
<tr><th id="1736">1736</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="1737">1737</th><td><dfn class="tu decl def fn" id="parse_mdoc_Nd" title='parse_mdoc_Nd' data-type='int parse_mdoc_Nd(struct mpage * mpage, const struct roff_meta * meta, const struct roff_node * n)' data-ref="parse_mdoc_Nd" data-ref-filename="parse_mdoc_Nd">parse_mdoc_Nd</dfn>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *<dfn class="local col5 decl" id="125mpage" title='mpage' data-type='struct mpage *' data-ref="125mpage" data-ref-filename="125mpage">mpage</dfn>, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_meta" title='roff_meta' data-ref="roff_meta" data-ref-filename="roff_meta">roff_meta</a> *<dfn class="local col6 decl" id="126meta" title='meta' data-type='const struct roff_meta *' data-ref="126meta" data-ref-filename="126meta">meta</dfn>,</td></tr>
<tr><th id="1738">1738</th><td>	<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *<dfn class="local col7 decl" id="127n" title='n' data-type='const struct roff_node *' data-ref="127n" data-ref-filename="127n">n</dfn>)</td></tr>
<tr><th id="1739">1739</th><td>{</td></tr>
<tr><th id="1740">1740</th><td></td></tr>
<tr><th id="1741">1741</th><td>	<b>if</b> (<a class="local col7 ref" href="#127n" title='n' data-ref="127n" data-ref-filename="127n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::type" title='roff_node::type' data-ref="roff_node::type" data-ref-filename="roff_node..type">type</a> == <a class="enum" href="roff.h.html#ROFFT_BODY" title='ROFFT_BODY' data-ref="ROFFT_BODY" data-ref-filename="ROFFT_BODY">ROFFT_BODY</a>)</td></tr>
<tr><th id="1742">1742</th><td>		<a class="ref fn" href="roff.h.html#deroff" title='deroff' data-ref="deroff" data-ref-filename="deroff">deroff</a>(&amp;<a class="local col5 ref" href="#125mpage" title='mpage' data-ref="125mpage" data-ref-filename="125mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::desc" title='mpage::desc' data-use='a' data-ref="mpage::desc" data-ref-filename="mpage..desc">desc</a>, <a class="local col7 ref" href="#127n" title='n' data-ref="127n" data-ref-filename="127n">n</a>);</td></tr>
<tr><th id="1743">1743</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1744">1744</th><td>}</td></tr>
<tr><th id="1745">1745</th><td></td></tr>
<tr><th id="1746">1746</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="1747">1747</th><td><dfn class="tu decl def fn" id="parse_mdoc_Nm" title='parse_mdoc_Nm' data-type='int parse_mdoc_Nm(struct mpage * mpage, const struct roff_meta * meta, const struct roff_node * n)' data-ref="parse_mdoc_Nm" data-ref-filename="parse_mdoc_Nm">parse_mdoc_Nm</dfn>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *<dfn class="local col8 decl" id="128mpage" title='mpage' data-type='struct mpage *' data-ref="128mpage" data-ref-filename="128mpage">mpage</dfn>, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_meta" title='roff_meta' data-ref="roff_meta" data-ref-filename="roff_meta">roff_meta</a> *<dfn class="local col9 decl" id="129meta" title='meta' data-type='const struct roff_meta *' data-ref="129meta" data-ref-filename="129meta">meta</dfn>,</td></tr>
<tr><th id="1748">1748</th><td>	<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *<dfn class="local col0 decl" id="130n" title='n' data-type='const struct roff_node *' data-ref="130n" data-ref-filename="130n">n</dfn>)</td></tr>
<tr><th id="1749">1749</th><td>{</td></tr>
<tr><th id="1750">1750</th><td></td></tr>
<tr><th id="1751">1751</th><td>	<b>if</b> (<a class="enum" href="roff.h.html#SEC_NAME" title='SEC_NAME' data-ref="SEC_NAME" data-ref-filename="SEC_NAME">SEC_NAME</a> == <a class="local col0 ref" href="#130n" title='n' data-ref="130n" data-ref-filename="130n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::sec" title='roff_node::sec' data-ref="roff_node::sec" data-ref-filename="roff_node..sec">sec</a>)</td></tr>
<tr><th id="1752">1752</th><td>		<a class="tu ref fn" href="#putmdockey" title='putmdockey' data-use='c' data-ref="putmdockey" data-ref-filename="putmdockey">putmdockey</a>(<a class="local col8 ref" href="#128mpage" title='mpage' data-ref="128mpage" data-ref-filename="128mpage">mpage</a>, <a class="local col0 ref" href="#130n" title='n' data-ref="130n" data-ref-filename="130n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::child" title='roff_node::child' data-ref="roff_node::child" data-ref-filename="roff_node..child">child</a>, <a class="macro" href="mansearch.h.html#73" title="0x0000004000000006ULL" data-ref="_M/NAME_TITLE">NAME_TITLE</a>, <var>0</var>);</td></tr>
<tr><th id="1753">1753</th><td>	<b>else</b> <b>if</b> (<a class="local col0 ref" href="#130n" title='n' data-ref="130n" data-ref-filename="130n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::sec" title='roff_node::sec' data-ref="roff_node::sec" data-ref-filename="roff_node..sec">sec</a> == <a class="enum" href="roff.h.html#SEC_SYNOPSIS" title='SEC_SYNOPSIS' data-ref="SEC_SYNOPSIS" data-ref-filename="SEC_SYNOPSIS">SEC_SYNOPSIS</a> &amp;&amp; <a class="local col0 ref" href="#130n" title='n' data-ref="130n" data-ref-filename="130n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::type" title='roff_node::type' data-ref="roff_node::type" data-ref-filename="roff_node..type">type</a> == <a class="enum" href="roff.h.html#ROFFT_HEAD" title='ROFFT_HEAD' data-ref="ROFFT_HEAD" data-ref-filename="ROFFT_HEAD">ROFFT_HEAD</a>) {</td></tr>
<tr><th id="1754">1754</th><td>		<b>if</b> (<a class="local col0 ref" href="#130n" title='n' data-ref="130n" data-ref-filename="130n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::child" title='roff_node::child' data-ref="roff_node::child" data-ref-filename="roff_node..child">child</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1755">1755</th><td>			<a class="tu ref fn" href="#putkey" title='putkey' data-use='c' data-ref="putkey" data-ref-filename="putkey">putkey</a>(<a class="local col8 ref" href="#128mpage" title='mpage' data-ref="128mpage" data-ref-filename="128mpage">mpage</a>, <a class="local col9 ref" href="#129meta" title='meta' data-ref="129meta" data-ref-filename="129meta">meta</a>-&gt;<a class="ref field" href="roff.h.html#roff_meta::name" title='roff_meta::name' data-ref="roff_meta::name" data-ref-filename="roff_meta..name">name</a>, <a class="macro" href="mansearch.h.html#71" title="0x0000004000000001ULL" data-ref="_M/NAME_SYN">NAME_SYN</a>);</td></tr>
<tr><th id="1756">1756</th><td>		<b>else</b></td></tr>
<tr><th id="1757">1757</th><td>			<a class="tu ref fn" href="#putmdockey" title='putmdockey' data-use='c' data-ref="putmdockey" data-ref-filename="putmdockey">putmdockey</a>(<a class="local col8 ref" href="#128mpage" title='mpage' data-ref="128mpage" data-ref-filename="128mpage">mpage</a>, <a class="local col0 ref" href="#130n" title='n' data-ref="130n" data-ref-filename="130n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::child" title='roff_node::child' data-ref="roff_node::child" data-ref-filename="roff_node..child">child</a>, <a class="macro" href="mansearch.h.html#71" title="0x0000004000000001ULL" data-ref="_M/NAME_SYN">NAME_SYN</a>, <var>0</var>);</td></tr>
<tr><th id="1758">1758</th><td>	}</td></tr>
<tr><th id="1759">1759</th><td>	<b>if</b> ( ! (<a class="local col8 ref" href="#128mpage" title='mpage' data-ref="128mpage" data-ref-filename="128mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::name_head_done" title='mpage::name_head_done' data-use='r' data-ref="mpage::name_head_done" data-ref-filename="mpage..name_head_done">name_head_done</a> ||</td></tr>
<tr><th id="1760">1760</th><td>	    <a class="local col0 ref" href="#130n" title='n' data-ref="130n" data-ref-filename="130n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::child" title='roff_node::child' data-ref="roff_node::child" data-ref-filename="roff_node..child">child</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> || <a class="local col0 ref" href="#130n" title='n' data-ref="130n" data-ref-filename="130n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::child" title='roff_node::child' data-ref="roff_node::child" data-ref-filename="roff_node..child">child</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::string" title='roff_node::string' data-ref="roff_node::string" data-ref-filename="roff_node..string">string</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> ||</td></tr>
<tr><th id="1761">1761</th><td>	    <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/strings.h.html#strcasecmp" title='strcasecmp' data-ref="strcasecmp" data-ref-filename="strcasecmp">strcasecmp</a>(<a class="local col0 ref" href="#130n" title='n' data-ref="130n" data-ref-filename="130n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::child" title='roff_node::child' data-ref="roff_node::child" data-ref-filename="roff_node..child">child</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::string" title='roff_node::string' data-ref="roff_node::string" data-ref-filename="roff_node..string">string</a>, <a class="local col9 ref" href="#129meta" title='meta' data-ref="129meta" data-ref-filename="129meta">meta</a>-&gt;<a class="ref field" href="roff.h.html#roff_meta::title" title='roff_meta::title' data-ref="roff_meta::title" data-ref-filename="roff_meta..title">title</a>))) {</td></tr>
<tr><th id="1762">1762</th><td>		<a class="tu ref fn" href="#putkey" title='putkey' data-use='c' data-ref="putkey" data-ref-filename="putkey">putkey</a>(<a class="local col8 ref" href="#128mpage" title='mpage' data-ref="128mpage" data-ref-filename="128mpage">mpage</a>, <a class="local col0 ref" href="#130n" title='n' data-ref="130n" data-ref-filename="130n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::child" title='roff_node::child' data-ref="roff_node::child" data-ref-filename="roff_node..child">child</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::string" title='roff_node::string' data-ref="roff_node::string" data-ref-filename="roff_node..string">string</a>, <a class="macro" href="mansearch.h.html#74" title="0x0000004000000008ULL" data-ref="_M/NAME_HEAD">NAME_HEAD</a>);</td></tr>
<tr><th id="1763">1763</th><td>		<a class="local col8 ref" href="#128mpage" title='mpage' data-ref="128mpage" data-ref-filename="128mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::name_head_done" title='mpage::name_head_done' data-use='w' data-ref="mpage::name_head_done" data-ref-filename="mpage..name_head_done">name_head_done</a> = <var>1</var>;</td></tr>
<tr><th id="1764">1764</th><td>	}</td></tr>
<tr><th id="1765">1765</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1766">1766</th><td>}</td></tr>
<tr><th id="1767">1767</th><td></td></tr>
<tr><th id="1768">1768</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="1769">1769</th><td><dfn class="tu decl def fn" id="parse_mdoc_Sh" title='parse_mdoc_Sh' data-type='int parse_mdoc_Sh(struct mpage * mpage, const struct roff_meta * meta, const struct roff_node * n)' data-ref="parse_mdoc_Sh" data-ref-filename="parse_mdoc_Sh">parse_mdoc_Sh</dfn>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *<dfn class="local col1 decl" id="131mpage" title='mpage' data-type='struct mpage *' data-ref="131mpage" data-ref-filename="131mpage">mpage</dfn>, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_meta" title='roff_meta' data-ref="roff_meta" data-ref-filename="roff_meta">roff_meta</a> *<dfn class="local col2 decl" id="132meta" title='meta' data-type='const struct roff_meta *' data-ref="132meta" data-ref-filename="132meta">meta</dfn>,</td></tr>
<tr><th id="1770">1770</th><td>	<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *<dfn class="local col3 decl" id="133n" title='n' data-type='const struct roff_node *' data-ref="133n" data-ref-filename="133n">n</dfn>)</td></tr>
<tr><th id="1771">1771</th><td>{</td></tr>
<tr><th id="1772">1772</th><td></td></tr>
<tr><th id="1773">1773</th><td>	<b>return</b> <a class="local col3 ref" href="#133n" title='n' data-ref="133n" data-ref-filename="133n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::sec" title='roff_node::sec' data-ref="roff_node::sec" data-ref-filename="roff_node..sec">sec</a> == <a class="enum" href="roff.h.html#SEC_CUSTOM" title='SEC_CUSTOM' data-ref="SEC_CUSTOM" data-ref-filename="SEC_CUSTOM">SEC_CUSTOM</a> &amp;&amp; <a class="local col3 ref" href="#133n" title='n' data-ref="133n" data-ref-filename="133n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::type" title='roff_node::type' data-ref="roff_node::type" data-ref-filename="roff_node..type">type</a> == <a class="enum" href="roff.h.html#ROFFT_HEAD" title='ROFFT_HEAD' data-ref="ROFFT_HEAD" data-ref-filename="ROFFT_HEAD">ROFFT_HEAD</a>;</td></tr>
<tr><th id="1774">1774</th><td>}</td></tr>
<tr><th id="1775">1775</th><td></td></tr>
<tr><th id="1776">1776</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="1777">1777</th><td><dfn class="tu decl def fn" id="parse_mdoc_head" title='parse_mdoc_head' data-type='int parse_mdoc_head(struct mpage * mpage, const struct roff_meta * meta, const struct roff_node * n)' data-ref="parse_mdoc_head" data-ref-filename="parse_mdoc_head">parse_mdoc_head</dfn>(<b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *<dfn class="local col4 decl" id="134mpage" title='mpage' data-type='struct mpage *' data-ref="134mpage" data-ref-filename="134mpage">mpage</dfn>, <em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_meta" title='roff_meta' data-ref="roff_meta" data-ref-filename="roff_meta">roff_meta</a> *<dfn class="local col5 decl" id="135meta" title='meta' data-type='const struct roff_meta *' data-ref="135meta" data-ref-filename="135meta">meta</dfn>,</td></tr>
<tr><th id="1778">1778</th><td>	<em>const</em> <b>struct</b> <a class="type" href="roff.h.html#roff_node" title='roff_node' data-ref="roff_node" data-ref-filename="roff_node">roff_node</a> *<dfn class="local col6 decl" id="136n" title='n' data-type='const struct roff_node *' data-ref="136n" data-ref-filename="136n">n</dfn>)</td></tr>
<tr><th id="1779">1779</th><td>{</td></tr>
<tr><th id="1780">1780</th><td></td></tr>
<tr><th id="1781">1781</th><td>	<b>return</b> <a class="local col6 ref" href="#136n" title='n' data-ref="136n" data-ref-filename="136n">n</a>-&gt;<a class="ref field" href="roff.h.html#roff_node::type" title='roff_node::type' data-ref="roff_node::type" data-ref-filename="roff_node..type">type</a> == <a class="enum" href="roff.h.html#ROFFT_HEAD" title='ROFFT_HEAD' data-ref="ROFFT_HEAD" data-ref-filename="ROFFT_HEAD">ROFFT_HEAD</a>;</td></tr>
<tr><th id="1782">1782</th><td>}</td></tr>
<tr><th id="1783">1783</th><td></td></tr>
<tr><th id="1784">1784</th><td><i  data-doc="putkeys">/*</i></td></tr>
<tr><th id="1785">1785</th><td><i  data-doc="putkeys"> * Add a string to the hash table for the current manual.</i></td></tr>
<tr><th id="1786">1786</th><td><i  data-doc="putkeys"> * Each string has a bitmask telling which macros it belongs to.</i></td></tr>
<tr><th id="1787">1787</th><td><i  data-doc="putkeys"> * When we finish the manual, we'll dump the table.</i></td></tr>
<tr><th id="1788">1788</th><td><i  data-doc="putkeys"> */</i></td></tr>
<tr><th id="1789">1789</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="1790">1790</th><td><dfn class="tu decl def fn" id="putkeys" title='putkeys' data-type='void putkeys(const struct mpage * mpage, char * cp, size_t sz, uint64_t v)' data-ref="putkeys" data-ref-filename="putkeys">putkeys</dfn>(<em>const</em> <b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *<dfn class="local col7 decl" id="137mpage" title='mpage' data-type='const struct mpage *' data-ref="137mpage" data-ref-filename="137mpage">mpage</dfn>, <em>char</em> *<dfn class="local col8 decl" id="138cp" title='cp' data-type='char *' data-ref="138cp" data-ref-filename="138cp">cp</dfn>, <a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</a> <dfn class="local col9 decl" id="139sz" title='sz' data-type='size_t' data-ref="139sz" data-ref-filename="139sz">sz</dfn>, <a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a> <dfn class="local col0 decl" id="140v" title='v' data-type='uint64_t' data-ref="140v" data-ref-filename="140v">v</dfn>)</td></tr>
<tr><th id="1791">1791</th><td>{</td></tr>
<tr><th id="1792">1792</th><td>	<b>struct</b> <a class="type" href="compat_ohash.h.html#ohash" title='ohash' data-ref="ohash" data-ref-filename="ohash">ohash</a>	*<dfn class="local col1 decl" id="141htab" title='htab' data-type='struct ohash *' data-ref="141htab" data-ref-filename="141htab">htab</dfn>;</td></tr>
<tr><th id="1793">1793</th><td>	<b>struct</b> <a class="type" href="#str" title='str' data-ref="str" data-ref-filename="str">str</a>	*<dfn class="local col2 decl" id="142s" title='s' data-type='struct str *' data-ref="142s" data-ref-filename="142s">s</dfn>;</td></tr>
<tr><th id="1794">1794</th><td>	<em>const</em> <em>char</em>	*<dfn class="local col3 decl" id="143end" title='end' data-type='const char *' data-ref="143end" data-ref-filename="143end">end</dfn>;</td></tr>
<tr><th id="1795">1795</th><td>	<em>unsigned</em> <em>int</em>	 <dfn class="local col4 decl" id="144slot" title='slot' data-type='unsigned int' data-ref="144slot" data-ref-filename="144slot">slot</dfn>;</td></tr>
<tr><th id="1796">1796</th><td>	<em>int</em>		 <dfn class="local col5 decl" id="145i" title='i' data-type='int' data-ref="145i" data-ref-filename="145i">i</dfn>, <dfn class="local col6 decl" id="146mustfree" title='mustfree' data-type='int' data-ref="146mustfree" data-ref-filename="146mustfree">mustfree</dfn>;</td></tr>
<tr><th id="1797">1797</th><td></td></tr>
<tr><th id="1798">1798</th><td>	<b>if</b> (<var>0</var> == <a class="local col9 ref" href="#139sz" title='sz' data-ref="139sz" data-ref-filename="139sz">sz</a>)</td></tr>
<tr><th id="1799">1799</th><td>		<b>return</b>;</td></tr>
<tr><th id="1800">1800</th><td></td></tr>
<tr><th id="1801">1801</th><td>	<a class="local col6 ref" href="#146mustfree" title='mustfree' data-ref="146mustfree" data-ref-filename="146mustfree">mustfree</a> = <a class="tu ref fn" href="#render_string" title='render_string' data-use='c' data-ref="render_string" data-ref-filename="render_string">render_string</a>(&amp;<a class="local col8 ref" href="#138cp" title='cp' data-ref="138cp" data-ref-filename="138cp">cp</a>, &amp;<a class="local col9 ref" href="#139sz" title='sz' data-ref="139sz" data-ref-filename="139sz">sz</a>);</td></tr>
<tr><th id="1802">1802</th><td></td></tr>
<tr><th id="1803">1803</th><td>	<b>if</b> (<a class="macro" href="mansearch.h.html#68" title="0x0000004000000000ULL" data-ref="_M/TYPE_Nm">TYPE_Nm</a> &amp; <a class="local col0 ref" href="#140v" title='v' data-ref="140v" data-ref-filename="140v">v</a>) {</td></tr>
<tr><th id="1804">1804</th><td>		<a class="local col1 ref" href="#141htab" title='htab' data-ref="141htab" data-ref-filename="141htab">htab</a> = &amp;<a class="tu ref" href="#names" title='names' data-use='a' data-ref="names" data-ref-filename="names">names</a>;</td></tr>
<tr><th id="1805">1805</th><td>		<a class="local col0 ref" href="#140v" title='v' data-ref="140v" data-ref-filename="140v">v</a> &amp;= <a class="tu ref" href="#name_mask" title='name_mask' data-use='r' data-ref="name_mask" data-ref-filename="name_mask">name_mask</a>;</td></tr>
<tr><th id="1806">1806</th><td>		<b>if</b> (<a class="local col0 ref" href="#140v" title='v' data-ref="140v" data-ref-filename="140v">v</a> &amp; <a class="macro" href="mansearch.h.html#72" title="0x0000004000000004ULL" data-ref="_M/NAME_FIRST">NAME_FIRST</a>)</td></tr>
<tr><th id="1807">1807</th><td>			<a class="tu ref" href="#name_mask" title='name_mask' data-use='w' data-ref="name_mask" data-ref-filename="name_mask">name_mask</a> &amp;= ~<a class="macro" href="mansearch.h.html#72" title="0x0000004000000004ULL" data-ref="_M/NAME_FIRST">NAME_FIRST</a>;</td></tr>
<tr><th id="1808">1808</th><td>		<b>if</b> (<a class="tu ref" href="#debug" title='debug' data-use='r' data-ref="debug" data-ref-filename="debug">debug</a> &gt; <var>1</var>)</td></tr>
<tr><th id="1809">1809</th><td>			<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col7 ref" href="#137mpage" title='mpage' data-ref="137mpage" data-ref-filename="137mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::mlinks" title='mpage::mlinks' data-use='r' data-ref="mpage::mlinks" data-ref-filename="mpage..mlinks">mlinks</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>,</td></tr>
<tr><th id="1810">1810</th><td>			    <q>"Adding name %*s, bits=0x%llx"</q>, (<em>int</em>)<a class="local col9 ref" href="#139sz" title='sz' data-ref="139sz" data-ref-filename="139sz">sz</a>, <a class="local col8 ref" href="#138cp" title='cp' data-ref="138cp" data-ref-filename="138cp">cp</a>,</td></tr>
<tr><th id="1811">1811</th><td>			    (<em>unsigned</em> <em>long</em> <em>long</em>)<a class="local col0 ref" href="#140v" title='v' data-ref="140v" data-ref-filename="140v">v</a>);</td></tr>
<tr><th id="1812">1812</th><td>	} <b>else</b> {</td></tr>
<tr><th id="1813">1813</th><td>		<a class="local col1 ref" href="#141htab" title='htab' data-ref="141htab" data-ref-filename="141htab">htab</a> = &amp;<a class="tu ref" href="#strings" title='strings' data-use='a' data-ref="strings" data-ref-filename="strings">strings</a>;</td></tr>
<tr><th id="1814">1814</th><td>		<b>if</b> (<a class="tu ref" href="#debug" title='debug' data-use='r' data-ref="debug" data-ref-filename="debug">debug</a> &gt; <var>1</var>)</td></tr>
<tr><th id="1815">1815</th><td>		    <b>for</b> (<a class="local col5 ref" href="#145i" title='i' data-ref="145i" data-ref-filename="145i">i</a> = <var>0</var>; <a class="local col5 ref" href="#145i" title='i' data-ref="145i" data-ref-filename="145i">i</a> &lt; <a class="macro" href="mansearch.h.html#28" title="40" data-ref="_M/KEY_MAX">KEY_MAX</a>; <a class="local col5 ref" href="#145i" title='i' data-ref="145i" data-ref-filename="145i">i</a>++)</td></tr>
<tr><th id="1816">1816</th><td>			<b>if</b> ((<a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a>)<var>1</var> &lt;&lt; <a class="local col5 ref" href="#145i" title='i' data-ref="145i" data-ref-filename="145i">i</a> &amp; <a class="local col0 ref" href="#140v" title='v' data-ref="140v" data-ref-filename="140v">v</a>)</td></tr>
<tr><th id="1817">1817</th><td>			    <a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col7 ref" href="#137mpage" title='mpage' data-ref="137mpage" data-ref-filename="137mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::mlinks" title='mpage::mlinks' data-use='r' data-ref="mpage::mlinks" data-ref-filename="mpage..mlinks">mlinks</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>,</td></tr>
<tr><th id="1818">1818</th><td>				<q>"Adding key %s=%*s"</q>,</td></tr>
<tr><th id="1819">1819</th><td>				<a class="ref" href="#mansearch_keynames" title='mansearch_keynames' data-ref="mansearch_keynames" data-ref-filename="mansearch_keynames">mansearch_keynames</a>[<a class="local col5 ref" href="#145i" title='i' data-ref="145i" data-ref-filename="145i">i</a>], (<em>int</em>)<a class="local col9 ref" href="#139sz" title='sz' data-ref="139sz" data-ref-filename="139sz">sz</a>, <a class="local col8 ref" href="#138cp" title='cp' data-ref="138cp" data-ref-filename="138cp">cp</a>);</td></tr>
<tr><th id="1820">1820</th><td>	}</td></tr>
<tr><th id="1821">1821</th><td></td></tr>
<tr><th id="1822">1822</th><td>	<a class="local col3 ref" href="#143end" title='end' data-ref="143end" data-ref-filename="143end">end</a> = <a class="local col8 ref" href="#138cp" title='cp' data-ref="138cp" data-ref-filename="138cp">cp</a> + <a class="local col9 ref" href="#139sz" title='sz' data-ref="139sz" data-ref-filename="139sz">sz</a>;</td></tr>
<tr><th id="1823">1823</th><td>	<a class="local col4 ref" href="#144slot" title='slot' data-ref="144slot" data-ref-filename="144slot">slot</a> = <a class="ref fn" href="compat_ohash.h.html#ohash_qlookupi" title='ohash_qlookupi' data-ref="ohash_qlookupi" data-ref-filename="ohash_qlookupi">ohash_qlookupi</a>(<a class="local col1 ref" href="#141htab" title='htab' data-ref="141htab" data-ref-filename="141htab">htab</a>, <a class="local col8 ref" href="#138cp" title='cp' data-ref="138cp" data-ref-filename="138cp">cp</a>, &amp;<a class="local col3 ref" href="#143end" title='end' data-ref="143end" data-ref-filename="143end">end</a>);</td></tr>
<tr><th id="1824">1824</th><td>	<a class="local col2 ref" href="#142s" title='s' data-ref="142s" data-ref-filename="142s">s</a> = <a class="ref fn" href="compat_ohash.h.html#ohash_find" title='ohash_find' data-ref="ohash_find" data-ref-filename="ohash_find">ohash_find</a>(<a class="local col1 ref" href="#141htab" title='htab' data-ref="141htab" data-ref-filename="141htab">htab</a>, <a class="local col4 ref" href="#144slot" title='slot' data-ref="144slot" data-ref-filename="144slot">slot</a>);</td></tr>
<tr><th id="1825">1825</th><td></td></tr>
<tr><th id="1826">1826</th><td>	<b>if</b> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> != <a class="local col2 ref" href="#142s" title='s' data-ref="142s" data-ref-filename="142s">s</a> &amp;&amp; <a class="local col7 ref" href="#137mpage" title='mpage' data-ref="137mpage" data-ref-filename="137mpage">mpage</a> == <a class="local col2 ref" href="#142s" title='s' data-ref="142s" data-ref-filename="142s">s</a>-&gt;<a class="tu ref field" href="#str::mpage" title='str::mpage' data-use='r' data-ref="str::mpage" data-ref-filename="str..mpage">mpage</a>) {</td></tr>
<tr><th id="1827">1827</th><td>		<a class="local col2 ref" href="#142s" title='s' data-ref="142s" data-ref-filename="142s">s</a>-&gt;<a class="tu ref field" href="#str::mask" title='str::mask' data-use='w' data-ref="str::mask" data-ref-filename="str..mask">mask</a> |= <a class="local col0 ref" href="#140v" title='v' data-ref="140v" data-ref-filename="140v">v</a>;</td></tr>
<tr><th id="1828">1828</th><td>		<b>return</b>;</td></tr>
<tr><th id="1829">1829</th><td>	} <b>else</b> <b>if</b> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> == <a class="local col2 ref" href="#142s" title='s' data-ref="142s" data-ref-filename="142s">s</a>) {</td></tr>
<tr><th id="1830">1830</th><td>		<a class="local col2 ref" href="#142s" title='s' data-ref="142s" data-ref-filename="142s">s</a> = <a class="ref fn" href="mandoc_aux.h.html#mandoc_calloc" title='mandoc_calloc' data-ref="mandoc_calloc" data-ref-filename="mandoc_calloc">mandoc_calloc</a>(<var>1</var>, <b>sizeof</b>(<b>struct</b> <a class="type" href="#str" title='str' data-ref="str" data-ref-filename="str">str</a>) + <a class="local col9 ref" href="#139sz" title='sz' data-ref="139sz" data-ref-filename="139sz">sz</a> + <var>1</var>);</td></tr>
<tr><th id="1831">1831</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#memcpy" title='memcpy' data-ref="memcpy" data-ref-filename="memcpy">memcpy</a>(<a class="local col2 ref" href="#142s" title='s' data-ref="142s" data-ref-filename="142s">s</a>-&gt;<a class="tu ref field" href="#str::key" title='str::key' data-use='r' data-ref="str::key" data-ref-filename="str..key">key</a>, <a class="local col8 ref" href="#138cp" title='cp' data-ref="138cp" data-ref-filename="138cp">cp</a>, <a class="local col9 ref" href="#139sz" title='sz' data-ref="139sz" data-ref-filename="139sz">sz</a>);</td></tr>
<tr><th id="1832">1832</th><td>		<a class="ref fn" href="compat_ohash.h.html#ohash_insert" title='ohash_insert' data-ref="ohash_insert" data-ref-filename="ohash_insert">ohash_insert</a>(<a class="local col1 ref" href="#141htab" title='htab' data-ref="141htab" data-ref-filename="141htab">htab</a>, <a class="local col4 ref" href="#144slot" title='slot' data-ref="144slot" data-ref-filename="144slot">slot</a>, <a class="local col2 ref" href="#142s" title='s' data-ref="142s" data-ref-filename="142s">s</a>);</td></tr>
<tr><th id="1833">1833</th><td>	}</td></tr>
<tr><th id="1834">1834</th><td>	<a class="local col2 ref" href="#142s" title='s' data-ref="142s" data-ref-filename="142s">s</a>-&gt;<a class="tu ref field" href="#str::mpage" title='str::mpage' data-use='w' data-ref="str::mpage" data-ref-filename="str..mpage">mpage</a> = <a class="local col7 ref" href="#137mpage" title='mpage' data-ref="137mpage" data-ref-filename="137mpage">mpage</a>;</td></tr>
<tr><th id="1835">1835</th><td>	<a class="local col2 ref" href="#142s" title='s' data-ref="142s" data-ref-filename="142s">s</a>-&gt;<a class="tu ref field" href="#str::mask" title='str::mask' data-use='w' data-ref="str::mask" data-ref-filename="str..mask">mask</a> = <a class="local col0 ref" href="#140v" title='v' data-ref="140v" data-ref-filename="140v">v</a>;</td></tr>
<tr><th id="1836">1836</th><td></td></tr>
<tr><th id="1837">1837</th><td>	<b>if</b> (<a class="local col6 ref" href="#146mustfree" title='mustfree' data-ref="146mustfree" data-ref-filename="146mustfree">mustfree</a>)</td></tr>
<tr><th id="1838">1838</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col8 ref" href="#138cp" title='cp' data-ref="138cp" data-ref-filename="138cp">cp</a>);</td></tr>
<tr><th id="1839">1839</th><td>}</td></tr>
<tr><th id="1840">1840</th><td></td></tr>
<tr><th id="1841">1841</th><td><i  data-doc="utf8">/*</i></td></tr>
<tr><th id="1842">1842</th><td><i  data-doc="utf8"> * Take a Unicode codepoint and produce its UTF-8 encoding.</i></td></tr>
<tr><th id="1843">1843</th><td><i  data-doc="utf8"> * This isn't the best way to do this, but it works.</i></td></tr>
<tr><th id="1844">1844</th><td><i  data-doc="utf8"> * The magic numbers are from the UTF-8 packaging.</i></td></tr>
<tr><th id="1845">1845</th><td><i  data-doc="utf8"> * They're not as scary as they seem: read the UTF-8 spec for details.</i></td></tr>
<tr><th id="1846">1846</th><td><i  data-doc="utf8"> */</i></td></tr>
<tr><th id="1847">1847</th><td><em>static</em> <a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</a></td></tr>
<tr><th id="1848">1848</th><td><dfn class="tu decl def fn" id="utf8" title='utf8' data-type='size_t utf8(unsigned int cp, char * out)' data-ref="utf8" data-ref-filename="utf8">utf8</dfn>(<em>unsigned</em> <em>int</em> <dfn class="local col7 decl" id="147cp" title='cp' data-type='unsigned int' data-ref="147cp" data-ref-filename="147cp">cp</dfn>, <em>char</em> <dfn class="local col8 decl" id="148out" title='out' data-type='char *' data-ref="148out" data-ref-filename="148out">out</dfn>[<var>7</var>])</td></tr>
<tr><th id="1849">1849</th><td>{</td></tr>
<tr><th id="1850">1850</th><td>	<a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</a>		 <dfn class="local col9 decl" id="149rc" title='rc' data-type='size_t' data-ref="149rc" data-ref-filename="149rc">rc</dfn>;</td></tr>
<tr><th id="1851">1851</th><td></td></tr>
<tr><th id="1852">1852</th><td>	<a class="local col9 ref" href="#149rc" title='rc' data-ref="149rc" data-ref-filename="149rc">rc</a> = <var>0</var>;</td></tr>
<tr><th id="1853">1853</th><td>	<b>if</b> (<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a> &lt;= <var>0x0000007F</var>) {</td></tr>
<tr><th id="1854">1854</th><td>		<a class="local col9 ref" href="#149rc" title='rc' data-ref="149rc" data-ref-filename="149rc">rc</a> = <var>1</var>;</td></tr>
<tr><th id="1855">1855</th><td>		<a class="local col8 ref" href="#148out" title='out' data-ref="148out" data-ref-filename="148out">out</a>[<var>0</var>] = (<em>char</em>)<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a>;</td></tr>
<tr><th id="1856">1856</th><td>	} <b>else</b> <b>if</b> (<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a> &lt;= <var>0x000007FF</var>) {</td></tr>
<tr><th id="1857">1857</th><td>		<a class="local col9 ref" href="#149rc" title='rc' data-ref="149rc" data-ref-filename="149rc">rc</a> = <var>2</var>;</td></tr>
<tr><th id="1858">1858</th><td>		<a class="local col8 ref" href="#148out" title='out' data-ref="148out" data-ref-filename="148out">out</a>[<var>0</var>] = (<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a> &gt;&gt; <var>6</var>  &amp; <var>31</var>) | <var>192</var>;</td></tr>
<tr><th id="1859">1859</th><td>		<a class="local col8 ref" href="#148out" title='out' data-ref="148out" data-ref-filename="148out">out</a>[<var>1</var>] = (<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a>       &amp; <var>63</var>) | <var>128</var>;</td></tr>
<tr><th id="1860">1860</th><td>	} <b>else</b> <b>if</b> (<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a> &lt;= <var>0x0000FFFF</var>) {</td></tr>
<tr><th id="1861">1861</th><td>		<a class="local col9 ref" href="#149rc" title='rc' data-ref="149rc" data-ref-filename="149rc">rc</a> = <var>3</var>;</td></tr>
<tr><th id="1862">1862</th><td>		<a class="local col8 ref" href="#148out" title='out' data-ref="148out" data-ref-filename="148out">out</a>[<var>0</var>] = (<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a> &gt;&gt; <var>12</var> &amp; <var>15</var>) | <var>224</var>;</td></tr>
<tr><th id="1863">1863</th><td>		<a class="local col8 ref" href="#148out" title='out' data-ref="148out" data-ref-filename="148out">out</a>[<var>1</var>] = (<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a> &gt;&gt; <var>6</var>  &amp; <var>63</var>) | <var>128</var>;</td></tr>
<tr><th id="1864">1864</th><td>		<a class="local col8 ref" href="#148out" title='out' data-ref="148out" data-ref-filename="148out">out</a>[<var>2</var>] = (<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a>       &amp; <var>63</var>) | <var>128</var>;</td></tr>
<tr><th id="1865">1865</th><td>	} <b>else</b> <b>if</b> (<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a> &lt;= <var>0x001FFFFF</var>) {</td></tr>
<tr><th id="1866">1866</th><td>		<a class="local col9 ref" href="#149rc" title='rc' data-ref="149rc" data-ref-filename="149rc">rc</a> = <var>4</var>;</td></tr>
<tr><th id="1867">1867</th><td>		<a class="local col8 ref" href="#148out" title='out' data-ref="148out" data-ref-filename="148out">out</a>[<var>0</var>] = (<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a> &gt;&gt; <var>18</var> &amp;  <var>7</var>) | <var>240</var>;</td></tr>
<tr><th id="1868">1868</th><td>		<a class="local col8 ref" href="#148out" title='out' data-ref="148out" data-ref-filename="148out">out</a>[<var>1</var>] = (<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a> &gt;&gt; <var>12</var> &amp; <var>63</var>) | <var>128</var>;</td></tr>
<tr><th id="1869">1869</th><td>		<a class="local col8 ref" href="#148out" title='out' data-ref="148out" data-ref-filename="148out">out</a>[<var>2</var>] = (<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a> &gt;&gt; <var>6</var>  &amp; <var>63</var>) | <var>128</var>;</td></tr>
<tr><th id="1870">1870</th><td>		<a class="local col8 ref" href="#148out" title='out' data-ref="148out" data-ref-filename="148out">out</a>[<var>3</var>] = (<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a>       &amp; <var>63</var>) | <var>128</var>;</td></tr>
<tr><th id="1871">1871</th><td>	} <b>else</b> <b>if</b> (<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a> &lt;= <var>0x03FFFFFF</var>) {</td></tr>
<tr><th id="1872">1872</th><td>		<a class="local col9 ref" href="#149rc" title='rc' data-ref="149rc" data-ref-filename="149rc">rc</a> = <var>5</var>;</td></tr>
<tr><th id="1873">1873</th><td>		<a class="local col8 ref" href="#148out" title='out' data-ref="148out" data-ref-filename="148out">out</a>[<var>0</var>] = (<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a> &gt;&gt; <var>24</var> &amp;  <var>3</var>) | <var>248</var>;</td></tr>
<tr><th id="1874">1874</th><td>		<a class="local col8 ref" href="#148out" title='out' data-ref="148out" data-ref-filename="148out">out</a>[<var>1</var>] = (<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a> &gt;&gt; <var>18</var> &amp; <var>63</var>) | <var>128</var>;</td></tr>
<tr><th id="1875">1875</th><td>		<a class="local col8 ref" href="#148out" title='out' data-ref="148out" data-ref-filename="148out">out</a>[<var>2</var>] = (<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a> &gt;&gt; <var>12</var> &amp; <var>63</var>) | <var>128</var>;</td></tr>
<tr><th id="1876">1876</th><td>		<a class="local col8 ref" href="#148out" title='out' data-ref="148out" data-ref-filename="148out">out</a>[<var>3</var>] = (<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a> &gt;&gt; <var>6</var>  &amp; <var>63</var>) | <var>128</var>;</td></tr>
<tr><th id="1877">1877</th><td>		<a class="local col8 ref" href="#148out" title='out' data-ref="148out" data-ref-filename="148out">out</a>[<var>4</var>] = (<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a>       &amp; <var>63</var>) | <var>128</var>;</td></tr>
<tr><th id="1878">1878</th><td>	} <b>else</b> <b>if</b> (<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a> &lt;= <var>0x7FFFFFFF</var>) {</td></tr>
<tr><th id="1879">1879</th><td>		<a class="local col9 ref" href="#149rc" title='rc' data-ref="149rc" data-ref-filename="149rc">rc</a> = <var>6</var>;</td></tr>
<tr><th id="1880">1880</th><td>		<a class="local col8 ref" href="#148out" title='out' data-ref="148out" data-ref-filename="148out">out</a>[<var>0</var>] = (<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a> &gt;&gt; <var>30</var> &amp;  <var>1</var>) | <var>252</var>;</td></tr>
<tr><th id="1881">1881</th><td>		<a class="local col8 ref" href="#148out" title='out' data-ref="148out" data-ref-filename="148out">out</a>[<var>1</var>] = (<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a> &gt;&gt; <var>24</var> &amp; <var>63</var>) | <var>128</var>;</td></tr>
<tr><th id="1882">1882</th><td>		<a class="local col8 ref" href="#148out" title='out' data-ref="148out" data-ref-filename="148out">out</a>[<var>2</var>] = (<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a> &gt;&gt; <var>18</var> &amp; <var>63</var>) | <var>128</var>;</td></tr>
<tr><th id="1883">1883</th><td>		<a class="local col8 ref" href="#148out" title='out' data-ref="148out" data-ref-filename="148out">out</a>[<var>3</var>] = (<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a> &gt;&gt; <var>12</var> &amp; <var>63</var>) | <var>128</var>;</td></tr>
<tr><th id="1884">1884</th><td>		<a class="local col8 ref" href="#148out" title='out' data-ref="148out" data-ref-filename="148out">out</a>[<var>4</var>] = (<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a> &gt;&gt; <var>6</var>  &amp; <var>63</var>) | <var>128</var>;</td></tr>
<tr><th id="1885">1885</th><td>		<a class="local col8 ref" href="#148out" title='out' data-ref="148out" data-ref-filename="148out">out</a>[<var>5</var>] = (<a class="local col7 ref" href="#147cp" title='cp' data-ref="147cp" data-ref-filename="147cp">cp</a>       &amp; <var>63</var>) | <var>128</var>;</td></tr>
<tr><th id="1886">1886</th><td>	} <b>else</b></td></tr>
<tr><th id="1887">1887</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1888">1888</th><td></td></tr>
<tr><th id="1889">1889</th><td>	<a class="local col8 ref" href="#148out" title='out' data-ref="148out" data-ref-filename="148out">out</a>[<a class="local col9 ref" href="#149rc" title='rc' data-ref="149rc" data-ref-filename="149rc">rc</a>] = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="1890">1890</th><td>	<b>return</b> <a class="local col9 ref" href="#149rc" title='rc' data-ref="149rc" data-ref-filename="149rc">rc</a>;</td></tr>
<tr><th id="1891">1891</th><td>}</td></tr>
<tr><th id="1892">1892</th><td></td></tr>
<tr><th id="1893">1893</th><td><i  data-doc="render_string">/*</i></td></tr>
<tr><th id="1894">1894</th><td><i  data-doc="render_string"> * If the string contains escape sequences,</i></td></tr>
<tr><th id="1895">1895</th><td><i  data-doc="render_string"> * replace it with an allocated rendering and return 1,</i></td></tr>
<tr><th id="1896">1896</th><td><i  data-doc="render_string"> * such that the caller can free it after use.</i></td></tr>
<tr><th id="1897">1897</th><td><i  data-doc="render_string"> * Otherwise, do nothing and return 0.</i></td></tr>
<tr><th id="1898">1898</th><td><i  data-doc="render_string"> */</i></td></tr>
<tr><th id="1899">1899</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="1900">1900</th><td><dfn class="tu decl def fn" id="render_string" title='render_string' data-type='int render_string(char ** public, size_t * psz)' data-ref="render_string" data-ref-filename="render_string">render_string</dfn>(<em>char</em> **<dfn class="local col0 decl" id="150public" title='public' data-type='char **' data-ref="150public" data-ref-filename="150public">public</dfn>, <a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</a> *<dfn class="local col1 decl" id="151psz" title='psz' data-type='size_t *' data-ref="151psz" data-ref-filename="151psz">psz</dfn>)</td></tr>
<tr><th id="1901">1901</th><td>{</td></tr>
<tr><th id="1902">1902</th><td>	<em>const</em> <em>char</em>	*<dfn class="local col2 decl" id="152src" title='src' data-type='const char *' data-ref="152src" data-ref-filename="152src">src</dfn>, *<dfn class="local col3 decl" id="153scp" title='scp' data-type='const char *' data-ref="153scp" data-ref-filename="153scp">scp</dfn>, *<dfn class="local col4 decl" id="154addcp" title='addcp' data-type='const char *' data-ref="154addcp" data-ref-filename="154addcp">addcp</dfn>, *<dfn class="local col5 decl" id="155seq" title='seq' data-type='const char *' data-ref="155seq" data-ref-filename="155seq">seq</dfn>;</td></tr>
<tr><th id="1903">1903</th><td>	<em>char</em>		*<dfn class="local col6 decl" id="156dst" title='dst' data-type='char *' data-ref="156dst" data-ref-filename="156dst">dst</dfn>;</td></tr>
<tr><th id="1904">1904</th><td>	<a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</a>		 <dfn class="local col7 decl" id="157ssz" title='ssz' data-type='size_t' data-ref="157ssz" data-ref-filename="157ssz">ssz</dfn>, <dfn class="local col8 decl" id="158dsz" title='dsz' data-type='size_t' data-ref="158dsz" data-ref-filename="158dsz">dsz</dfn>, <dfn class="local col9 decl" id="159addsz" title='addsz' data-type='size_t' data-ref="159addsz" data-ref-filename="159addsz">addsz</dfn>;</td></tr>
<tr><th id="1905">1905</th><td>	<em>char</em>		 <dfn class="local col0 decl" id="160utfbuf" title='utfbuf' data-type='char [7]' data-ref="160utfbuf" data-ref-filename="160utfbuf">utfbuf</dfn>[<var>7</var>], <dfn class="local col1 decl" id="161res" title='res' data-type='char [6]' data-ref="161res" data-ref-filename="161res">res</dfn>[<var>6</var>];</td></tr>
<tr><th id="1906">1906</th><td>	<em>int</em>		 <dfn class="local col2 decl" id="162seqlen" title='seqlen' data-type='int' data-ref="162seqlen" data-ref-filename="162seqlen">seqlen</dfn>, <dfn class="local col3 decl" id="163unicode" title='unicode' data-type='int' data-ref="163unicode" data-ref-filename="163unicode">unicode</dfn>;</td></tr>
<tr><th id="1907">1907</th><td></td></tr>
<tr><th id="1908">1908</th><td>	<a class="local col1 ref" href="#161res" title='res' data-ref="161res" data-ref-filename="161res">res</a>[<var>0</var>] = <kbd>'\\'</kbd>;</td></tr>
<tr><th id="1909">1909</th><td>	<a class="local col1 ref" href="#161res" title='res' data-ref="161res" data-ref-filename="161res">res</a>[<var>1</var>] = <kbd>'\t'</kbd>;</td></tr>
<tr><th id="1910">1910</th><td>	<a class="local col1 ref" href="#161res" title='res' data-ref="161res" data-ref-filename="161res">res</a>[<var>2</var>] = <a class="macro" href="mandoc.h.html#21" title="31" data-ref="_M/ASCII_NBRSP">ASCII_NBRSP</a>;</td></tr>
<tr><th id="1911">1911</th><td>	<a class="local col1 ref" href="#161res" title='res' data-ref="161res" data-ref-filename="161res">res</a>[<var>3</var>] = <a class="macro" href="mandoc.h.html#22" title="30" data-ref="_M/ASCII_HYPH">ASCII_HYPH</a>;</td></tr>
<tr><th id="1912">1912</th><td>	<a class="local col1 ref" href="#161res" title='res' data-ref="161res" data-ref-filename="161res">res</a>[<var>4</var>] = <a class="macro" href="mandoc.h.html#23" title="29" data-ref="_M/ASCII_BREAK">ASCII_BREAK</a>;</td></tr>
<tr><th id="1913">1913</th><td>	<a class="local col1 ref" href="#161res" title='res' data-ref="161res" data-ref-filename="161res">res</a>[<var>5</var>] = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="1914">1914</th><td></td></tr>
<tr><th id="1915">1915</th><td>	<a class="local col2 ref" href="#152src" title='src' data-ref="152src" data-ref-filename="152src">src</a> = <a class="local col3 ref" href="#153scp" title='scp' data-ref="153scp" data-ref-filename="153scp">scp</a> = *<a class="local col0 ref" href="#150public" title='public' data-ref="150public" data-ref-filename="150public">public</a>;</td></tr>
<tr><th id="1916">1916</th><td>	<a class="local col7 ref" href="#157ssz" title='ssz' data-ref="157ssz" data-ref-filename="157ssz">ssz</a> = *<a class="local col1 ref" href="#151psz" title='psz' data-ref="151psz" data-ref-filename="151psz">psz</a>;</td></tr>
<tr><th id="1917">1917</th><td>	<a class="local col6 ref" href="#156dst" title='dst' data-ref="156dst" data-ref-filename="156dst">dst</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1918">1918</th><td>	<a class="local col8 ref" href="#158dsz" title='dsz' data-ref="158dsz" data-ref-filename="158dsz">dsz</a> = <var>0</var>;</td></tr>
<tr><th id="1919">1919</th><td></td></tr>
<tr><th id="1920">1920</th><td>	<b>while</b> (<a class="local col3 ref" href="#153scp" title='scp' data-ref="153scp" data-ref-filename="153scp">scp</a> &lt; <a class="local col2 ref" href="#152src" title='src' data-ref="152src" data-ref-filename="152src">src</a> + *<a class="local col1 ref" href="#151psz" title='psz' data-ref="151psz" data-ref-filename="151psz">psz</a>) {</td></tr>
<tr><th id="1921">1921</th><td></td></tr>
<tr><th id="1922">1922</th><td>		<i>/* Leave normal characters unchanged. */</i></td></tr>
<tr><th id="1923">1923</th><td></td></tr>
<tr><th id="1924">1924</th><td>		<b>if</b> (<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strchr" title='strchr' data-ref="strchr" data-ref-filename="strchr">strchr</a>(<a class="local col1 ref" href="#161res" title='res' data-ref="161res" data-ref-filename="161res">res</a>, *<a class="local col3 ref" href="#153scp" title='scp' data-ref="153scp" data-ref-filename="153scp">scp</a>) == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="1925">1925</th><td>			<b>if</b> (<a class="local col6 ref" href="#156dst" title='dst' data-ref="156dst" data-ref-filename="156dst">dst</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1926">1926</th><td>				<a class="local col6 ref" href="#156dst" title='dst' data-ref="156dst" data-ref-filename="156dst">dst</a>[<a class="local col8 ref" href="#158dsz" title='dsz' data-ref="158dsz" data-ref-filename="158dsz">dsz</a>++] = *<a class="local col3 ref" href="#153scp" title='scp' data-ref="153scp" data-ref-filename="153scp">scp</a>;</td></tr>
<tr><th id="1927">1927</th><td>			<a class="local col3 ref" href="#153scp" title='scp' data-ref="153scp" data-ref-filename="153scp">scp</a>++;</td></tr>
<tr><th id="1928">1928</th><td>			<b>continue</b>;</td></tr>
<tr><th id="1929">1929</th><td>		}</td></tr>
<tr><th id="1930">1930</th><td></td></tr>
<tr><th id="1931">1931</th><td>		<i>/*</i></td></tr>
<tr><th id="1932">1932</th><td><i>		 * Found something that requires replacing,</i></td></tr>
<tr><th id="1933">1933</th><td><i>		 * make sure we have a destination buffer.</i></td></tr>
<tr><th id="1934">1934</th><td><i>		 */</i></td></tr>
<tr><th id="1935">1935</th><td></td></tr>
<tr><th id="1936">1936</th><td>		<b>if</b> (<a class="local col6 ref" href="#156dst" title='dst' data-ref="156dst" data-ref-filename="156dst">dst</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="1937">1937</th><td>			<a class="local col6 ref" href="#156dst" title='dst' data-ref="156dst" data-ref-filename="156dst">dst</a> = <a class="ref fn" href="mandoc_aux.h.html#mandoc_malloc" title='mandoc_malloc' data-ref="mandoc_malloc" data-ref-filename="mandoc_malloc">mandoc_malloc</a>(<a class="local col7 ref" href="#157ssz" title='ssz' data-ref="157ssz" data-ref-filename="157ssz">ssz</a> + <var>1</var>);</td></tr>
<tr><th id="1938">1938</th><td>			<a class="local col8 ref" href="#158dsz" title='dsz' data-ref="158dsz" data-ref-filename="158dsz">dsz</a> = <a class="local col3 ref" href="#153scp" title='scp' data-ref="153scp" data-ref-filename="153scp">scp</a> - <a class="local col2 ref" href="#152src" title='src' data-ref="152src" data-ref-filename="152src">src</a>;</td></tr>
<tr><th id="1939">1939</th><td>			<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#memcpy" title='memcpy' data-ref="memcpy" data-ref-filename="memcpy">memcpy</a>(<a class="local col6 ref" href="#156dst" title='dst' data-ref="156dst" data-ref-filename="156dst">dst</a>, <a class="local col2 ref" href="#152src" title='src' data-ref="152src" data-ref-filename="152src">src</a>, <a class="local col8 ref" href="#158dsz" title='dsz' data-ref="158dsz" data-ref-filename="158dsz">dsz</a>);</td></tr>
<tr><th id="1940">1940</th><td>		}</td></tr>
<tr><th id="1941">1941</th><td></td></tr>
<tr><th id="1942">1942</th><td>		<i>/* Handle single-char special characters. */</i></td></tr>
<tr><th id="1943">1943</th><td></td></tr>
<tr><th id="1944">1944</th><td>		<b>switch</b> (*<a class="local col3 ref" href="#153scp" title='scp' data-ref="153scp" data-ref-filename="153scp">scp</a>) {</td></tr>
<tr><th id="1945">1945</th><td>		<b>case</b> <kbd>'\\'</kbd>:</td></tr>
<tr><th id="1946">1946</th><td>			<b>break</b>;</td></tr>
<tr><th id="1947">1947</th><td>		<b>case</b> <kbd>'\t'</kbd>:</td></tr>
<tr><th id="1948">1948</th><td>		<b>case</b> <a class="macro" href="mandoc.h.html#21" title="31" data-ref="_M/ASCII_NBRSP">ASCII_NBRSP</a>:</td></tr>
<tr><th id="1949">1949</th><td>			<a class="local col6 ref" href="#156dst" title='dst' data-ref="156dst" data-ref-filename="156dst">dst</a>[<a class="local col8 ref" href="#158dsz" title='dsz' data-ref="158dsz" data-ref-filename="158dsz">dsz</a>++] = <kbd>' '</kbd>;</td></tr>
<tr><th id="1950">1950</th><td>			<a class="local col3 ref" href="#153scp" title='scp' data-ref="153scp" data-ref-filename="153scp">scp</a>++;</td></tr>
<tr><th id="1951">1951</th><td>			<b>continue</b>;</td></tr>
<tr><th id="1952">1952</th><td>		<b>case</b> <a class="macro" href="mandoc.h.html#22" title="30" data-ref="_M/ASCII_HYPH">ASCII_HYPH</a>:</td></tr>
<tr><th id="1953">1953</th><td>			<a class="local col6 ref" href="#156dst" title='dst' data-ref="156dst" data-ref-filename="156dst">dst</a>[<a class="local col8 ref" href="#158dsz" title='dsz' data-ref="158dsz" data-ref-filename="158dsz">dsz</a>++] = <kbd>'-'</kbd>;</td></tr>
<tr><th id="1954">1954</th><td>			<i>/* FALLTHROUGH */</i></td></tr>
<tr><th id="1955">1955</th><td>		<b>case</b> <a class="macro" href="mandoc.h.html#23" title="29" data-ref="_M/ASCII_BREAK">ASCII_BREAK</a>:</td></tr>
<tr><th id="1956">1956</th><td>			<a class="local col3 ref" href="#153scp" title='scp' data-ref="153scp" data-ref-filename="153scp">scp</a>++;</td></tr>
<tr><th id="1957">1957</th><td>			<b>continue</b>;</td></tr>
<tr><th id="1958">1958</th><td>		<b>default</b>:</td></tr>
<tr><th id="1959">1959</th><td>			<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#abort" title='abort' data-ref="abort" data-ref-filename="abort">abort</a>();</td></tr>
<tr><th id="1960">1960</th><td>		}</td></tr>
<tr><th id="1961">1961</th><td></td></tr>
<tr><th id="1962">1962</th><td>		<i>/*</i></td></tr>
<tr><th id="1963">1963</th><td><i>		 * Found an escape sequence.</i></td></tr>
<tr><th id="1964">1964</th><td><i>		 * Read past the slash, then parse it.</i></td></tr>
<tr><th id="1965">1965</th><td><i>		 * Ignore everything except characters.</i></td></tr>
<tr><th id="1966">1966</th><td><i>		 */</i></td></tr>
<tr><th id="1967">1967</th><td></td></tr>
<tr><th id="1968">1968</th><td>		<a class="local col3 ref" href="#153scp" title='scp' data-ref="153scp" data-ref-filename="153scp">scp</a>++;</td></tr>
<tr><th id="1969">1969</th><td>		<b>if</b> (<a class="ref fn" href="mandoc.h.html#mandoc_escape" title='mandoc_escape' data-ref="mandoc_escape" data-ref-filename="mandoc_escape">mandoc_escape</a>(&amp;<a class="local col3 ref" href="#153scp" title='scp' data-ref="153scp" data-ref-filename="153scp">scp</a>, &amp;<a class="local col5 ref" href="#155seq" title='seq' data-ref="155seq" data-ref-filename="155seq">seq</a>, &amp;<a class="local col2 ref" href="#162seqlen" title='seqlen' data-ref="162seqlen" data-ref-filename="162seqlen">seqlen</a>) != <a class="enum" href="mandoc.h.html#ESCAPE_SPECIAL" title='ESCAPE_SPECIAL' data-ref="ESCAPE_SPECIAL" data-ref-filename="ESCAPE_SPECIAL">ESCAPE_SPECIAL</a>)</td></tr>
<tr><th id="1970">1970</th><td>			<b>continue</b>;</td></tr>
<tr><th id="1971">1971</th><td></td></tr>
<tr><th id="1972">1972</th><td>		<i>/*</i></td></tr>
<tr><th id="1973">1973</th><td><i>		 * Render the special character</i></td></tr>
<tr><th id="1974">1974</th><td><i>		 * as either UTF-8 or ASCII.</i></td></tr>
<tr><th id="1975">1975</th><td><i>		 */</i></td></tr>
<tr><th id="1976">1976</th><td></td></tr>
<tr><th id="1977">1977</th><td>		<b>if</b> (<a class="tu ref" href="#write_utf8" title='write_utf8' data-use='r' data-ref="write_utf8" data-ref-filename="write_utf8">write_utf8</a>) {</td></tr>
<tr><th id="1978">1978</th><td>			<a class="local col3 ref" href="#163unicode" title='unicode' data-ref="163unicode" data-ref-filename="163unicode">unicode</a> = <a class="ref fn" href="mandoc.h.html#mchars_spec2cp" title='mchars_spec2cp' data-ref="mchars_spec2cp" data-ref-filename="mchars_spec2cp">mchars_spec2cp</a>(<a class="local col5 ref" href="#155seq" title='seq' data-ref="155seq" data-ref-filename="155seq">seq</a>, <a class="local col2 ref" href="#162seqlen" title='seqlen' data-ref="162seqlen" data-ref-filename="162seqlen">seqlen</a>);</td></tr>
<tr><th id="1979">1979</th><td>			<b>if</b> (<a class="local col3 ref" href="#163unicode" title='unicode' data-ref="163unicode" data-ref-filename="163unicode">unicode</a> &lt;= <var>0</var>)</td></tr>
<tr><th id="1980">1980</th><td>				<b>continue</b>;</td></tr>
<tr><th id="1981">1981</th><td>			<a class="local col9 ref" href="#159addsz" title='addsz' data-ref="159addsz" data-ref-filename="159addsz">addsz</a> = <a class="tu ref fn" href="#utf8" title='utf8' data-use='c' data-ref="utf8" data-ref-filename="utf8">utf8</a>(<a class="local col3 ref" href="#163unicode" title='unicode' data-ref="163unicode" data-ref-filename="163unicode">unicode</a>, <a class="local col0 ref" href="#160utfbuf" title='utfbuf' data-ref="160utfbuf" data-ref-filename="160utfbuf">utfbuf</a>);</td></tr>
<tr><th id="1982">1982</th><td>			<b>if</b> (<a class="local col9 ref" href="#159addsz" title='addsz' data-ref="159addsz" data-ref-filename="159addsz">addsz</a> == <var>0</var>)</td></tr>
<tr><th id="1983">1983</th><td>				<b>continue</b>;</td></tr>
<tr><th id="1984">1984</th><td>			<a class="local col4 ref" href="#154addcp" title='addcp' data-ref="154addcp" data-ref-filename="154addcp">addcp</a> = <a class="local col0 ref" href="#160utfbuf" title='utfbuf' data-ref="160utfbuf" data-ref-filename="160utfbuf">utfbuf</a>;</td></tr>
<tr><th id="1985">1985</th><td>		} <b>else</b> {</td></tr>
<tr><th id="1986">1986</th><td>			<a class="local col4 ref" href="#154addcp" title='addcp' data-ref="154addcp" data-ref-filename="154addcp">addcp</a> = <a class="ref fn" href="mandoc.h.html#mchars_spec2str" title='mchars_spec2str' data-ref="mchars_spec2str" data-ref-filename="mchars_spec2str">mchars_spec2str</a>(<a class="local col5 ref" href="#155seq" title='seq' data-ref="155seq" data-ref-filename="155seq">seq</a>, <a class="local col2 ref" href="#162seqlen" title='seqlen' data-ref="162seqlen" data-ref-filename="162seqlen">seqlen</a>, &amp;<a class="local col9 ref" href="#159addsz" title='addsz' data-ref="159addsz" data-ref-filename="159addsz">addsz</a>);</td></tr>
<tr><th id="1987">1987</th><td>			<b>if</b> (<a class="local col4 ref" href="#154addcp" title='addcp' data-ref="154addcp" data-ref-filename="154addcp">addcp</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1988">1988</th><td>				<b>continue</b>;</td></tr>
<tr><th id="1989">1989</th><td>			<b>if</b> (*<a class="local col4 ref" href="#154addcp" title='addcp' data-ref="154addcp" data-ref-filename="154addcp">addcp</a> == <a class="macro" href="mandoc.h.html#21" title="31" data-ref="_M/ASCII_NBRSP">ASCII_NBRSP</a>) {</td></tr>
<tr><th id="1990">1990</th><td>				<a class="local col4 ref" href="#154addcp" title='addcp' data-ref="154addcp" data-ref-filename="154addcp">addcp</a> = <q>" "</q>;</td></tr>
<tr><th id="1991">1991</th><td>				<a class="local col9 ref" href="#159addsz" title='addsz' data-ref="159addsz" data-ref-filename="159addsz">addsz</a> = <var>1</var>;</td></tr>
<tr><th id="1992">1992</th><td>			}</td></tr>
<tr><th id="1993">1993</th><td>		}</td></tr>
<tr><th id="1994">1994</th><td></td></tr>
<tr><th id="1995">1995</th><td>		<i>/* Copy the rendered glyph into the stream. */</i></td></tr>
<tr><th id="1996">1996</th><td></td></tr>
<tr><th id="1997">1997</th><td>		<a class="local col7 ref" href="#157ssz" title='ssz' data-ref="157ssz" data-ref-filename="157ssz">ssz</a> += <a class="local col9 ref" href="#159addsz" title='addsz' data-ref="159addsz" data-ref-filename="159addsz">addsz</a>;</td></tr>
<tr><th id="1998">1998</th><td>		<a class="local col6 ref" href="#156dst" title='dst' data-ref="156dst" data-ref-filename="156dst">dst</a> = <a class="ref fn" href="mandoc_aux.h.html#mandoc_realloc" title='mandoc_realloc' data-ref="mandoc_realloc" data-ref-filename="mandoc_realloc">mandoc_realloc</a>(<a class="local col6 ref" href="#156dst" title='dst' data-ref="156dst" data-ref-filename="156dst">dst</a>, <a class="local col7 ref" href="#157ssz" title='ssz' data-ref="157ssz" data-ref-filename="157ssz">ssz</a> + <var>1</var>);</td></tr>
<tr><th id="1999">1999</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#memcpy" title='memcpy' data-ref="memcpy" data-ref-filename="memcpy">memcpy</a>(<a class="local col6 ref" href="#156dst" title='dst' data-ref="156dst" data-ref-filename="156dst">dst</a> + <a class="local col8 ref" href="#158dsz" title='dsz' data-ref="158dsz" data-ref-filename="158dsz">dsz</a>, <a class="local col4 ref" href="#154addcp" title='addcp' data-ref="154addcp" data-ref-filename="154addcp">addcp</a>, <a class="local col9 ref" href="#159addsz" title='addsz' data-ref="159addsz" data-ref-filename="159addsz">addsz</a>);</td></tr>
<tr><th id="2000">2000</th><td>		<a class="local col8 ref" href="#158dsz" title='dsz' data-ref="158dsz" data-ref-filename="158dsz">dsz</a> += <a class="local col9 ref" href="#159addsz" title='addsz' data-ref="159addsz" data-ref-filename="159addsz">addsz</a>;</td></tr>
<tr><th id="2001">2001</th><td>	}</td></tr>
<tr><th id="2002">2002</th><td>	<b>if</b> (<a class="local col6 ref" href="#156dst" title='dst' data-ref="156dst" data-ref-filename="156dst">dst</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="2003">2003</th><td>		*<a class="local col0 ref" href="#150public" title='public' data-ref="150public" data-ref-filename="150public">public</a> = <a class="local col6 ref" href="#156dst" title='dst' data-ref="156dst" data-ref-filename="156dst">dst</a>;</td></tr>
<tr><th id="2004">2004</th><td>		*<a class="local col1 ref" href="#151psz" title='psz' data-ref="151psz" data-ref-filename="151psz">psz</a> = <a class="local col8 ref" href="#158dsz" title='dsz' data-ref="158dsz" data-ref-filename="158dsz">dsz</a>;</td></tr>
<tr><th id="2005">2005</th><td>	}</td></tr>
<tr><th id="2006">2006</th><td></td></tr>
<tr><th id="2007">2007</th><td>	<i>/* Trim trailing whitespace and NUL-terminate. */</i></td></tr>
<tr><th id="2008">2008</th><td></td></tr>
<tr><th id="2009">2009</th><td>	<b>while</b> (*<a class="local col1 ref" href="#151psz" title='psz' data-ref="151psz" data-ref-filename="151psz">psz</a> &gt; <var>0</var> &amp;&amp; (*<a class="local col0 ref" href="#150public" title='public' data-ref="150public" data-ref-filename="150public">public</a>)[*<a class="local col1 ref" href="#151psz" title='psz' data-ref="151psz" data-ref-filename="151psz">psz</a> - <var>1</var>] == <kbd>' '</kbd>)</td></tr>
<tr><th id="2010">2010</th><td>		--*<a class="local col1 ref" href="#151psz" title='psz' data-ref="151psz" data-ref-filename="151psz">psz</a>;</td></tr>
<tr><th id="2011">2011</th><td>	<b>if</b> (<a class="local col6 ref" href="#156dst" title='dst' data-ref="156dst" data-ref-filename="156dst">dst</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="2012">2012</th><td>		(*<a class="local col0 ref" href="#150public" title='public' data-ref="150public" data-ref-filename="150public">public</a>)[*<a class="local col1 ref" href="#151psz" title='psz' data-ref="151psz" data-ref-filename="151psz">psz</a>] = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="2013">2013</th><td>		<b>return</b> <var>1</var>;</td></tr>
<tr><th id="2014">2014</th><td>	} <b>else</b></td></tr>
<tr><th id="2015">2015</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="2016">2016</th><td>}</td></tr>
<tr><th id="2017">2017</th><td></td></tr>
<tr><th id="2018">2018</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="2019">2019</th><td><dfn class="tu decl def fn" id="dbadd_mlink" title='dbadd_mlink' data-type='void dbadd_mlink(const struct mlink * mlink)' data-ref="dbadd_mlink" data-ref-filename="dbadd_mlink">dbadd_mlink</dfn>(<em>const</em> <b>struct</b> <a class="type" href="#mlink" title='mlink' data-ref="mlink" data-ref-filename="mlink">mlink</a> *<dfn class="local col4 decl" id="164mlink" title='mlink' data-type='const struct mlink *' data-ref="164mlink" data-ref-filename="164mlink">mlink</dfn>)</td></tr>
<tr><th id="2020">2020</th><td>{</td></tr>
<tr><th id="2021">2021</th><td>	<a class="ref fn" href="dba.h.html#dba_page_alias" title='dba_page_alias' data-ref="dba_page_alias" data-ref-filename="dba_page_alias">dba_page_alias</a>(<a class="local col4 ref" href="#164mlink" title='mlink' data-ref="164mlink" data-ref-filename="164mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::mpage" title='mlink::mpage' data-use='r' data-ref="mlink::mpage" data-ref-filename="mlink..mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::dba" title='mpage::dba' data-use='r' data-ref="mpage::dba" data-ref-filename="mpage..dba">dba</a>, <a class="local col4 ref" href="#164mlink" title='mlink' data-ref="164mlink" data-ref-filename="164mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::name" title='mlink::name' data-use='r' data-ref="mlink::name" data-ref-filename="mlink..name">name</a>, <a class="macro" href="mansearch.h.html#75" title="0x0000004000000010ULL" data-ref="_M/NAME_FILE">NAME_FILE</a>);</td></tr>
<tr><th id="2022">2022</th><td>	<a class="ref fn" href="dba.h.html#dba_page_add" title='dba_page_add' data-ref="dba_page_add" data-ref-filename="dba_page_add">dba_page_add</a>(<a class="local col4 ref" href="#164mlink" title='mlink' data-ref="164mlink" data-ref-filename="164mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::mpage" title='mlink::mpage' data-use='r' data-ref="mlink::mpage" data-ref-filename="mlink..mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::dba" title='mpage::dba' data-use='r' data-ref="mpage::dba" data-ref-filename="mpage..dba">dba</a>, <a class="macro" href="dba.h.html#23" title="1" data-ref="_M/DBP_SECT">DBP_SECT</a>, <a class="local col4 ref" href="#164mlink" title='mlink' data-ref="164mlink" data-ref-filename="164mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::dsec" title='mlink::dsec' data-use='r' data-ref="mlink::dsec" data-ref-filename="mlink..dsec">dsec</a>);</td></tr>
<tr><th id="2023">2023</th><td>	<a class="ref fn" href="dba.h.html#dba_page_add" title='dba_page_add' data-ref="dba_page_add" data-ref-filename="dba_page_add">dba_page_add</a>(<a class="local col4 ref" href="#164mlink" title='mlink' data-ref="164mlink" data-ref-filename="164mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::mpage" title='mlink::mpage' data-use='r' data-ref="mlink::mpage" data-ref-filename="mlink..mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::dba" title='mpage::dba' data-use='r' data-ref="mpage::dba" data-ref-filename="mpage..dba">dba</a>, <a class="macro" href="dba.h.html#23" title="1" data-ref="_M/DBP_SECT">DBP_SECT</a>, <a class="local col4 ref" href="#164mlink" title='mlink' data-ref="164mlink" data-ref-filename="164mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::fsec" title='mlink::fsec' data-use='r' data-ref="mlink::fsec" data-ref-filename="mlink..fsec">fsec</a>);</td></tr>
<tr><th id="2024">2024</th><td>	<a class="ref fn" href="dba.h.html#dba_page_add" title='dba_page_add' data-ref="dba_page_add" data-ref-filename="dba_page_add">dba_page_add</a>(<a class="local col4 ref" href="#164mlink" title='mlink' data-ref="164mlink" data-ref-filename="164mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::mpage" title='mlink::mpage' data-use='r' data-ref="mlink::mpage" data-ref-filename="mlink..mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::dba" title='mpage::dba' data-use='r' data-ref="mpage::dba" data-ref-filename="mpage..dba">dba</a>, <a class="macro" href="dba.h.html#24" title="2" data-ref="_M/DBP_ARCH">DBP_ARCH</a>, <a class="local col4 ref" href="#164mlink" title='mlink' data-ref="164mlink" data-ref-filename="164mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::arch" title='mlink::arch' data-use='r' data-ref="mlink::arch" data-ref-filename="mlink..arch">arch</a>);</td></tr>
<tr><th id="2025">2025</th><td>	<a class="ref fn" href="dba.h.html#dba_page_add" title='dba_page_add' data-ref="dba_page_add" data-ref-filename="dba_page_add">dba_page_add</a>(<a class="local col4 ref" href="#164mlink" title='mlink' data-ref="164mlink" data-ref-filename="164mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::mpage" title='mlink::mpage' data-use='r' data-ref="mlink::mpage" data-ref-filename="mlink..mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::dba" title='mpage::dba' data-use='r' data-ref="mpage::dba" data-ref-filename="mpage..dba">dba</a>, <a class="macro" href="dba.h.html#26" title="4" data-ref="_M/DBP_FILE">DBP_FILE</a>, <a class="local col4 ref" href="#164mlink" title='mlink' data-ref="164mlink" data-ref-filename="164mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>);</td></tr>
<tr><th id="2026">2026</th><td>}</td></tr>
<tr><th id="2027">2027</th><td></td></tr>
<tr><th id="2028">2028</th><td><i  data-doc="dbadd">/*</i></td></tr>
<tr><th id="2029">2029</th><td><i  data-doc="dbadd"> * Flush the current page's terms (and their bits) into the database.</i></td></tr>
<tr><th id="2030">2030</th><td><i  data-doc="dbadd"> * Also, handle escape sequences at the last possible moment.</i></td></tr>
<tr><th id="2031">2031</th><td><i  data-doc="dbadd"> */</i></td></tr>
<tr><th id="2032">2032</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="2033">2033</th><td><dfn class="tu decl def fn" id="dbadd" title='dbadd' data-type='void dbadd(struct dba * dba, struct mpage * mpage)' data-ref="dbadd" data-ref-filename="dbadd">dbadd</dfn>(<b>struct</b> <a class="type" href="dba.h.html#dba" title='dba' data-ref="dba" data-ref-filename="dba">dba</a> *<dfn class="local col5 decl" id="165dba" title='dba' data-type='struct dba *' data-ref="165dba" data-ref-filename="165dba">dba</dfn>, <b>struct</b> <a class="type" href="#mpage" title='mpage' data-ref="mpage" data-ref-filename="mpage">mpage</a> *<dfn class="local col6 decl" id="166mpage" title='mpage' data-type='struct mpage *' data-ref="166mpage" data-ref-filename="166mpage">mpage</dfn>)</td></tr>
<tr><th id="2034">2034</th><td>{</td></tr>
<tr><th id="2035">2035</th><td>	<b>struct</b> <a class="type" href="#mlink" title='mlink' data-ref="mlink" data-ref-filename="mlink">mlink</a>	*<dfn class="local col7 decl" id="167mlink" title='mlink' data-type='struct mlink *' data-ref="167mlink" data-ref-filename="167mlink">mlink</dfn>;</td></tr>
<tr><th id="2036">2036</th><td>	<b>struct</b> <a class="type" href="#str" title='str' data-ref="str" data-ref-filename="str">str</a>	*<dfn class="local col8 decl" id="168key" title='key' data-type='struct str *' data-ref="168key" data-ref-filename="168key">key</dfn>;</td></tr>
<tr><th id="2037">2037</th><td>	<em>char</em>		*<dfn class="local col9 decl" id="169cp" title='cp' data-type='char *' data-ref="169cp" data-ref-filename="169cp">cp</dfn>;</td></tr>
<tr><th id="2038">2038</th><td>	<a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a>	 <dfn class="local col0 decl" id="170mask" title='mask' data-type='uint64_t' data-ref="170mask" data-ref-filename="170mask">mask</dfn>;</td></tr>
<tr><th id="2039">2039</th><td>	<a class="typedef" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</a>		 <dfn class="local col1 decl" id="171i" title='i' data-type='size_t' data-ref="171i" data-ref-filename="171i">i</dfn>;</td></tr>
<tr><th id="2040">2040</th><td>	<em>unsigned</em> <em>int</em>	 <dfn class="local col2 decl" id="172slot" title='slot' data-type='unsigned int' data-ref="172slot" data-ref-filename="172slot">slot</dfn>;</td></tr>
<tr><th id="2041">2041</th><td>	<em>int</em>		 <dfn class="local col3 decl" id="173mustfree" title='mustfree' data-type='int' data-ref="173mustfree" data-ref-filename="173mustfree">mustfree</dfn>;</td></tr>
<tr><th id="2042">2042</th><td></td></tr>
<tr><th id="2043">2043</th><td>	<a class="local col7 ref" href="#167mlink" title='mlink' data-ref="167mlink" data-ref-filename="167mlink">mlink</a> = <a class="local col6 ref" href="#166mpage" title='mpage' data-ref="166mpage" data-ref-filename="166mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::mlinks" title='mpage::mlinks' data-use='r' data-ref="mpage::mlinks" data-ref-filename="mpage..mlinks">mlinks</a>;</td></tr>
<tr><th id="2044">2044</th><td></td></tr>
<tr><th id="2045">2045</th><td>	<b>if</b> (<a class="tu ref" href="#nodb" title='nodb' data-use='r' data-ref="nodb" data-ref-filename="nodb">nodb</a>) {</td></tr>
<tr><th id="2046">2046</th><td>		<b>for</b> (<a class="local col8 ref" href="#168key" title='key' data-ref="168key" data-ref-filename="168key">key</a> = <a class="ref fn" href="compat_ohash.h.html#ohash_first" title='ohash_first' data-ref="ohash_first" data-ref-filename="ohash_first">ohash_first</a>(&amp;<a class="tu ref" href="#names" title='names' data-use='a' data-ref="names" data-ref-filename="names">names</a>, &amp;<a class="local col2 ref" href="#172slot" title='slot' data-ref="172slot" data-ref-filename="172slot">slot</a>); <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> != <a class="local col8 ref" href="#168key" title='key' data-ref="168key" data-ref-filename="168key">key</a>;</td></tr>
<tr><th id="2047">2047</th><td>		     <a class="local col8 ref" href="#168key" title='key' data-ref="168key" data-ref-filename="168key">key</a> = <a class="ref fn" href="compat_ohash.h.html#ohash_next" title='ohash_next' data-ref="ohash_next" data-ref-filename="ohash_next">ohash_next</a>(&amp;<a class="tu ref" href="#names" title='names' data-use='a' data-ref="names" data-ref-filename="names">names</a>, &amp;<a class="local col2 ref" href="#172slot" title='slot' data-ref="172slot" data-ref-filename="172slot">slot</a>))</td></tr>
<tr><th id="2048">2048</th><td>			<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col8 ref" href="#168key" title='key' data-ref="168key" data-ref-filename="168key">key</a>);</td></tr>
<tr><th id="2049">2049</th><td>		<b>for</b> (<a class="local col8 ref" href="#168key" title='key' data-ref="168key" data-ref-filename="168key">key</a> = <a class="ref fn" href="compat_ohash.h.html#ohash_first" title='ohash_first' data-ref="ohash_first" data-ref-filename="ohash_first">ohash_first</a>(&amp;<a class="tu ref" href="#strings" title='strings' data-use='a' data-ref="strings" data-ref-filename="strings">strings</a>, &amp;<a class="local col2 ref" href="#172slot" title='slot' data-ref="172slot" data-ref-filename="172slot">slot</a>); <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> != <a class="local col8 ref" href="#168key" title='key' data-ref="168key" data-ref-filename="168key">key</a>;</td></tr>
<tr><th id="2050">2050</th><td>		     <a class="local col8 ref" href="#168key" title='key' data-ref="168key" data-ref-filename="168key">key</a> = <a class="ref fn" href="compat_ohash.h.html#ohash_next" title='ohash_next' data-ref="ohash_next" data-ref-filename="ohash_next">ohash_next</a>(&amp;<a class="tu ref" href="#strings" title='strings' data-use='a' data-ref="strings" data-ref-filename="strings">strings</a>, &amp;<a class="local col2 ref" href="#172slot" title='slot' data-ref="172slot" data-ref-filename="172slot">slot</a>))</td></tr>
<tr><th id="2051">2051</th><td>			<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col8 ref" href="#168key" title='key' data-ref="168key" data-ref-filename="168key">key</a>);</td></tr>
<tr><th id="2052">2052</th><td>		<b>if</b> (<var>0</var> == <a class="tu ref" href="#debug" title='debug' data-use='r' data-ref="debug" data-ref-filename="debug">debug</a>)</td></tr>
<tr><th id="2053">2053</th><td>			<b>return</b>;</td></tr>
<tr><th id="2054">2054</th><td>		<b>while</b> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> != <a class="local col7 ref" href="#167mlink" title='mlink' data-ref="167mlink" data-ref-filename="167mlink">mlink</a>) {</td></tr>
<tr><th id="2055">2055</th><td>			<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fputs" title='fputs' data-ref="fputs" data-ref-filename="fputs">fputs</a>(<a class="local col7 ref" href="#167mlink" title='mlink' data-ref="167mlink" data-ref-filename="167mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::name" title='mlink::name' data-use='r' data-ref="mlink::name" data-ref-filename="mlink..name">name</a>, <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#216" title="(&amp;__sF[1])" data-ref="_M/stdout">stdout</a>);</td></tr>
<tr><th id="2056">2056</th><td>			<b>if</b> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> == <a class="local col7 ref" href="#167mlink" title='mlink' data-ref="167mlink" data-ref-filename="167mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::next" title='mlink::next' data-use='r' data-ref="mlink::next" data-ref-filename="mlink..next">next</a> ||</td></tr>
<tr><th id="2057">2057</th><td>			    <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a>(<a class="local col7 ref" href="#167mlink" title='mlink' data-ref="167mlink" data-ref-filename="167mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::dsec" title='mlink::dsec' data-use='r' data-ref="mlink::dsec" data-ref-filename="mlink..dsec">dsec</a>, <a class="local col7 ref" href="#167mlink" title='mlink' data-ref="167mlink" data-ref-filename="167mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::next" title='mlink::next' data-use='r' data-ref="mlink::next" data-ref-filename="mlink..next">next</a>-&gt;<a class="tu ref field" href="#mlink::dsec" title='mlink::dsec' data-use='r' data-ref="mlink::dsec" data-ref-filename="mlink..dsec">dsec</a>) ||</td></tr>
<tr><th id="2058">2058</th><td>			    <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a>(<a class="local col7 ref" href="#167mlink" title='mlink' data-ref="167mlink" data-ref-filename="167mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::fsec" title='mlink::fsec' data-use='r' data-ref="mlink::fsec" data-ref-filename="mlink..fsec">fsec</a>, <a class="local col7 ref" href="#167mlink" title='mlink' data-ref="167mlink" data-ref-filename="167mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::next" title='mlink::next' data-use='r' data-ref="mlink::next" data-ref-filename="mlink..next">next</a>-&gt;<a class="tu ref field" href="#mlink::fsec" title='mlink::fsec' data-use='r' data-ref="mlink::fsec" data-ref-filename="mlink..fsec">fsec</a>) ||</td></tr>
<tr><th id="2059">2059</th><td>			    <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a>(<a class="local col7 ref" href="#167mlink" title='mlink' data-ref="167mlink" data-ref-filename="167mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::arch" title='mlink::arch' data-use='r' data-ref="mlink::arch" data-ref-filename="mlink..arch">arch</a>, <a class="local col7 ref" href="#167mlink" title='mlink' data-ref="167mlink" data-ref-filename="167mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::next" title='mlink::next' data-use='r' data-ref="mlink::next" data-ref-filename="mlink..next">next</a>-&gt;<a class="tu ref field" href="#mlink::arch" title='mlink::arch' data-use='r' data-ref="mlink::arch" data-ref-filename="mlink..arch">arch</a>)) {</td></tr>
<tr><th id="2060">2060</th><td>				<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#501" title="__sputc(&apos;(&apos;, (&amp;__sF[1]))" data-ref="_M/putchar">putchar</a>(<kbd>'('</kbd>);</td></tr>
<tr><th id="2061">2061</th><td>				<b>if</b> (<kbd>'\0'</kbd> == *<a class="local col7 ref" href="#167mlink" title='mlink' data-ref="167mlink" data-ref-filename="167mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::dsec" title='mlink::dsec' data-use='r' data-ref="mlink::dsec" data-ref-filename="mlink..dsec">dsec</a>)</td></tr>
<tr><th id="2062">2062</th><td>					<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fputs" title='fputs' data-ref="fputs" data-ref-filename="fputs">fputs</a>(<a class="local col7 ref" href="#167mlink" title='mlink' data-ref="167mlink" data-ref-filename="167mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::fsec" title='mlink::fsec' data-use='r' data-ref="mlink::fsec" data-ref-filename="mlink..fsec">fsec</a>, <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#216" title="(&amp;__sF[1])" data-ref="_M/stdout">stdout</a>);</td></tr>
<tr><th id="2063">2063</th><td>				<b>else</b></td></tr>
<tr><th id="2064">2064</th><td>					<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fputs" title='fputs' data-ref="fputs" data-ref-filename="fputs">fputs</a>(<a class="local col7 ref" href="#167mlink" title='mlink' data-ref="167mlink" data-ref-filename="167mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::dsec" title='mlink::dsec' data-use='r' data-ref="mlink::dsec" data-ref-filename="mlink..dsec">dsec</a>, <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#216" title="(&amp;__sF[1])" data-ref="_M/stdout">stdout</a>);</td></tr>
<tr><th id="2065">2065</th><td>				<b>if</b> (<kbd>'\0'</kbd> != *<a class="local col7 ref" href="#167mlink" title='mlink' data-ref="167mlink" data-ref-filename="167mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::arch" title='mlink::arch' data-use='r' data-ref="mlink::arch" data-ref-filename="mlink..arch">arch</a>)</td></tr>
<tr><th id="2066">2066</th><td>					<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#printf" title='printf' data-ref="printf" data-ref-filename="printf">printf</a>(<q>"/%s"</q>, <a class="local col7 ref" href="#167mlink" title='mlink' data-ref="167mlink" data-ref-filename="167mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::arch" title='mlink::arch' data-use='r' data-ref="mlink::arch" data-ref-filename="mlink..arch">arch</a>);</td></tr>
<tr><th id="2067">2067</th><td>				<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#501" title="__sputc(&apos;)&apos;, (&amp;__sF[1]))" data-ref="_M/putchar">putchar</a>(<kbd>')'</kbd>);</td></tr>
<tr><th id="2068">2068</th><td>			}</td></tr>
<tr><th id="2069">2069</th><td>			<a class="local col7 ref" href="#167mlink" title='mlink' data-ref="167mlink" data-ref-filename="167mlink">mlink</a> = <a class="local col7 ref" href="#167mlink" title='mlink' data-ref="167mlink" data-ref-filename="167mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::next" title='mlink::next' data-use='r' data-ref="mlink::next" data-ref-filename="mlink..next">next</a>;</td></tr>
<tr><th id="2070">2070</th><td>			<b>if</b> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> != <a class="local col7 ref" href="#167mlink" title='mlink' data-ref="167mlink" data-ref-filename="167mlink">mlink</a>)</td></tr>
<tr><th id="2071">2071</th><td>				<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fputs" title='fputs' data-ref="fputs" data-ref-filename="fputs">fputs</a>(<q>", "</q>, <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#216" title="(&amp;__sF[1])" data-ref="_M/stdout">stdout</a>);</td></tr>
<tr><th id="2072">2072</th><td>		}</td></tr>
<tr><th id="2073">2073</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#printf" title='printf' data-ref="printf" data-ref-filename="printf">printf</a>(<q>" - %s\n"</q>, <a class="local col6 ref" href="#166mpage" title='mpage' data-ref="166mpage" data-ref-filename="166mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::desc" title='mpage::desc' data-use='r' data-ref="mpage::desc" data-ref-filename="mpage..desc">desc</a>);</td></tr>
<tr><th id="2074">2074</th><td>		<b>return</b>;</td></tr>
<tr><th id="2075">2075</th><td>	}</td></tr>
<tr><th id="2076">2076</th><td></td></tr>
<tr><th id="2077">2077</th><td>	<b>if</b> (<a class="tu ref" href="#debug" title='debug' data-use='r' data-ref="debug" data-ref-filename="debug">debug</a>)</td></tr>
<tr><th id="2078">2078</th><td>		<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col7 ref" href="#167mlink" title='mlink' data-ref="167mlink" data-ref-filename="167mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>, <q>"Adding to database"</q>);</td></tr>
<tr><th id="2079">2079</th><td></td></tr>
<tr><th id="2080">2080</th><td>	<a class="local col9 ref" href="#169cp" title='cp' data-ref="169cp" data-ref-filename="169cp">cp</a> = <a class="local col6 ref" href="#166mpage" title='mpage' data-ref="166mpage" data-ref-filename="166mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::desc" title='mpage::desc' data-use='r' data-ref="mpage::desc" data-ref-filename="mpage..desc">desc</a>;</td></tr>
<tr><th id="2081">2081</th><td>	<a class="local col1 ref" href="#171i" title='i' data-ref="171i" data-ref-filename="171i">i</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a>(<a class="local col9 ref" href="#169cp" title='cp' data-ref="169cp" data-ref-filename="169cp">cp</a>);</td></tr>
<tr><th id="2082">2082</th><td>	<a class="local col3 ref" href="#173mustfree" title='mustfree' data-ref="173mustfree" data-ref-filename="173mustfree">mustfree</a> = <a class="tu ref fn" href="#render_string" title='render_string' data-use='c' data-ref="render_string" data-ref-filename="render_string">render_string</a>(&amp;<a class="local col9 ref" href="#169cp" title='cp' data-ref="169cp" data-ref-filename="169cp">cp</a>, &amp;<a class="local col1 ref" href="#171i" title='i' data-ref="171i" data-ref-filename="171i">i</a>);</td></tr>
<tr><th id="2083">2083</th><td>	<a class="local col6 ref" href="#166mpage" title='mpage' data-ref="166mpage" data-ref-filename="166mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::dba" title='mpage::dba' data-use='w' data-ref="mpage::dba" data-ref-filename="mpage..dba">dba</a> = <a class="ref fn" href="dba.h.html#dba_page_new" title='dba_page_new' data-ref="dba_page_new" data-ref-filename="dba_page_new">dba_page_new</a>(<a class="local col5 ref" href="#165dba" title='dba' data-ref="165dba" data-ref-filename="165dba">dba</a>-&gt;<a class="ref field" href="dba.h.html#dba::pages" title='dba::pages' data-ref="dba::pages" data-ref-filename="dba..pages">pages</a>,</td></tr>
<tr><th id="2084">2084</th><td>	    *<a class="local col6 ref" href="#166mpage" title='mpage' data-ref="166mpage" data-ref-filename="166mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::arch" title='mpage::arch' data-use='r' data-ref="mpage::arch" data-ref-filename="mpage..arch">arch</a> == <kbd>'\0'</kbd> ? <a class="local col7 ref" href="#167mlink" title='mlink' data-ref="167mlink" data-ref-filename="167mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::arch" title='mlink::arch' data-use='r' data-ref="mlink::arch" data-ref-filename="mlink..arch">arch</a> : <a class="local col6 ref" href="#166mpage" title='mpage' data-ref="166mpage" data-ref-filename="166mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::arch" title='mpage::arch' data-use='r' data-ref="mpage::arch" data-ref-filename="mpage..arch">arch</a>,</td></tr>
<tr><th id="2085">2085</th><td>	    <a class="local col9 ref" href="#169cp" title='cp' data-ref="169cp" data-ref-filename="169cp">cp</a>, <a class="local col7 ref" href="#167mlink" title='mlink' data-ref="167mlink" data-ref-filename="167mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::file" title='mlink::file' data-use='r' data-ref="mlink::file" data-ref-filename="mlink..file">file</a>, <a class="local col6 ref" href="#166mpage" title='mpage' data-ref="166mpage" data-ref-filename="166mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::form" title='mpage::form' data-use='r' data-ref="mpage::form" data-ref-filename="mpage..form">form</a>);</td></tr>
<tr><th id="2086">2086</th><td>	<b>if</b> (<a class="local col3 ref" href="#173mustfree" title='mustfree' data-ref="173mustfree" data-ref-filename="173mustfree">mustfree</a>)</td></tr>
<tr><th id="2087">2087</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col9 ref" href="#169cp" title='cp' data-ref="169cp" data-ref-filename="169cp">cp</a>);</td></tr>
<tr><th id="2088">2088</th><td>	<a class="ref fn" href="dba.h.html#dba_page_add" title='dba_page_add' data-ref="dba_page_add" data-ref-filename="dba_page_add">dba_page_add</a>(<a class="local col6 ref" href="#166mpage" title='mpage' data-ref="166mpage" data-ref-filename="166mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::dba" title='mpage::dba' data-use='r' data-ref="mpage::dba" data-ref-filename="mpage..dba">dba</a>, <a class="macro" href="dba.h.html#23" title="1" data-ref="_M/DBP_SECT">DBP_SECT</a>, <a class="local col6 ref" href="#166mpage" title='mpage' data-ref="166mpage" data-ref-filename="166mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::sec" title='mpage::sec' data-use='r' data-ref="mpage::sec" data-ref-filename="mpage..sec">sec</a>);</td></tr>
<tr><th id="2089">2089</th><td></td></tr>
<tr><th id="2090">2090</th><td>	<b>while</b> (<a class="local col7 ref" href="#167mlink" title='mlink' data-ref="167mlink" data-ref-filename="167mlink">mlink</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="2091">2091</th><td>		<a class="tu ref fn" href="#dbadd_mlink" title='dbadd_mlink' data-use='c' data-ref="dbadd_mlink" data-ref-filename="dbadd_mlink">dbadd_mlink</a>(<a class="local col7 ref" href="#167mlink" title='mlink' data-ref="167mlink" data-ref-filename="167mlink">mlink</a>);</td></tr>
<tr><th id="2092">2092</th><td>		<a class="local col7 ref" href="#167mlink" title='mlink' data-ref="167mlink" data-ref-filename="167mlink">mlink</a> = <a class="local col7 ref" href="#167mlink" title='mlink' data-ref="167mlink" data-ref-filename="167mlink">mlink</a>-&gt;<a class="tu ref field" href="#mlink::next" title='mlink::next' data-use='r' data-ref="mlink::next" data-ref-filename="mlink..next">next</a>;</td></tr>
<tr><th id="2093">2093</th><td>	}</td></tr>
<tr><th id="2094">2094</th><td></td></tr>
<tr><th id="2095">2095</th><td>	<b>for</b> (<a class="local col8 ref" href="#168key" title='key' data-ref="168key" data-ref-filename="168key">key</a> = <a class="ref fn" href="compat_ohash.h.html#ohash_first" title='ohash_first' data-ref="ohash_first" data-ref-filename="ohash_first">ohash_first</a>(&amp;<a class="tu ref" href="#names" title='names' data-use='a' data-ref="names" data-ref-filename="names">names</a>, &amp;<a class="local col2 ref" href="#172slot" title='slot' data-ref="172slot" data-ref-filename="172slot">slot</a>); <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> != <a class="local col8 ref" href="#168key" title='key' data-ref="168key" data-ref-filename="168key">key</a>;</td></tr>
<tr><th id="2096">2096</th><td>	     <a class="local col8 ref" href="#168key" title='key' data-ref="168key" data-ref-filename="168key">key</a> = <a class="ref fn" href="compat_ohash.h.html#ohash_next" title='ohash_next' data-ref="ohash_next" data-ref-filename="ohash_next">ohash_next</a>(&amp;<a class="tu ref" href="#names" title='names' data-use='a' data-ref="names" data-ref-filename="names">names</a>, &amp;<a class="local col2 ref" href="#172slot" title='slot' data-ref="172slot" data-ref-filename="172slot">slot</a>)) {</td></tr>
<tr><th id="2097">2097</th><td>		<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/assert.h.html#58" title="((key-&gt;mpage == mpage) ? (void)0 : __assert13(&quot;/___NETBSD_SRC___/objdir.amd64/external/bsd/mdocml/bin/mandoc/../../../../../../external/bsd/mdocml/dist/mandocdb.c&quot;, 2097, __func__, &quot;key-&gt;mpage == mpage&quot;))" data-ref="_M/assert">assert</a>(<a class="local col8 ref" href="#168key" title='key' data-ref="168key" data-ref-filename="168key">key</a>-&gt;<a class="tu ref field" href="#str::mpage" title='str::mpage' data-use='r' data-ref="str::mpage" data-ref-filename="str..mpage">mpage</a> == <a class="local col6 ref" href="#166mpage" title='mpage' data-ref="166mpage" data-ref-filename="166mpage">mpage</a>);</td></tr>
<tr><th id="2098">2098</th><td>		<a class="ref fn" href="dba.h.html#dba_page_alias" title='dba_page_alias' data-ref="dba_page_alias" data-ref-filename="dba_page_alias">dba_page_alias</a>(<a class="local col6 ref" href="#166mpage" title='mpage' data-ref="166mpage" data-ref-filename="166mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::dba" title='mpage::dba' data-use='r' data-ref="mpage::dba" data-ref-filename="mpage..dba">dba</a>, <a class="local col8 ref" href="#168key" title='key' data-ref="168key" data-ref-filename="168key">key</a>-&gt;<a class="tu ref field" href="#str::key" title='str::key' data-use='r' data-ref="str::key" data-ref-filename="str..key">key</a>, <a class="local col8 ref" href="#168key" title='key' data-ref="168key" data-ref-filename="168key">key</a>-&gt;<a class="tu ref field" href="#str::mask" title='str::mask' data-use='r' data-ref="str::mask" data-ref-filename="str..mask">mask</a>);</td></tr>
<tr><th id="2099">2099</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col8 ref" href="#168key" title='key' data-ref="168key" data-ref-filename="168key">key</a>);</td></tr>
<tr><th id="2100">2100</th><td>	}</td></tr>
<tr><th id="2101">2101</th><td>	<b>for</b> (<a class="local col8 ref" href="#168key" title='key' data-ref="168key" data-ref-filename="168key">key</a> = <a class="ref fn" href="compat_ohash.h.html#ohash_first" title='ohash_first' data-ref="ohash_first" data-ref-filename="ohash_first">ohash_first</a>(&amp;<a class="tu ref" href="#strings" title='strings' data-use='a' data-ref="strings" data-ref-filename="strings">strings</a>, &amp;<a class="local col2 ref" href="#172slot" title='slot' data-ref="172slot" data-ref-filename="172slot">slot</a>); <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> != <a class="local col8 ref" href="#168key" title='key' data-ref="168key" data-ref-filename="168key">key</a>;</td></tr>
<tr><th id="2102">2102</th><td>	     <a class="local col8 ref" href="#168key" title='key' data-ref="168key" data-ref-filename="168key">key</a> = <a class="ref fn" href="compat_ohash.h.html#ohash_next" title='ohash_next' data-ref="ohash_next" data-ref-filename="ohash_next">ohash_next</a>(&amp;<a class="tu ref" href="#strings" title='strings' data-use='a' data-ref="strings" data-ref-filename="strings">strings</a>, &amp;<a class="local col2 ref" href="#172slot" title='slot' data-ref="172slot" data-ref-filename="172slot">slot</a>)) {</td></tr>
<tr><th id="2103">2103</th><td>		<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/assert.h.html#58" title="((key-&gt;mpage == mpage) ? (void)0 : __assert13(&quot;/___NETBSD_SRC___/objdir.amd64/external/bsd/mdocml/bin/mandoc/../../../../../../external/bsd/mdocml/dist/mandocdb.c&quot;, 2103, __func__, &quot;key-&gt;mpage == mpage&quot;))" data-ref="_M/assert">assert</a>(<a class="local col8 ref" href="#168key" title='key' data-ref="168key" data-ref-filename="168key">key</a>-&gt;<a class="tu ref field" href="#str::mpage" title='str::mpage' data-use='r' data-ref="str::mpage" data-ref-filename="str..mpage">mpage</a> == <a class="local col6 ref" href="#166mpage" title='mpage' data-ref="166mpage" data-ref-filename="166mpage">mpage</a>);</td></tr>
<tr><th id="2104">2104</th><td>		<a class="local col1 ref" href="#171i" title='i' data-ref="171i" data-ref-filename="171i">i</a> = <var>0</var>;</td></tr>
<tr><th id="2105">2105</th><td>		<b>for</b> (<a class="local col0 ref" href="#170mask" title='mask' data-ref="170mask" data-ref-filename="170mask">mask</a> = <a class="macro" href="mansearch.h.html#32" title="0x0000000000000004ULL" data-ref="_M/TYPE_Xr">TYPE_Xr</a>; <a class="local col0 ref" href="#170mask" title='mask' data-ref="170mask" data-ref-filename="170mask">mask</a> &lt;= <a class="macro" href="mansearch.h.html#67" title="0x0000002000000000ULL" data-ref="_M/TYPE_Lb">TYPE_Lb</a>; <a class="local col0 ref" href="#170mask" title='mask' data-ref="170mask" data-ref-filename="170mask">mask</a> *= <var>2</var>) {</td></tr>
<tr><th id="2106">2106</th><td>			<b>if</b> (<a class="local col8 ref" href="#168key" title='key' data-ref="168key" data-ref-filename="168key">key</a>-&gt;<a class="tu ref field" href="#str::mask" title='str::mask' data-use='r' data-ref="str::mask" data-ref-filename="str..mask">mask</a> &amp; <a class="local col0 ref" href="#170mask" title='mask' data-ref="170mask" data-ref-filename="170mask">mask</a>)</td></tr>
<tr><th id="2107">2107</th><td>				<a class="ref fn" href="dba.h.html#dba_macro_add" title='dba_macro_add' data-ref="dba_macro_add" data-ref-filename="dba_macro_add">dba_macro_add</a>(<a class="local col5 ref" href="#165dba" title='dba' data-ref="165dba" data-ref-filename="165dba">dba</a>-&gt;<a class="ref field" href="dba.h.html#dba::macros" title='dba::macros' data-ref="dba::macros" data-ref-filename="dba..macros">macros</a>, <a class="local col1 ref" href="#171i" title='i' data-ref="171i" data-ref-filename="171i">i</a>,</td></tr>
<tr><th id="2108">2108</th><td>				    <a class="local col8 ref" href="#168key" title='key' data-ref="168key" data-ref-filename="168key">key</a>-&gt;<a class="tu ref field" href="#str::key" title='str::key' data-use='r' data-ref="str::key" data-ref-filename="str..key">key</a>, <a class="local col6 ref" href="#166mpage" title='mpage' data-ref="166mpage" data-ref-filename="166mpage">mpage</a>-&gt;<a class="tu ref field" href="#mpage::dba" title='mpage::dba' data-use='r' data-ref="mpage::dba" data-ref-filename="mpage..dba">dba</a>);</td></tr>
<tr><th id="2109">2109</th><td>			<a class="local col1 ref" href="#171i" title='i' data-ref="171i" data-ref-filename="171i">i</a>++;</td></tr>
<tr><th id="2110">2110</th><td>		}</td></tr>
<tr><th id="2111">2111</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a>(<a class="local col8 ref" href="#168key" title='key' data-ref="168key" data-ref-filename="168key">key</a>);</td></tr>
<tr><th id="2112">2112</th><td>	}</td></tr>
<tr><th id="2113">2113</th><td>}</td></tr>
<tr><th id="2114">2114</th><td></td></tr>
<tr><th id="2115">2115</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="2116">2116</th><td><dfn class="tu decl def fn" id="dbprune" title='dbprune' data-type='void dbprune(struct dba * dba)' data-ref="dbprune" data-ref-filename="dbprune">dbprune</dfn>(<b>struct</b> <a class="type" href="dba.h.html#dba" title='dba' data-ref="dba" data-ref-filename="dba">dba</a> *<dfn class="local col4 decl" id="174dba" title='dba' data-type='struct dba *' data-ref="174dba" data-ref-filename="174dba">dba</dfn>)</td></tr>
<tr><th id="2117">2117</th><td>{</td></tr>
<tr><th id="2118">2118</th><td>	<b>struct</b> <a class="type" href="dba_array.h.html#dba_array" title='dba_array' data-ref="dba_array" data-ref-filename="dba_array">dba_array</a>	*<dfn class="local col5 decl" id="175page" title='page' data-type='struct dba_array *' data-ref="175page" data-ref-filename="175page">page</dfn>, *<dfn class="local col6 decl" id="176files" title='files' data-type='struct dba_array *' data-ref="176files" data-ref-filename="176files">files</dfn>;</td></tr>
<tr><th id="2119">2119</th><td>	<em>char</em>			*<dfn class="local col7 decl" id="177file" title='file' data-type='char *' data-ref="177file" data-ref-filename="177file">file</dfn>;</td></tr>
<tr><th id="2120">2120</th><td></td></tr>
<tr><th id="2121">2121</th><td>	<a class="macro" href="dba_array.h.html#27" title="dba_array_start(dba-&gt;pages); while (((page) = dba_array_next(dba-&gt;pages)) != ((void*)0))" data-ref="_M/dba_array_FOREACH">dba_array_FOREACH</a>(<a class="local col4 ref" href="#174dba" title='dba' data-ref="174dba" data-ref-filename="174dba">dba</a>-&gt;<a class="ref field" href="dba.h.html#dba::pages" title='dba::pages' data-ref="dba::pages" data-ref-filename="dba..pages">pages</a>, <a class="local col5 ref" href="#175page" title='page' data-ref="175page" data-ref-filename="175page">page</a>) {</td></tr>
<tr><th id="2122">2122</th><td>		<a class="local col6 ref" href="#176files" title='files' data-ref="176files" data-ref-filename="176files">files</a> = <a class="ref fn" href="dba_array.h.html#dba_array_get" title='dba_array_get' data-ref="dba_array_get" data-ref-filename="dba_array_get">dba_array_get</a>(<a class="local col5 ref" href="#175page" title='page' data-ref="175page" data-ref-filename="175page">page</a>, <a class="macro" href="dba.h.html#26" title="4" data-ref="_M/DBP_FILE">DBP_FILE</a>);</td></tr>
<tr><th id="2123">2123</th><td>		<a class="macro" href="dba_array.h.html#27" title="dba_array_start(files); while (((file) = dba_array_next(files)) != ((void*)0))" data-ref="_M/dba_array_FOREACH">dba_array_FOREACH</a>(<a class="local col6 ref" href="#176files" title='files' data-ref="176files" data-ref-filename="176files">files</a>, <a class="local col7 ref" href="#177file" title='file' data-ref="177file" data-ref-filename="177file">file</a>) {</td></tr>
<tr><th id="2124">2124</th><td>			<b>if</b> (*<a class="local col7 ref" href="#177file" title='file' data-ref="177file" data-ref-filename="177file">file</a> &lt; <kbd>' '</kbd>)</td></tr>
<tr><th id="2125">2125</th><td>				<a class="local col7 ref" href="#177file" title='file' data-ref="177file" data-ref-filename="177file">file</a>++;</td></tr>
<tr><th id="2126">2126</th><td>			<b>if</b> (<a class="ref fn" href="compat_ohash.h.html#ohash_find" title='ohash_find' data-ref="ohash_find" data-ref-filename="ohash_find">ohash_find</a>(&amp;<a class="tu ref" href="#mlinks" title='mlinks' data-use='a' data-ref="mlinks" data-ref-filename="mlinks">mlinks</a>, <a class="ref fn" href="compat_ohash.h.html#ohash_qlookup" title='ohash_qlookup' data-ref="ohash_qlookup" data-ref-filename="ohash_qlookup">ohash_qlookup</a>(&amp;<a class="tu ref" href="#mlinks" title='mlinks' data-use='a' data-ref="mlinks" data-ref-filename="mlinks">mlinks</a>,</td></tr>
<tr><th id="2127">2127</th><td>			    <a class="local col7 ref" href="#177file" title='file' data-ref="177file" data-ref-filename="177file">file</a>)) != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="2128">2128</th><td>				<b>if</b> (<a class="tu ref" href="#debug" title='debug' data-use='r' data-ref="debug" data-ref-filename="debug">debug</a>)</td></tr>
<tr><th id="2129">2129</th><td>					<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col7 ref" href="#177file" title='file' data-ref="177file" data-ref-filename="177file">file</a>, <q>"Deleting from database"</q>);</td></tr>
<tr><th id="2130">2130</th><td>				<a class="ref fn" href="dba_array.h.html#dba_array_del" title='dba_array_del' data-ref="dba_array_del" data-ref-filename="dba_array_del">dba_array_del</a>(<a class="local col4 ref" href="#174dba" title='dba' data-ref="174dba" data-ref-filename="174dba">dba</a>-&gt;<a class="ref field" href="dba.h.html#dba::pages" title='dba::pages' data-ref="dba::pages" data-ref-filename="dba..pages">pages</a>);</td></tr>
<tr><th id="2131">2131</th><td>				<b>break</b>;</td></tr>
<tr><th id="2132">2132</th><td>			}</td></tr>
<tr><th id="2133">2133</th><td>		}</td></tr>
<tr><th id="2134">2134</th><td>	}</td></tr>
<tr><th id="2135">2135</th><td>}</td></tr>
<tr><th id="2136">2136</th><td></td></tr>
<tr><th id="2137">2137</th><td><i  data-doc="dbwrite">/*</i></td></tr>
<tr><th id="2138">2138</th><td><i  data-doc="dbwrite"> * Write the database from memory to disk.</i></td></tr>
<tr><th id="2139">2139</th><td><i  data-doc="dbwrite"> */</i></td></tr>
<tr><th id="2140">2140</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="2141">2141</th><td><dfn class="tu decl def fn" id="dbwrite" title='dbwrite' data-type='void dbwrite(struct dba * dba)' data-ref="dbwrite" data-ref-filename="dbwrite">dbwrite</dfn>(<b>struct</b> <a class="type" href="dba.h.html#dba" title='dba' data-ref="dba" data-ref-filename="dba">dba</a> *<dfn class="local col8 decl" id="178dba" title='dba' data-type='struct dba *' data-ref="178dba" data-ref-filename="178dba">dba</dfn>)</td></tr>
<tr><th id="2142">2142</th><td>{</td></tr>
<tr><th id="2143">2143</th><td>	<b>struct</b> <a class="type" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/stat.h.html#stat" title='stat' data-ref="stat" data-ref-filename="stat">stat</a>	 <dfn class="local col9 decl" id="179sb1" title='sb1' data-type='struct stat' data-ref="179sb1" data-ref-filename="179sb1">sb1</dfn>, <dfn class="local col0 decl" id="180sb2" title='sb2' data-type='struct stat' data-ref="180sb2" data-ref-filename="180sb2">sb2</dfn>;</td></tr>
<tr><th id="2144">2144</th><td>	<em>char</em>		 <dfn class="local col1 decl" id="181tfn" title='tfn' data-type='char [33]' data-ref="181tfn" data-ref-filename="181tfn">tfn</dfn>[<var>33</var>], *<dfn class="local col2 decl" id="182cp1" title='cp1' data-type='char *' data-ref="182cp1" data-ref-filename="182cp1">cp1</dfn>, *<dfn class="local col3 decl" id="183cp2" title='cp2' data-type='char *' data-ref="183cp2" data-ref-filename="183cp2">cp2</dfn>;</td></tr>
<tr><th id="2145">2145</th><td>	<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#178" title="__off_t" data-ref="_M/off_t">off_t</a>		 <dfn class="local col4 decl" id="184i" title='i' data-type='__off_t' data-ref="184i" data-ref-filename="184i">i</dfn>;</td></tr>
<tr><th id="2146">2146</th><td>	<em>int</em>		 <dfn class="local col5 decl" id="185fd1" title='fd1' data-type='int' data-ref="185fd1" data-ref-filename="185fd1">fd1</dfn>, <dfn class="local col6 decl" id="186fd2" title='fd2' data-type='int' data-ref="186fd2" data-ref-filename="186fd2">fd2</dfn>;</td></tr>
<tr><th id="2147">2147</th><td></td></tr>
<tr><th id="2148">2148</th><td>	<i>/*</i></td></tr>
<tr><th id="2149">2149</th><td><i>	 * Do not write empty databases, and delete existing ones</i></td></tr>
<tr><th id="2150">2150</th><td><i>	 * when makewhatis -u causes them to become empty.</i></td></tr>
<tr><th id="2151">2151</th><td><i>	 */</i></td></tr>
<tr><th id="2152">2152</th><td></td></tr>
<tr><th id="2153">2153</th><td>	<a class="ref fn" href="dba_array.h.html#dba_array_start" title='dba_array_start' data-ref="dba_array_start" data-ref-filename="dba_array_start">dba_array_start</a>(<a class="local col8 ref" href="#178dba" title='dba' data-ref="178dba" data-ref-filename="178dba">dba</a>-&gt;<a class="ref field" href="dba.h.html#dba::pages" title='dba::pages' data-ref="dba::pages" data-ref-filename="dba..pages">pages</a>);</td></tr>
<tr><th id="2154">2154</th><td>	<b>if</b> (<a class="ref fn" href="dba_array.h.html#dba_array_next" title='dba_array_next' data-ref="dba_array_next" data-ref-filename="dba_array_next">dba_array_next</a>(<a class="local col8 ref" href="#178dba" title='dba' data-ref="178dba" data-ref-filename="178dba">dba</a>-&gt;<a class="ref field" href="dba.h.html#dba::pages" title='dba::pages' data-ref="dba::pages" data-ref-filename="dba..pages">pages</a>) == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="2155">2155</th><td>		<b>if</b> (<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#unlink" title='unlink' data-ref="unlink" data-ref-filename="unlink">unlink</a>(<a class="macro" href="mansearch.h.html#19" title="&quot;mandoc.db&quot;" data-ref="_M/MANDOC_DB">MANDOC_DB</a>) == -<var>1</var> &amp;&amp; <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/errno.h.html#55" title="(*__errno())" data-ref="_M/errno">errno</a> != <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/errno.h.html#43" title="2" data-ref="_M/ENOENT">ENOENT</a>)</td></tr>
<tr><th id="2156">2156</th><td>			<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="macro" href="mansearch.h.html#19" title="&quot;mandoc.db&quot;" data-ref="_M/MANDOC_DB">MANDOC_DB</a>, <q>"&amp;unlink"</q>);</td></tr>
<tr><th id="2157">2157</th><td>		<b>return</b>;</td></tr>
<tr><th id="2158">2158</th><td>	}</td></tr>
<tr><th id="2159">2159</th><td></td></tr>
<tr><th id="2160">2160</th><td>	<i>/*</i></td></tr>
<tr><th id="2161">2161</th><td><i>	 * Build the database in a temporary file,</i></td></tr>
<tr><th id="2162">2162</th><td><i>	 * then atomically move it into place.</i></td></tr>
<tr><th id="2163">2163</th><td><i>	 */</i></td></tr>
<tr><th id="2164">2164</th><td></td></tr>
<tr><th id="2165">2165</th><td>	<b>if</b> (<a class="ref fn" href="dba.h.html#dba_write" title='dba_write' data-ref="dba_write" data-ref-filename="dba_write">dba_write</a>(<a class="macro" href="mansearch.h.html#19" title="&quot;mandoc.db&quot;" data-ref="_M/MANDOC_DB">MANDOC_DB</a> <q>"~"</q>, <a class="local col8 ref" href="#178dba" title='dba' data-ref="178dba" data-ref-filename="178dba">dba</a>) != -<var>1</var>) {</td></tr>
<tr><th id="2166">2166</th><td>		<b>if</b> (<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#rename" title='rename' data-ref="rename" data-ref-filename="rename">rename</a>(<a class="macro" href="mansearch.h.html#19" title="&quot;mandoc.db&quot;" data-ref="_M/MANDOC_DB">MANDOC_DB</a> <q>"~"</q>, <a class="macro" href="mansearch.h.html#19" title="&quot;mandoc.db&quot;" data-ref="_M/MANDOC_DB">MANDOC_DB</a>) == -<var>1</var>) {</td></tr>
<tr><th id="2167">2167</th><td>			<a class="tu ref" href="#exitcode" title='exitcode' data-use='w' data-ref="exitcode" data-ref-filename="exitcode">exitcode</a> = (<em>int</em>)<a class="enum" href="mandoc.h.html#MANDOCLEVEL_SYSERR" title='MANDOCLEVEL_SYSERR' data-ref="MANDOCLEVEL_SYSERR" data-ref-filename="MANDOCLEVEL_SYSERR">MANDOCLEVEL_SYSERR</a>;</td></tr>
<tr><th id="2168">2168</th><td>			<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="macro" href="mansearch.h.html#19" title="&quot;mandoc.db&quot;" data-ref="_M/MANDOC_DB">MANDOC_DB</a>, <q>"&amp;rename"</q>);</td></tr>
<tr><th id="2169">2169</th><td>			<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#unlink" title='unlink' data-ref="unlink" data-ref-filename="unlink">unlink</a>(<a class="macro" href="mansearch.h.html#19" title="&quot;mandoc.db&quot;" data-ref="_M/MANDOC_DB">MANDOC_DB</a> <q>"~"</q>);</td></tr>
<tr><th id="2170">2170</th><td>		}</td></tr>
<tr><th id="2171">2171</th><td>		<b>return</b>;</td></tr>
<tr><th id="2172">2172</th><td>	}</td></tr>
<tr><th id="2173">2173</th><td></td></tr>
<tr><th id="2174">2174</th><td>	<i>/*</i></td></tr>
<tr><th id="2175">2175</th><td><i>	 * We lack write permission and cannot replace the database</i></td></tr>
<tr><th id="2176">2176</th><td><i>	 * file, but let's at least check whether the data changed.</i></td></tr>
<tr><th id="2177">2177</th><td><i>	 */</i></td></tr>
<tr><th id="2178">2178</th><td></td></tr>
<tr><th id="2179">2179</th><td>	(<em>void</em>)<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlcpy" title='strlcpy' data-ref="strlcpy" data-ref-filename="strlcpy">strlcpy</a>(<a class="local col1 ref" href="#181tfn" title='tfn' data-ref="181tfn" data-ref-filename="181tfn">tfn</a>, <q>"/tmp/mandocdb.XXXXXXXX"</q>, <b>sizeof</b>(<a class="local col1 ref" href="#181tfn" title='tfn' data-ref="181tfn" data-ref-filename="181tfn">tfn</a>));</td></tr>
<tr><th id="2180">2180</th><td>	<b>if</b> (<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#mkdtemp" title='mkdtemp' data-ref="mkdtemp" data-ref-filename="mkdtemp">mkdtemp</a>(<a class="local col1 ref" href="#181tfn" title='tfn' data-ref="181tfn" data-ref-filename="181tfn">tfn</a>) == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="2181">2181</th><td>		<a class="tu ref" href="#exitcode" title='exitcode' data-use='w' data-ref="exitcode" data-ref-filename="exitcode">exitcode</a> = (<em>int</em>)<a class="enum" href="mandoc.h.html#MANDOCLEVEL_SYSERR" title='MANDOCLEVEL_SYSERR' data-ref="MANDOCLEVEL_SYSERR" data-ref-filename="MANDOCLEVEL_SYSERR">MANDOCLEVEL_SYSERR</a>;</td></tr>
<tr><th id="2182">2182</th><td>		<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<q>""</q>, <q>"&amp;%s"</q>, <a class="local col1 ref" href="#181tfn" title='tfn' data-ref="181tfn" data-ref-filename="181tfn">tfn</a>);</td></tr>
<tr><th id="2183">2183</th><td>		<b>return</b>;</td></tr>
<tr><th id="2184">2184</th><td>	}</td></tr>
<tr><th id="2185">2185</th><td>	<a class="local col2 ref" href="#182cp1" title='cp1' data-ref="182cp1" data-ref-filename="182cp1">cp1</a> = <a class="local col3 ref" href="#183cp2" title='cp2' data-ref="183cp2" data-ref-filename="183cp2">cp2</a> = <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/mman.h.html#167" title="((void *) -1)" data-ref="_M/MAP_FAILED">MAP_FAILED</a>;</td></tr>
<tr><th id="2186">2186</th><td>	<a class="local col5 ref" href="#185fd1" title='fd1' data-ref="185fd1" data-ref-filename="185fd1">fd1</a> = <a class="local col6 ref" href="#186fd2" title='fd2' data-ref="186fd2" data-ref-filename="186fd2">fd2</a> = -<var>1</var>;</td></tr>
<tr><th id="2187">2187</th><td>	(<em>void</em>)<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlcat" title='strlcat' data-ref="strlcat" data-ref-filename="strlcat">strlcat</a>(<a class="local col1 ref" href="#181tfn" title='tfn' data-ref="181tfn" data-ref-filename="181tfn">tfn</a>, <q>"/"</q> <a class="macro" href="mansearch.h.html#19" title="&quot;mandoc.db&quot;" data-ref="_M/MANDOC_DB">MANDOC_DB</a>, <b>sizeof</b>(<a class="local col1 ref" href="#181tfn" title='tfn' data-ref="181tfn" data-ref-filename="181tfn">tfn</a>));</td></tr>
<tr><th id="2188">2188</th><td>	<b>if</b> (<a class="ref fn" href="dba.h.html#dba_write" title='dba_write' data-ref="dba_write" data-ref-filename="dba_write">dba_write</a>(<a class="local col1 ref" href="#181tfn" title='tfn' data-ref="181tfn" data-ref-filename="181tfn">tfn</a>, <a class="local col8 ref" href="#178dba" title='dba' data-ref="178dba" data-ref-filename="178dba">dba</a>) == -<var>1</var>) {</td></tr>
<tr><th id="2189">2189</th><td>		<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col1 ref" href="#181tfn" title='tfn' data-ref="181tfn" data-ref-filename="181tfn">tfn</a>, <q>"&amp;dba_write"</q>);</td></tr>
<tr><th id="2190">2190</th><td>		<b>goto</b> <a class="lbl" href="#187err" data-ref="187err" data-ref-filename="187err">err</a>;</td></tr>
<tr><th id="2191">2191</th><td>	}</td></tr>
<tr><th id="2192">2192</th><td>	<b>if</b> ((<a class="local col5 ref" href="#185fd1" title='fd1' data-ref="185fd1" data-ref-filename="185fd1">fd1</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/fcntl.h.html#open" title='open' data-ref="open" data-ref-filename="open">open</a>(<a class="macro" href="mansearch.h.html#19" title="&quot;mandoc.db&quot;" data-ref="_M/MANDOC_DB">MANDOC_DB</a>, <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/fcntl.h.html#64" title="0x00000000" data-ref="_M/O_RDONLY">O_RDONLY</a>, <var>0</var>)) == -<var>1</var>) {</td></tr>
<tr><th id="2193">2193</th><td>		<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="macro" href="mansearch.h.html#19" title="&quot;mandoc.db&quot;" data-ref="_M/MANDOC_DB">MANDOC_DB</a>, <q>"&amp;open"</q>);</td></tr>
<tr><th id="2194">2194</th><td>		<b>goto</b> <a class="lbl" href="#187err" data-ref="187err" data-ref-filename="187err">err</a>;</td></tr>
<tr><th id="2195">2195</th><td>	}</td></tr>
<tr><th id="2196">2196</th><td>	<b>if</b> ((<a class="local col6 ref" href="#186fd2" title='fd2' data-ref="186fd2" data-ref-filename="186fd2">fd2</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/fcntl.h.html#open" title='open' data-ref="open" data-ref-filename="open">open</a>(<a class="local col1 ref" href="#181tfn" title='tfn' data-ref="181tfn" data-ref-filename="181tfn">tfn</a>, <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/fcntl.h.html#64" title="0x00000000" data-ref="_M/O_RDONLY">O_RDONLY</a>, <var>0</var>)) == -<var>1</var>) {</td></tr>
<tr><th id="2197">2197</th><td>		<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col1 ref" href="#181tfn" title='tfn' data-ref="181tfn" data-ref-filename="181tfn">tfn</a>, <q>"&amp;open"</q>);</td></tr>
<tr><th id="2198">2198</th><td>		<b>goto</b> <a class="lbl" href="#187err" data-ref="187err" data-ref-filename="187err">err</a>;</td></tr>
<tr><th id="2199">2199</th><td>	}</td></tr>
<tr><th id="2200">2200</th><td>	<b>if</b> (<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/stat.h.html#__fstat50" title='fstat' data-ref="__fstat50" data-ref-filename="__fstat50">fstat</a>(<a class="local col5 ref" href="#185fd1" title='fd1' data-ref="185fd1" data-ref-filename="185fd1">fd1</a>, &amp;<a class="local col9 ref" href="#179sb1" title='sb1' data-ref="179sb1" data-ref-filename="179sb1">sb1</a>) == -<var>1</var>) {</td></tr>
<tr><th id="2201">2201</th><td>		<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="macro" href="mansearch.h.html#19" title="&quot;mandoc.db&quot;" data-ref="_M/MANDOC_DB">MANDOC_DB</a>, <q>"&amp;fstat"</q>);</td></tr>
<tr><th id="2202">2202</th><td>		<b>goto</b> <a class="lbl" href="#187err" data-ref="187err" data-ref-filename="187err">err</a>;</td></tr>
<tr><th id="2203">2203</th><td>	}</td></tr>
<tr><th id="2204">2204</th><td>	<b>if</b> (<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/stat.h.html#__fstat50" title='fstat' data-ref="__fstat50" data-ref-filename="__fstat50">fstat</a>(<a class="local col6 ref" href="#186fd2" title='fd2' data-ref="186fd2" data-ref-filename="186fd2">fd2</a>, &amp;<a class="local col0 ref" href="#180sb2" title='sb2' data-ref="180sb2" data-ref-filename="180sb2">sb2</a>) == -<var>1</var>) {</td></tr>
<tr><th id="2205">2205</th><td>		<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col1 ref" href="#181tfn" title='tfn' data-ref="181tfn" data-ref-filename="181tfn">tfn</a>, <q>"&amp;fstat"</q>);</td></tr>
<tr><th id="2206">2206</th><td>		<b>goto</b> <a class="lbl" href="#187err" data-ref="187err" data-ref-filename="187err">err</a>;</td></tr>
<tr><th id="2207">2207</th><td>	}</td></tr>
<tr><th id="2208">2208</th><td>	<b>if</b> (<a class="local col9 ref" href="#179sb1" title='sb1' data-ref="179sb1" data-ref-filename="179sb1">sb1</a>.<a class="ref field" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/stat.h.html#stat::st_size" title='stat::st_size' data-ref="stat::st_size" data-ref-filename="stat..st_size">st_size</a> != <a class="local col0 ref" href="#180sb2" title='sb2' data-ref="180sb2" data-ref-filename="180sb2">sb2</a>.<a class="ref field" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/stat.h.html#stat::st_size" title='stat::st_size' data-ref="stat::st_size" data-ref-filename="stat..st_size">st_size</a>)</td></tr>
<tr><th id="2209">2209</th><td>		<b>goto</b> <a class="lbl" href="#187err" data-ref="187err" data-ref-filename="187err">err</a>;</td></tr>
<tr><th id="2210">2210</th><td>	<b>if</b> ((<a class="local col2 ref" href="#182cp1" title='cp1' data-ref="182cp1" data-ref-filename="182cp1">cp1</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/mman.h.html#mmap" title='mmap' data-ref="mmap" data-ref-filename="mmap">mmap</a>(<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="local col9 ref" href="#179sb1" title='sb1' data-ref="179sb1" data-ref-filename="179sb1">sb1</a>.<a class="ref field" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/stat.h.html#stat::st_size" title='stat::st_size' data-ref="stat::st_size" data-ref-filename="stat..st_size">st_size</a>, <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/mman.h.html#63" title="0x01" data-ref="_M/PROT_READ">PROT_READ</a>, <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/mman.h.html#82" title="0x0002" data-ref="_M/MAP_PRIVATE">MAP_PRIVATE</a>,</td></tr>
<tr><th id="2211">2211</th><td>	    <a class="local col5 ref" href="#185fd1" title='fd1' data-ref="185fd1" data-ref-filename="185fd1">fd1</a>, <var>0</var>)) == <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/mman.h.html#167" title="((void *) -1)" data-ref="_M/MAP_FAILED">MAP_FAILED</a>) {</td></tr>
<tr><th id="2212">2212</th><td>		<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="macro" href="mansearch.h.html#19" title="&quot;mandoc.db&quot;" data-ref="_M/MANDOC_DB">MANDOC_DB</a>, <q>"&amp;mmap"</q>);</td></tr>
<tr><th id="2213">2213</th><td>		<b>goto</b> <a class="lbl" href="#187err" data-ref="187err" data-ref-filename="187err">err</a>;</td></tr>
<tr><th id="2214">2214</th><td>	}</td></tr>
<tr><th id="2215">2215</th><td>	<b>if</b> ((<a class="local col3 ref" href="#183cp2" title='cp2' data-ref="183cp2" data-ref-filename="183cp2">cp2</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/mman.h.html#mmap" title='mmap' data-ref="mmap" data-ref-filename="mmap">mmap</a>(<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="local col0 ref" href="#180sb2" title='sb2' data-ref="180sb2" data-ref-filename="180sb2">sb2</a>.<a class="ref field" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/stat.h.html#stat::st_size" title='stat::st_size' data-ref="stat::st_size" data-ref-filename="stat..st_size">st_size</a>, <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/mman.h.html#63" title="0x01" data-ref="_M/PROT_READ">PROT_READ</a>, <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/mman.h.html#82" title="0x0002" data-ref="_M/MAP_PRIVATE">MAP_PRIVATE</a>,</td></tr>
<tr><th id="2216">2216</th><td>	    <a class="local col6 ref" href="#186fd2" title='fd2' data-ref="186fd2" data-ref-filename="186fd2">fd2</a>, <var>0</var>)) == <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/mman.h.html#167" title="((void *) -1)" data-ref="_M/MAP_FAILED">MAP_FAILED</a>) {</td></tr>
<tr><th id="2217">2217</th><td>		<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="local col1 ref" href="#181tfn" title='tfn' data-ref="181tfn" data-ref-filename="181tfn">tfn</a>, <q>"&amp;mmap"</q>);</td></tr>
<tr><th id="2218">2218</th><td>		<b>goto</b> <a class="lbl" href="#187err" data-ref="187err" data-ref-filename="187err">err</a>;</td></tr>
<tr><th id="2219">2219</th><td>	}</td></tr>
<tr><th id="2220">2220</th><td>	<b>for</b> (<a class="local col4 ref" href="#184i" title='i' data-ref="184i" data-ref-filename="184i">i</a> = <var>0</var>; <a class="local col4 ref" href="#184i" title='i' data-ref="184i" data-ref-filename="184i">i</a> &lt; <a class="local col9 ref" href="#179sb1" title='sb1' data-ref="179sb1" data-ref-filename="179sb1">sb1</a>.<a class="ref field" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/stat.h.html#stat::st_size" title='stat::st_size' data-ref="stat::st_size" data-ref-filename="stat..st_size">st_size</a>; <a class="local col4 ref" href="#184i" title='i' data-ref="184i" data-ref-filename="184i">i</a>++)</td></tr>
<tr><th id="2221">2221</th><td>		<b>if</b> (<a class="local col2 ref" href="#182cp1" title='cp1' data-ref="182cp1" data-ref-filename="182cp1">cp1</a>[<a class="local col4 ref" href="#184i" title='i' data-ref="184i" data-ref-filename="184i">i</a>] != <a class="local col3 ref" href="#183cp2" title='cp2' data-ref="183cp2" data-ref-filename="183cp2">cp2</a>[<a class="local col4 ref" href="#184i" title='i' data-ref="184i" data-ref-filename="184i">i</a>])</td></tr>
<tr><th id="2222">2222</th><td>			<b>goto</b> <a class="lbl" href="#187err" data-ref="187err" data-ref-filename="187err">err</a>;</td></tr>
<tr><th id="2223">2223</th><td>	<b>goto</b> <a class="lbl" href="#188out" data-ref="188out" data-ref-filename="188out">out</a>;</td></tr>
<tr><th id="2224">2224</th><td></td></tr>
<tr><th id="2225">2225</th><td><dfn class="lbl" id="187err" data-ref="187err" data-ref-filename="187err">err</dfn>:</td></tr>
<tr><th id="2226">2226</th><td>	<a class="tu ref" href="#exitcode" title='exitcode' data-use='w' data-ref="exitcode" data-ref-filename="exitcode">exitcode</a> = (<em>int</em>)<a class="enum" href="mandoc.h.html#MANDOCLEVEL_SYSERR" title='MANDOCLEVEL_SYSERR' data-ref="MANDOCLEVEL_SYSERR" data-ref-filename="MANDOCLEVEL_SYSERR">MANDOCLEVEL_SYSERR</a>;</td></tr>
<tr><th id="2227">2227</th><td>	<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<a class="macro" href="mansearch.h.html#19" title="&quot;mandoc.db&quot;" data-ref="_M/MANDOC_DB">MANDOC_DB</a>, <q>"Data changed, but cannot replace database"</q>);</td></tr>
<tr><th id="2228">2228</th><td></td></tr>
<tr><th id="2229">2229</th><td><dfn class="lbl" id="188out" data-ref="188out" data-ref-filename="188out">out</dfn>:</td></tr>
<tr><th id="2230">2230</th><td>	<b>if</b> (<a class="local col2 ref" href="#182cp1" title='cp1' data-ref="182cp1" data-ref-filename="182cp1">cp1</a> != <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/mman.h.html#167" title="((void *) -1)" data-ref="_M/MAP_FAILED">MAP_FAILED</a>)</td></tr>
<tr><th id="2231">2231</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/mman.h.html#munmap" title='munmap' data-ref="munmap" data-ref-filename="munmap">munmap</a>(<a class="local col2 ref" href="#182cp1" title='cp1' data-ref="182cp1" data-ref-filename="182cp1">cp1</a>, <a class="local col9 ref" href="#179sb1" title='sb1' data-ref="179sb1" data-ref-filename="179sb1">sb1</a>.<a class="ref field" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/stat.h.html#stat::st_size" title='stat::st_size' data-ref="stat::st_size" data-ref-filename="stat..st_size">st_size</a>);</td></tr>
<tr><th id="2232">2232</th><td>	<b>if</b> (<a class="local col3 ref" href="#183cp2" title='cp2' data-ref="183cp2" data-ref-filename="183cp2">cp2</a> != <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/mman.h.html#167" title="((void *) -1)" data-ref="_M/MAP_FAILED">MAP_FAILED</a>)</td></tr>
<tr><th id="2233">2233</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/mman.h.html#munmap" title='munmap' data-ref="munmap" data-ref-filename="munmap">munmap</a>(<a class="local col3 ref" href="#183cp2" title='cp2' data-ref="183cp2" data-ref-filename="183cp2">cp2</a>, <a class="local col0 ref" href="#180sb2" title='sb2' data-ref="180sb2" data-ref-filename="180sb2">sb2</a>.<a class="ref field" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/stat.h.html#stat::st_size" title='stat::st_size' data-ref="stat::st_size" data-ref-filename="stat..st_size">st_size</a>);</td></tr>
<tr><th id="2234">2234</th><td>	<b>if</b> (<a class="local col5 ref" href="#185fd1" title='fd1' data-ref="185fd1" data-ref-filename="185fd1">fd1</a> != -<var>1</var>)</td></tr>
<tr><th id="2235">2235</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#close" title='close' data-ref="close" data-ref-filename="close">close</a>(<a class="local col5 ref" href="#185fd1" title='fd1' data-ref="185fd1" data-ref-filename="185fd1">fd1</a>);</td></tr>
<tr><th id="2236">2236</th><td>	<b>if</b> (<a class="local col6 ref" href="#186fd2" title='fd2' data-ref="186fd2" data-ref-filename="186fd2">fd2</a> != -<var>1</var>)</td></tr>
<tr><th id="2237">2237</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#close" title='close' data-ref="close" data-ref-filename="close">close</a>(<a class="local col6 ref" href="#186fd2" title='fd2' data-ref="186fd2" data-ref-filename="186fd2">fd2</a>);</td></tr>
<tr><th id="2238">2238</th><td>	<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#unlink" title='unlink' data-ref="unlink" data-ref-filename="unlink">unlink</a>(<a class="local col1 ref" href="#181tfn" title='tfn' data-ref="181tfn" data-ref-filename="181tfn">tfn</a>);</td></tr>
<tr><th id="2239">2239</th><td>	*<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strrchr" title='strrchr' data-ref="strrchr" data-ref-filename="strrchr">strrchr</a>(<a class="local col1 ref" href="#181tfn" title='tfn' data-ref="181tfn" data-ref-filename="181tfn">tfn</a>, <kbd>'/'</kbd>) = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="2240">2240</th><td>	<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#rmdir" title='rmdir' data-ref="rmdir" data-ref-filename="rmdir">rmdir</a>(<a class="local col1 ref" href="#181tfn" title='tfn' data-ref="181tfn" data-ref-filename="181tfn">tfn</a>);</td></tr>
<tr><th id="2241">2241</th><td>}</td></tr>
<tr><th id="2242">2242</th><td></td></tr>
<tr><th id="2243">2243</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="2244">2244</th><td><dfn class="tu decl def fn" id="set_basedir" title='set_basedir' data-type='int set_basedir(const char * targetdir, int report_baddir)' data-ref="set_basedir" data-ref-filename="set_basedir">set_basedir</dfn>(<em>const</em> <em>char</em> *<dfn class="local col9 decl" id="189targetdir" title='targetdir' data-type='const char *' data-ref="189targetdir" data-ref-filename="189targetdir">targetdir</dfn>, <em>int</em> <dfn class="local col0 decl" id="190report_baddir" title='report_baddir' data-type='int' data-ref="190report_baddir" data-ref-filename="190report_baddir">report_baddir</dfn>)</td></tr>
<tr><th id="2245">2245</th><td>{</td></tr>
<tr><th id="2246">2246</th><td>	<em>static</em> <em>char</em>	 <dfn class="local col1 decl" id="191startdir" title='startdir' data-type='char [1024]' data-ref="191startdir" data-ref-filename="191startdir">startdir</dfn>[<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/syslimits.h.html#60" title="1024" data-ref="_M/PATH_MAX">PATH_MAX</a>];</td></tr>
<tr><th id="2247">2247</th><td>	<em>static</em> <em>int</em>	 <dfn class="local col2 decl" id="192getcwd_status" title='getcwd_status' data-type='int' data-ref="192getcwd_status" data-ref-filename="192getcwd_status">getcwd_status</dfn>;  <i>/* 1 = ok, 2 = failure */</i></td></tr>
<tr><th id="2248">2248</th><td>	<em>static</em> <em>int</em>	 <dfn class="local col3 decl" id="193chdir_status" title='chdir_status' data-type='int' data-ref="193chdir_status" data-ref-filename="193chdir_status">chdir_status</dfn>;  <i>/* 1 = changed directory */</i></td></tr>
<tr><th id="2249">2249</th><td>	<em>char</em>		*<dfn class="local col4 decl" id="194cp" title='cp' data-type='char *' data-ref="194cp" data-ref-filename="194cp">cp</dfn>;</td></tr>
<tr><th id="2250">2250</th><td></td></tr>
<tr><th id="2251">2251</th><td>	<i>/*</i></td></tr>
<tr><th id="2252">2252</th><td><i>	 * Remember the original working directory, if possible.</i></td></tr>
<tr><th id="2253">2253</th><td><i>	 * This will be needed if the second or a later directory</i></td></tr>
<tr><th id="2254">2254</th><td><i>	 * on the command line is given as a relative path.</i></td></tr>
<tr><th id="2255">2255</th><td><i>	 * Do not error out if the current directory is not</i></td></tr>
<tr><th id="2256">2256</th><td><i>	 * searchable: Maybe it won't be needed after all.</i></td></tr>
<tr><th id="2257">2257</th><td><i>	 */</i></td></tr>
<tr><th id="2258">2258</th><td>	<b>if</b> (<var>0</var> == <a class="local col2 ref" href="#192getcwd_status" title='getcwd_status' data-ref="192getcwd_status" data-ref-filename="192getcwd_status">getcwd_status</a>) {</td></tr>
<tr><th id="2259">2259</th><td>		<b>if</b> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> == <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#getcwd" title='getcwd' data-ref="getcwd" data-ref-filename="getcwd">getcwd</a>(<a class="local col1 ref" href="#191startdir" title='startdir' data-ref="191startdir" data-ref-filename="191startdir">startdir</a>, <b>sizeof</b>(<a class="local col1 ref" href="#191startdir" title='startdir' data-ref="191startdir" data-ref-filename="191startdir">startdir</a>))) {</td></tr>
<tr><th id="2260">2260</th><td>			<a class="local col2 ref" href="#192getcwd_status" title='getcwd_status' data-ref="192getcwd_status" data-ref-filename="192getcwd_status">getcwd_status</a> = <var>2</var>;</td></tr>
<tr><th id="2261">2261</th><td>			(<em>void</em>)<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlcpy" title='strlcpy' data-ref="strlcpy" data-ref-filename="strlcpy">strlcpy</a>(<a class="local col1 ref" href="#191startdir" title='startdir' data-ref="191startdir" data-ref-filename="191startdir">startdir</a>, <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strerror" title='strerror' data-ref="strerror" data-ref-filename="strerror">strerror</a>(<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/errno.h.html#55" title="(*__errno())" data-ref="_M/errno">errno</a>),</td></tr>
<tr><th id="2262">2262</th><td>			    <b>sizeof</b>(<a class="local col1 ref" href="#191startdir" title='startdir' data-ref="191startdir" data-ref-filename="191startdir">startdir</a>));</td></tr>
<tr><th id="2263">2263</th><td>		} <b>else</b></td></tr>
<tr><th id="2264">2264</th><td>			<a class="local col2 ref" href="#192getcwd_status" title='getcwd_status' data-ref="192getcwd_status" data-ref-filename="192getcwd_status">getcwd_status</a> = <var>1</var>;</td></tr>
<tr><th id="2265">2265</th><td>	}</td></tr>
<tr><th id="2266">2266</th><td></td></tr>
<tr><th id="2267">2267</th><td>	<i>/*</i></td></tr>
<tr><th id="2268">2268</th><td><i>	 * We are leaving the old base directory.</i></td></tr>
<tr><th id="2269">2269</th><td><i>	 * Do not use it any longer, not even for messages.</i></td></tr>
<tr><th id="2270">2270</th><td><i>	 */</i></td></tr>
<tr><th id="2271">2271</th><td>	*<a class="tu ref" href="#basedir" title='basedir' data-use='r' data-ref="basedir" data-ref-filename="basedir">basedir</a> = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="2272">2272</th><td></td></tr>
<tr><th id="2273">2273</th><td>	<i>/*</i></td></tr>
<tr><th id="2274">2274</th><td><i>	 * If and only if the directory was changed earlier and</i></td></tr>
<tr><th id="2275">2275</th><td><i>	 * the next directory to process is given as a relative path,</i></td></tr>
<tr><th id="2276">2276</th><td><i>	 * first go back, or bail out if that is impossible.</i></td></tr>
<tr><th id="2277">2277</th><td><i>	 */</i></td></tr>
<tr><th id="2278">2278</th><td>	<b>if</b> (<a class="local col3 ref" href="#193chdir_status" title='chdir_status' data-ref="193chdir_status" data-ref-filename="193chdir_status">chdir_status</a> &amp;&amp; <kbd>'/'</kbd> != *<a class="local col9 ref" href="#189targetdir" title='targetdir' data-ref="189targetdir" data-ref-filename="189targetdir">targetdir</a>) {</td></tr>
<tr><th id="2279">2279</th><td>		<b>if</b> (<var>2</var> == <a class="local col2 ref" href="#192getcwd_status" title='getcwd_status' data-ref="192getcwd_status" data-ref-filename="192getcwd_status">getcwd_status</a>) {</td></tr>
<tr><th id="2280">2280</th><td>			<a class="tu ref" href="#exitcode" title='exitcode' data-use='w' data-ref="exitcode" data-ref-filename="exitcode">exitcode</a> = (<em>int</em>)<a class="enum" href="mandoc.h.html#MANDOCLEVEL_SYSERR" title='MANDOCLEVEL_SYSERR' data-ref="MANDOCLEVEL_SYSERR" data-ref-filename="MANDOCLEVEL_SYSERR">MANDOCLEVEL_SYSERR</a>;</td></tr>
<tr><th id="2281">2281</th><td>			<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<q>""</q>, <q>"getcwd: %s"</q>, <a class="local col1 ref" href="#191startdir" title='startdir' data-ref="191startdir" data-ref-filename="191startdir">startdir</a>);</td></tr>
<tr><th id="2282">2282</th><td>			<b>return</b> <var>0</var>;</td></tr>
<tr><th id="2283">2283</th><td>		}</td></tr>
<tr><th id="2284">2284</th><td>		<b>if</b> (-<var>1</var> == <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#chdir" title='chdir' data-ref="chdir" data-ref-filename="chdir">chdir</a>(<a class="local col1 ref" href="#191startdir" title='startdir' data-ref="191startdir" data-ref-filename="191startdir">startdir</a>)) {</td></tr>
<tr><th id="2285">2285</th><td>			<a class="tu ref" href="#exitcode" title='exitcode' data-use='w' data-ref="exitcode" data-ref-filename="exitcode">exitcode</a> = (<em>int</em>)<a class="enum" href="mandoc.h.html#MANDOCLEVEL_SYSERR" title='MANDOCLEVEL_SYSERR' data-ref="MANDOCLEVEL_SYSERR" data-ref-filename="MANDOCLEVEL_SYSERR">MANDOCLEVEL_SYSERR</a>;</td></tr>
<tr><th id="2286">2286</th><td>			<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<q>""</q>, <q>"&amp;chdir %s"</q>, <a class="local col1 ref" href="#191startdir" title='startdir' data-ref="191startdir" data-ref-filename="191startdir">startdir</a>);</td></tr>
<tr><th id="2287">2287</th><td>			<b>return</b> <var>0</var>;</td></tr>
<tr><th id="2288">2288</th><td>		}</td></tr>
<tr><th id="2289">2289</th><td>	}</td></tr>
<tr><th id="2290">2290</th><td></td></tr>
<tr><th id="2291">2291</th><td>	<i>/*</i></td></tr>
<tr><th id="2292">2292</th><td><i>	 * Always resolve basedir to the canonicalized absolute</i></td></tr>
<tr><th id="2293">2293</th><td><i>	 * pathname and append a trailing slash, such that</i></td></tr>
<tr><th id="2294">2294</th><td><i>	 * we can reliably check whether files are inside.</i></td></tr>
<tr><th id="2295">2295</th><td><i>	 */</i></td></tr>
<tr><th id="2296">2296</th><td>	<b>if</b> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> == <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#realpath" title='realpath' data-ref="realpath" data-ref-filename="realpath">realpath</a>(<a class="local col9 ref" href="#189targetdir" title='targetdir' data-ref="189targetdir" data-ref-filename="189targetdir">targetdir</a>, <a class="tu ref" href="#basedir" title='basedir' data-use='r' data-ref="basedir" data-ref-filename="basedir">basedir</a>)) {</td></tr>
<tr><th id="2297">2297</th><td>		<b>if</b> (<a class="local col0 ref" href="#190report_baddir" title='report_baddir' data-ref="190report_baddir" data-ref-filename="190report_baddir">report_baddir</a> || <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/errno.h.html#55" title="(*__errno())" data-ref="_M/errno">errno</a> != <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/errno.h.html#43" title="2" data-ref="_M/ENOENT">ENOENT</a>) {</td></tr>
<tr><th id="2298">2298</th><td>			<a class="tu ref" href="#exitcode" title='exitcode' data-use='w' data-ref="exitcode" data-ref-filename="exitcode">exitcode</a> = (<em>int</em>)<a class="enum" href="mandoc.h.html#MANDOCLEVEL_BADARG" title='MANDOCLEVEL_BADARG' data-ref="MANDOCLEVEL_BADARG" data-ref-filename="MANDOCLEVEL_BADARG">MANDOCLEVEL_BADARG</a>;</td></tr>
<tr><th id="2299">2299</th><td>			<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<q>""</q>, <q>"&amp;%s: realpath"</q>, <a class="local col9 ref" href="#189targetdir" title='targetdir' data-ref="189targetdir" data-ref-filename="189targetdir">targetdir</a>);</td></tr>
<tr><th id="2300">2300</th><td>		}</td></tr>
<tr><th id="2301">2301</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="2302">2302</th><td>	} <b>else</b> <b>if</b> (-<var>1</var> == <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#chdir" title='chdir' data-ref="chdir" data-ref-filename="chdir">chdir</a>(<a class="tu ref" href="#basedir" title='basedir' data-use='r' data-ref="basedir" data-ref-filename="basedir">basedir</a>)) {</td></tr>
<tr><th id="2303">2303</th><td>		<b>if</b> (<a class="local col0 ref" href="#190report_baddir" title='report_baddir' data-ref="190report_baddir" data-ref-filename="190report_baddir">report_baddir</a> || <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/errno.h.html#55" title="(*__errno())" data-ref="_M/errno">errno</a> != <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/errno.h.html#43" title="2" data-ref="_M/ENOENT">ENOENT</a>) {</td></tr>
<tr><th id="2304">2304</th><td>			<a class="tu ref" href="#exitcode" title='exitcode' data-use='w' data-ref="exitcode" data-ref-filename="exitcode">exitcode</a> = (<em>int</em>)<a class="enum" href="mandoc.h.html#MANDOCLEVEL_BADARG" title='MANDOCLEVEL_BADARG' data-ref="MANDOCLEVEL_BADARG" data-ref-filename="MANDOCLEVEL_BADARG">MANDOCLEVEL_BADARG</a>;</td></tr>
<tr><th id="2305">2305</th><td>			<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<q>""</q>, <q>"&amp;chdir"</q>);</td></tr>
<tr><th id="2306">2306</th><td>		}</td></tr>
<tr><th id="2307">2307</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="2308">2308</th><td>	}</td></tr>
<tr><th id="2309">2309</th><td>	<a class="local col3 ref" href="#193chdir_status" title='chdir_status' data-ref="193chdir_status" data-ref-filename="193chdir_status">chdir_status</a> = <var>1</var>;</td></tr>
<tr><th id="2310">2310</th><td>	<a class="local col4 ref" href="#194cp" title='cp' data-ref="194cp" data-ref-filename="194cp">cp</a> = <a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strchr" title='strchr' data-ref="strchr" data-ref-filename="strchr">strchr</a>(<a class="tu ref" href="#basedir" title='basedir' data-use='r' data-ref="basedir" data-ref-filename="basedir">basedir</a>, <kbd>'\0'</kbd>);</td></tr>
<tr><th id="2311">2311</th><td>	<b>if</b> (<kbd>'/'</kbd> != <a class="local col4 ref" href="#194cp" title='cp' data-ref="194cp" data-ref-filename="194cp">cp</a>[-<var>1</var>]) {</td></tr>
<tr><th id="2312">2312</th><td>		<b>if</b> (<a class="local col4 ref" href="#194cp" title='cp' data-ref="194cp" data-ref-filename="194cp">cp</a> - <a class="tu ref" href="#basedir" title='basedir' data-use='r' data-ref="basedir" data-ref-filename="basedir">basedir</a> &gt;= <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/sys/syslimits.h.html#60" title="1024" data-ref="_M/PATH_MAX">PATH_MAX</a> - <var>1</var>) {</td></tr>
<tr><th id="2313">2313</th><td>			<a class="tu ref" href="#exitcode" title='exitcode' data-use='w' data-ref="exitcode" data-ref-filename="exitcode">exitcode</a> = (<em>int</em>)<a class="enum" href="mandoc.h.html#MANDOCLEVEL_SYSERR" title='MANDOCLEVEL_SYSERR' data-ref="MANDOCLEVEL_SYSERR" data-ref-filename="MANDOCLEVEL_SYSERR">MANDOCLEVEL_SYSERR</a>;</td></tr>
<tr><th id="2314">2314</th><td>			<a class="tu ref fn" href="#say" title='say' data-use='c' data-ref="say" data-ref-filename="say">say</a>(<q>""</q>, <q>"Filename too long"</q>);</td></tr>
<tr><th id="2315">2315</th><td>			<b>return</b> <var>0</var>;</td></tr>
<tr><th id="2316">2316</th><td>		}</td></tr>
<tr><th id="2317">2317</th><td>		*<a class="local col4 ref" href="#194cp" title='cp' data-ref="194cp" data-ref-filename="194cp">cp</a>++ = <kbd>'/'</kbd>;</td></tr>
<tr><th id="2318">2318</th><td>		*<a class="local col4 ref" href="#194cp" title='cp' data-ref="194cp" data-ref-filename="194cp">cp</a> = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="2319">2319</th><td>	}</td></tr>
<tr><th id="2320">2320</th><td>	<b>return</b> <var>1</var>;</td></tr>
<tr><th id="2321">2321</th><td>}</td></tr>
<tr><th id="2322">2322</th><td></td></tr>
<tr><th id="2323">2323</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="2324">2324</th><td><dfn class="tu decl def fn" id="say" title='say' data-type='void say(const char * file, const char * format)' data-ref="say" data-ref-filename="say">say</dfn>(<em>const</em> <em>char</em> *<dfn class="local col5 decl" id="195file" title='file' data-type='const char *' data-ref="195file" data-ref-filename="195file">file</dfn>, <em>const</em> <em>char</em> *<dfn class="local col6 decl" id="196format" title='format' data-type='const char *' data-ref="196format" data-ref-filename="196format">format</dfn>, ...)</td></tr>
<tr><th id="2325">2325</th><td>{</td></tr>
<tr><th id="2326">2326</th><td>	<span class='typedef' title='va_list' data-type='__builtin_va_list' data-ref="va_list" data-ref-filename="va_list">va_list</span>		 <dfn class="local col7 decl" id="197ap" title='ap' data-type='va_list' data-ref="197ap" data-ref-filename="197ap">ap</dfn>;</td></tr>
<tr><th id="2327">2327</th><td>	<em>int</em>		 <dfn class="local col8 decl" id="198use_errno" title='use_errno' data-type='int' data-ref="198use_errno" data-ref-filename="198use_errno">use_errno</dfn>;</td></tr>
<tr><th id="2328">2328</th><td></td></tr>
<tr><th id="2329">2329</th><td>	<b>if</b> (<kbd>'\0'</kbd> != *<a class="tu ref" href="#basedir" title='basedir' data-use='r' data-ref="basedir" data-ref-filename="basedir">basedir</a>)</td></tr>
<tr><th id="2330">2330</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fprintf" title='fprintf' data-ref="fprintf" data-ref-filename="fprintf">fprintf</a>(<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#217" title="(&amp;__sF[2])" data-ref="_M/stderr">stderr</a>, <q>"%s"</q>, <a class="tu ref" href="#basedir" title='basedir' data-ref="basedir" data-ref-filename="basedir">basedir</a>);</td></tr>
<tr><th id="2331">2331</th><td>	<b>if</b> (<kbd>'\0'</kbd> != *<a class="tu ref" href="#basedir" title='basedir' data-use='r' data-ref="basedir" data-ref-filename="basedir">basedir</a> &amp;&amp; <kbd>'\0'</kbd> != *<a class="local col5 ref" href="#195file" title='file' data-ref="195file" data-ref-filename="195file">file</a>)</td></tr>
<tr><th id="2332">2332</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fputc" title='fputc' data-ref="fputc" data-ref-filename="fputc">fputc</a>(<kbd>'/'</kbd>, <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#217" title="(&amp;__sF[2])" data-ref="_M/stderr">stderr</a>);</td></tr>
<tr><th id="2333">2333</th><td>	<b>if</b> (<kbd>'\0'</kbd> != *<a class="local col5 ref" href="#195file" title='file' data-ref="195file" data-ref-filename="195file">file</a>)</td></tr>
<tr><th id="2334">2334</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fprintf" title='fprintf' data-ref="fprintf" data-ref-filename="fprintf">fprintf</a>(<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#217" title="(&amp;__sF[2])" data-ref="_M/stderr">stderr</a>, <q>"%s"</q>, <a class="local col5 ref" href="#195file" title='file' data-ref="195file" data-ref-filename="195file">file</a>);</td></tr>
<tr><th id="2335">2335</th><td></td></tr>
<tr><th id="2336">2336</th><td>	<a class="local col8 ref" href="#198use_errno" title='use_errno' data-ref="198use_errno" data-ref-filename="198use_errno">use_errno</a> = <var>1</var>;</td></tr>
<tr><th id="2337">2337</th><td>	<b>if</b> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> != <a class="local col6 ref" href="#196format" title='format' data-ref="196format" data-ref-filename="196format">format</a>) {</td></tr>
<tr><th id="2338">2338</th><td>		<b>switch</b> (*<a class="local col6 ref" href="#196format" title='format' data-ref="196format" data-ref-filename="196format">format</a>) {</td></tr>
<tr><th id="2339">2339</th><td>		<b>case</b> <kbd>'&amp;'</kbd>:</td></tr>
<tr><th id="2340">2340</th><td>			<a class="local col6 ref" href="#196format" title='format' data-ref="196format" data-ref-filename="196format">format</a>++;</td></tr>
<tr><th id="2341">2341</th><td>			<b>break</b>;</td></tr>
<tr><th id="2342">2342</th><td>		<b>case</b> <kbd>'\0'</kbd>:</td></tr>
<tr><th id="2343">2343</th><td>			<a class="local col6 ref" href="#196format" title='format' data-ref="196format" data-ref-filename="196format">format</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="2344">2344</th><td>			<b>break</b>;</td></tr>
<tr><th id="2345">2345</th><td>		<b>default</b>:</td></tr>
<tr><th id="2346">2346</th><td>			<a class="local col8 ref" href="#198use_errno" title='use_errno' data-ref="198use_errno" data-ref-filename="198use_errno">use_errno</a> = <var>0</var>;</td></tr>
<tr><th id="2347">2347</th><td>			<b>break</b>;</td></tr>
<tr><th id="2348">2348</th><td>		}</td></tr>
<tr><th id="2349">2349</th><td>	}</td></tr>
<tr><th id="2350">2350</th><td>	<b>if</b> (<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> != <a class="local col6 ref" href="#196format" title='format' data-ref="196format" data-ref-filename="196format">format</a>) {</td></tr>
<tr><th id="2351">2351</th><td>		<b>if</b> (<kbd>'\0'</kbd> != *<a class="tu ref" href="#basedir" title='basedir' data-use='r' data-ref="basedir" data-ref-filename="basedir">basedir</a> || <kbd>'\0'</kbd> != *<a class="local col5 ref" href="#195file" title='file' data-ref="195file" data-ref-filename="195file">file</a>)</td></tr>
<tr><th id="2352">2352</th><td>			<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fputs" title='fputs' data-ref="fputs" data-ref-filename="fputs">fputs</a>(<q>": "</q>, <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#217" title="(&amp;__sF[2])" data-ref="_M/stderr">stderr</a>);</td></tr>
<tr><th id="2353">2353</th><td>		<span class="macro" title="__builtin_va_start(ap, format)" data-ref="_M/va_start">va_start</span>(<a class="local col7 ref" href="#197ap" title='ap' data-ref="197ap" data-ref-filename="197ap">ap</a>, <a class="local col6 ref" href="#196format" title='format' data-ref="196format" data-ref-filename="196format">format</a>);</td></tr>
<tr><th id="2354">2354</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#vfprintf" title='vfprintf' data-ref="vfprintf" data-ref-filename="vfprintf">vfprintf</a>(<a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#217" title="(&amp;__sF[2])" data-ref="_M/stderr">stderr</a>, <a class="local col6 ref" href="#196format" title='format' data-ref="196format" data-ref-filename="196format">format</a>, <a class="local col7 ref" href="#197ap" title='ap' data-ref="197ap" data-ref-filename="197ap">ap</a>);</td></tr>
<tr><th id="2355">2355</th><td>		<span class="macro" title="__builtin_va_end(ap)" data-ref="_M/va_end">va_end</span>(<a class="local col7 ref" href="#197ap" title='ap' data-ref="197ap" data-ref-filename="197ap">ap</a>);</td></tr>
<tr><th id="2356">2356</th><td>	}</td></tr>
<tr><th id="2357">2357</th><td>	<b>if</b> (<a class="local col8 ref" href="#198use_errno" title='use_errno' data-ref="198use_errno" data-ref-filename="198use_errno">use_errno</a>) {</td></tr>
<tr><th id="2358">2358</th><td>		<b>if</b> (<kbd>'\0'</kbd> != *<a class="tu ref" href="#basedir" title='basedir' data-use='r' data-ref="basedir" data-ref-filename="basedir">basedir</a> || <kbd>'\0'</kbd> != *<a class="local col5 ref" href="#195file" title='file' data-ref="195file" data-ref-filename="195file">file</a> || <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> != <a class="local col6 ref" href="#196format" title='format' data-ref="196format" data-ref-filename="196format">format</a>)</td></tr>
<tr><th id="2359">2359</th><td>			<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fputs" title='fputs' data-ref="fputs" data-ref-filename="fputs">fputs</a>(<q>": "</q>, <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#217" title="(&amp;__sF[2])" data-ref="_M/stderr">stderr</a>);</td></tr>
<tr><th id="2360">2360</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#perror" title='perror' data-ref="perror" data-ref-filename="perror">perror</a>(<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="2361">2361</th><td>	} <b>else</b></td></tr>
<tr><th id="2362">2362</th><td>		<a class="ref fn" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fputc" title='fputc' data-ref="fputc" data-ref-filename="fputc">fputc</a>(<kbd>'\n'</kbd>, <a class="macro" href="../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#217" title="(&amp;__sF[2])" data-ref="_M/stderr">stderr</a>);</td></tr>
<tr><th id="2363">2363</th><td>}</td></tr>
<tr><th id="2364">2364</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2019-Jul-19</em> from project netbsd revision <em>f9da89e0d</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
