<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>install-info.c source code [netbsd/external/gpl2/texinfo/dist/util/install-info.c] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="line_data,main,menu_section,node,spec_entry,spec_section "/>
<link rel="stylesheet" href="https://code.woboq.org/data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="https://code.woboq.org/data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery-ui.min.js"></script>
<script>var file = 'netbsd/external/gpl2/texinfo/dist/util/install-info.c'; var root_path = '../../../../../..'; var data_path = 'https://code.woboq.org/data'; var ecma_script_api_version = 2;</script>
<script src='https://code.woboq.org/data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../../..'>netbsd</a>/<a href='../../../..'>external</a>/<a href='../../..'>gpl2</a>/<a href='../..'>texinfo</a>/<a href='..'>dist</a>/<a href='./'>util</a>/<a href='install-info.c.html'>install-info.c</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*	$NetBSD: install-info.c,v 1.2 2016/01/14 00:34:53 christos Exp $	*/</i></td></tr>
<tr><th id="2">2</th><td></td></tr>
<tr><th id="3">3</th><td><i>/* install-info -- create Info directory entry(ies) for an Info file.</i></td></tr>
<tr><th id="4">4</th><td><i>   Id: install-info.c,v 1.12 2004/04/11 17:56:47 karl Exp </i></td></tr>
<tr><th id="5">5</th><td><i></i></td></tr>
<tr><th id="6">6</th><td><i>   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004 Free Software</i></td></tr>
<tr><th id="7">7</th><td><i>   Foundation, Inc.</i></td></tr>
<tr><th id="8">8</th><td><i></i></td></tr>
<tr><th id="9">9</th><td><i>   This program is free software; you can redistribute it and/or modify</i></td></tr>
<tr><th id="10">10</th><td><i>   it under the terms of the GNU General Public License as published by</i></td></tr>
<tr><th id="11">11</th><td><i>   the Free Software Foundation; either version 2 of the License, or</i></td></tr>
<tr><th id="12">12</th><td><i>   (at your option) any later version.</i></td></tr>
<tr><th id="13">13</th><td><i></i></td></tr>
<tr><th id="14">14</th><td><i>   This program is distributed in the hope that it will be useful,</i></td></tr>
<tr><th id="15">15</th><td><i>   but WITHOUT ANY WARRANTY; without even the implied warranty of</i></td></tr>
<tr><th id="16">16</th><td><i>   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</i></td></tr>
<tr><th id="17">17</th><td><i>   GNU General Public License for more details.</i></td></tr>
<tr><th id="18">18</th><td><i></i></td></tr>
<tr><th id="19">19</th><td><i>   You should have received a copy of the GNU General Public License</i></td></tr>
<tr><th id="20">20</th><td><i>   along with this program; if not, write to the Free Software</i></td></tr>
<tr><th id="21">21</th><td><i>   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.*/</i></td></tr>
<tr><th id="22">22</th><td></td></tr>
<tr><th id="23">23</th><td><u>#include <a href="../lib/system.h.html">"system.h"</a></u></td></tr>
<tr><th id="24">24</th><td><u>#include <a href="../lib/getopt.h.html">&lt;getopt.h&gt;</a></u></td></tr>
<tr><th id="25">25</th><td></td></tr>
<tr><th id="26">26</th><td><em>static</em> <em>char</em> *<dfn class="tu decl def" id="progname" title='progname' data-type='char *' data-ref="progname" data-ref-filename="progname">progname</dfn> = <q>"install-info"</q>;</td></tr>
<tr><th id="27">27</th><td></td></tr>
<tr><th id="28">28</th><td><b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a>;</td></tr>
<tr><th id="29">29</th><td><b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a>;</td></tr>
<tr><th id="30">30</th><td></td></tr>
<tr><th id="31">31</th><td><b>struct</b> <a class="type" href="#line_data" title='line_data' data-ref="line_data" data-ref-filename="line_data">line_data</a> *<a class="decl fn" href="#findlines" title='findlines' data-ref="findlines" data-ref-filename="findlines">findlines</a> (<em>char</em> *<dfn class="local col1 decl" id="1data" title='data' data-type='char *' data-ref="1data" data-ref-filename="1data">data</dfn>, <em>int</em> <dfn class="local col2 decl" id="2size" title='size' data-type='int' data-ref="2size" data-ref-filename="2size">size</dfn>, <em>int</em> *<dfn class="local col3 decl" id="3nlinesp" title='nlinesp' data-type='int *' data-ref="3nlinesp" data-ref-filename="3nlinesp">nlinesp</dfn>);</td></tr>
<tr><th id="32">32</th><td><em>void</em> <a class="decl fn" href="#insert_entry_here" title='insert_entry_here' data-ref="insert_entry_here" data-ref-filename="insert_entry_here">insert_entry_here</a> (<b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a> *<dfn class="local col4 decl" id="4entry" title='entry' data-type='struct spec_entry *' data-ref="4entry" data-ref-filename="4entry">entry</dfn>, <em>int</em> <dfn class="local col5 decl" id="5line_number" title='line_number' data-type='int' data-ref="5line_number" data-ref-filename="5line_number">line_number</dfn>,</td></tr>
<tr><th id="33">33</th><td>                        <b>struct</b> <a class="type" href="#line_data" title='line_data' data-ref="line_data" data-ref-filename="line_data">line_data</a> *<dfn class="local col6 decl" id="6dir_lines" title='dir_lines' data-type='struct line_data *' data-ref="6dir_lines" data-ref-filename="6dir_lines">dir_lines</dfn>, <em>int</em> <dfn class="local col7 decl" id="7n_entries" title='n_entries' data-type='int' data-ref="7n_entries" data-ref-filename="7n_entries">n_entries</dfn>); </td></tr>
<tr><th id="34">34</th><td><em>int</em> <a class="decl fn" href="#compare_section_names" title='compare_section_names' data-ref="compare_section_names" data-ref-filename="compare_section_names">compare_section_names</a> (<em>const</em> <em>void</em> *<dfn class="local col8 decl" id="8s1" title='s1' data-type='const void *' data-ref="8s1" data-ref-filename="8s1">s1</dfn>, <em>const</em> <em>void</em> *<dfn class="local col9 decl" id="9s2" title='s2' data-type='const void *' data-ref="9s2" data-ref-filename="9s2">s2</dfn>);</td></tr>
<tr><th id="35">35</th><td><em>int</em> <a class="decl fn" href="#compare_entries_text" title='compare_entries_text' data-ref="compare_entries_text" data-ref-filename="compare_entries_text">compare_entries_text</a> (<em>const</em> <em>void</em> *<dfn class="local col0 decl" id="10e1" title='e1' data-type='const void *' data-ref="10e1" data-ref-filename="10e1">e1</dfn>, <em>const</em> <em>void</em> *<dfn class="local col1 decl" id="11e2" title='e2' data-type='const void *' data-ref="11e2" data-ref-filename="11e2">e2</dfn>); </td></tr>
<tr><th id="36">36</th><td></td></tr>
<tr><th id="37">37</th><td><i>/* Data structures.  */</i></td></tr>
<tr><th id="38">38</th><td></td></tr>
<tr><th id="39">39</th><td></td></tr>
<tr><th id="40">40</th><td><i>/* Record info about a single line from a file as read into core.  */</i></td></tr>
<tr><th id="41">41</th><td><b>struct</b> <dfn class="type def" id="line_data" title='line_data' data-ref="line_data" data-ref-filename="line_data">line_data</dfn></td></tr>
<tr><th id="42">42</th><td>{</td></tr>
<tr><th id="43">43</th><td>  <i  data-doc="line_data::start">/* The start of the line.  */</i></td></tr>
<tr><th id="44">44</th><td>  <em>char</em> *<dfn class="tu decl field" id="line_data::start" title='line_data::start' data-type='char *' data-ref="line_data::start" data-ref-filename="line_data..start">start</dfn>;</td></tr>
<tr><th id="45">45</th><td>  <i  data-doc="line_data::size">/* The number of characters in the line,</i></td></tr>
<tr><th id="46">46</th><td><i  data-doc="line_data::size">     excluding the terminating newline.  */</i></td></tr>
<tr><th id="47">47</th><td>  <em>int</em> <dfn class="tu decl field" id="line_data::size" title='line_data::size' data-type='int' data-ref="line_data::size" data-ref-filename="line_data..size">size</dfn>;</td></tr>
<tr><th id="48">48</th><td>  <i  data-doc="line_data::add_entries_before">/* Vector containing pointers to the entries to add before this line.</i></td></tr>
<tr><th id="49">49</th><td><i  data-doc="line_data::add_entries_before">     The vector is null-terminated.  */</i></td></tr>
<tr><th id="50">50</th><td>  <b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a> **<dfn class="tu decl field" id="line_data::add_entries_before" title='line_data::add_entries_before' data-type='struct spec_entry **' data-ref="line_data::add_entries_before" data-ref-filename="line_data..add_entries_before">add_entries_before</dfn>;</td></tr>
<tr><th id="51">51</th><td>  <i  data-doc="line_data::add_sections_before">/* 1 means output any needed new sections before this line.  */</i></td></tr>
<tr><th id="52">52</th><td>  <em>int</em> <dfn class="tu decl field" id="line_data::add_sections_before" title='line_data::add_sections_before' data-type='int' data-ref="line_data::add_sections_before" data-ref-filename="line_data..add_sections_before">add_sections_before</dfn>;</td></tr>
<tr><th id="53">53</th><td>  <i  data-doc="line_data::delete">/* 1 means don't output this line.  */</i></td></tr>
<tr><th id="54">54</th><td>  <em>int</em> <dfn class="tu decl field" id="line_data::delete" title='line_data::delete' data-type='int' data-ref="line_data::delete" data-ref-filename="line_data..delete">delete</dfn>;</td></tr>
<tr><th id="55">55</th><td>};</td></tr>
<tr><th id="56">56</th><td></td></tr>
<tr><th id="57">57</th><td></td></tr>
<tr><th id="58">58</th><td><i>/* This is used for a list of the specified menu section names</i></td></tr>
<tr><th id="59">59</th><td><i>   in which entries should be added.  */</i></td></tr>
<tr><th id="60">60</th><td><b>struct</b> <dfn class="type def" id="spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</dfn></td></tr>
<tr><th id="61">61</th><td>{</td></tr>
<tr><th id="62">62</th><td>  <b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a> *<dfn class="tu decl field" id="spec_section::next" title='spec_section::next' data-type='struct spec_section *' data-ref="spec_section::next" data-ref-filename="spec_section..next">next</dfn>;</td></tr>
<tr><th id="63">63</th><td>  <em>char</em> *<dfn class="tu decl field" id="spec_section::name" title='spec_section::name' data-type='char *' data-ref="spec_section::name" data-ref-filename="spec_section..name">name</dfn>;</td></tr>
<tr><th id="64">64</th><td>  <i  data-doc="spec_section::missing">/* 1 means we have not yet found an existing section with this name</i></td></tr>
<tr><th id="65">65</th><td><i  data-doc="spec_section::missing">     in the dir file--so we will need to add a new section.  */</i></td></tr>
<tr><th id="66">66</th><td>  <em>int</em> <dfn class="tu decl field" id="spec_section::missing" title='spec_section::missing' data-type='int' data-ref="spec_section::missing" data-ref-filename="spec_section..missing">missing</dfn>;</td></tr>
<tr><th id="67">67</th><td>};</td></tr>
<tr><th id="68">68</th><td></td></tr>
<tr><th id="69">69</th><td></td></tr>
<tr><th id="70">70</th><td><i>/* This is used for a list of the entries specified to be added.  */</i></td></tr>
<tr><th id="71">71</th><td><b>struct</b> <dfn class="type def" id="spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</dfn></td></tr>
<tr><th id="72">72</th><td>{</td></tr>
<tr><th id="73">73</th><td>  <b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a> *<dfn class="tu decl field" id="spec_entry::next" title='spec_entry::next' data-type='struct spec_entry *' data-ref="spec_entry::next" data-ref-filename="spec_entry..next">next</dfn>;</td></tr>
<tr><th id="74">74</th><td>  <em>char</em> *<dfn class="tu decl field" id="spec_entry::text" title='spec_entry::text' data-type='char *' data-ref="spec_entry::text" data-ref-filename="spec_entry..text">text</dfn>;</td></tr>
<tr><th id="75">75</th><td>  <em>int</em> <dfn class="tu decl field" id="spec_entry::text_len" title='spec_entry::text_len' data-type='int' data-ref="spec_entry::text_len" data-ref-filename="spec_entry..text_len">text_len</dfn>;</td></tr>
<tr><th id="76">76</th><td>  <i  data-doc="spec_entry::entry_sections">/* A pointer to the list of sections to which this entry should be</i></td></tr>
<tr><th id="77">77</th><td><i  data-doc="spec_entry::entry_sections">     added.  */</i></td></tr>
<tr><th id="78">78</th><td>  <b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a> *<dfn class="tu decl field" id="spec_entry::entry_sections" title='spec_entry::entry_sections' data-type='struct spec_section *' data-ref="spec_entry::entry_sections" data-ref-filename="spec_entry..entry_sections">entry_sections</dfn>;</td></tr>
<tr><th id="79">79</th><td>  <i  data-doc="spec_entry::entry_sections_tail">/* A pointer to a section that is beyond the end of the chain whose</i></td></tr>
<tr><th id="80">80</th><td><i  data-doc="spec_entry::entry_sections_tail">     head is pointed to by entry_sections.  */</i></td></tr>
<tr><th id="81">81</th><td>  <b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a> *<dfn class="tu decl field" id="spec_entry::entry_sections_tail" title='spec_entry::entry_sections_tail' data-type='struct spec_section *' data-ref="spec_entry::entry_sections_tail" data-ref-filename="spec_entry..entry_sections_tail">entry_sections_tail</dfn>;</td></tr>
<tr><th id="82">82</th><td>};</td></tr>
<tr><th id="83">83</th><td></td></tr>
<tr><th id="84">84</th><td></td></tr>
<tr><th id="85">85</th><td><i>/* This is used for a list of nodes found by parsing the dir file.  */</i></td></tr>
<tr><th id="86">86</th><td><b>struct</b> <dfn class="type def" id="node" title='node' data-ref="node" data-ref-filename="node">node</dfn></td></tr>
<tr><th id="87">87</th><td>{</td></tr>
<tr><th id="88">88</th><td>  <b>struct</b> <a class="type" href="#node" title='node' data-ref="node" data-ref-filename="node">node</a> *<dfn class="tu decl field" id="node::next" title='node::next' data-type='struct node *' data-ref="node::next" data-ref-filename="node..next">next</dfn>;</td></tr>
<tr><th id="89">89</th><td>  <i  data-doc="node::name">/* The node name.  */</i></td></tr>
<tr><th id="90">90</th><td>  <em>char</em> *<dfn class="tu decl field" id="node::name" title='node::name' data-type='char *' data-ref="node::name" data-ref-filename="node..name">name</dfn>;</td></tr>
<tr><th id="91">91</th><td>  <i  data-doc="node::start_line">/* The line number of the line where the node starts.</i></td></tr>
<tr><th id="92">92</th><td><i  data-doc="node::start_line">     This is the line that contains control-underscore.  */</i></td></tr>
<tr><th id="93">93</th><td>  <em>int</em> <dfn class="tu decl field" id="node::start_line" title='node::start_line' data-type='int' data-ref="node::start_line" data-ref-filename="node..start_line">start_line</dfn>;</td></tr>
<tr><th id="94">94</th><td>  <i  data-doc="node::end_line">/* The line number of the line where the node ends,</i></td></tr>
<tr><th id="95">95</th><td><i  data-doc="node::end_line">     which is the end of the file or where the next line starts.  */</i></td></tr>
<tr><th id="96">96</th><td>  <em>int</em> <dfn class="tu decl field" id="node::end_line" title='node::end_line' data-type='int' data-ref="node::end_line" data-ref-filename="node..end_line">end_line</dfn>;</td></tr>
<tr><th id="97">97</th><td>  <i  data-doc="node::menu_start">/* Start of first line in this node's menu</i></td></tr>
<tr><th id="98">98</th><td><i  data-doc="node::menu_start">     (the line after the * Menu: line).  */</i></td></tr>
<tr><th id="99">99</th><td>  <em>char</em> *<dfn class="tu decl field" id="node::menu_start" title='node::menu_start' data-type='char *' data-ref="node::menu_start" data-ref-filename="node..menu_start">menu_start</dfn>;</td></tr>
<tr><th id="100">100</th><td>  <i  data-doc="node::sections">/* The start of the chain of sections in this node's menu.  */</i></td></tr>
<tr><th id="101">101</th><td>  <b>struct</b> <a class="type" href="#menu_section" title='menu_section' data-ref="menu_section" data-ref-filename="menu_section">menu_section</a> *<dfn class="tu decl field" id="node::sections" title='node::sections' data-type='struct menu_section *' data-ref="node::sections" data-ref-filename="node..sections">sections</dfn>;</td></tr>
<tr><th id="102">102</th><td>  <i  data-doc="node::last_section">/* The last menu section in the chain.  */</i></td></tr>
<tr><th id="103">103</th><td>  <b>struct</b> <a class="type" href="#menu_section" title='menu_section' data-ref="menu_section" data-ref-filename="menu_section">menu_section</a> *<dfn class="tu decl field" id="node::last_section" title='node::last_section' data-type='struct menu_section *' data-ref="node::last_section" data-ref-filename="node..last_section">last_section</dfn>;</td></tr>
<tr><th id="104">104</th><td>};</td></tr>
<tr><th id="105">105</th><td></td></tr>
<tr><th id="106">106</th><td></td></tr>
<tr><th id="107">107</th><td><i>/* This is used for a list of sections found in a node's menu.</i></td></tr>
<tr><th id="108">108</th><td><i>   Each  struct node  has such a list in the  sections  field.  */</i></td></tr>
<tr><th id="109">109</th><td><b>struct</b> <dfn class="type def" id="menu_section" title='menu_section' data-ref="menu_section" data-ref-filename="menu_section">menu_section</dfn></td></tr>
<tr><th id="110">110</th><td>{</td></tr>
<tr><th id="111">111</th><td>  <b>struct</b> <a class="type" href="#menu_section" title='menu_section' data-ref="menu_section" data-ref-filename="menu_section">menu_section</a> *<dfn class="tu decl field" id="menu_section::next" title='menu_section::next' data-type='struct menu_section *' data-ref="menu_section::next" data-ref-filename="menu_section..next">next</dfn>;</td></tr>
<tr><th id="112">112</th><td>  <em>char</em> *<dfn class="tu decl field" id="menu_section::name" title='menu_section::name' data-type='char *' data-ref="menu_section::name" data-ref-filename="menu_section..name">name</dfn>;</td></tr>
<tr><th id="113">113</th><td>  <i  data-doc="menu_section::start_line">/* Line number of start of section.  */</i></td></tr>
<tr><th id="114">114</th><td>  <em>int</em> <dfn class="tu decl field" id="menu_section::start_line" title='menu_section::start_line' data-type='int' data-ref="menu_section::start_line" data-ref-filename="menu_section..start_line">start_line</dfn>;</td></tr>
<tr><th id="115">115</th><td>  <i  data-doc="menu_section::end_line">/* Line number of end of section.  */</i></td></tr>
<tr><th id="116">116</th><td>  <em>int</em> <dfn class="tu decl field" id="menu_section::end_line" title='menu_section::end_line' data-type='int' data-ref="menu_section::end_line" data-ref-filename="menu_section..end_line">end_line</dfn>;</td></tr>
<tr><th id="117">117</th><td>};</td></tr>
<tr><th id="118">118</th><td></td></tr>
<tr><th id="119">119</th><td><i>/* This table defines all the long-named options, says whether they</i></td></tr>
<tr><th id="120">120</th><td><i>   use an argument, and maps them into equivalent single-letter options.  */</i></td></tr>
<tr><th id="121">121</th><td></td></tr>
<tr><th id="122">122</th><td><b>struct</b> <a class="type" href="../lib/getopt_.h.html#option" title='option' data-ref="option" data-ref-filename="option">option</a> <dfn class="decl def" id="longopts" title='longopts' data-ref="longopts" data-ref-filename="longopts">longopts</dfn>[] =</td></tr>
<tr><th id="123">123</th><td>{</td></tr>
<tr><th id="124">124</th><td>  { <q>"delete"</q>,    <a class="macro" href="../lib/getopt_.h.html#119" title="0" data-ref="_M/no_argument">no_argument</a>, <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>, <kbd>'r'</kbd> },</td></tr>
<tr><th id="125">125</th><td>  { <q>"dir-file"</q>,  <a class="macro" href="../lib/getopt_.h.html#120" title="1" data-ref="_M/required_argument">required_argument</a>, <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>, <kbd>'d'</kbd> },</td></tr>
<tr><th id="126">126</th><td>  { <q>"entry"</q>,     <a class="macro" href="../lib/getopt_.h.html#120" title="1" data-ref="_M/required_argument">required_argument</a>, <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>, <kbd>'e'</kbd> },</td></tr>
<tr><th id="127">127</th><td>  { <q>"help"</q>,      <a class="macro" href="../lib/getopt_.h.html#119" title="0" data-ref="_M/no_argument">no_argument</a>, <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>, <kbd>'h'</kbd> },</td></tr>
<tr><th id="128">128</th><td>  { <q>"infodir"</q>,   <a class="macro" href="../lib/getopt_.h.html#120" title="1" data-ref="_M/required_argument">required_argument</a>, <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>, <kbd>'D'</kbd> },</td></tr>
<tr><th id="129">129</th><td>  { <q>"info-dir"</q>,  <a class="macro" href="../lib/getopt_.h.html#120" title="1" data-ref="_M/required_argument">required_argument</a>, <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>, <kbd>'D'</kbd> },</td></tr>
<tr><th id="130">130</th><td>  { <q>"info-file"</q>, <a class="macro" href="../lib/getopt_.h.html#120" title="1" data-ref="_M/required_argument">required_argument</a>, <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>, <kbd>'i'</kbd> },</td></tr>
<tr><th id="131">131</th><td>  { <q>"item"</q>,      <a class="macro" href="../lib/getopt_.h.html#120" title="1" data-ref="_M/required_argument">required_argument</a>, <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>, <kbd>'e'</kbd> },</td></tr>
<tr><th id="132">132</th><td>  { <q>"quiet"</q>,     <a class="macro" href="../lib/getopt_.h.html#119" title="0" data-ref="_M/no_argument">no_argument</a>, <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>, <kbd>'q'</kbd> },</td></tr>
<tr><th id="133">133</th><td>  { <q>"remove"</q>,    <a class="macro" href="../lib/getopt_.h.html#119" title="0" data-ref="_M/no_argument">no_argument</a>, <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>, <kbd>'r'</kbd> },</td></tr>
<tr><th id="134">134</th><td>  { <q>"section"</q>,   <a class="macro" href="../lib/getopt_.h.html#120" title="1" data-ref="_M/required_argument">required_argument</a>, <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>, <kbd>'s'</kbd> },</td></tr>
<tr><th id="135">135</th><td>  { <q>"version"</q>,   <a class="macro" href="../lib/getopt_.h.html#119" title="0" data-ref="_M/no_argument">no_argument</a>, <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>, <kbd>'V'</kbd> },</td></tr>
<tr><th id="136">136</th><td>  { <var>0</var> }</td></tr>
<tr><th id="137">137</th><td>};</td></tr>
<tr><th id="138">138</th><td></td></tr>
<tr><th id="139">139</th><td><i>/* Error message functions.  */</i></td></tr>
<tr><th id="140">140</th><td></td></tr>
<tr><th id="141">141</th><td><i>/* Print error message.  S1 is printf control string, S2 and S3 args for it. */</i></td></tr>
<tr><th id="142">142</th><td></td></tr>
<tr><th id="143">143</th><td><i>/* VARARGS1 */</i></td></tr>
<tr><th id="144">144</th><td><em>void</em></td></tr>
<tr><th id="145">145</th><td><dfn class="decl def fn" id="error" title='error' data-ref="error" data-ref-filename="error">error</dfn> (<em>const</em> <em>char</em> *<dfn class="local col2 decl" id="12s1" title='s1' data-type='const char *' data-ref="12s1" data-ref-filename="12s1">s1</dfn>, <em>const</em> <em>char</em> *<dfn class="local col3 decl" id="13s2" title='s2' data-type='const char *' data-ref="13s2" data-ref-filename="13s2">s2</dfn>, <em>const</em> <em>char</em> *<dfn class="local col4 decl" id="14s3" title='s3' data-type='const char *' data-ref="14s3" data-ref-filename="14s3">s3</dfn>)</td></tr>
<tr><th id="146">146</th><td>{</td></tr>
<tr><th id="147">147</th><td>  <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fprintf" title='fprintf' data-ref="fprintf" data-ref-filename="fprintf">fprintf</a> (<a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#217" title="(&amp;__sF[2])" data-ref="_M/stderr">stderr</a>, <q>"%s: "</q>, <a class="tu ref" href="#progname" title='progname' data-use='r' data-ref="progname" data-ref-filename="progname">progname</a>);</td></tr>
<tr><th id="148">148</th><td>  <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fprintf" title='fprintf' data-ref="fprintf" data-ref-filename="fprintf">fprintf</a> (<a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#217" title="(&amp;__sF[2])" data-ref="_M/stderr">stderr</a>, <a class="local col2 ref" href="#12s1" title='s1' data-ref="12s1" data-ref-filename="12s1">s1</a>, <a class="local col3 ref" href="#13s2" title='s2' data-ref="13s2" data-ref-filename="13s2">s2</a>, <a class="local col4 ref" href="#14s3" title='s3' data-ref="14s3" data-ref-filename="14s3">s3</a>);</td></tr>
<tr><th id="149">149</th><td>  <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#497" title="__sputc(&apos;\n&apos;, (&amp;__sF[2]))" data-ref="_M/putc">putc</a> (<kbd>'\n'</kbd>, <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#217" title="(&amp;__sF[2])" data-ref="_M/stderr">stderr</a>);</td></tr>
<tr><th id="150">150</th><td>}</td></tr>
<tr><th id="151">151</th><td></td></tr>
<tr><th id="152">152</th><td><i>/* VARARGS1 */</i></td></tr>
<tr><th id="153">153</th><td><em>void</em></td></tr>
<tr><th id="154">154</th><td><dfn class="decl def fn" id="warning" title='warning' data-ref="warning" data-ref-filename="warning">warning</dfn> (<em>const</em> <em>char</em> *<dfn class="local col5 decl" id="15s1" title='s1' data-type='const char *' data-ref="15s1" data-ref-filename="15s1">s1</dfn>, <em>const</em> <em>char</em> *<dfn class="local col6 decl" id="16s2" title='s2' data-type='const char *' data-ref="16s2" data-ref-filename="16s2">s2</dfn>, <em>const</em> <em>char</em> *<dfn class="local col7 decl" id="17s3" title='s3' data-type='const char *' data-ref="17s3" data-ref-filename="17s3">s3</dfn>)</td></tr>
<tr><th id="155">155</th><td>{</td></tr>
<tr><th id="156">156</th><td>  <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fprintf" title='fprintf' data-ref="fprintf" data-ref-filename="fprintf">fprintf</a> (<a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#217" title="(&amp;__sF[2])" data-ref="_M/stderr">stderr</a>, <a class="macro" href="../lib/system.h.html#59" title="gettext (&quot;%s: warning: &quot;)" data-ref="_M/_">_</a>(<q>"%s: warning: "</q>), <a class="tu ref" href="#progname" title='progname' data-use='r' data-ref="progname" data-ref-filename="progname">progname</a>);</td></tr>
<tr><th id="157">157</th><td>  <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fprintf" title='fprintf' data-ref="fprintf" data-ref-filename="fprintf">fprintf</a> (<a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#217" title="(&amp;__sF[2])" data-ref="_M/stderr">stderr</a>, <a class="local col5 ref" href="#15s1" title='s1' data-ref="15s1" data-ref-filename="15s1">s1</a>, <a class="local col6 ref" href="#16s2" title='s2' data-ref="16s2" data-ref-filename="16s2">s2</a>, <a class="local col7 ref" href="#17s3" title='s3' data-ref="17s3" data-ref-filename="17s3">s3</a>);</td></tr>
<tr><th id="158">158</th><td>  <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#497" title="__sputc(&apos;\n&apos;, (&amp;__sF[2]))" data-ref="_M/putc">putc</a> (<kbd>'\n'</kbd>, <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#217" title="(&amp;__sF[2])" data-ref="_M/stderr">stderr</a>);</td></tr>
<tr><th id="159">159</th><td>}</td></tr>
<tr><th id="160">160</th><td></td></tr>
<tr><th id="161">161</th><td><i>/* Print error message and exit.  */</i></td></tr>
<tr><th id="162">162</th><td></td></tr>
<tr><th id="163">163</th><td><em>void</em></td></tr>
<tr><th id="164">164</th><td><dfn class="decl def fn" id="fatal" title='fatal' data-ref="fatal" data-ref-filename="fatal">fatal</dfn> (<em>const</em> <em>char</em> *<dfn class="local col8 decl" id="18s1" title='s1' data-type='const char *' data-ref="18s1" data-ref-filename="18s1">s1</dfn>, <em>const</em> <em>char</em> *<dfn class="local col9 decl" id="19s2" title='s2' data-type='const char *' data-ref="19s2" data-ref-filename="19s2">s2</dfn>, <em>const</em> <em>char</em> *<dfn class="local col0 decl" id="20s3" title='s3' data-type='const char *' data-ref="20s3" data-ref-filename="20s3">s3</dfn>)</td></tr>
<tr><th id="165">165</th><td>{</td></tr>
<tr><th id="166">166</th><td>  <a class="ref fn" href="#error" title='error' data-ref="error" data-ref-filename="error">error</a> (<a class="local col8 ref" href="#18s1" title='s1' data-ref="18s1" data-ref-filename="18s1">s1</a>, <a class="local col9 ref" href="#19s2" title='s2' data-ref="19s2" data-ref-filename="19s2">s2</a>, <a class="local col0 ref" href="#20s3" title='s3' data-ref="20s3" data-ref-filename="20s3">s3</a>);</td></tr>
<tr><th id="167">167</th><td>  <a class="ref fn" href="../lib/system.h.html#xexit" title='xexit' data-ref="xexit" data-ref-filename="xexit">xexit</a> (<var>1</var>);</td></tr>
<tr><th id="168">168</th><td>}</td></tr>
<tr><th id="169">169</th><td></td></tr>
<tr><th id="170">170</th><td><i>/* Return a newly-allocated string</i></td></tr>
<tr><th id="171">171</th><td><i>   whose contents concatenate those of S1, S2, S3.  */</i></td></tr>
<tr><th id="172">172</th><td><em>char</em> *</td></tr>
<tr><th id="173">173</th><td><dfn class="decl def fn" id="concat" title='concat' data-ref="concat" data-ref-filename="concat">concat</dfn> (<em>const</em> <em>char</em> *<dfn class="local col1 decl" id="21s1" title='s1' data-type='const char *' data-ref="21s1" data-ref-filename="21s1">s1</dfn>, <em>const</em> <em>char</em> *<dfn class="local col2 decl" id="22s2" title='s2' data-type='const char *' data-ref="22s2" data-ref-filename="22s2">s2</dfn>, <em>const</em> <em>char</em> *<dfn class="local col3 decl" id="23s3" title='s3' data-type='const char *' data-ref="23s3" data-ref-filename="23s3">s3</dfn>)</td></tr>
<tr><th id="174">174</th><td>{</td></tr>
<tr><th id="175">175</th><td>  <em>int</em> <dfn class="local col4 decl" id="24len1" title='len1' data-type='int' data-ref="24len1" data-ref-filename="24len1">len1</dfn> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a> (<a class="local col1 ref" href="#21s1" title='s1' data-ref="21s1" data-ref-filename="21s1">s1</a>), <dfn class="local col5 decl" id="25len2" title='len2' data-type='int' data-ref="25len2" data-ref-filename="25len2">len2</dfn> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a> (<a class="local col2 ref" href="#22s2" title='s2' data-ref="22s2" data-ref-filename="22s2">s2</a>), <dfn class="local col6 decl" id="26len3" title='len3' data-type='int' data-ref="26len3" data-ref-filename="26len3">len3</dfn> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a> (<a class="local col3 ref" href="#23s3" title='s3' data-ref="23s3" data-ref-filename="23s3">s3</a>);</td></tr>
<tr><th id="176">176</th><td>  <em>char</em> *<dfn class="local col7 decl" id="27result" title='result' data-type='char *' data-ref="27result" data-ref-filename="27result">result</dfn> = (<em>char</em> *) <a class="ref fn" href="../lib/system.h.html#xmalloc" title='xmalloc' data-ref="xmalloc" data-ref-filename="xmalloc">xmalloc</a> (<a class="local col4 ref" href="#24len1" title='len1' data-ref="24len1" data-ref-filename="24len1">len1</a> + <a class="local col5 ref" href="#25len2" title='len2' data-ref="25len2" data-ref-filename="25len2">len2</a> + <a class="local col6 ref" href="#26len3" title='len3' data-ref="26len3" data-ref-filename="26len3">len3</a> + <var>1</var>);</td></tr>
<tr><th id="177">177</th><td></td></tr>
<tr><th id="178">178</th><td>  <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strcpy" title='strcpy' data-ref="strcpy" data-ref-filename="strcpy">strcpy</a> (<a class="local col7 ref" href="#27result" title='result' data-ref="27result" data-ref-filename="27result">result</a>, <a class="local col1 ref" href="#21s1" title='s1' data-ref="21s1" data-ref-filename="21s1">s1</a>);</td></tr>
<tr><th id="179">179</th><td>  <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strcpy" title='strcpy' data-ref="strcpy" data-ref-filename="strcpy">strcpy</a> (<a class="local col7 ref" href="#27result" title='result' data-ref="27result" data-ref-filename="27result">result</a> + <a class="local col4 ref" href="#24len1" title='len1' data-ref="24len1" data-ref-filename="24len1">len1</a>, <a class="local col2 ref" href="#22s2" title='s2' data-ref="22s2" data-ref-filename="22s2">s2</a>);</td></tr>
<tr><th id="180">180</th><td>  <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strcpy" title='strcpy' data-ref="strcpy" data-ref-filename="strcpy">strcpy</a> (<a class="local col7 ref" href="#27result" title='result' data-ref="27result" data-ref-filename="27result">result</a> + <a class="local col4 ref" href="#24len1" title='len1' data-ref="24len1" data-ref-filename="24len1">len1</a> + <a class="local col5 ref" href="#25len2" title='len2' data-ref="25len2" data-ref-filename="25len2">len2</a>, <a class="local col3 ref" href="#23s3" title='s3' data-ref="23s3" data-ref-filename="23s3">s3</a>);</td></tr>
<tr><th id="181">181</th><td>  *(<a class="local col7 ref" href="#27result" title='result' data-ref="27result" data-ref-filename="27result">result</a> + <a class="local col4 ref" href="#24len1" title='len1' data-ref="24len1" data-ref-filename="24len1">len1</a> + <a class="local col5 ref" href="#25len2" title='len2' data-ref="25len2" data-ref-filename="25len2">len2</a> + <a class="local col6 ref" href="#26len3" title='len3' data-ref="26len3" data-ref-filename="26len3">len3</a>) = <var>0</var>;</td></tr>
<tr><th id="182">182</th><td></td></tr>
<tr><th id="183">183</th><td>  <b>return</b> <a class="local col7 ref" href="#27result" title='result' data-ref="27result" data-ref-filename="27result">result</a>;</td></tr>
<tr><th id="184">184</th><td>}</td></tr>
<tr><th id="185">185</th><td></td></tr>
<tr><th id="186">186</th><td><i>/* Return a string containing SIZE characters</i></td></tr>
<tr><th id="187">187</th><td><i>   copied from starting at STRING.  */</i></td></tr>
<tr><th id="188">188</th><td></td></tr>
<tr><th id="189">189</th><td><em>char</em> *</td></tr>
<tr><th id="190">190</th><td><dfn class="decl def fn" id="copy_string" title='copy_string' data-ref="copy_string" data-ref-filename="copy_string">copy_string</dfn> (<em>const</em> <em>char</em> *<dfn class="local col8 decl" id="28string" title='string' data-type='const char *' data-ref="28string" data-ref-filename="28string">string</dfn>, <em>int</em> <dfn class="local col9 decl" id="29size" title='size' data-type='int' data-ref="29size" data-ref-filename="29size">size</dfn>)</td></tr>
<tr><th id="191">191</th><td>{</td></tr>
<tr><th id="192">192</th><td>  <em>int</em> <dfn class="local col0 decl" id="30i" title='i' data-type='int' data-ref="30i" data-ref-filename="30i">i</dfn>;</td></tr>
<tr><th id="193">193</th><td>  <em>char</em> *<dfn class="local col1 decl" id="31copy" title='copy' data-type='char *' data-ref="31copy" data-ref-filename="31copy">copy</dfn> = (<em>char</em> *) <a class="ref fn" href="../lib/system.h.html#xmalloc" title='xmalloc' data-ref="xmalloc" data-ref-filename="xmalloc">xmalloc</a> (<a class="local col9 ref" href="#29size" title='size' data-ref="29size" data-ref-filename="29size">size</a> + <var>1</var>);</td></tr>
<tr><th id="194">194</th><td>  <b>for</b> (<a class="local col0 ref" href="#30i" title='i' data-ref="30i" data-ref-filename="30i">i</a> = <var>0</var>; <a class="local col0 ref" href="#30i" title='i' data-ref="30i" data-ref-filename="30i">i</a> &lt; <a class="local col9 ref" href="#29size" title='size' data-ref="29size" data-ref-filename="29size">size</a>; <a class="local col0 ref" href="#30i" title='i' data-ref="30i" data-ref-filename="30i">i</a>++)</td></tr>
<tr><th id="195">195</th><td>    <a class="local col1 ref" href="#31copy" title='copy' data-ref="31copy" data-ref-filename="31copy">copy</a>[<a class="local col0 ref" href="#30i" title='i' data-ref="30i" data-ref-filename="30i">i</a>] = <a class="local col8 ref" href="#28string" title='string' data-ref="28string" data-ref-filename="28string">string</a>[<a class="local col0 ref" href="#30i" title='i' data-ref="30i" data-ref-filename="30i">i</a>];</td></tr>
<tr><th id="196">196</th><td>  <a class="local col1 ref" href="#31copy" title='copy' data-ref="31copy" data-ref-filename="31copy">copy</a>[<a class="local col9 ref" href="#29size" title='size' data-ref="29size" data-ref-filename="29size">size</a>] = <var>0</var>;</td></tr>
<tr><th id="197">197</th><td>  <b>return</b> <a class="local col1 ref" href="#31copy" title='copy' data-ref="31copy" data-ref-filename="31copy">copy</a>;</td></tr>
<tr><th id="198">198</th><td>}</td></tr>
<tr><th id="199">199</th><td></td></tr>
<tr><th id="200">200</th><td><i>/* Print fatal error message based on errno, with file name NAME.  */</i></td></tr>
<tr><th id="201">201</th><td></td></tr>
<tr><th id="202">202</th><td><em>void</em></td></tr>
<tr><th id="203">203</th><td><dfn class="decl def fn" id="pfatal_with_name" title='pfatal_with_name' data-ref="pfatal_with_name" data-ref-filename="pfatal_with_name">pfatal_with_name</dfn> (<em>const</em> <em>char</em> *<dfn class="local col2 decl" id="32name" title='name' data-type='const char *' data-ref="32name" data-ref-filename="32name">name</dfn>)</td></tr>
<tr><th id="204">204</th><td>{</td></tr>
<tr><th id="205">205</th><td>  <em>char</em> *<dfn class="local col3 decl" id="33s" title='s' data-type='char *' data-ref="33s" data-ref-filename="33s">s</dfn> = <a class="ref fn" href="#concat" title='concat' data-ref="concat" data-ref-filename="concat">concat</a> (<q>""</q>, <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strerror" title='strerror' data-ref="strerror" data-ref-filename="strerror">strerror</a> (<a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/errno.h.html#55" title="(*__errno())" data-ref="_M/errno">errno</a>), <a class="macro" href="../lib/system.h.html#59" title="gettext (&quot; for %s&quot;)" data-ref="_M/_">_</a>(<q>" for %s"</q>));</td></tr>
<tr><th id="206">206</th><td>  <a class="ref fn" href="#fatal" title='fatal' data-ref="fatal" data-ref-filename="fatal">fatal</a> (<a class="local col3 ref" href="#33s" title='s' data-ref="33s" data-ref-filename="33s">s</a>, <a class="local col2 ref" href="#32name" title='name' data-ref="32name" data-ref-filename="32name">name</a>, <var>0</var>);</td></tr>
<tr><th id="207">207</th><td>}</td></tr>
<tr><th id="208">208</th><td></td></tr>
<tr><th id="209">209</th><td><i  data-doc="menu_line_lessp">/* Compare the menu item names in LINE1 (line length LEN1)</i></td></tr>
<tr><th id="210">210</th><td><i  data-doc="menu_line_lessp">   and LINE2 (line length LEN2).  Return 1 if the item name</i></td></tr>
<tr><th id="211">211</th><td><i  data-doc="menu_line_lessp">   in LINE1 is less, 0 otherwise.  */</i></td></tr>
<tr><th id="212">212</th><td></td></tr>
<tr><th id="213">213</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="214">214</th><td><dfn class="tu decl def fn" id="menu_line_lessp" title='menu_line_lessp' data-type='int menu_line_lessp(char * line1, int len1, char * line2, int len2)' data-ref="menu_line_lessp" data-ref-filename="menu_line_lessp">menu_line_lessp</dfn> (<em>char</em> *<dfn class="local col4 decl" id="34line1" title='line1' data-type='char *' data-ref="34line1" data-ref-filename="34line1">line1</dfn>, <em>int</em> <dfn class="local col5 decl" id="35len1" title='len1' data-type='int' data-ref="35len1" data-ref-filename="35len1">len1</dfn>, <em>char</em> *<dfn class="local col6 decl" id="36line2" title='line2' data-type='char *' data-ref="36line2" data-ref-filename="36line2">line2</dfn>, <em>int</em> <dfn class="local col7 decl" id="37len2" title='len2' data-type='int' data-ref="37len2" data-ref-filename="37len2">len2</dfn>)</td></tr>
<tr><th id="215">215</th><td>{</td></tr>
<tr><th id="216">216</th><td>  <em>int</em> <dfn class="local col8 decl" id="38minlen" title='minlen' data-type='int' data-ref="38minlen" data-ref-filename="38minlen">minlen</dfn> = (<a class="local col5 ref" href="#35len1" title='len1' data-ref="35len1" data-ref-filename="35len1">len1</a> &lt; <a class="local col7 ref" href="#37len2" title='len2' data-ref="37len2" data-ref-filename="37len2">len2</a> ? <a class="local col5 ref" href="#35len1" title='len1' data-ref="35len1" data-ref-filename="35len1">len1</a> : <a class="local col7 ref" href="#37len2" title='len2' data-ref="37len2" data-ref-filename="37len2">len2</a>);</td></tr>
<tr><th id="217">217</th><td>  <em>int</em> <dfn class="local col9 decl" id="39i" title='i' data-type='int' data-ref="39i" data-ref-filename="39i">i</dfn>;</td></tr>
<tr><th id="218">218</th><td></td></tr>
<tr><th id="219">219</th><td>  <b>for</b> (<a class="local col9 ref" href="#39i" title='i' data-ref="39i" data-ref-filename="39i">i</a> = <var>0</var>; <a class="local col9 ref" href="#39i" title='i' data-ref="39i" data-ref-filename="39i">i</a> &lt; <a class="local col8 ref" href="#38minlen" title='minlen' data-ref="38minlen" data-ref-filename="38minlen">minlen</a>; <a class="local col9 ref" href="#39i" title='i' data-ref="39i" data-ref-filename="39i">i</a>++)</td></tr>
<tr><th id="220">220</th><td>    {</td></tr>
<tr><th id="221">221</th><td>      <i>/* If one item name is a prefix of the other,</i></td></tr>
<tr><th id="222">222</th><td><i>         the former one is less.  */</i></td></tr>
<tr><th id="223">223</th><td>      <b>if</b> (<a class="local col4 ref" href="#34line1" title='line1' data-ref="34line1" data-ref-filename="34line1">line1</a>[<a class="local col9 ref" href="#39i" title='i' data-ref="39i" data-ref-filename="39i">i</a>] == <kbd>':'</kbd> &amp;&amp; <a class="local col6 ref" href="#36line2" title='line2' data-ref="36line2" data-ref-filename="36line2">line2</a>[<a class="local col9 ref" href="#39i" title='i' data-ref="39i" data-ref-filename="39i">i</a>] != <kbd>':'</kbd>)</td></tr>
<tr><th id="224">224</th><td>        <b>return</b> <var>1</var>;</td></tr>
<tr><th id="225">225</th><td>      <b>if</b> (<a class="local col6 ref" href="#36line2" title='line2' data-ref="36line2" data-ref-filename="36line2">line2</a>[<a class="local col9 ref" href="#39i" title='i' data-ref="39i" data-ref-filename="39i">i</a>] == <kbd>':'</kbd> &amp;&amp; <a class="local col4 ref" href="#34line1" title='line1' data-ref="34line1" data-ref-filename="34line1">line1</a>[<a class="local col9 ref" href="#39i" title='i' data-ref="39i" data-ref-filename="39i">i</a>] != <kbd>':'</kbd>)</td></tr>
<tr><th id="226">226</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="227">227</th><td>      <i>/* If they both continue and differ, one is less.  */</i></td></tr>
<tr><th id="228">228</th><td>      <b>if</b> (<a class="local col4 ref" href="#34line1" title='line1' data-ref="34line1" data-ref-filename="34line1">line1</a>[<a class="local col9 ref" href="#39i" title='i' data-ref="39i" data-ref-filename="39i">i</a>] &lt; <a class="local col6 ref" href="#36line2" title='line2' data-ref="36line2" data-ref-filename="36line2">line2</a>[<a class="local col9 ref" href="#39i" title='i' data-ref="39i" data-ref-filename="39i">i</a>])</td></tr>
<tr><th id="229">229</th><td>        <b>return</b> <var>1</var>;</td></tr>
<tr><th id="230">230</th><td>      <b>if</b> (<a class="local col4 ref" href="#34line1" title='line1' data-ref="34line1" data-ref-filename="34line1">line1</a>[<a class="local col9 ref" href="#39i" title='i' data-ref="39i" data-ref-filename="39i">i</a>] &gt; <a class="local col6 ref" href="#36line2" title='line2' data-ref="36line2" data-ref-filename="36line2">line2</a>[<a class="local col9 ref" href="#39i" title='i' data-ref="39i" data-ref-filename="39i">i</a>])</td></tr>
<tr><th id="231">231</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="232">232</th><td>    }</td></tr>
<tr><th id="233">233</th><td>  <i>/* With a properly formatted dir file,</i></td></tr>
<tr><th id="234">234</th><td><i>     we can only get here if the item names are equal.  */</i></td></tr>
<tr><th id="235">235</th><td>  <b>return</b> <var>0</var>;</td></tr>
<tr><th id="236">236</th><td>}</td></tr>
<tr><th id="237">237</th><td></td></tr>
<tr><th id="238">238</th><td><i  data-doc="menu_line_equal">/* Compare the menu item names in LINE1 (line length LEN1)</i></td></tr>
<tr><th id="239">239</th><td><i  data-doc="menu_line_equal">   and LINE2 (line length LEN2).  Return 1 if the item names are equal,</i></td></tr>
<tr><th id="240">240</th><td><i  data-doc="menu_line_equal">   0 otherwise.  */</i></td></tr>
<tr><th id="241">241</th><td></td></tr>
<tr><th id="242">242</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="243">243</th><td><dfn class="tu decl def fn" id="menu_line_equal" title='menu_line_equal' data-type='int menu_line_equal(char * line1, int len1, char * line2, int len2)' data-ref="menu_line_equal" data-ref-filename="menu_line_equal">menu_line_equal</dfn> (<em>char</em> *<dfn class="local col0 decl" id="40line1" title='line1' data-type='char *' data-ref="40line1" data-ref-filename="40line1">line1</dfn>, <em>int</em> <dfn class="local col1 decl" id="41len1" title='len1' data-type='int' data-ref="41len1" data-ref-filename="41len1">len1</dfn>, <em>char</em> *<dfn class="local col2 decl" id="42line2" title='line2' data-type='char *' data-ref="42line2" data-ref-filename="42line2">line2</dfn>, <em>int</em> <dfn class="local col3 decl" id="43len2" title='len2' data-type='int' data-ref="43len2" data-ref-filename="43len2">len2</dfn>)</td></tr>
<tr><th id="244">244</th><td>{</td></tr>
<tr><th id="245">245</th><td>  <em>int</em> <dfn class="local col4 decl" id="44minlen" title='minlen' data-type='int' data-ref="44minlen" data-ref-filename="44minlen">minlen</dfn> = (<a class="local col1 ref" href="#41len1" title='len1' data-ref="41len1" data-ref-filename="41len1">len1</a> &lt; <a class="local col3 ref" href="#43len2" title='len2' data-ref="43len2" data-ref-filename="43len2">len2</a> ? <a class="local col1 ref" href="#41len1" title='len1' data-ref="41len1" data-ref-filename="41len1">len1</a> : <a class="local col3 ref" href="#43len2" title='len2' data-ref="43len2" data-ref-filename="43len2">len2</a>);</td></tr>
<tr><th id="246">246</th><td>  <em>int</em> <dfn class="local col5 decl" id="45i" title='i' data-type='int' data-ref="45i" data-ref-filename="45i">i</dfn>;</td></tr>
<tr><th id="247">247</th><td></td></tr>
<tr><th id="248">248</th><td>  <b>for</b> (<a class="local col5 ref" href="#45i" title='i' data-ref="45i" data-ref-filename="45i">i</a> = <var>0</var>; <a class="local col5 ref" href="#45i" title='i' data-ref="45i" data-ref-filename="45i">i</a> &lt; <a class="local col4 ref" href="#44minlen" title='minlen' data-ref="44minlen" data-ref-filename="44minlen">minlen</a>; <a class="local col5 ref" href="#45i" title='i' data-ref="45i" data-ref-filename="45i">i</a>++)</td></tr>
<tr><th id="249">249</th><td>    {</td></tr>
<tr><th id="250">250</th><td>      <i>/* If both item names end here, they are equal.  */</i></td></tr>
<tr><th id="251">251</th><td>      <b>if</b> (<a class="local col0 ref" href="#40line1" title='line1' data-ref="40line1" data-ref-filename="40line1">line1</a>[<a class="local col5 ref" href="#45i" title='i' data-ref="45i" data-ref-filename="45i">i</a>] == <kbd>':'</kbd> &amp;&amp; <a class="local col2 ref" href="#42line2" title='line2' data-ref="42line2" data-ref-filename="42line2">line2</a>[<a class="local col5 ref" href="#45i" title='i' data-ref="45i" data-ref-filename="45i">i</a>] == <kbd>':'</kbd>)</td></tr>
<tr><th id="252">252</th><td>        <b>return</b> <var>1</var>;</td></tr>
<tr><th id="253">253</th><td>      <i>/* If they both continue and differ, one is less.  */</i></td></tr>
<tr><th id="254">254</th><td>      <b>if</b> (<a class="local col0 ref" href="#40line1" title='line1' data-ref="40line1" data-ref-filename="40line1">line1</a>[<a class="local col5 ref" href="#45i" title='i' data-ref="45i" data-ref-filename="45i">i</a>] != <a class="local col2 ref" href="#42line2" title='line2' data-ref="42line2" data-ref-filename="42line2">line2</a>[<a class="local col5 ref" href="#45i" title='i' data-ref="45i" data-ref-filename="45i">i</a>])</td></tr>
<tr><th id="255">255</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="256">256</th><td>    }</td></tr>
<tr><th id="257">257</th><td>  <i>/* With a properly formatted dir file,</i></td></tr>
<tr><th id="258">258</th><td><i>     we can only get here if the item names are equal.  */</i></td></tr>
<tr><th id="259">259</th><td>  <b>return</b> <var>1</var>;</td></tr>
<tr><th id="260">260</th><td>}</td></tr>
<tr><th id="261">261</th><td></td></tr>
<tr><th id="262">262</th><td></td></tr>
<tr><th id="263">263</th><td><i>/* Given the full text of a menu entry, null terminated,</i></td></tr>
<tr><th id="264">264</th><td><i>   return just the menu item name (copied).  */</i></td></tr>
<tr><th id="265">265</th><td></td></tr>
<tr><th id="266">266</th><td><em>char</em> *</td></tr>
<tr><th id="267">267</th><td><dfn class="decl def fn" id="extract_menu_item_name" title='extract_menu_item_name' data-ref="extract_menu_item_name" data-ref-filename="extract_menu_item_name">extract_menu_item_name</dfn> (<em>char</em> *<dfn class="local col6 decl" id="46item_text" title='item_text' data-type='char *' data-ref="46item_text" data-ref-filename="46item_text">item_text</dfn>)</td></tr>
<tr><th id="268">268</th><td>{</td></tr>
<tr><th id="269">269</th><td>  <em>char</em> *<dfn class="local col7 decl" id="47p" title='p' data-type='char *' data-ref="47p" data-ref-filename="47p">p</dfn>;</td></tr>
<tr><th id="270">270</th><td></td></tr>
<tr><th id="271">271</th><td>  <b>if</b> (*<a class="local col6 ref" href="#46item_text" title='item_text' data-ref="46item_text" data-ref-filename="46item_text">item_text</a> == <kbd>'*'</kbd>)</td></tr>
<tr><th id="272">272</th><td>    <a class="local col6 ref" href="#46item_text" title='item_text' data-ref="46item_text" data-ref-filename="46item_text">item_text</a>++;</td></tr>
<tr><th id="273">273</th><td>  <b>while</b> (*<a class="local col6 ref" href="#46item_text" title='item_text' data-ref="46item_text" data-ref-filename="46item_text">item_text</a> == <kbd>' '</kbd>)</td></tr>
<tr><th id="274">274</th><td>    <a class="local col6 ref" href="#46item_text" title='item_text' data-ref="46item_text" data-ref-filename="46item_text">item_text</a>++;</td></tr>
<tr><th id="275">275</th><td></td></tr>
<tr><th id="276">276</th><td>  <a class="local col7 ref" href="#47p" title='p' data-ref="47p" data-ref-filename="47p">p</a> = <a class="local col6 ref" href="#46item_text" title='item_text' data-ref="46item_text" data-ref-filename="46item_text">item_text</a>;</td></tr>
<tr><th id="277">277</th><td>  <b>while</b> (*<a class="local col7 ref" href="#47p" title='p' data-ref="47p" data-ref-filename="47p">p</a> &amp;&amp; *<a class="local col7 ref" href="#47p" title='p' data-ref="47p" data-ref-filename="47p">p</a> != <kbd>':'</kbd>) <a class="local col7 ref" href="#47p" title='p' data-ref="47p" data-ref-filename="47p">p</a>++;</td></tr>
<tr><th id="278">278</th><td>  <b>return</b> <a class="ref fn" href="#copy_string" title='copy_string' data-ref="copy_string" data-ref-filename="copy_string">copy_string</a> (<a class="local col6 ref" href="#46item_text" title='item_text' data-ref="46item_text" data-ref-filename="46item_text">item_text</a>, <a class="local col7 ref" href="#47p" title='p' data-ref="47p" data-ref-filename="47p">p</a> - <a class="local col6 ref" href="#46item_text" title='item_text' data-ref="46item_text" data-ref-filename="46item_text">item_text</a>);</td></tr>
<tr><th id="279">279</th><td>}</td></tr>
<tr><th id="280">280</th><td></td></tr>
<tr><th id="281">281</th><td><i>/* Given the full text of a menu entry, terminated by null or newline,</i></td></tr>
<tr><th id="282">282</th><td><i>   return just the menu item file (copied).  */</i></td></tr>
<tr><th id="283">283</th><td></td></tr>
<tr><th id="284">284</th><td><em>char</em> *</td></tr>
<tr><th id="285">285</th><td><dfn class="decl def fn" id="extract_menu_file_name" title='extract_menu_file_name' data-ref="extract_menu_file_name" data-ref-filename="extract_menu_file_name">extract_menu_file_name</dfn> (<em>char</em> *<dfn class="local col8 decl" id="48item_text" title='item_text' data-type='char *' data-ref="48item_text" data-ref-filename="48item_text">item_text</dfn>)</td></tr>
<tr><th id="286">286</th><td>{</td></tr>
<tr><th id="287">287</th><td>  <em>char</em> *<dfn class="local col9 decl" id="49p" title='p' data-type='char *' data-ref="49p" data-ref-filename="49p">p</dfn> = <a class="local col8 ref" href="#48item_text" title='item_text' data-ref="48item_text" data-ref-filename="48item_text">item_text</a>;</td></tr>
<tr><th id="288">288</th><td></td></tr>
<tr><th id="289">289</th><td>  <i>/* If we have text that looks like * ITEM: (FILE)NODE...,</i></td></tr>
<tr><th id="290">290</th><td><i>     extract just FILE.  Otherwise return "(none)".  */</i></td></tr>
<tr><th id="291">291</th><td></td></tr>
<tr><th id="292">292</th><td>  <b>if</b> (*<a class="local col9 ref" href="#49p" title='p' data-ref="49p" data-ref-filename="49p">p</a> == <kbd>'*'</kbd>)</td></tr>
<tr><th id="293">293</th><td>    <a class="local col9 ref" href="#49p" title='p' data-ref="49p" data-ref-filename="49p">p</a>++;</td></tr>
<tr><th id="294">294</th><td>  <b>while</b> (*<a class="local col9 ref" href="#49p" title='p' data-ref="49p" data-ref-filename="49p">p</a> == <kbd>' '</kbd>)</td></tr>
<tr><th id="295">295</th><td>    <a class="local col9 ref" href="#49p" title='p' data-ref="49p" data-ref-filename="49p">p</a>++;</td></tr>
<tr><th id="296">296</th><td></td></tr>
<tr><th id="297">297</th><td>  <i>/* Skip to and past the colon.  */</i></td></tr>
<tr><th id="298">298</th><td>  <b>while</b> (*<a class="local col9 ref" href="#49p" title='p' data-ref="49p" data-ref-filename="49p">p</a> &amp;&amp; *<a class="local col9 ref" href="#49p" title='p' data-ref="49p" data-ref-filename="49p">p</a> != <kbd>'\n'</kbd> &amp;&amp; *<a class="local col9 ref" href="#49p" title='p' data-ref="49p" data-ref-filename="49p">p</a> != <kbd>':'</kbd>) <a class="local col9 ref" href="#49p" title='p' data-ref="49p" data-ref-filename="49p">p</a>++;</td></tr>
<tr><th id="299">299</th><td>  <b>if</b> (*<a class="local col9 ref" href="#49p" title='p' data-ref="49p" data-ref-filename="49p">p</a> == <kbd>':'</kbd>) <a class="local col9 ref" href="#49p" title='p' data-ref="49p" data-ref-filename="49p">p</a>++;</td></tr>
<tr><th id="300">300</th><td></td></tr>
<tr><th id="301">301</th><td>  <i>/* Skip past the open-paren.  */</i></td></tr>
<tr><th id="302">302</th><td>  <b>while</b> (<var>1</var>)</td></tr>
<tr><th id="303">303</th><td>    {</td></tr>
<tr><th id="304">304</th><td>      <b>if</b> (*<a class="local col9 ref" href="#49p" title='p' data-ref="49p" data-ref-filename="49p">p</a> == <kbd>'('</kbd>)</td></tr>
<tr><th id="305">305</th><td>        <b>break</b>;</td></tr>
<tr><th id="306">306</th><td>      <b>else</b> <b>if</b> (*<a class="local col9 ref" href="#49p" title='p' data-ref="49p" data-ref-filename="49p">p</a> == <kbd>' '</kbd> || *<a class="local col9 ref" href="#49p" title='p' data-ref="49p" data-ref-filename="49p">p</a> == <kbd>'\t'</kbd>)</td></tr>
<tr><th id="307">307</th><td>        <a class="local col9 ref" href="#49p" title='p' data-ref="49p" data-ref-filename="49p">p</a>++;</td></tr>
<tr><th id="308">308</th><td>      <b>else</b></td></tr>
<tr><th id="309">309</th><td>        <b>return</b> <q>"(none)"</q>;</td></tr>
<tr><th id="310">310</th><td>    }</td></tr>
<tr><th id="311">311</th><td>  <a class="local col9 ref" href="#49p" title='p' data-ref="49p" data-ref-filename="49p">p</a>++;</td></tr>
<tr><th id="312">312</th><td></td></tr>
<tr><th id="313">313</th><td>  <a class="local col8 ref" href="#48item_text" title='item_text' data-ref="48item_text" data-ref-filename="48item_text">item_text</a> = <a class="local col9 ref" href="#49p" title='p' data-ref="49p" data-ref-filename="49p">p</a>;</td></tr>
<tr><th id="314">314</th><td></td></tr>
<tr><th id="315">315</th><td>  <i>/* File name ends just before the close-paren.  */</i></td></tr>
<tr><th id="316">316</th><td>  <b>while</b> (*<a class="local col9 ref" href="#49p" title='p' data-ref="49p" data-ref-filename="49p">p</a> &amp;&amp; *<a class="local col9 ref" href="#49p" title='p' data-ref="49p" data-ref-filename="49p">p</a> != <kbd>'\n'</kbd> &amp;&amp; *<a class="local col9 ref" href="#49p" title='p' data-ref="49p" data-ref-filename="49p">p</a> != <kbd>')'</kbd>) <a class="local col9 ref" href="#49p" title='p' data-ref="49p" data-ref-filename="49p">p</a>++;</td></tr>
<tr><th id="317">317</th><td>  <b>if</b> (*<a class="local col9 ref" href="#49p" title='p' data-ref="49p" data-ref-filename="49p">p</a> != <kbd>')'</kbd>)</td></tr>
<tr><th id="318">318</th><td>    <b>return</b> <q>"(none)"</q>;</td></tr>
<tr><th id="319">319</th><td></td></tr>
<tr><th id="320">320</th><td>  <b>return</b> <a class="ref fn" href="#copy_string" title='copy_string' data-ref="copy_string" data-ref-filename="copy_string">copy_string</a> (<a class="local col8 ref" href="#48item_text" title='item_text' data-ref="48item_text" data-ref-filename="48item_text">item_text</a>, <a class="local col9 ref" href="#49p" title='p' data-ref="49p" data-ref-filename="49p">p</a> - <a class="local col8 ref" href="#48item_text" title='item_text' data-ref="48item_text" data-ref-filename="48item_text">item_text</a>);</td></tr>
<tr><th id="321">321</th><td>}</td></tr>
<tr><th id="322">322</th><td></td></tr>
<tr><th id="323">323</th><td></td></tr>
<tr><th id="324">324</th><td></td></tr>
<tr><th id="325">325</th><td><i  data-doc="strip_info_suffix">/* Return FNAME with any [.info][.gz] suffix removed.  */</i></td></tr>
<tr><th id="326">326</th><td></td></tr>
<tr><th id="327">327</th><td><em>static</em> <em>char</em> *</td></tr>
<tr><th id="328">328</th><td><dfn class="tu decl def fn" id="strip_info_suffix" title='strip_info_suffix' data-type='char * strip_info_suffix(char * fname)' data-ref="strip_info_suffix" data-ref-filename="strip_info_suffix">strip_info_suffix</dfn> (<em>char</em> *<dfn class="local col0 decl" id="50fname" title='fname' data-type='char *' data-ref="50fname" data-ref-filename="50fname">fname</dfn>)</td></tr>
<tr><th id="329">329</th><td>{</td></tr>
<tr><th id="330">330</th><td>  <em>char</em> *<dfn class="local col1 decl" id="51ret" title='ret' data-type='char *' data-ref="51ret" data-ref-filename="51ret">ret</dfn> = <a class="ref fn" href="../lib/system.h.html#xstrdup" title='xstrdup' data-ref="xstrdup" data-ref-filename="xstrdup">xstrdup</a> (<a class="local col0 ref" href="#50fname" title='fname' data-ref="50fname" data-ref-filename="50fname">fname</a>);</td></tr>
<tr><th id="331">331</th><td>  <em>unsigned</em> <dfn class="local col2 decl" id="52len" title='len' data-type='unsigned int' data-ref="52len" data-ref-filename="52len">len</dfn> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a> (<a class="local col1 ref" href="#51ret" title='ret' data-ref="51ret" data-ref-filename="51ret">ret</a>);</td></tr>
<tr><th id="332">332</th><td></td></tr>
<tr><th id="333">333</th><td>  <b>if</b> (<a class="local col2 ref" href="#52len" title='len' data-ref="52len" data-ref-filename="52len">len</a> &gt; <var>3</var> &amp;&amp; <a class="macro" href="../lib/system.h.html#247" title="strcmp" data-ref="_M/FILENAME_CMP">FILENAME_CMP</a> (<a class="local col1 ref" href="#51ret" title='ret' data-ref="51ret" data-ref-filename="51ret">ret</a> + <a class="local col2 ref" href="#52len" title='len' data-ref="52len" data-ref-filename="52len">len</a> - <var>3</var>, <q>".gz"</q>) == <var>0</var>)</td></tr>
<tr><th id="334">334</th><td>    {</td></tr>
<tr><th id="335">335</th><td>      <a class="local col2 ref" href="#52len" title='len' data-ref="52len" data-ref-filename="52len">len</a> -= <var>3</var>;</td></tr>
<tr><th id="336">336</th><td>      <a class="local col1 ref" href="#51ret" title='ret' data-ref="51ret" data-ref-filename="51ret">ret</a>[<a class="local col2 ref" href="#52len" title='len' data-ref="52len" data-ref-filename="52len">len</a>] = <var>0</var>;</td></tr>
<tr><th id="337">337</th><td>    }</td></tr>
<tr><th id="338">338</th><td>  <b>else</b> <b>if</b> (<a class="local col2 ref" href="#52len" title='len' data-ref="52len" data-ref-filename="52len">len</a> &gt; <var>4</var> &amp;&amp; <a class="macro" href="../lib/system.h.html#247" title="strcmp" data-ref="_M/FILENAME_CMP">FILENAME_CMP</a> (<a class="local col1 ref" href="#51ret" title='ret' data-ref="51ret" data-ref-filename="51ret">ret</a> + <a class="local col2 ref" href="#52len" title='len' data-ref="52len" data-ref-filename="52len">len</a> - <var>4</var>, <q>".bz2"</q>) == <var>0</var>)</td></tr>
<tr><th id="339">339</th><td>    {</td></tr>
<tr><th id="340">340</th><td>      <a class="local col2 ref" href="#52len" title='len' data-ref="52len" data-ref-filename="52len">len</a> -= <var>4</var>;</td></tr>
<tr><th id="341">341</th><td>      <a class="local col1 ref" href="#51ret" title='ret' data-ref="51ret" data-ref-filename="51ret">ret</a>[<a class="local col2 ref" href="#52len" title='len' data-ref="52len" data-ref-filename="52len">len</a>] = <var>0</var>;</td></tr>
<tr><th id="342">342</th><td>    }</td></tr>
<tr><th id="343">343</th><td></td></tr>
<tr><th id="344">344</th><td>  <b>if</b> (<a class="local col2 ref" href="#52len" title='len' data-ref="52len" data-ref-filename="52len">len</a> &gt; <var>5</var> &amp;&amp; <a class="macro" href="../lib/system.h.html#247" title="strcmp" data-ref="_M/FILENAME_CMP">FILENAME_CMP</a> (<a class="local col1 ref" href="#51ret" title='ret' data-ref="51ret" data-ref-filename="51ret">ret</a> + <a class="local col2 ref" href="#52len" title='len' data-ref="52len" data-ref-filename="52len">len</a> - <var>5</var>, <q>".info"</q>) == <var>0</var>)</td></tr>
<tr><th id="345">345</th><td>    {</td></tr>
<tr><th id="346">346</th><td>      <a class="local col2 ref" href="#52len" title='len' data-ref="52len" data-ref-filename="52len">len</a> -= <var>5</var>;</td></tr>
<tr><th id="347">347</th><td>      <a class="local col1 ref" href="#51ret" title='ret' data-ref="51ret" data-ref-filename="51ret">ret</a>[<a class="local col2 ref" href="#52len" title='len' data-ref="52len" data-ref-filename="52len">len</a>] = <var>0</var>;</td></tr>
<tr><th id="348">348</th><td>    }</td></tr>
<tr><th id="349">349</th><td>  <b>else</b> <b>if</b> (<a class="local col2 ref" href="#52len" title='len' data-ref="52len" data-ref-filename="52len">len</a> &gt; <var>4</var> &amp;&amp; <a class="macro" href="../lib/system.h.html#247" title="strcmp" data-ref="_M/FILENAME_CMP">FILENAME_CMP</a> (<a class="local col1 ref" href="#51ret" title='ret' data-ref="51ret" data-ref-filename="51ret">ret</a> + <a class="local col2 ref" href="#52len" title='len' data-ref="52len" data-ref-filename="52len">len</a> - <var>4</var>, <q>".inf"</q>) == <var>0</var>)</td></tr>
<tr><th id="350">350</th><td>    {</td></tr>
<tr><th id="351">351</th><td>      <a class="local col2 ref" href="#52len" title='len' data-ref="52len" data-ref-filename="52len">len</a> -= <var>4</var>;</td></tr>
<tr><th id="352">352</th><td>      <a class="local col1 ref" href="#51ret" title='ret' data-ref="51ret" data-ref-filename="51ret">ret</a>[<a class="local col2 ref" href="#52len" title='len' data-ref="52len" data-ref-filename="52len">len</a>] = <var>0</var>;</td></tr>
<tr><th id="353">353</th><td>    }</td></tr>
<tr><th id="354">354</th><td><u>#<span data-ppcond="354">ifdef</span> <span class="macro" data-ref="_M/__MSDOS__">__MSDOS__</span></u></td></tr>
<tr><th id="355">355</th><td>  <b>else</b> <b>if</b> (len &gt; <var>4</var> &amp;&amp; (FILENAME_CMP (ret + len - <var>4</var>, <q>".inz"</q>) == <var>0</var></td></tr>
<tr><th id="356">356</th><td>                       || FILENAME_CMP (ret + len - <var>4</var>, <q>".igz"</q>) == <var>0</var>))</td></tr>
<tr><th id="357">357</th><td>    {</td></tr>
<tr><th id="358">358</th><td>      len -= <var>4</var>;</td></tr>
<tr><th id="359">359</th><td>      ret[len] = <var>0</var>;</td></tr>
<tr><th id="360">360</th><td>    }</td></tr>
<tr><th id="361">361</th><td><u>#<span data-ppcond="354">endif</span> /* __MSDOS__ */</u></td></tr>
<tr><th id="362">362</th><td></td></tr>
<tr><th id="363">363</th><td>  <b>return</b> <a class="local col1 ref" href="#51ret" title='ret' data-ref="51ret" data-ref-filename="51ret">ret</a>;</td></tr>
<tr><th id="364">364</th><td>}</td></tr>
<tr><th id="365">365</th><td></td></tr>
<tr><th id="366">366</th><td></td></tr>
<tr><th id="367">367</th><td><i  data-doc="menu_item_equal">/* Return true if ITEM matches NAME and is followed by TERM_CHAR.  ITEM</i></td></tr>
<tr><th id="368">368</th><td><i  data-doc="menu_item_equal">   can also be followed by `.gz', `.info.gz', or `.info' (and then</i></td></tr>
<tr><th id="369">369</th><td><i  data-doc="menu_item_equal">   TERM_CHAR) and still match.  */</i></td></tr>
<tr><th id="370">370</th><td></td></tr>
<tr><th id="371">371</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="372">372</th><td><dfn class="tu decl def fn" id="menu_item_equal" title='menu_item_equal' data-type='int menu_item_equal(const char * item, char term_char, const char * name)' data-ref="menu_item_equal" data-ref-filename="menu_item_equal">menu_item_equal</dfn> (<em>const</em> <em>char</em> *<dfn class="local col3 decl" id="53item" title='item' data-type='const char *' data-ref="53item" data-ref-filename="53item">item</dfn>, <em>char</em> <dfn class="local col4 decl" id="54term_char" title='term_char' data-type='char' data-ref="54term_char" data-ref-filename="54term_char">term_char</dfn>, <em>const</em> <em>char</em> *<dfn class="local col5 decl" id="55name" title='name' data-type='const char *' data-ref="55name" data-ref-filename="55name">name</dfn>)</td></tr>
<tr><th id="373">373</th><td>{</td></tr>
<tr><th id="374">374</th><td>  <em>int</em> <dfn class="local col6 decl" id="56ret" title='ret' data-type='int' data-ref="56ret" data-ref-filename="56ret">ret</dfn>;</td></tr>
<tr><th id="375">375</th><td>  <em>const</em> <em>char</em> *<dfn class="local col7 decl" id="57item_basename" title='item_basename' data-type='const char *' data-ref="57item_basename" data-ref-filename="57item_basename">item_basename</dfn> = <a class="local col3 ref" href="#53item" title='item' data-ref="53item" data-ref-filename="53item">item</a>;</td></tr>
<tr><th id="376">376</th><td>  <em>unsigned</em> <dfn class="local col8 decl" id="58name_len" title='name_len' data-type='unsigned int' data-ref="58name_len" data-ref-filename="58name_len">name_len</dfn> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a> (<a class="local col5 ref" href="#55name" title='name' data-ref="55name" data-ref-filename="55name">name</a>);</td></tr>
<tr><th id="377">377</th><td></td></tr>
<tr><th id="378">378</th><td>  <i>/* We must compare the basename in ITEM, since we are passed the</i></td></tr>
<tr><th id="379">379</th><td><i>     basename of the original info file.  Otherwise, a new entry like</i></td></tr>
<tr><th id="380">380</th><td><i>     "lilypond/lilypond" won't match "lilypond".</i></td></tr>
<tr><th id="381">381</th><td><i>     </i></td></tr>
<tr><th id="382">382</th><td><i>     Actually, it seems to me that we should really compare the whole</i></td></tr>
<tr><th id="383">383</th><td><i>     name, and not just the basename.  Couldn't there be dir1/foo.info</i></td></tr>
<tr><th id="384">384</th><td><i>     and dir2/foo.info?  Also, it seems like we should be using the</i></td></tr>
<tr><th id="385">385</th><td><i>     filename from the new dir entries, not the filename on the command</i></td></tr>
<tr><th id="386">386</th><td><i>     line.  Not worrying about those things right now, though.  --karl,</i></td></tr>
<tr><th id="387">387</th><td><i>     26mar04.  */</i></td></tr>
<tr><th id="388">388</th><td>  <b>while</b> (*<a class="local col7 ref" href="#57item_basename" title='item_basename' data-ref="57item_basename" data-ref-filename="57item_basename">item_basename</a> &amp;&amp; !<a class="macro" href="../lib/system.h.html#244" title="((*item_basename) == &apos;/&apos;)" data-ref="_M/IS_SLASH">IS_SLASH</a> (*<a class="local col7 ref" href="#57item_basename" title='item_basename' data-ref="57item_basename" data-ref-filename="57item_basename">item_basename</a>)</td></tr>
<tr><th id="389">389</th><td>	 &amp;&amp; *<a class="local col7 ref" href="#57item_basename" title='item_basename' data-ref="57item_basename" data-ref-filename="57item_basename">item_basename</a> != <a class="local col4 ref" href="#54term_char" title='term_char' data-ref="54term_char" data-ref-filename="54term_char">term_char</a>)</td></tr>
<tr><th id="390">390</th><td>    <a class="local col7 ref" href="#57item_basename" title='item_basename' data-ref="57item_basename" data-ref-filename="57item_basename">item_basename</a>++;</td></tr>
<tr><th id="391">391</th><td>  <b>if</b> (! *<a class="local col7 ref" href="#57item_basename" title='item_basename' data-ref="57item_basename" data-ref-filename="57item_basename">item_basename</a> || *<a class="local col7 ref" href="#57item_basename" title='item_basename' data-ref="57item_basename" data-ref-filename="57item_basename">item_basename</a> == <a class="local col4 ref" href="#54term_char" title='term_char' data-ref="54term_char" data-ref-filename="54term_char">term_char</a>)</td></tr>
<tr><th id="392">392</th><td>    <a class="local col7 ref" href="#57item_basename" title='item_basename' data-ref="57item_basename" data-ref-filename="57item_basename">item_basename</a> = <a class="local col3 ref" href="#53item" title='item' data-ref="53item" data-ref-filename="53item">item</a>;  <i>/* no /, use original */</i></td></tr>
<tr><th id="393">393</th><td>  <b>else</b></td></tr>
<tr><th id="394">394</th><td>    <a class="local col7 ref" href="#57item_basename" title='item_basename' data-ref="57item_basename" data-ref-filename="57item_basename">item_basename</a>++;       <i>/* have /, move past it */</i></td></tr>
<tr><th id="395">395</th><td>    </td></tr>
<tr><th id="396">396</th><td>  <i>/* First, ITEM must actually match NAME (usually it won't).  */</i></td></tr>
<tr><th id="397">397</th><td>  <a class="local col6 ref" href="#56ret" title='ret' data-ref="56ret" data-ref-filename="56ret">ret</a> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/strings.h.html#strncasecmp" title='strncasecmp' data-ref="strncasecmp" data-ref-filename="strncasecmp">strncasecmp</a> (<a class="local col7 ref" href="#57item_basename" title='item_basename' data-ref="57item_basename" data-ref-filename="57item_basename">item_basename</a>, <a class="local col5 ref" href="#55name" title='name' data-ref="55name" data-ref-filename="55name">name</a>, <a class="local col8 ref" href="#58name_len" title='name_len' data-ref="58name_len" data-ref-filename="58name_len">name_len</a>) == <var>0</var>;</td></tr>
<tr><th id="398">398</th><td>  <b>if</b> (<a class="local col6 ref" href="#56ret" title='ret' data-ref="56ret" data-ref-filename="56ret">ret</a>)</td></tr>
<tr><th id="399">399</th><td>    {</td></tr>
<tr><th id="400">400</th><td>      <i>/* Then, `foobar' doesn't match `foo', so be sure we've got all of</i></td></tr>
<tr><th id="401">401</th><td><i>         ITEM.  The various suffixes should never actually appear in the</i></td></tr>
<tr><th id="402">402</th><td><i>         dir file, but sometimes people put them in.  */</i></td></tr>
<tr><th id="403">403</th><td>      <em>static</em> <em>char</em> *<dfn class="local col9 decl" id="59suffixes" title='suffixes' data-type='char *[6]' data-ref="59suffixes" data-ref-filename="59suffixes">suffixes</dfn>[]</td></tr>
<tr><th id="404">404</th><td>        = { <q>""</q>, <q>".info.gz"</q>, <q>".info"</q>, <q>".inf"</q>, <q>".gz"</q>,</td></tr>
<tr><th id="405">405</th><td><u>#<span data-ppcond="405">ifdef</span> <span class="macro" data-ref="_M/__MSDOS__">__MSDOS__</span></u></td></tr>
<tr><th id="406">406</th><td>            <q>".inz"</q>, <q>".igz"</q>,</td></tr>
<tr><th id="407">407</th><td><u>#<span data-ppcond="405">endif</span></u></td></tr>
<tr><th id="408">408</th><td>            <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a> };</td></tr>
<tr><th id="409">409</th><td>      <em>unsigned</em> <dfn class="local col0 decl" id="60i" title='i' data-type='unsigned int' data-ref="60i" data-ref-filename="60i">i</dfn>;</td></tr>
<tr><th id="410">410</th><td>      <a class="local col6 ref" href="#56ret" title='ret' data-ref="56ret" data-ref-filename="56ret">ret</a> = <var>0</var>;</td></tr>
<tr><th id="411">411</th><td>      <b>for</b> (<a class="local col0 ref" href="#60i" title='i' data-ref="60i" data-ref-filename="60i">i</a> = <var>0</var>; !<a class="local col6 ref" href="#56ret" title='ret' data-ref="56ret" data-ref-filename="56ret">ret</a> &amp;&amp; <a class="local col9 ref" href="#59suffixes" title='suffixes' data-ref="59suffixes" data-ref-filename="59suffixes">suffixes</a>[<a class="local col0 ref" href="#60i" title='i' data-ref="60i" data-ref-filename="60i">i</a>]; <a class="local col0 ref" href="#60i" title='i' data-ref="60i" data-ref-filename="60i">i</a>++)</td></tr>
<tr><th id="412">412</th><td>        {</td></tr>
<tr><th id="413">413</th><td>          <em>char</em> *<dfn class="local col1 decl" id="61suffix" title='suffix' data-type='char *' data-ref="61suffix" data-ref-filename="61suffix">suffix</dfn> = <a class="local col9 ref" href="#59suffixes" title='suffixes' data-ref="59suffixes" data-ref-filename="59suffixes">suffixes</a>[<a class="local col0 ref" href="#60i" title='i' data-ref="60i" data-ref-filename="60i">i</a>];</td></tr>
<tr><th id="414">414</th><td>          <em>unsigned</em> <dfn class="local col2 decl" id="62suffix_len" title='suffix_len' data-type='unsigned int' data-ref="62suffix_len" data-ref-filename="62suffix_len">suffix_len</dfn> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a> (<a class="local col1 ref" href="#61suffix" title='suffix' data-ref="61suffix" data-ref-filename="61suffix">suffix</a>);</td></tr>
<tr><th id="415">415</th><td>          <a class="local col6 ref" href="#56ret" title='ret' data-ref="56ret" data-ref-filename="56ret">ret</a> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/strings.h.html#strncasecmp" title='strncasecmp' data-ref="strncasecmp" data-ref-filename="strncasecmp">strncasecmp</a> (<a class="local col7 ref" href="#57item_basename" title='item_basename' data-ref="57item_basename" data-ref-filename="57item_basename">item_basename</a> + <a class="local col8 ref" href="#58name_len" title='name_len' data-ref="58name_len" data-ref-filename="58name_len">name_len</a>, <a class="local col1 ref" href="#61suffix" title='suffix' data-ref="61suffix" data-ref-filename="61suffix">suffix</a>, <a class="local col2 ref" href="#62suffix_len" title='suffix_len' data-ref="62suffix_len" data-ref-filename="62suffix_len">suffix_len</a>) == <var>0</var></td></tr>
<tr><th id="416">416</th><td>                &amp;&amp; <a class="local col7 ref" href="#57item_basename" title='item_basename' data-ref="57item_basename" data-ref-filename="57item_basename">item_basename</a>[<a class="local col8 ref" href="#58name_len" title='name_len' data-ref="58name_len" data-ref-filename="58name_len">name_len</a> + <a class="local col2 ref" href="#62suffix_len" title='suffix_len' data-ref="62suffix_len" data-ref-filename="62suffix_len">suffix_len</a>] == <a class="local col4 ref" href="#54term_char" title='term_char' data-ref="54term_char" data-ref-filename="54term_char">term_char</a>;</td></tr>
<tr><th id="417">417</th><td>        }</td></tr>
<tr><th id="418">418</th><td>    }</td></tr>
<tr><th id="419">419</th><td></td></tr>
<tr><th id="420">420</th><td>  <b>return</b> <a class="local col6 ref" href="#56ret" title='ret' data-ref="56ret" data-ref-filename="56ret">ret</a>;</td></tr>
<tr><th id="421">421</th><td>}</td></tr>
<tr><th id="422">422</th><td></td></tr>
<tr><th id="423">423</th><td></td></tr>
<tr><th id="424">424</th><td></td></tr>
<tr><th id="425">425</th><td><em>void</em></td></tr>
<tr><th id="426">426</th><td><dfn class="decl def fn" id="suggest_asking_for_help" title='suggest_asking_for_help' data-ref="suggest_asking_for_help" data-ref-filename="suggest_asking_for_help">suggest_asking_for_help</dfn> (<em>void</em>)</td></tr>
<tr><th id="427">427</th><td>{</td></tr>
<tr><th id="428">428</th><td>  <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fprintf" title='fprintf' data-ref="fprintf" data-ref-filename="fprintf">fprintf</a> (<a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#217" title="(&amp;__sF[2])" data-ref="_M/stderr">stderr</a>, <a class="macro" href="../lib/system.h.html#59" title="gettext (&quot;\tTry `%s --help&apos; for a complete list of options.\n&quot;)" data-ref="_M/_">_</a>(<q>"\tTry `%s --help' for a complete list of options.\n"</q>),</td></tr>
<tr><th id="429">429</th><td>           <a class="tu ref" href="#progname" title='progname' data-use='r' data-ref="progname" data-ref-filename="progname">progname</a>);</td></tr>
<tr><th id="430">430</th><td>  <a class="ref fn" href="../lib/system.h.html#xexit" title='xexit' data-ref="xexit" data-ref-filename="xexit">xexit</a> (<var>1</var>);</td></tr>
<tr><th id="431">431</th><td>}</td></tr>
<tr><th id="432">432</th><td></td></tr>
<tr><th id="433">433</th><td><em>void</em></td></tr>
<tr><th id="434">434</th><td><dfn class="decl def fn" id="print_help" title='print_help' data-ref="print_help" data-ref-filename="print_help">print_help</dfn> (<em>void</em>)</td></tr>
<tr><th id="435">435</th><td>{</td></tr>
<tr><th id="436">436</th><td>  <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#printf" title='printf' data-ref="printf" data-ref-filename="printf">printf</a> (<a class="macro" href="../lib/system.h.html#59" title="gettext (&quot;Usage: %s [OPTION]... [INFO-FILE [DIR-FILE]]\n\nInstall or delete dir entries from INFO-FILE in the Info directory file\nDIR-FILE.\n\nOptions:\n --delete          delete existing entries for INFO-FILE from DIR-FILE;\n                     don&apos;t insert any new entries.\n --dir-file=NAME   specify file name of Info directory file.\n                     This is equivalent to using the DIR-FILE argument.\n --entry=TEXT      insert TEXT as an Info directory entry.\n                     TEXT should have the form of an Info menu item line\n                     plus zero or more extra lines starting with whitespace.\n                     If you specify more than one entry, they are all added.\n                     If you don&apos;t specify any entries, they are determined\n                     from information in the Info file itself.\n --help            display this help and exit.\n --info-file=FILE  specify Info file to install in the directory.\n                     This is equivalent to using the INFO-FILE argument.\n --info-dir=DIR    same as --dir-file=DIR/dir.\n --item=TEXT       same as --entry TEXT.\n                     An Info directory entry is actually a menu item.\n --quiet           suppress warnings.\n --remove          same as --delete.\n --section=SEC     put this file&apos;s entries in section SEC of the directory.\n                     If you specify more than one section, all the entries\n                     are added in each of the sections.\n                     If you don&apos;t specify any sections, they are determined\n                     from information in the Info file itself.\n --version         display version information and exit.\n&quot;)" data-ref="_M/_">_</a>(<q>"Usage: %s [OPTION]... [INFO-FILE [DIR-FILE]]\n\</q></td></tr>
<tr><th id="437">437</th><td><q>\n\</q></td></tr>
<tr><th id="438">438</th><td><q>Install or delete dir entries from INFO-FILE in the Info directory file\n\</q></td></tr>
<tr><th id="439">439</th><td><q>DIR-FILE.\n\</q></td></tr>
<tr><th id="440">440</th><td><q>\n\</q></td></tr>
<tr><th id="441">441</th><td><q>Options:\n\</q></td></tr>
<tr><th id="442">442</th><td><q> --delete          delete existing entries for INFO-FILE from DIR-FILE;\n\</q></td></tr>
<tr><th id="443">443</th><td><q>                     don't insert any new entries.\n\</q></td></tr>
<tr><th id="444">444</th><td><q> --dir-file=NAME   specify file name of Info directory file.\n\</q></td></tr>
<tr><th id="445">445</th><td><q>                     This is equivalent to using the DIR-FILE argument.\n\</q></td></tr>
<tr><th id="446">446</th><td><q> --entry=TEXT      insert TEXT as an Info directory entry.\n\</q></td></tr>
<tr><th id="447">447</th><td><q>                     TEXT should have the form of an Info menu item line\n\</q></td></tr>
<tr><th id="448">448</th><td><q>                     plus zero or more extra lines starting with whitespace.\n\</q></td></tr>
<tr><th id="449">449</th><td><q>                     If you specify more than one entry, they are all added.\n\</q></td></tr>
<tr><th id="450">450</th><td><q>                     If you don't specify any entries, they are determined\n\</q></td></tr>
<tr><th id="451">451</th><td><q>                     from information in the Info file itself.\n\</q></td></tr>
<tr><th id="452">452</th><td><q> --help            display this help and exit.\n\</q></td></tr>
<tr><th id="453">453</th><td><q> --info-file=FILE  specify Info file to install in the directory.\n\</q></td></tr>
<tr><th id="454">454</th><td><q>                     This is equivalent to using the INFO-FILE argument.\n\</q></td></tr>
<tr><th id="455">455</th><td><q> --info-dir=DIR    same as --dir-file=DIR/dir.\n\</q></td></tr>
<tr><th id="456">456</th><td><q> --item=TEXT       same as --entry TEXT.\n\</q></td></tr>
<tr><th id="457">457</th><td><q>                     An Info directory entry is actually a menu item.\n\</q></td></tr>
<tr><th id="458">458</th><td><q> --quiet           suppress warnings.\n\</q></td></tr>
<tr><th id="459">459</th><td><q> --remove          same as --delete.\n\</q></td></tr>
<tr><th id="460">460</th><td><q> --section=SEC     put this file's entries in section SEC of the directory.\n\</q></td></tr>
<tr><th id="461">461</th><td><q>                     If you specify more than one section, all the entries\n\</q></td></tr>
<tr><th id="462">462</th><td><q>                     are added in each of the sections.\n\</q></td></tr>
<tr><th id="463">463</th><td><q>                     If you don't specify any sections, they are determined\n\</q></td></tr>
<tr><th id="464">464</th><td><q>                     from information in the Info file itself.\n\</q></td></tr>
<tr><th id="465">465</th><td><q> --version         display version information and exit.\n\</q></td></tr>
<tr><th id="466">466</th><td><q>"</q>), <a class="tu ref" href="#progname" title='progname' data-use='r' data-ref="progname" data-ref-filename="progname">progname</a>);</td></tr>
<tr><th id="467">467</th><td></td></tr>
<tr><th id="468">468</th><td>  <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#puts" title='puts' data-ref="puts" data-ref-filename="puts">puts</a> (<a class="macro" href="../lib/system.h.html#59" title="gettext (&quot;\nEmail bug reports to bug-texinfo@gnu.org,\ngeneral questions and discussion to help-texinfo@gnu.org.\nTexinfo home page: http://www.gnu.org/software/texinfo/&quot;)" data-ref="_M/_">_</a>(<q>"\n\</q></td></tr>
<tr><th id="469">469</th><td><q>Email bug reports to bug-texinfo@gnu.org,\n\</q></td></tr>
<tr><th id="470">470</th><td><q>general questions and discussion to help-texinfo@gnu.org.\n\</q></td></tr>
<tr><th id="471">471</th><td><q>Texinfo home page: http://www.gnu.org/software/texinfo/"</q>));</td></tr>
<tr><th id="472">472</th><td>}</td></tr>
<tr><th id="473">473</th><td></td></tr>
<tr><th id="474">474</th><td></td></tr>
<tr><th id="475">475</th><td><i>/* If DIRFILE does not exist, create a minimal one (or abort).  If it</i></td></tr>
<tr><th id="476">476</th><td><i>   already exists, do nothing.  */</i></td></tr>
<tr><th id="477">477</th><td></td></tr>
<tr><th id="478">478</th><td><em>void</em></td></tr>
<tr><th id="479">479</th><td><dfn class="decl def fn" id="ensure_dirfile_exists" title='ensure_dirfile_exists' data-ref="ensure_dirfile_exists" data-ref-filename="ensure_dirfile_exists">ensure_dirfile_exists</dfn> (<em>char</em> *<dfn class="local col3 decl" id="63dirfile" title='dirfile' data-type='char *' data-ref="63dirfile" data-ref-filename="63dirfile">dirfile</dfn>)</td></tr>
<tr><th id="480">480</th><td>{</td></tr>
<tr><th id="481">481</th><td>  <em>int</em> <dfn class="local col4 decl" id="64desc" title='desc' data-type='int' data-ref="64desc" data-ref-filename="64desc">desc</dfn> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/fcntl.h.html#open" title='open' data-ref="open" data-ref-filename="open">open</a> (<a class="local col3 ref" href="#63dirfile" title='dirfile' data-ref="63dirfile" data-ref-filename="63dirfile">dirfile</a>, <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/fcntl.h.html#64" title="0x00000000" data-ref="_M/O_RDONLY">O_RDONLY</a>);</td></tr>
<tr><th id="482">482</th><td>  <b>if</b> (<a class="local col4 ref" href="#64desc" title='desc' data-ref="64desc" data-ref-filename="64desc">desc</a> &lt; <var>0</var> &amp;&amp; <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/errno.h.html#55" title="(*__errno())" data-ref="_M/errno">errno</a> == <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/errno.h.html#43" title="2" data-ref="_M/ENOENT">ENOENT</a>)</td></tr>
<tr><th id="483">483</th><td>    {</td></tr>
<tr><th id="484">484</th><td>      <a class="typedef" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#FILE" title='FILE' data-type='struct __sFILE' data-ref="FILE" data-ref-filename="FILE">FILE</a> *<dfn class="local col5 decl" id="65f" title='f' data-type='FILE *' data-ref="65f" data-ref-filename="65f">f</dfn>;</td></tr>
<tr><th id="485">485</th><td>      <em>char</em> *<dfn class="local col6 decl" id="66readerr" title='readerr' data-type='char *' data-ref="66readerr" data-ref-filename="66readerr">readerr</dfn> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strerror" title='strerror' data-ref="strerror" data-ref-filename="strerror">strerror</a> (<a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/errno.h.html#55" title="(*__errno())" data-ref="_M/errno">errno</a>);</td></tr>
<tr><th id="486">486</th><td>      <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#close" title='close' data-ref="close" data-ref-filename="close">close</a> (<a class="local col4 ref" href="#64desc" title='desc' data-ref="64desc" data-ref-filename="64desc">desc</a>);</td></tr>
<tr><th id="487">487</th><td>      <a class="local col5 ref" href="#65f" title='f' data-ref="65f" data-ref-filename="65f">f</a> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fopen" title='fopen' data-ref="fopen" data-ref-filename="fopen">fopen</a> (<a class="local col3 ref" href="#63dirfile" title='dirfile' data-ref="63dirfile" data-ref-filename="63dirfile">dirfile</a>, <q>"w"</q>);</td></tr>
<tr><th id="488">488</th><td>      <b>if</b> (<a class="local col5 ref" href="#65f" title='f' data-ref="65f" data-ref-filename="65f">f</a>)</td></tr>
<tr><th id="489">489</th><td>        {</td></tr>
<tr><th id="490">490</th><td>          <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fprintf" title='fprintf' data-ref="fprintf" data-ref-filename="fprintf">fprintf</a> (<a class="local col5 ref" href="#65f" title='f' data-ref="65f" data-ref-filename="65f">f</a>, <a class="macro" href="../lib/system.h.html#59" title="gettext (&quot;This is the file .../info/dir, which contains the\ntopmost node of the Info hierarchy, called (dir)Top.\nThe first time you invoke Info you start off looking at this node.\n\x1f\n%s\tThis is the top of the INFO tree\n\n  This (the Directory node) gives a menu of major topics.\n  Typing \&quot;q\&quot; exits, \&quot;?\&quot; lists all Info commands, \&quot;d\&quot; returns here,\n  \&quot;h\&quot; gives a primer for first-timers,\n  \&quot;mEmacs&lt;Return&gt;\&quot; visits the Emacs manual, etc.\n\n  In Emacs, you can click mouse button 2 on a menu item or cross reference\n  to select it.\n\n%s\n&quot;)" data-ref="_M/_">_</a>(<q>"This is the file .../info/dir, which contains the\n\</q></td></tr>
<tr><th id="491">491</th><td><q>topmost node of the Info hierarchy, called (dir)Top.\n\</q></td></tr>
<tr><th id="492">492</th><td><q>The first time you invoke Info you start off looking at this node.\n\</q></td></tr>
<tr><th id="493">493</th><td><q>\x1f\n\</q></td></tr>
<tr><th id="494">494</th><td><q>%s\tThis is the top of the INFO tree\n\</q></td></tr>
<tr><th id="495">495</th><td><q>\n\</q></td></tr>
<tr><th id="496">496</th><td><q>  This (the Directory node) gives a menu of major topics.\n\</q></td></tr>
<tr><th id="497">497</th><td><q>  Typing \"q\" exits, \"?\" lists all Info commands, \"d\" returns here,\n\</q></td></tr>
<tr><th id="498">498</th><td><q>  \"h\" gives a primer for first-timers,\n\</q></td></tr>
<tr><th id="499">499</th><td><q>  \"mEmacs&lt;Return&gt;\" visits the Emacs manual, etc.\n\</q></td></tr>
<tr><th id="500">500</th><td><q>\n\</q></td></tr>
<tr><th id="501">501</th><td><q>  In Emacs, you can click mouse button 2 on a menu item or cross reference\n\</q></td></tr>
<tr><th id="502">502</th><td><q>  to select it.\n\</q></td></tr>
<tr><th id="503">503</th><td><q>\n\</q></td></tr>
<tr><th id="504">504</th><td><q>%s\n\</q></td></tr>
<tr><th id="505">505</th><td><q>"</q>), <q>"File: dir,\tNode: Top"</q>,  <i>/* These keywords must not be translated.  */</i></td></tr>
<tr><th id="506">506</th><td>    <q>"* Menu:"</q></td></tr>
<tr><th id="507">507</th><td>);</td></tr>
<tr><th id="508">508</th><td>          <b>if</b> (<a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fclose" title='fclose' data-ref="fclose" data-ref-filename="fclose">fclose</a> (<a class="local col5 ref" href="#65f" title='f' data-ref="65f" data-ref-filename="65f">f</a>) &lt; <var>0</var>)</td></tr>
<tr><th id="509">509</th><td>            <a class="ref fn" href="#pfatal_with_name" title='pfatal_with_name' data-ref="pfatal_with_name" data-ref-filename="pfatal_with_name">pfatal_with_name</a> (<a class="local col3 ref" href="#63dirfile" title='dirfile' data-ref="63dirfile" data-ref-filename="63dirfile">dirfile</a>);</td></tr>
<tr><th id="510">510</th><td>        }</td></tr>
<tr><th id="511">511</th><td>      <b>else</b></td></tr>
<tr><th id="512">512</th><td>        {</td></tr>
<tr><th id="513">513</th><td>          <i>/* Didn't exist, but couldn't open for writing.  */</i></td></tr>
<tr><th id="514">514</th><td>          <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fprintf" title='fprintf' data-ref="fprintf" data-ref-filename="fprintf">fprintf</a> (<a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#217" title="(&amp;__sF[2])" data-ref="_M/stderr">stderr</a>,</td></tr>
<tr><th id="515">515</th><td>                   <a class="macro" href="../lib/system.h.html#59" title="gettext (&quot;%s: could not read (%s) and could not create (%s)\n&quot;)" data-ref="_M/_">_</a>(<q>"%s: could not read (%s) and could not create (%s)\n"</q>),</td></tr>
<tr><th id="516">516</th><td>                   <a class="local col3 ref" href="#63dirfile" title='dirfile' data-ref="63dirfile" data-ref-filename="63dirfile">dirfile</a>, <a class="local col6 ref" href="#66readerr" title='readerr' data-ref="66readerr" data-ref-filename="66readerr">readerr</a>, <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strerror" title='strerror' data-ref="strerror" data-ref-filename="strerror">strerror</a> (<a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/errno.h.html#55" title="(*__errno())" data-ref="_M/errno">errno</a>));</td></tr>
<tr><th id="517">517</th><td>          <a class="ref fn" href="../lib/system.h.html#xexit" title='xexit' data-ref="xexit" data-ref-filename="xexit">xexit</a> (<var>1</var>);</td></tr>
<tr><th id="518">518</th><td>        }</td></tr>
<tr><th id="519">519</th><td>    }</td></tr>
<tr><th id="520">520</th><td>  <b>else</b></td></tr>
<tr><th id="521">521</th><td>    <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#close" title='close' data-ref="close" data-ref-filename="close">close</a> (<a class="local col4 ref" href="#64desc" title='desc' data-ref="64desc" data-ref-filename="64desc">desc</a>); <i>/* It already existed, so fine.  */</i></td></tr>
<tr><th id="522">522</th><td>}</td></tr>
<tr><th id="523">523</th><td></td></tr>
<tr><th id="524">524</th><td><i>/* Open FILENAME and return the resulting stream pointer.  If it doesn't</i></td></tr>
<tr><th id="525">525</th><td><i>   exist, try FILENAME.gz.  If that doesn't exist either, call</i></td></tr>
<tr><th id="526">526</th><td><i>   CREATE_CALLBACK (with FILENAME as arg) to create it, if that is</i></td></tr>
<tr><th id="527">527</th><td><i>   non-NULL.  If still no luck, fatal error.</i></td></tr>
<tr><th id="528">528</th><td><i></i></td></tr>
<tr><th id="529">529</th><td><i>   If we do open it, return the actual name of the file opened in</i></td></tr>
<tr><th id="530">530</th><td><i>   OPENED_FILENAME and the compress program to use to (de)compress it in</i></td></tr>
<tr><th id="531">531</th><td><i>   COMPRESSION_PROGRAM.  The compression program is determined by the</i></td></tr>
<tr><th id="532">532</th><td><i>   magic number, not the filename.  */</i></td></tr>
<tr><th id="533">533</th><td></td></tr>
<tr><th id="534">534</th><td><a class="typedef" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#FILE" title='FILE' data-type='struct __sFILE' data-ref="FILE" data-ref-filename="FILE">FILE</a> *</td></tr>
<tr><th id="535">535</th><td><dfn class="decl def fn" id="open_possibly_compressed_file" title='open_possibly_compressed_file' data-ref="open_possibly_compressed_file" data-ref-filename="open_possibly_compressed_file">open_possibly_compressed_file</dfn> (<em>char</em> *<dfn class="local col7 decl" id="67filename" title='filename' data-type='char *' data-ref="67filename" data-ref-filename="67filename">filename</dfn>,</td></tr>
<tr><th id="536">536</th><td>    <em>void</em> (*<dfn class="local col8 decl" id="68create_callback" title='create_callback' data-type='void (*)(char *)' data-ref="68create_callback" data-ref-filename="68create_callback">create_callback</dfn>) (<em>char</em> *),</td></tr>
<tr><th id="537">537</th><td>    <em>char</em> **<dfn class="local col9 decl" id="69opened_filename" title='opened_filename' data-type='char **' data-ref="69opened_filename" data-ref-filename="69opened_filename">opened_filename</dfn>, <em>char</em> **<dfn class="local col0 decl" id="70compression_program" title='compression_program' data-type='char **' data-ref="70compression_program" data-ref-filename="70compression_program">compression_program</dfn>, <em>int</em> *<dfn class="local col1 decl" id="71is_pipe" title='is_pipe' data-type='int *' data-ref="71is_pipe" data-ref-filename="71is_pipe">is_pipe</dfn>) </td></tr>
<tr><th id="538">538</th><td>{</td></tr>
<tr><th id="539">539</th><td>  <em>char</em> *<dfn class="local col2 decl" id="72local_opened_filename" title='local_opened_filename' data-type='char *' data-ref="72local_opened_filename" data-ref-filename="72local_opened_filename">local_opened_filename</dfn>, *<dfn class="local col3 decl" id="73local_compression_program" title='local_compression_program' data-type='char *' data-ref="73local_compression_program" data-ref-filename="73local_compression_program">local_compression_program</dfn>;</td></tr>
<tr><th id="540">540</th><td>  <em>int</em> <dfn class="local col4 decl" id="74nread" title='nread' data-type='int' data-ref="74nread" data-ref-filename="74nread">nread</dfn>;</td></tr>
<tr><th id="541">541</th><td>  <em>char</em> <dfn class="local col5 decl" id="75data" title='data' data-type='char [4]' data-ref="75data" data-ref-filename="75data">data</dfn>[<var>4</var>];</td></tr>
<tr><th id="542">542</th><td>  <a class="typedef" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#FILE" title='FILE' data-type='struct __sFILE' data-ref="FILE" data-ref-filename="FILE">FILE</a> *<dfn class="local col6 decl" id="76f" title='f' data-type='FILE *' data-ref="76f" data-ref-filename="76f">f</dfn>;</td></tr>
<tr><th id="543">543</th><td></td></tr>
<tr><th id="544">544</th><td>  <i>/* We let them pass NULL if they don't want this info, but it's easier</i></td></tr>
<tr><th id="545">545</th><td><i>     to always determine it.  */</i></td></tr>
<tr><th id="546">546</th><td>  <b>if</b> (!<a class="local col9 ref" href="#69opened_filename" title='opened_filename' data-ref="69opened_filename" data-ref-filename="69opened_filename">opened_filename</a>)</td></tr>
<tr><th id="547">547</th><td>    <a class="local col9 ref" href="#69opened_filename" title='opened_filename' data-ref="69opened_filename" data-ref-filename="69opened_filename">opened_filename</a> = &amp;<a class="local col2 ref" href="#72local_opened_filename" title='local_opened_filename' data-ref="72local_opened_filename" data-ref-filename="72local_opened_filename">local_opened_filename</a>;</td></tr>
<tr><th id="548">548</th><td></td></tr>
<tr><th id="549">549</th><td>  *<a class="local col9 ref" href="#69opened_filename" title='opened_filename' data-ref="69opened_filename" data-ref-filename="69opened_filename">opened_filename</a> = <a class="local col7 ref" href="#67filename" title='filename' data-ref="67filename" data-ref-filename="67filename">filename</a>;</td></tr>
<tr><th id="550">550</th><td>  <a class="local col6 ref" href="#76f" title='f' data-ref="76f" data-ref-filename="76f">f</a> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fopen" title='fopen' data-ref="fopen" data-ref-filename="fopen">fopen</a> (*<a class="local col9 ref" href="#69opened_filename" title='opened_filename' data-ref="69opened_filename" data-ref-filename="69opened_filename">opened_filename</a>, <a class="macro" href="../lib/system.h.html#242" title="&quot;r&quot;" data-ref="_M/FOPEN_RBIN">FOPEN_RBIN</a>);</td></tr>
<tr><th id="551">551</th><td>  <b>if</b> (!<a class="local col6 ref" href="#76f" title='f' data-ref="76f" data-ref-filename="76f">f</a>)</td></tr>
<tr><th id="552">552</th><td>    {</td></tr>
<tr><th id="553">553</th><td>      *<a class="local col9 ref" href="#69opened_filename" title='opened_filename' data-ref="69opened_filename" data-ref-filename="69opened_filename">opened_filename</a> = <a class="ref fn" href="#concat" title='concat' data-ref="concat" data-ref-filename="concat">concat</a> (<a class="local col7 ref" href="#67filename" title='filename' data-ref="67filename" data-ref-filename="67filename">filename</a>, <q>".gz"</q>, <q>""</q>);</td></tr>
<tr><th id="554">554</th><td>      <a class="local col6 ref" href="#76f" title='f' data-ref="76f" data-ref-filename="76f">f</a> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fopen" title='fopen' data-ref="fopen" data-ref-filename="fopen">fopen</a> (*<a class="local col9 ref" href="#69opened_filename" title='opened_filename' data-ref="69opened_filename" data-ref-filename="69opened_filename">opened_filename</a>, <a class="macro" href="../lib/system.h.html#242" title="&quot;r&quot;" data-ref="_M/FOPEN_RBIN">FOPEN_RBIN</a>);</td></tr>
<tr><th id="555">555</th><td>  <b>if</b> (!<a class="local col6 ref" href="#76f" title='f' data-ref="76f" data-ref-filename="76f">f</a>)</td></tr>
<tr><th id="556">556</th><td>    {</td></tr>
<tr><th id="557">557</th><td>      <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a> (*<a class="local col9 ref" href="#69opened_filename" title='opened_filename' data-ref="69opened_filename" data-ref-filename="69opened_filename">opened_filename</a>);</td></tr>
<tr><th id="558">558</th><td>      *<a class="local col9 ref" href="#69opened_filename" title='opened_filename' data-ref="69opened_filename" data-ref-filename="69opened_filename">opened_filename</a> = <a class="ref fn" href="#concat" title='concat' data-ref="concat" data-ref-filename="concat">concat</a> (<a class="local col7 ref" href="#67filename" title='filename' data-ref="67filename" data-ref-filename="67filename">filename</a>, <q>".bz2"</q>, <q>""</q>);</td></tr>
<tr><th id="559">559</th><td>      <a class="local col6 ref" href="#76f" title='f' data-ref="76f" data-ref-filename="76f">f</a> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fopen" title='fopen' data-ref="fopen" data-ref-filename="fopen">fopen</a> (*<a class="local col9 ref" href="#69opened_filename" title='opened_filename' data-ref="69opened_filename" data-ref-filename="69opened_filename">opened_filename</a>, <a class="macro" href="../lib/system.h.html#242" title="&quot;r&quot;" data-ref="_M/FOPEN_RBIN">FOPEN_RBIN</a>);</td></tr>
<tr><th id="560">560</th><td>    }</td></tr>
<tr><th id="561">561</th><td></td></tr>
<tr><th id="562">562</th><td><u>#<span data-ppcond="562">ifdef</span> <span class="macro" data-ref="_M/__MSDOS__">__MSDOS__</span></u></td></tr>
<tr><th id="563">563</th><td>      <b>if</b> (!f)</td></tr>
<tr><th id="564">564</th><td>        {</td></tr>
<tr><th id="565">565</th><td>          free (*opened_filename);</td></tr>
<tr><th id="566">566</th><td>          *opened_filename = concat (filename, <q>".igz"</q>, <q>""</q>);</td></tr>
<tr><th id="567">567</th><td>          f = fopen (*opened_filename, FOPEN_RBIN);</td></tr>
<tr><th id="568">568</th><td>        }</td></tr>
<tr><th id="569">569</th><td>      <b>if</b> (!f)</td></tr>
<tr><th id="570">570</th><td>        {</td></tr>
<tr><th id="571">571</th><td>          free (*opened_filename);</td></tr>
<tr><th id="572">572</th><td>          *opened_filename = concat (filename, <q>".inz"</q>, <q>""</q>);</td></tr>
<tr><th id="573">573</th><td>          f = fopen (*opened_filename, FOPEN_RBIN);</td></tr>
<tr><th id="574">574</th><td>        }</td></tr>
<tr><th id="575">575</th><td><u>#<span data-ppcond="562">endif</span></u></td></tr>
<tr><th id="576">576</th><td>      <b>if</b> (!<a class="local col6 ref" href="#76f" title='f' data-ref="76f" data-ref-filename="76f">f</a>)</td></tr>
<tr><th id="577">577</th><td>        {</td></tr>
<tr><th id="578">578</th><td>          <b>if</b> (<a class="local col8 ref" href="#68create_callback" title='create_callback' data-ref="68create_callback" data-ref-filename="68create_callback">create_callback</a>)</td></tr>
<tr><th id="579">579</th><td>            { <i>/* That didn't work either.  Create the file if we can.  */</i></td></tr>
<tr><th id="580">580</th><td>              (*<a class="local col8 ref" href="#68create_callback" title='create_callback' data-ref="68create_callback" data-ref-filename="68create_callback">create_callback</a>) (<a class="local col7 ref" href="#67filename" title='filename' data-ref="67filename" data-ref-filename="67filename">filename</a>);</td></tr>
<tr><th id="581">581</th><td></td></tr>
<tr><th id="582">582</th><td>              <i>/* And try opening it again.  */</i></td></tr>
<tr><th id="583">583</th><td>              <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a> (*<a class="local col9 ref" href="#69opened_filename" title='opened_filename' data-ref="69opened_filename" data-ref-filename="69opened_filename">opened_filename</a>);</td></tr>
<tr><th id="584">584</th><td>              *<a class="local col9 ref" href="#69opened_filename" title='opened_filename' data-ref="69opened_filename" data-ref-filename="69opened_filename">opened_filename</a> = <a class="local col7 ref" href="#67filename" title='filename' data-ref="67filename" data-ref-filename="67filename">filename</a>;</td></tr>
<tr><th id="585">585</th><td>              <a class="local col6 ref" href="#76f" title='f' data-ref="76f" data-ref-filename="76f">f</a> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fopen" title='fopen' data-ref="fopen" data-ref-filename="fopen">fopen</a> (*<a class="local col9 ref" href="#69opened_filename" title='opened_filename' data-ref="69opened_filename" data-ref-filename="69opened_filename">opened_filename</a>, <a class="macro" href="../lib/system.h.html#242" title="&quot;r&quot;" data-ref="_M/FOPEN_RBIN">FOPEN_RBIN</a>);</td></tr>
<tr><th id="586">586</th><td>              <b>if</b> (!<a class="local col6 ref" href="#76f" title='f' data-ref="76f" data-ref-filename="76f">f</a>)</td></tr>
<tr><th id="587">587</th><td>                <a class="ref fn" href="#pfatal_with_name" title='pfatal_with_name' data-ref="pfatal_with_name" data-ref-filename="pfatal_with_name">pfatal_with_name</a> (<a class="local col7 ref" href="#67filename" title='filename' data-ref="67filename" data-ref-filename="67filename">filename</a>);</td></tr>
<tr><th id="588">588</th><td>            }</td></tr>
<tr><th id="589">589</th><td>          <b>else</b></td></tr>
<tr><th id="590">590</th><td>            <a class="ref fn" href="#pfatal_with_name" title='pfatal_with_name' data-ref="pfatal_with_name" data-ref-filename="pfatal_with_name">pfatal_with_name</a> (<a class="local col7 ref" href="#67filename" title='filename' data-ref="67filename" data-ref-filename="67filename">filename</a>);</td></tr>
<tr><th id="591">591</th><td>        }</td></tr>
<tr><th id="592">592</th><td>    }</td></tr>
<tr><th id="593">593</th><td></td></tr>
<tr><th id="594">594</th><td>  <i>/* Read first few bytes of file rather than relying on the filename.</i></td></tr>
<tr><th id="595">595</th><td><i>     If the file is shorter than this it can't be usable anyway.  */</i></td></tr>
<tr><th id="596">596</th><td>  <a class="local col4 ref" href="#74nread" title='nread' data-ref="74nread" data-ref-filename="74nread">nread</a> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fread" title='fread' data-ref="fread" data-ref-filename="fread">fread</a> (<a class="local col5 ref" href="#75data" title='data' data-ref="75data" data-ref-filename="75data">data</a>, <b>sizeof</b> (<a class="local col5 ref" href="#75data" title='data' data-ref="75data" data-ref-filename="75data">data</a>), <var>1</var>, <a class="local col6 ref" href="#76f" title='f' data-ref="76f" data-ref-filename="76f">f</a>);</td></tr>
<tr><th id="597">597</th><td>  <b>if</b> (<a class="local col4 ref" href="#74nread" title='nread' data-ref="74nread" data-ref-filename="74nread">nread</a> != <var>1</var>)</td></tr>
<tr><th id="598">598</th><td>    {</td></tr>
<tr><th id="599">599</th><td>      <i>/* Empty files don't set errno, so we get something like</i></td></tr>
<tr><th id="600">600</th><td><i>         "install-info: No error for foo", which is confusing.  */</i></td></tr>
<tr><th id="601">601</th><td>      <b>if</b> (<a class="local col4 ref" href="#74nread" title='nread' data-ref="74nread" data-ref-filename="74nread">nread</a> == <var>0</var>)</td></tr>
<tr><th id="602">602</th><td>        <a class="ref fn" href="#fatal" title='fatal' data-ref="fatal" data-ref-filename="fatal">fatal</a> (<a class="macro" href="../lib/system.h.html#59" title="gettext (&quot;%s: empty file&quot;)" data-ref="_M/_">_</a>(<q>"%s: empty file"</q>), *<a class="local col9 ref" href="#69opened_filename" title='opened_filename' data-ref="69opened_filename" data-ref-filename="69opened_filename">opened_filename</a>, <var>0</var>);</td></tr>
<tr><th id="603">603</th><td>      <a class="ref fn" href="#pfatal_with_name" title='pfatal_with_name' data-ref="pfatal_with_name" data-ref-filename="pfatal_with_name">pfatal_with_name</a> (*<a class="local col9 ref" href="#69opened_filename" title='opened_filename' data-ref="69opened_filename" data-ref-filename="69opened_filename">opened_filename</a>);</td></tr>
<tr><th id="604">604</th><td>    }</td></tr>
<tr><th id="605">605</th><td></td></tr>
<tr><th id="606">606</th><td>  <b>if</b> (!<a class="local col0 ref" href="#70compression_program" title='compression_program' data-ref="70compression_program" data-ref-filename="70compression_program">compression_program</a>)</td></tr>
<tr><th id="607">607</th><td>    <a class="local col0 ref" href="#70compression_program" title='compression_program' data-ref="70compression_program" data-ref-filename="70compression_program">compression_program</a> = &amp;<a class="local col3 ref" href="#73local_compression_program" title='local_compression_program' data-ref="73local_compression_program" data-ref-filename="73local_compression_program">local_compression_program</a>;</td></tr>
<tr><th id="608">608</th><td></td></tr>
<tr><th id="609">609</th><td>  <b>if</b> (<a class="local col5 ref" href="#75data" title='data' data-ref="75data" data-ref-filename="75data">data</a>[<var>0</var>] == <kbd>'\x1f'</kbd> &amp;&amp; <a class="local col5 ref" href="#75data" title='data' data-ref="75data" data-ref-filename="75data">data</a>[<var>1</var>] == <kbd>'\x8b'</kbd>)</td></tr>
<tr><th id="610">610</th><td><u>#<span data-ppcond="610">if</span> <a class="macro" href="../lib/system.h.html#251" title="0" data-ref="_M/STRIP_DOT_EXE">STRIP_DOT_EXE</a></u></td></tr>
<tr><th id="611">611</th><td>    <i>/* An explicit .exe yields a better diagnostics from popen below</i></td></tr>
<tr><th id="612">612</th><td><i>       if they don't have gzip installed.  */</i></td></tr>
<tr><th id="613">613</th><td>    *compression_program = <q>"gzip.exe"</q>;</td></tr>
<tr><th id="614">614</th><td><u>#<span data-ppcond="610">else</span></u></td></tr>
<tr><th id="615">615</th><td>    *<a class="local col0 ref" href="#70compression_program" title='compression_program' data-ref="70compression_program" data-ref-filename="70compression_program">compression_program</a> = <q>"gzip"</q>;</td></tr>
<tr><th id="616">616</th><td><u>#<span data-ppcond="610">endif</span></u></td></tr>
<tr><th id="617">617</th><td>  <b>else</b> <b>if</b>(<a class="local col5 ref" href="#75data" title='data' data-ref="75data" data-ref-filename="75data">data</a>[<var>0</var>] == <kbd>'B'</kbd> &amp;&amp; <a class="local col5 ref" href="#75data" title='data' data-ref="75data" data-ref-filename="75data">data</a>[<var>1</var>] == <kbd>'Z'</kbd> &amp;&amp; <a class="local col5 ref" href="#75data" title='data' data-ref="75data" data-ref-filename="75data">data</a>[<var>2</var>] == <kbd>'h'</kbd>)</td></tr>
<tr><th id="618">618</th><td><u>#<span data-ppcond="618">ifndef</span> <a class="macro" href="../lib/system.h.html#251" data-ref="_M/STRIP_DOT_EXE">STRIP_DOT_EXE</a></u></td></tr>
<tr><th id="619">619</th><td>    *compression_program = <q>"bzip2.exe"</q>;</td></tr>
<tr><th id="620">620</th><td><u>#<span data-ppcond="618">else</span></u></td></tr>
<tr><th id="621">621</th><td>    *<a class="local col0 ref" href="#70compression_program" title='compression_program' data-ref="70compression_program" data-ref-filename="70compression_program">compression_program</a> = <q>"bzip2"</q>;</td></tr>
<tr><th id="622">622</th><td><u>#<span data-ppcond="618">endif</span></u></td></tr>
<tr><th id="623">623</th><td>  <b>else</b> <b>if</b>(<a class="local col5 ref" href="#75data" title='data' data-ref="75data" data-ref-filename="75data">data</a>[<var>0</var>] == <kbd>'B'</kbd> &amp;&amp; <a class="local col5 ref" href="#75data" title='data' data-ref="75data" data-ref-filename="75data">data</a>[<var>1</var>] == <kbd>'Z'</kbd> &amp;&amp; <a class="local col5 ref" href="#75data" title='data' data-ref="75data" data-ref-filename="75data">data</a>[<var>2</var>] == <kbd>'0'</kbd>)</td></tr>
<tr><th id="624">624</th><td><u>#<span data-ppcond="624">ifndef</span> <a class="macro" href="../lib/system.h.html#251" data-ref="_M/STRIP_DOT_EXE">STRIP_DOT_EXE</a></u></td></tr>
<tr><th id="625">625</th><td>    *compression_program = <q>"bzip.exe"</q>;</td></tr>
<tr><th id="626">626</th><td><u>#<span data-ppcond="624">else</span></u></td></tr>
<tr><th id="627">627</th><td>    *<a class="local col0 ref" href="#70compression_program" title='compression_program' data-ref="70compression_program" data-ref-filename="70compression_program">compression_program</a> = <q>"bzip"</q>;</td></tr>
<tr><th id="628">628</th><td><u>#<span data-ppcond="624">endif</span></u></td></tr>
<tr><th id="629">629</th><td>  <b>else</b></td></tr>
<tr><th id="630">630</th><td>    *<a class="local col0 ref" href="#70compression_program" title='compression_program' data-ref="70compression_program" data-ref-filename="70compression_program">compression_program</a> = <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>;</td></tr>
<tr><th id="631">631</th><td></td></tr>
<tr><th id="632">632</th><td>  <b>if</b> (*<a class="local col0 ref" href="#70compression_program" title='compression_program' data-ref="70compression_program" data-ref-filename="70compression_program">compression_program</a>)</td></tr>
<tr><th id="633">633</th><td>    { <i>/* It's compressed, so fclose the file and then open a pipe.  */</i></td></tr>
<tr><th id="634">634</th><td>      <em>char</em> *<dfn class="local col7 decl" id="77command" title='command' data-type='char *' data-ref="77command" data-ref-filename="77command">command</dfn> = <a class="ref fn" href="#concat" title='concat' data-ref="concat" data-ref-filename="concat">concat</a> (*<a class="local col0 ref" href="#70compression_program" title='compression_program' data-ref="70compression_program" data-ref-filename="70compression_program">compression_program</a>,<q>" -cd &lt;"</q>, *<a class="local col9 ref" href="#69opened_filename" title='opened_filename' data-ref="69opened_filename" data-ref-filename="69opened_filename">opened_filename</a>);</td></tr>
<tr><th id="635">635</th><td>      <b>if</b> (<a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fclose" title='fclose' data-ref="fclose" data-ref-filename="fclose">fclose</a> (<a class="local col6 ref" href="#76f" title='f' data-ref="76f" data-ref-filename="76f">f</a>) &lt; <var>0</var>)</td></tr>
<tr><th id="636">636</th><td>        <a class="ref fn" href="#pfatal_with_name" title='pfatal_with_name' data-ref="pfatal_with_name" data-ref-filename="pfatal_with_name">pfatal_with_name</a> (*<a class="local col9 ref" href="#69opened_filename" title='opened_filename' data-ref="69opened_filename" data-ref-filename="69opened_filename">opened_filename</a>);</td></tr>
<tr><th id="637">637</th><td>      <a class="local col6 ref" href="#76f" title='f' data-ref="76f" data-ref-filename="76f">f</a> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#popen" title='popen' data-ref="popen" data-ref-filename="popen">popen</a> (<a class="local col7 ref" href="#77command" title='command' data-ref="77command" data-ref-filename="77command">command</a>, <q>"r"</q>);</td></tr>
<tr><th id="638">638</th><td>      <b>if</b> (<a class="local col6 ref" href="#76f" title='f' data-ref="76f" data-ref-filename="76f">f</a>)</td></tr>
<tr><th id="639">639</th><td>        *<a class="local col1 ref" href="#71is_pipe" title='is_pipe' data-ref="71is_pipe" data-ref-filename="71is_pipe">is_pipe</a> = <var>1</var>;</td></tr>
<tr><th id="640">640</th><td>      <b>else</b></td></tr>
<tr><th id="641">641</th><td>        <a class="ref fn" href="#pfatal_with_name" title='pfatal_with_name' data-ref="pfatal_with_name" data-ref-filename="pfatal_with_name">pfatal_with_name</a> (<a class="local col7 ref" href="#77command" title='command' data-ref="77command" data-ref-filename="77command">command</a>);</td></tr>
<tr><th id="642">642</th><td>    }</td></tr>
<tr><th id="643">643</th><td>  <b>else</b></td></tr>
<tr><th id="644">644</th><td>    { <i>/* It's a plain file, seek back over the magic bytes.  */</i></td></tr>
<tr><th id="645">645</th><td>      <b>if</b> (<a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fseek" title='fseek' data-ref="fseek" data-ref-filename="fseek">fseek</a> (<a class="local col6 ref" href="#76f" title='f' data-ref="76f" data-ref-filename="76f">f</a>, <var>0</var>, <var>0</var>) &lt; <var>0</var>)</td></tr>
<tr><th id="646">646</th><td>        <a class="ref fn" href="#pfatal_with_name" title='pfatal_with_name' data-ref="pfatal_with_name" data-ref-filename="pfatal_with_name">pfatal_with_name</a> (*<a class="local col9 ref" href="#69opened_filename" title='opened_filename' data-ref="69opened_filename" data-ref-filename="69opened_filename">opened_filename</a>);</td></tr>
<tr><th id="647">647</th><td><u>#<span data-ppcond="647">if</span> <a class="macro" href="../lib/system.h.html#173" title="0" data-ref="_M/O_BINARY">O_BINARY</a></u></td></tr>
<tr><th id="648">648</th><td>      <i>/* Since this is a text file, and we opened it in binary mode,</i></td></tr>
<tr><th id="649">649</th><td><i>         switch back to text mode.  */</i></td></tr>
<tr><th id="650">650</th><td>      f = freopen (*opened_filename, <q>"r"</q>, f);</td></tr>
<tr><th id="651">651</th><td><u>#<span data-ppcond="647">endif</span></u></td></tr>
<tr><th id="652">652</th><td>      *<a class="local col1 ref" href="#71is_pipe" title='is_pipe' data-ref="71is_pipe" data-ref-filename="71is_pipe">is_pipe</a> = <var>0</var>;</td></tr>
<tr><th id="653">653</th><td>    }</td></tr>
<tr><th id="654">654</th><td></td></tr>
<tr><th id="655">655</th><td>  <b>return</b> <a class="local col6 ref" href="#76f" title='f' data-ref="76f" data-ref-filename="76f">f</a>;</td></tr>
<tr><th id="656">656</th><td>}</td></tr>
<tr><th id="657">657</th><td></td></tr>
<tr><th id="658">658</th><td><i>/* Read all of file FILENAME into memory and return the address of the</i></td></tr>
<tr><th id="659">659</th><td><i>   data.  Store the size of the data into SIZEP.  If need be, uncompress</i></td></tr>
<tr><th id="660">660</th><td><i>   (i.e., try FILENAME.gz et al. if FILENAME does not exist) and store</i></td></tr>
<tr><th id="661">661</th><td><i>   the actual file name that was opened into OPENED_FILENAME (if it is</i></td></tr>
<tr><th id="662">662</th><td><i>   non-NULL), and the companion compression program (if any, else NULL)</i></td></tr>
<tr><th id="663">663</th><td><i>   into COMPRESSION_PROGRAM (if that is non-NULL).  If trouble, do</i></td></tr>
<tr><th id="664">664</th><td><i>   a fatal error.  */</i></td></tr>
<tr><th id="665">665</th><td></td></tr>
<tr><th id="666">666</th><td><em>char</em> *</td></tr>
<tr><th id="667">667</th><td><dfn class="decl def fn" id="readfile" title='readfile' data-ref="readfile" data-ref-filename="readfile">readfile</dfn> (<em>char</em> *<dfn class="local col8 decl" id="78filename" title='filename' data-type='char *' data-ref="78filename" data-ref-filename="78filename">filename</dfn>, <em>int</em> *<dfn class="local col9 decl" id="79sizep" title='sizep' data-type='int *' data-ref="79sizep" data-ref-filename="79sizep">sizep</dfn>,</td></tr>
<tr><th id="668">668</th><td>    <em>void</em> (*<dfn class="local col0 decl" id="80create_callback" title='create_callback' data-type='void (*)(char *)' data-ref="80create_callback" data-ref-filename="80create_callback">create_callback</dfn>) (<em>char</em> *), <em>char</em> **<dfn class="local col1 decl" id="81opened_filename" title='opened_filename' data-type='char **' data-ref="81opened_filename" data-ref-filename="81opened_filename">opened_filename</dfn>,</td></tr>
<tr><th id="669">669</th><td>    <em>char</em> **<dfn class="local col2 decl" id="82compression_program" title='compression_program' data-type='char **' data-ref="82compression_program" data-ref-filename="82compression_program">compression_program</dfn>)</td></tr>
<tr><th id="670">670</th><td>{</td></tr>
<tr><th id="671">671</th><td>  <em>char</em> *<dfn class="local col3 decl" id="83real_name" title='real_name' data-type='char *' data-ref="83real_name" data-ref-filename="83real_name">real_name</dfn>;</td></tr>
<tr><th id="672">672</th><td>  <a class="typedef" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#FILE" title='FILE' data-type='struct __sFILE' data-ref="FILE" data-ref-filename="FILE">FILE</a> *<dfn class="local col4 decl" id="84f" title='f' data-type='FILE *' data-ref="84f" data-ref-filename="84f">f</dfn>;</td></tr>
<tr><th id="673">673</th><td>  <em>int</em> <dfn class="local col5 decl" id="85pipe_p" title='pipe_p' data-type='int' data-ref="85pipe_p" data-ref-filename="85pipe_p">pipe_p</dfn>;</td></tr>
<tr><th id="674">674</th><td>  <em>int</em> <dfn class="local col6 decl" id="86filled" title='filled' data-type='int' data-ref="86filled" data-ref-filename="86filled">filled</dfn> = <var>0</var>;</td></tr>
<tr><th id="675">675</th><td>  <em>int</em> <dfn class="local col7 decl" id="87data_size" title='data_size' data-type='int' data-ref="87data_size" data-ref-filename="87data_size">data_size</dfn> = <var>8192</var>;</td></tr>
<tr><th id="676">676</th><td>  <em>char</em> *<dfn class="local col8 decl" id="88data" title='data' data-type='char *' data-ref="88data" data-ref-filename="88data">data</dfn> = <a class="ref fn" href="../lib/system.h.html#xmalloc" title='xmalloc' data-ref="xmalloc" data-ref-filename="xmalloc">xmalloc</a> (<a class="local col7 ref" href="#87data_size" title='data_size' data-ref="87data_size" data-ref-filename="87data_size">data_size</a>);</td></tr>
<tr><th id="677">677</th><td></td></tr>
<tr><th id="678">678</th><td>  <i>/* If they passed the space for the file name to return, use it.  */</i></td></tr>
<tr><th id="679">679</th><td>  <a class="local col4 ref" href="#84f" title='f' data-ref="84f" data-ref-filename="84f">f</a> = <a class="ref fn" href="#open_possibly_compressed_file" title='open_possibly_compressed_file' data-ref="open_possibly_compressed_file" data-ref-filename="open_possibly_compressed_file">open_possibly_compressed_file</a> (<a class="local col8 ref" href="#78filename" title='filename' data-ref="78filename" data-ref-filename="78filename">filename</a>, <a class="local col0 ref" href="#80create_callback" title='create_callback' data-ref="80create_callback" data-ref-filename="80create_callback">create_callback</a>,</td></tr>
<tr><th id="680">680</th><td>                                     <a class="local col1 ref" href="#81opened_filename" title='opened_filename' data-ref="81opened_filename" data-ref-filename="81opened_filename">opened_filename</a> ? <a class="local col1 ref" href="#81opened_filename" title='opened_filename' data-ref="81opened_filename" data-ref-filename="81opened_filename">opened_filename</a></td></tr>
<tr><th id="681">681</th><td>                                                     : &amp;<a class="local col3 ref" href="#83real_name" title='real_name' data-ref="83real_name" data-ref-filename="83real_name">real_name</a>,</td></tr>
<tr><th id="682">682</th><td>                                     <a class="local col2 ref" href="#82compression_program" title='compression_program' data-ref="82compression_program" data-ref-filename="82compression_program">compression_program</a>, &amp;<a class="local col5 ref" href="#85pipe_p" title='pipe_p' data-ref="85pipe_p" data-ref-filename="85pipe_p">pipe_p</a>);</td></tr>
<tr><th id="683">683</th><td></td></tr>
<tr><th id="684">684</th><td>  <b>for</b> (;;)</td></tr>
<tr><th id="685">685</th><td>    {</td></tr>
<tr><th id="686">686</th><td>      <em>int</em> <dfn class="local col9 decl" id="89nread" title='nread' data-type='int' data-ref="89nread" data-ref-filename="89nread">nread</dfn> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fread" title='fread' data-ref="fread" data-ref-filename="fread">fread</a> (<a class="local col8 ref" href="#88data" title='data' data-ref="88data" data-ref-filename="88data">data</a> + <a class="local col6 ref" href="#86filled" title='filled' data-ref="86filled" data-ref-filename="86filled">filled</a>, <var>1</var>, <a class="local col7 ref" href="#87data_size" title='data_size' data-ref="87data_size" data-ref-filename="87data_size">data_size</a> - <a class="local col6 ref" href="#86filled" title='filled' data-ref="86filled" data-ref-filename="86filled">filled</a>, <a class="local col4 ref" href="#84f" title='f' data-ref="84f" data-ref-filename="84f">f</a>);</td></tr>
<tr><th id="687">687</th><td>      <b>if</b> (<a class="local col9 ref" href="#89nread" title='nread' data-ref="89nread" data-ref-filename="89nread">nread</a> &lt; <var>0</var>)</td></tr>
<tr><th id="688">688</th><td>        <a class="ref fn" href="#pfatal_with_name" title='pfatal_with_name' data-ref="pfatal_with_name" data-ref-filename="pfatal_with_name">pfatal_with_name</a> (<a class="local col3 ref" href="#83real_name" title='real_name' data-ref="83real_name" data-ref-filename="83real_name">real_name</a>);</td></tr>
<tr><th id="689">689</th><td>      <b>if</b> (<a class="local col9 ref" href="#89nread" title='nread' data-ref="89nread" data-ref-filename="89nread">nread</a> == <var>0</var>)</td></tr>
<tr><th id="690">690</th><td>        <b>break</b>;</td></tr>
<tr><th id="691">691</th><td></td></tr>
<tr><th id="692">692</th><td>      <a class="local col6 ref" href="#86filled" title='filled' data-ref="86filled" data-ref-filename="86filled">filled</a> += <a class="local col9 ref" href="#89nread" title='nread' data-ref="89nread" data-ref-filename="89nread">nread</a>;</td></tr>
<tr><th id="693">693</th><td>      <b>if</b> (<a class="local col6 ref" href="#86filled" title='filled' data-ref="86filled" data-ref-filename="86filled">filled</a> == <a class="local col7 ref" href="#87data_size" title='data_size' data-ref="87data_size" data-ref-filename="87data_size">data_size</a>)</td></tr>
<tr><th id="694">694</th><td>        {</td></tr>
<tr><th id="695">695</th><td>          <a class="local col7 ref" href="#87data_size" title='data_size' data-ref="87data_size" data-ref-filename="87data_size">data_size</a> += <var>65536</var>;</td></tr>
<tr><th id="696">696</th><td>          <a class="local col8 ref" href="#88data" title='data' data-ref="88data" data-ref-filename="88data">data</a> = <a class="ref fn" href="../lib/system.h.html#xrealloc" title='xrealloc' data-ref="xrealloc" data-ref-filename="xrealloc">xrealloc</a> (<a class="local col8 ref" href="#88data" title='data' data-ref="88data" data-ref-filename="88data">data</a>, <a class="local col7 ref" href="#87data_size" title='data_size' data-ref="87data_size" data-ref-filename="87data_size">data_size</a>);</td></tr>
<tr><th id="697">697</th><td>        }</td></tr>
<tr><th id="698">698</th><td>    }</td></tr>
<tr><th id="699">699</th><td></td></tr>
<tr><th id="700">700</th><td>  <i>/* We'll end up wasting space if we're not passing the filename back</i></td></tr>
<tr><th id="701">701</th><td><i>     and it is not just FILENAME, but so what.  */</i></td></tr>
<tr><th id="702">702</th><td>  <i>/* We need to close the stream, since on some systems the pipe created</i></td></tr>
<tr><th id="703">703</th><td><i>     by popen is simulated by a temporary file which only gets removed</i></td></tr>
<tr><th id="704">704</th><td><i>     inside pclose.  */</i></td></tr>
<tr><th id="705">705</th><td>  <b>if</b> (<a class="local col5 ref" href="#85pipe_p" title='pipe_p' data-ref="85pipe_p" data-ref-filename="85pipe_p">pipe_p</a>)</td></tr>
<tr><th id="706">706</th><td>    <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#pclose" title='pclose' data-ref="pclose" data-ref-filename="pclose">pclose</a> (<a class="local col4 ref" href="#84f" title='f' data-ref="84f" data-ref-filename="84f">f</a>);</td></tr>
<tr><th id="707">707</th><td>  <b>else</b></td></tr>
<tr><th id="708">708</th><td>    <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fclose" title='fclose' data-ref="fclose" data-ref-filename="fclose">fclose</a> (<a class="local col4 ref" href="#84f" title='f' data-ref="84f" data-ref-filename="84f">f</a>);</td></tr>
<tr><th id="709">709</th><td></td></tr>
<tr><th id="710">710</th><td>  *<a class="local col9 ref" href="#79sizep" title='sizep' data-ref="79sizep" data-ref-filename="79sizep">sizep</a> = <a class="local col6 ref" href="#86filled" title='filled' data-ref="86filled" data-ref-filename="86filled">filled</a>;</td></tr>
<tr><th id="711">711</th><td>  <b>return</b> <a class="local col8 ref" href="#88data" title='data' data-ref="88data" data-ref-filename="88data">data</a>;</td></tr>
<tr><th id="712">712</th><td>}</td></tr>
<tr><th id="713">713</th><td></td></tr>
<tr><th id="714">714</th><td><i  data-doc="output_dirfile">/* Output the old dir file, interpolating the new sections</i></td></tr>
<tr><th id="715">715</th><td><i  data-doc="output_dirfile">   and/or new entries where appropriate.  If COMPRESSION_PROGRAM is not</i></td></tr>
<tr><th id="716">716</th><td><i  data-doc="output_dirfile">   null, pipe to it to create DIRFILE.  Thus if we read dir.gz on input,</i></td></tr>
<tr><th id="717">717</th><td><i  data-doc="output_dirfile">   we'll write dir.gz on output.  */</i></td></tr>
<tr><th id="718">718</th><td></td></tr>
<tr><th id="719">719</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="720">720</th><td><dfn class="tu decl def fn" id="output_dirfile" title='output_dirfile' data-type='void output_dirfile(char * dirfile, int dir_nlines, struct line_data * dir_lines, int n_entries_to_add, struct spec_entry * entries_to_add, struct spec_section * input_sections, char * compression_program)' data-ref="output_dirfile" data-ref-filename="output_dirfile">output_dirfile</dfn> (<em>char</em> *<dfn class="local col0 decl" id="90dirfile" title='dirfile' data-type='char *' data-ref="90dirfile" data-ref-filename="90dirfile">dirfile</dfn>, <em>int</em> <dfn class="local col1 decl" id="91dir_nlines" title='dir_nlines' data-type='int' data-ref="91dir_nlines" data-ref-filename="91dir_nlines">dir_nlines</dfn>, <b>struct</b> <a class="type" href="#line_data" title='line_data' data-ref="line_data" data-ref-filename="line_data">line_data</a> *<dfn class="local col2 decl" id="92dir_lines" title='dir_lines' data-type='struct line_data *' data-ref="92dir_lines" data-ref-filename="92dir_lines">dir_lines</dfn>,</td></tr>
<tr><th id="721">721</th><td>                <em>int</em> <dfn class="local col3 decl" id="93n_entries_to_add" title='n_entries_to_add' data-type='int' data-ref="93n_entries_to_add" data-ref-filename="93n_entries_to_add">n_entries_to_add</dfn>, <b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a> *<dfn class="local col4 decl" id="94entries_to_add" title='entries_to_add' data-type='struct spec_entry *' data-ref="94entries_to_add" data-ref-filename="94entries_to_add">entries_to_add</dfn>,</td></tr>
<tr><th id="722">722</th><td>                <b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a> *<dfn class="local col5 decl" id="95input_sections" title='input_sections' data-type='struct spec_section *' data-ref="95input_sections" data-ref-filename="95input_sections">input_sections</dfn>, <em>char</em> *<dfn class="local col6 decl" id="96compression_program" title='compression_program' data-type='char *' data-ref="96compression_program" data-ref-filename="96compression_program">compression_program</dfn>)</td></tr>
<tr><th id="723">723</th><td>{</td></tr>
<tr><th id="724">724</th><td>  <em>int</em> <dfn class="local col7 decl" id="97i" title='i' data-type='int' data-ref="97i" data-ref-filename="97i">i</dfn>;</td></tr>
<tr><th id="725">725</th><td>  <a class="typedef" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#FILE" title='FILE' data-type='struct __sFILE' data-ref="FILE" data-ref-filename="FILE">FILE</a> *<dfn class="local col8 decl" id="98output" title='output' data-type='FILE *' data-ref="98output" data-ref-filename="98output">output</dfn>;</td></tr>
<tr><th id="726">726</th><td></td></tr>
<tr><th id="727">727</th><td>  <b>if</b> (<a class="local col6 ref" href="#96compression_program" title='compression_program' data-ref="96compression_program" data-ref-filename="96compression_program">compression_program</a>)</td></tr>
<tr><th id="728">728</th><td>    {</td></tr>
<tr><th id="729">729</th><td>      <em>char</em> *<dfn class="local col9 decl" id="99command" title='command' data-type='char *' data-ref="99command" data-ref-filename="99command">command</dfn> = <a class="ref fn" href="#concat" title='concat' data-ref="concat" data-ref-filename="concat">concat</a> (<a class="local col6 ref" href="#96compression_program" title='compression_program' data-ref="96compression_program" data-ref-filename="96compression_program">compression_program</a>, <q>"&gt;"</q>, <a class="local col0 ref" href="#90dirfile" title='dirfile' data-ref="90dirfile" data-ref-filename="90dirfile">dirfile</a>);</td></tr>
<tr><th id="730">730</th><td>      <a class="local col8 ref" href="#98output" title='output' data-ref="98output" data-ref-filename="98output">output</a> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#popen" title='popen' data-ref="popen" data-ref-filename="popen">popen</a> (<a class="local col9 ref" href="#99command" title='command' data-ref="99command" data-ref-filename="99command">command</a>, <q>"w"</q>);</td></tr>
<tr><th id="731">731</th><td>    }</td></tr>
<tr><th id="732">732</th><td>  <b>else</b></td></tr>
<tr><th id="733">733</th><td>    <a class="local col8 ref" href="#98output" title='output' data-ref="98output" data-ref-filename="98output">output</a> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fopen" title='fopen' data-ref="fopen" data-ref-filename="fopen">fopen</a> (<a class="local col0 ref" href="#90dirfile" title='dirfile' data-ref="90dirfile" data-ref-filename="90dirfile">dirfile</a>, <q>"w"</q>);</td></tr>
<tr><th id="734">734</th><td></td></tr>
<tr><th id="735">735</th><td>  <b>if</b> (!<a class="local col8 ref" href="#98output" title='output' data-ref="98output" data-ref-filename="98output">output</a>)</td></tr>
<tr><th id="736">736</th><td>    {</td></tr>
<tr><th id="737">737</th><td>      <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#perror" title='perror' data-ref="perror" data-ref-filename="perror">perror</a> (<a class="local col0 ref" href="#90dirfile" title='dirfile' data-ref="90dirfile" data-ref-filename="90dirfile">dirfile</a>);</td></tr>
<tr><th id="738">738</th><td>      <a class="ref fn" href="../lib/system.h.html#xexit" title='xexit' data-ref="xexit" data-ref-filename="xexit">xexit</a> (<var>1</var>);</td></tr>
<tr><th id="739">739</th><td>    }</td></tr>
<tr><th id="740">740</th><td></td></tr>
<tr><th id="741">741</th><td>  <b>for</b> (<a class="local col7 ref" href="#97i" title='i' data-ref="97i" data-ref-filename="97i">i</a> = <var>0</var>; <a class="local col7 ref" href="#97i" title='i' data-ref="97i" data-ref-filename="97i">i</a> &lt;= <a class="local col1 ref" href="#91dir_nlines" title='dir_nlines' data-ref="91dir_nlines" data-ref-filename="91dir_nlines">dir_nlines</a>; <a class="local col7 ref" href="#97i" title='i' data-ref="97i" data-ref-filename="97i">i</a>++)</td></tr>
<tr><th id="742">742</th><td>    {</td></tr>
<tr><th id="743">743</th><td>      <em>int</em> <dfn class="local col0 decl" id="100j" title='j' data-type='int' data-ref="100j" data-ref-filename="100j">j</dfn>;</td></tr>
<tr><th id="744">744</th><td></td></tr>
<tr><th id="745">745</th><td>      <i>/* If we decided to output some new entries before this line,</i></td></tr>
<tr><th id="746">746</th><td><i>         output them now.  */</i></td></tr>
<tr><th id="747">747</th><td>      <b>if</b> (<a class="local col2 ref" href="#92dir_lines" title='dir_lines' data-ref="92dir_lines" data-ref-filename="92dir_lines">dir_lines</a>[<a class="local col7 ref" href="#97i" title='i' data-ref="97i" data-ref-filename="97i">i</a>].<a class="tu ref field" href="#line_data::add_entries_before" title='line_data::add_entries_before' data-use='r' data-ref="line_data::add_entries_before" data-ref-filename="line_data..add_entries_before">add_entries_before</a>)</td></tr>
<tr><th id="748">748</th><td>        <b>for</b> (<a class="local col0 ref" href="#100j" title='j' data-ref="100j" data-ref-filename="100j">j</a> = <var>0</var>; <a class="local col0 ref" href="#100j" title='j' data-ref="100j" data-ref-filename="100j">j</a> &lt; <a class="local col3 ref" href="#93n_entries_to_add" title='n_entries_to_add' data-ref="93n_entries_to_add" data-ref-filename="93n_entries_to_add">n_entries_to_add</a>; <a class="local col0 ref" href="#100j" title='j' data-ref="100j" data-ref-filename="100j">j</a>++)</td></tr>
<tr><th id="749">749</th><td>          {</td></tr>
<tr><th id="750">750</th><td>            <b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a> *<dfn class="local col1 decl" id="101this" title='this' data-type='struct spec_entry *' data-ref="101this" data-ref-filename="101this">this</dfn> = <a class="local col2 ref" href="#92dir_lines" title='dir_lines' data-ref="92dir_lines" data-ref-filename="92dir_lines">dir_lines</a>[<a class="local col7 ref" href="#97i" title='i' data-ref="97i" data-ref-filename="97i">i</a>].<a class="tu ref field" href="#line_data::add_entries_before" title='line_data::add_entries_before' data-use='r' data-ref="line_data::add_entries_before" data-ref-filename="line_data..add_entries_before">add_entries_before</a>[<a class="local col0 ref" href="#100j" title='j' data-ref="100j" data-ref-filename="100j">j</a>];</td></tr>
<tr><th id="751">751</th><td>            <b>if</b> (<a class="local col1 ref" href="#101this" title='this' data-ref="101this" data-ref-filename="101this">this</a> == <var>0</var>)</td></tr>
<tr><th id="752">752</th><td>              <b>break</b>;</td></tr>
<tr><th id="753">753</th><td>            <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fputs" title='fputs' data-ref="fputs" data-ref-filename="fputs">fputs</a> (<a class="local col1 ref" href="#101this" title='this' data-ref="101this" data-ref-filename="101this">this</a>-&gt;<a class="tu ref field" href="#spec_entry::text" title='spec_entry::text' data-use='r' data-ref="spec_entry::text" data-ref-filename="spec_entry..text">text</a>, <a class="local col8 ref" href="#98output" title='output' data-ref="98output" data-ref-filename="98output">output</a>);</td></tr>
<tr><th id="754">754</th><td>          }</td></tr>
<tr><th id="755">755</th><td>      <i>/* If we decided to add some sections here</i></td></tr>
<tr><th id="756">756</th><td><i>         because there are no such sections in the file,</i></td></tr>
<tr><th id="757">757</th><td><i>         output them now.  */</i></td></tr>
<tr><th id="758">758</th><td>      <b>if</b> (<a class="local col2 ref" href="#92dir_lines" title='dir_lines' data-ref="92dir_lines" data-ref-filename="92dir_lines">dir_lines</a>[<a class="local col7 ref" href="#97i" title='i' data-ref="97i" data-ref-filename="97i">i</a>].<a class="tu ref field" href="#line_data::add_sections_before" title='line_data::add_sections_before' data-use='r' data-ref="line_data::add_sections_before" data-ref-filename="line_data..add_sections_before">add_sections_before</a>)</td></tr>
<tr><th id="759">759</th><td>        {</td></tr>
<tr><th id="760">760</th><td>          <b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a> *<dfn class="local col2 decl" id="102spec" title='spec' data-type='struct spec_section *' data-ref="102spec" data-ref-filename="102spec">spec</dfn>;</td></tr>
<tr><th id="761">761</th><td>          <b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a> **<dfn class="local col3 decl" id="103sections" title='sections' data-type='struct spec_section **' data-ref="103sections" data-ref-filename="103sections">sections</dfn>;</td></tr>
<tr><th id="762">762</th><td>          <em>int</em> <dfn class="local col4 decl" id="104n_sections" title='n_sections' data-type='int' data-ref="104n_sections" data-ref-filename="104n_sections">n_sections</dfn> = <var>0</var>;</td></tr>
<tr><th id="763">763</th><td>          <b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a> *<dfn class="local col5 decl" id="105entry" title='entry' data-type='struct spec_entry *' data-ref="105entry" data-ref-filename="105entry">entry</dfn>;</td></tr>
<tr><th id="764">764</th><td>          <b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a> **<dfn class="local col6 decl" id="106entries" title='entries' data-type='struct spec_entry **' data-ref="106entries" data-ref-filename="106entries">entries</dfn>;</td></tr>
<tr><th id="765">765</th><td>          <em>int</em> <dfn class="local col7 decl" id="107n_entries" title='n_entries' data-type='int' data-ref="107n_entries" data-ref-filename="107n_entries">n_entries</dfn> = <var>0</var>;</td></tr>
<tr><th id="766">766</th><td></td></tr>
<tr><th id="767">767</th><td>          <i>/* Count the sections and allocate a vector for all of them.  */</i></td></tr>
<tr><th id="768">768</th><td>          <b>for</b> (<a class="local col2 ref" href="#102spec" title='spec' data-ref="102spec" data-ref-filename="102spec">spec</a> = <a class="local col5 ref" href="#95input_sections" title='input_sections' data-ref="95input_sections" data-ref-filename="95input_sections">input_sections</a>; <a class="local col2 ref" href="#102spec" title='spec' data-ref="102spec" data-ref-filename="102spec">spec</a>; <a class="local col2 ref" href="#102spec" title='spec' data-ref="102spec" data-ref-filename="102spec">spec</a> = <a class="local col2 ref" href="#102spec" title='spec' data-ref="102spec" data-ref-filename="102spec">spec</a>-&gt;<a class="tu ref field" href="#spec_section::next" title='spec_section::next' data-use='r' data-ref="spec_section::next" data-ref-filename="spec_section..next">next</a>)</td></tr>
<tr><th id="769">769</th><td>            <a class="local col4 ref" href="#104n_sections" title='n_sections' data-ref="104n_sections" data-ref-filename="104n_sections">n_sections</a>++;</td></tr>
<tr><th id="770">770</th><td>          <a class="local col3 ref" href="#103sections" title='sections' data-ref="103sections" data-ref-filename="103sections">sections</a> = ((<b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a> **)</td></tr>
<tr><th id="771">771</th><td>                      <a class="ref fn" href="../lib/system.h.html#xmalloc" title='xmalloc' data-ref="xmalloc" data-ref-filename="xmalloc">xmalloc</a> (<a class="local col4 ref" href="#104n_sections" title='n_sections' data-ref="104n_sections" data-ref-filename="104n_sections">n_sections</a> * <b>sizeof</b> (<b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a> *)));</td></tr>
<tr><th id="772">772</th><td></td></tr>
<tr><th id="773">773</th><td>          <i>/* Fill the vector SECTIONS with pointers to all the sections,</i></td></tr>
<tr><th id="774">774</th><td><i>             and sort them.  */</i></td></tr>
<tr><th id="775">775</th><td>          <a class="local col0 ref" href="#100j" title='j' data-ref="100j" data-ref-filename="100j">j</a> = <var>0</var>;</td></tr>
<tr><th id="776">776</th><td>          <b>for</b> (<a class="local col2 ref" href="#102spec" title='spec' data-ref="102spec" data-ref-filename="102spec">spec</a> = <a class="local col5 ref" href="#95input_sections" title='input_sections' data-ref="95input_sections" data-ref-filename="95input_sections">input_sections</a>; <a class="local col2 ref" href="#102spec" title='spec' data-ref="102spec" data-ref-filename="102spec">spec</a>; <a class="local col2 ref" href="#102spec" title='spec' data-ref="102spec" data-ref-filename="102spec">spec</a> = <a class="local col2 ref" href="#102spec" title='spec' data-ref="102spec" data-ref-filename="102spec">spec</a>-&gt;<a class="tu ref field" href="#spec_section::next" title='spec_section::next' data-use='r' data-ref="spec_section::next" data-ref-filename="spec_section..next">next</a>)</td></tr>
<tr><th id="777">777</th><td>            <a class="local col3 ref" href="#103sections" title='sections' data-ref="103sections" data-ref-filename="103sections">sections</a>[<a class="local col0 ref" href="#100j" title='j' data-ref="100j" data-ref-filename="100j">j</a>++] = <a class="local col2 ref" href="#102spec" title='spec' data-ref="102spec" data-ref-filename="102spec">spec</a>;</td></tr>
<tr><th id="778">778</th><td>          <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#qsort" title='qsort' data-ref="qsort" data-ref-filename="qsort">qsort</a> (<a class="local col3 ref" href="#103sections" title='sections' data-ref="103sections" data-ref-filename="103sections">sections</a>, <a class="local col4 ref" href="#104n_sections" title='n_sections' data-ref="104n_sections" data-ref-filename="104n_sections">n_sections</a>, <b>sizeof</b> (<b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a> *),</td></tr>
<tr><th id="779">779</th><td>                 <a class="ref fn" href="#compare_section_names" title='compare_section_names' data-ref="compare_section_names" data-ref-filename="compare_section_names">compare_section_names</a>);</td></tr>
<tr><th id="780">780</th><td></td></tr>
<tr><th id="781">781</th><td>          <i>/* Count the entries and allocate a vector for all of them.  */</i></td></tr>
<tr><th id="782">782</th><td>          <b>for</b> (<a class="local col5 ref" href="#105entry" title='entry' data-ref="105entry" data-ref-filename="105entry">entry</a> = <a class="local col4 ref" href="#94entries_to_add" title='entries_to_add' data-ref="94entries_to_add" data-ref-filename="94entries_to_add">entries_to_add</a>; <a class="local col5 ref" href="#105entry" title='entry' data-ref="105entry" data-ref-filename="105entry">entry</a>; <a class="local col5 ref" href="#105entry" title='entry' data-ref="105entry" data-ref-filename="105entry">entry</a> = <a class="local col5 ref" href="#105entry" title='entry' data-ref="105entry" data-ref-filename="105entry">entry</a>-&gt;<a class="tu ref field" href="#spec_entry::next" title='spec_entry::next' data-use='r' data-ref="spec_entry::next" data-ref-filename="spec_entry..next">next</a>)</td></tr>
<tr><th id="783">783</th><td>            <a class="local col7 ref" href="#107n_entries" title='n_entries' data-ref="107n_entries" data-ref-filename="107n_entries">n_entries</a>++;</td></tr>
<tr><th id="784">784</th><td>          <a class="local col6 ref" href="#106entries" title='entries' data-ref="106entries" data-ref-filename="106entries">entries</a> = ((<b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a> **)</td></tr>
<tr><th id="785">785</th><td>                     <a class="ref fn" href="../lib/system.h.html#xmalloc" title='xmalloc' data-ref="xmalloc" data-ref-filename="xmalloc">xmalloc</a> (<a class="local col7 ref" href="#107n_entries" title='n_entries' data-ref="107n_entries" data-ref-filename="107n_entries">n_entries</a> * <b>sizeof</b> (<b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a> *)));</td></tr>
<tr><th id="786">786</th><td></td></tr>
<tr><th id="787">787</th><td>          <i>/* Fill the vector ENTRIES with pointers to all the sections,</i></td></tr>
<tr><th id="788">788</th><td><i>             and sort them.  */</i></td></tr>
<tr><th id="789">789</th><td>          <a class="local col0 ref" href="#100j" title='j' data-ref="100j" data-ref-filename="100j">j</a> = <var>0</var>;</td></tr>
<tr><th id="790">790</th><td>          <b>for</b> (<a class="local col5 ref" href="#105entry" title='entry' data-ref="105entry" data-ref-filename="105entry">entry</a> = <a class="local col4 ref" href="#94entries_to_add" title='entries_to_add' data-ref="94entries_to_add" data-ref-filename="94entries_to_add">entries_to_add</a>; <a class="local col5 ref" href="#105entry" title='entry' data-ref="105entry" data-ref-filename="105entry">entry</a>; <a class="local col5 ref" href="#105entry" title='entry' data-ref="105entry" data-ref-filename="105entry">entry</a> = <a class="local col5 ref" href="#105entry" title='entry' data-ref="105entry" data-ref-filename="105entry">entry</a>-&gt;<a class="tu ref field" href="#spec_entry::next" title='spec_entry::next' data-use='r' data-ref="spec_entry::next" data-ref-filename="spec_entry..next">next</a>)</td></tr>
<tr><th id="791">791</th><td>            <a class="local col6 ref" href="#106entries" title='entries' data-ref="106entries" data-ref-filename="106entries">entries</a>[<a class="local col0 ref" href="#100j" title='j' data-ref="100j" data-ref-filename="100j">j</a>++] = <a class="local col5 ref" href="#105entry" title='entry' data-ref="105entry" data-ref-filename="105entry">entry</a>;</td></tr>
<tr><th id="792">792</th><td>          <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#qsort" title='qsort' data-ref="qsort" data-ref-filename="qsort">qsort</a> (<a class="local col6 ref" href="#106entries" title='entries' data-ref="106entries" data-ref-filename="106entries">entries</a>, <a class="local col7 ref" href="#107n_entries" title='n_entries' data-ref="107n_entries" data-ref-filename="107n_entries">n_entries</a>, <b>sizeof</b> (<b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a> *),</td></tr>
<tr><th id="793">793</th><td>                 <a class="ref fn" href="#compare_entries_text" title='compare_entries_text' data-ref="compare_entries_text" data-ref-filename="compare_entries_text">compare_entries_text</a>);</td></tr>
<tr><th id="794">794</th><td></td></tr>
<tr><th id="795">795</th><td>          <i>/* Generate the new sections in alphabetical order.  In each</i></td></tr>
<tr><th id="796">796</th><td><i>             new section, output all of the entries that belong to that</i></td></tr>
<tr><th id="797">797</th><td><i>             section, in alphabetical order.  */</i></td></tr>
<tr><th id="798">798</th><td>          <b>for</b> (<a class="local col0 ref" href="#100j" title='j' data-ref="100j" data-ref-filename="100j">j</a> = <var>0</var>; <a class="local col0 ref" href="#100j" title='j' data-ref="100j" data-ref-filename="100j">j</a> &lt; <a class="local col4 ref" href="#104n_sections" title='n_sections' data-ref="104n_sections" data-ref-filename="104n_sections">n_sections</a>; <a class="local col0 ref" href="#100j" title='j' data-ref="100j" data-ref-filename="100j">j</a>++)</td></tr>
<tr><th id="799">799</th><td>            {</td></tr>
<tr><th id="800">800</th><td>              <a class="local col2 ref" href="#102spec" title='spec' data-ref="102spec" data-ref-filename="102spec">spec</a> = <a class="local col3 ref" href="#103sections" title='sections' data-ref="103sections" data-ref-filename="103sections">sections</a>[<a class="local col0 ref" href="#100j" title='j' data-ref="100j" data-ref-filename="100j">j</a>];</td></tr>
<tr><th id="801">801</th><td>              <b>if</b> (<a class="local col2 ref" href="#102spec" title='spec' data-ref="102spec" data-ref-filename="102spec">spec</a>-&gt;<a class="tu ref field" href="#spec_section::missing" title='spec_section::missing' data-use='r' data-ref="spec_section::missing" data-ref-filename="spec_section..missing">missing</a>)</td></tr>
<tr><th id="802">802</th><td>                {</td></tr>
<tr><th id="803">803</th><td>                  <em>int</em> <dfn class="local col8 decl" id="108k" title='k' data-type='int' data-ref="108k" data-ref-filename="108k">k</dfn>;</td></tr>
<tr><th id="804">804</th><td></td></tr>
<tr><th id="805">805</th><td>                  <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#497" title="__sputc(&apos;\n&apos;, output)" data-ref="_M/putc">putc</a> (<kbd>'\n'</kbd>, <a class="local col8 ref" href="#98output" title='output' data-ref="98output" data-ref-filename="98output">output</a>);</td></tr>
<tr><th id="806">806</th><td>                  <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fputs" title='fputs' data-ref="fputs" data-ref-filename="fputs">fputs</a> (<a class="local col2 ref" href="#102spec" title='spec' data-ref="102spec" data-ref-filename="102spec">spec</a>-&gt;<a class="tu ref field" href="#spec_section::name" title='spec_section::name' data-use='r' data-ref="spec_section::name" data-ref-filename="spec_section..name">name</a>, <a class="local col8 ref" href="#98output" title='output' data-ref="98output" data-ref-filename="98output">output</a>);</td></tr>
<tr><th id="807">807</th><td>                  <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#497" title="__sputc(&apos;\n&apos;, output)" data-ref="_M/putc">putc</a> (<kbd>'\n'</kbd>, <a class="local col8 ref" href="#98output" title='output' data-ref="98output" data-ref-filename="98output">output</a>);</td></tr>
<tr><th id="808">808</th><td>                  <b>for</b> (<a class="local col8 ref" href="#108k" title='k' data-ref="108k" data-ref-filename="108k">k</a> = <var>0</var>; <a class="local col8 ref" href="#108k" title='k' data-ref="108k" data-ref-filename="108k">k</a> &lt; <a class="local col7 ref" href="#107n_entries" title='n_entries' data-ref="107n_entries" data-ref-filename="107n_entries">n_entries</a>; <a class="local col8 ref" href="#108k" title='k' data-ref="108k" data-ref-filename="108k">k</a>++)</td></tr>
<tr><th id="809">809</th><td>                    {</td></tr>
<tr><th id="810">810</th><td>                      <b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a> *<dfn class="local col9 decl" id="109spec1" title='spec1' data-type='struct spec_section *' data-ref="109spec1" data-ref-filename="109spec1">spec1</dfn>;</td></tr>
<tr><th id="811">811</th><td>                      <i>/* Did they at all want this entry to be put into</i></td></tr>
<tr><th id="812">812</th><td><i>                         this section?  */</i></td></tr>
<tr><th id="813">813</th><td>                      <a class="local col5 ref" href="#105entry" title='entry' data-ref="105entry" data-ref-filename="105entry">entry</a> = <a class="local col6 ref" href="#106entries" title='entries' data-ref="106entries" data-ref-filename="106entries">entries</a>[<a class="local col8 ref" href="#108k" title='k' data-ref="108k" data-ref-filename="108k">k</a>];</td></tr>
<tr><th id="814">814</th><td>                      <b>for</b> (<a class="local col9 ref" href="#109spec1" title='spec1' data-ref="109spec1" data-ref-filename="109spec1">spec1</a> = <a class="local col5 ref" href="#105entry" title='entry' data-ref="105entry" data-ref-filename="105entry">entry</a>-&gt;<a class="tu ref field" href="#spec_entry::entry_sections" title='spec_entry::entry_sections' data-use='r' data-ref="spec_entry::entry_sections" data-ref-filename="spec_entry..entry_sections">entry_sections</a>;</td></tr>
<tr><th id="815">815</th><td>                           <a class="local col9 ref" href="#109spec1" title='spec1' data-ref="109spec1" data-ref-filename="109spec1">spec1</a> &amp;&amp; <a class="local col9 ref" href="#109spec1" title='spec1' data-ref="109spec1" data-ref-filename="109spec1">spec1</a> != <a class="local col5 ref" href="#105entry" title='entry' data-ref="105entry" data-ref-filename="105entry">entry</a>-&gt;<a class="tu ref field" href="#spec_entry::entry_sections_tail" title='spec_entry::entry_sections_tail' data-use='r' data-ref="spec_entry::entry_sections_tail" data-ref-filename="spec_entry..entry_sections_tail">entry_sections_tail</a>;</td></tr>
<tr><th id="816">816</th><td>                           <a class="local col9 ref" href="#109spec1" title='spec1' data-ref="109spec1" data-ref-filename="109spec1">spec1</a> = <a class="local col9 ref" href="#109spec1" title='spec1' data-ref="109spec1" data-ref-filename="109spec1">spec1</a>-&gt;<a class="tu ref field" href="#spec_section::next" title='spec_section::next' data-use='r' data-ref="spec_section::next" data-ref-filename="spec_section..next">next</a>)</td></tr>
<tr><th id="817">817</th><td>                        {</td></tr>
<tr><th id="818">818</th><td>                          <b>if</b> (!<a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a> (<a class="local col9 ref" href="#109spec1" title='spec1' data-ref="109spec1" data-ref-filename="109spec1">spec1</a>-&gt;<a class="tu ref field" href="#spec_section::name" title='spec_section::name' data-use='r' data-ref="spec_section::name" data-ref-filename="spec_section..name">name</a>, <a class="local col2 ref" href="#102spec" title='spec' data-ref="102spec" data-ref-filename="102spec">spec</a>-&gt;<a class="tu ref field" href="#spec_section::name" title='spec_section::name' data-use='r' data-ref="spec_section::name" data-ref-filename="spec_section..name">name</a>))</td></tr>
<tr><th id="819">819</th><td>                            <b>break</b>;</td></tr>
<tr><th id="820">820</th><td>                        }</td></tr>
<tr><th id="821">821</th><td>                      <b>if</b> (<a class="local col9 ref" href="#109spec1" title='spec1' data-ref="109spec1" data-ref-filename="109spec1">spec1</a> &amp;&amp; <a class="local col9 ref" href="#109spec1" title='spec1' data-ref="109spec1" data-ref-filename="109spec1">spec1</a> != <a class="local col5 ref" href="#105entry" title='entry' data-ref="105entry" data-ref-filename="105entry">entry</a>-&gt;<a class="tu ref field" href="#spec_entry::entry_sections_tail" title='spec_entry::entry_sections_tail' data-use='r' data-ref="spec_entry::entry_sections_tail" data-ref-filename="spec_entry..entry_sections_tail">entry_sections_tail</a>)</td></tr>
<tr><th id="822">822</th><td>                        <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fputs" title='fputs' data-ref="fputs" data-ref-filename="fputs">fputs</a> (<a class="local col5 ref" href="#105entry" title='entry' data-ref="105entry" data-ref-filename="105entry">entry</a>-&gt;<a class="tu ref field" href="#spec_entry::text" title='spec_entry::text' data-use='r' data-ref="spec_entry::text" data-ref-filename="spec_entry..text">text</a>, <a class="local col8 ref" href="#98output" title='output' data-ref="98output" data-ref-filename="98output">output</a>);</td></tr>
<tr><th id="823">823</th><td>                    }</td></tr>
<tr><th id="824">824</th><td>                }</td></tr>
<tr><th id="825">825</th><td>            }</td></tr>
<tr><th id="826">826</th><td></td></tr>
<tr><th id="827">827</th><td>          <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a> (<a class="local col6 ref" href="#106entries" title='entries' data-ref="106entries" data-ref-filename="106entries">entries</a>);</td></tr>
<tr><th id="828">828</th><td>          <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#free" title='free' data-ref="free" data-ref-filename="free">free</a> (<a class="local col3 ref" href="#103sections" title='sections' data-ref="103sections" data-ref-filename="103sections">sections</a>);</td></tr>
<tr><th id="829">829</th><td>        }</td></tr>
<tr><th id="830">830</th><td></td></tr>
<tr><th id="831">831</th><td>      <i>/* Output the original dir lines unless marked for deletion.  */</i></td></tr>
<tr><th id="832">832</th><td>      <b>if</b> (<a class="local col7 ref" href="#97i" title='i' data-ref="97i" data-ref-filename="97i">i</a> &lt; <a class="local col1 ref" href="#91dir_nlines" title='dir_nlines' data-ref="91dir_nlines" data-ref-filename="91dir_nlines">dir_nlines</a> &amp;&amp; !<a class="local col2 ref" href="#92dir_lines" title='dir_lines' data-ref="92dir_lines" data-ref-filename="92dir_lines">dir_lines</a>[<a class="local col7 ref" href="#97i" title='i' data-ref="97i" data-ref-filename="97i">i</a>].<a class="tu ref field" href="#line_data::delete" title='line_data::delete' data-use='r' data-ref="line_data::delete" data-ref-filename="line_data..delete">delete</a>)</td></tr>
<tr><th id="833">833</th><td>        {</td></tr>
<tr><th id="834">834</th><td>          <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fwrite" title='fwrite' data-ref="fwrite" data-ref-filename="fwrite">fwrite</a> (<a class="local col2 ref" href="#92dir_lines" title='dir_lines' data-ref="92dir_lines" data-ref-filename="92dir_lines">dir_lines</a>[<a class="local col7 ref" href="#97i" title='i' data-ref="97i" data-ref-filename="97i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a>, <var>1</var>, <a class="local col2 ref" href="#92dir_lines" title='dir_lines' data-ref="92dir_lines" data-ref-filename="92dir_lines">dir_lines</a>[<a class="local col7 ref" href="#97i" title='i' data-ref="97i" data-ref-filename="97i">i</a>].<a class="tu ref field" href="#line_data::size" title='line_data::size' data-use='r' data-ref="line_data::size" data-ref-filename="line_data..size">size</a>, <a class="local col8 ref" href="#98output" title='output' data-ref="98output" data-ref-filename="98output">output</a>);</td></tr>
<tr><th id="835">835</th><td>          <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#497" title="__sputc(&apos;\n&apos;, output)" data-ref="_M/putc">putc</a> (<kbd>'\n'</kbd>, <a class="local col8 ref" href="#98output" title='output' data-ref="98output" data-ref-filename="98output">output</a>);</td></tr>
<tr><th id="836">836</th><td>        }</td></tr>
<tr><th id="837">837</th><td>    }</td></tr>
<tr><th id="838">838</th><td></td></tr>
<tr><th id="839">839</th><td>  <i>/* Some systems, such as MS-DOS, simulate pipes with temporary files.</i></td></tr>
<tr><th id="840">840</th><td><i>     On those systems, the compressor actually gets run inside pclose,</i></td></tr>
<tr><th id="841">841</th><td><i>     so we must call pclose.  */</i></td></tr>
<tr><th id="842">842</th><td>  <b>if</b> (<a class="local col6 ref" href="#96compression_program" title='compression_program' data-ref="96compression_program" data-ref-filename="96compression_program">compression_program</a>)</td></tr>
<tr><th id="843">843</th><td>    <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#pclose" title='pclose' data-ref="pclose" data-ref-filename="pclose">pclose</a> (<a class="local col8 ref" href="#98output" title='output' data-ref="98output" data-ref-filename="98output">output</a>);</td></tr>
<tr><th id="844">844</th><td>  <b>else</b></td></tr>
<tr><th id="845">845</th><td>    <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fclose" title='fclose' data-ref="fclose" data-ref-filename="fclose">fclose</a> (<a class="local col8 ref" href="#98output" title='output' data-ref="98output" data-ref-filename="98output">output</a>);</td></tr>
<tr><th id="846">846</th><td>}</td></tr>
<tr><th id="847">847</th><td></td></tr>
<tr><th id="848">848</th><td><i>/* Parse the input to find the section names and the entry names it</i></td></tr>
<tr><th id="849">849</th><td><i>   specifies.  Return the number of entries to add from this file.  */</i></td></tr>
<tr><th id="850">850</th><td><em>int</em></td></tr>
<tr><th id="851">851</th><td><dfn class="decl def fn" id="parse_input" title='parse_input' data-ref="parse_input" data-ref-filename="parse_input">parse_input</dfn> (<em>const</em> <b>struct</b> <a class="type" href="#line_data" title='line_data' data-ref="line_data" data-ref-filename="line_data">line_data</a> *<dfn class="local col0 decl" id="110lines" title='lines' data-type='const struct line_data *' data-ref="110lines" data-ref-filename="110lines">lines</dfn>, <em>int</em> <dfn class="local col1 decl" id="111nlines" title='nlines' data-type='int' data-ref="111nlines" data-ref-filename="111nlines">nlines</dfn>,</td></tr>
<tr><th id="852">852</th><td>             <b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a> **<dfn class="local col2 decl" id="112sections" title='sections' data-type='struct spec_section **' data-ref="112sections" data-ref-filename="112sections">sections</dfn>, <b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a> **<dfn class="local col3 decl" id="113entries" title='entries' data-type='struct spec_entry **' data-ref="113entries" data-ref-filename="113entries">entries</dfn>) </td></tr>
<tr><th id="853">853</th><td>{</td></tr>
<tr><th id="854">854</th><td>  <em>int</em> <dfn class="local col4 decl" id="114n_entries" title='n_entries' data-type='int' data-ref="114n_entries" data-ref-filename="114n_entries">n_entries</dfn> = <var>0</var>;</td></tr>
<tr><th id="855">855</th><td>  <em>int</em> <dfn class="local col5 decl" id="115prefix_length" title='prefix_length' data-type='int' data-ref="115prefix_length" data-ref-filename="115prefix_length">prefix_length</dfn> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a> (<q>"INFO-DIR-SECTION "</q>);</td></tr>
<tr><th id="856">856</th><td>  <b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a> *<dfn class="local col6 decl" id="116head" title='head' data-type='struct spec_section *' data-ref="116head" data-ref-filename="116head">head</dfn> = *<a class="local col2 ref" href="#112sections" title='sections' data-ref="112sections" data-ref-filename="112sections">sections</a>, *<dfn class="local col7 decl" id="117tail" title='tail' data-type='struct spec_section *' data-ref="117tail" data-ref-filename="117tail">tail</dfn> = <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>;</td></tr>
<tr><th id="857">857</th><td>  <em>int</em> <dfn class="local col8 decl" id="118reset_tail" title='reset_tail' data-type='int' data-ref="118reset_tail" data-ref-filename="118reset_tail">reset_tail</dfn> = <var>0</var>;</td></tr>
<tr><th id="858">858</th><td>  <em>char</em> *<dfn class="local col9 decl" id="119start_of_this_entry" title='start_of_this_entry' data-type='char *' data-ref="119start_of_this_entry" data-ref-filename="119start_of_this_entry">start_of_this_entry</dfn> = <var>0</var>;</td></tr>
<tr><th id="859">859</th><td>  <em>int</em> <dfn class="local col0 decl" id="120ignore_sections" title='ignore_sections' data-type='int' data-ref="120ignore_sections" data-ref-filename="120ignore_sections">ignore_sections</dfn> = *<a class="local col2 ref" href="#112sections" title='sections' data-ref="112sections" data-ref-filename="112sections">sections</a> != <var>0</var>;</td></tr>
<tr><th id="860">860</th><td>  <em>int</em> <dfn class="local col1 decl" id="121ignore_entries" title='ignore_entries' data-type='int' data-ref="121ignore_entries" data-ref-filename="121ignore_entries">ignore_entries</dfn>  = *<a class="local col3 ref" href="#113entries" title='entries' data-ref="113entries" data-ref-filename="113entries">entries</a>  != <var>0</var>;</td></tr>
<tr><th id="861">861</th><td></td></tr>
<tr><th id="862">862</th><td>  <em>int</em> <dfn class="local col2 decl" id="122i" title='i' data-type='int' data-ref="122i" data-ref-filename="122i">i</dfn>;</td></tr>
<tr><th id="863">863</th><td></td></tr>
<tr><th id="864">864</th><td>  <b>if</b> (<a class="local col0 ref" href="#120ignore_sections" title='ignore_sections' data-ref="120ignore_sections" data-ref-filename="120ignore_sections">ignore_sections</a> &amp;&amp; <a class="local col1 ref" href="#121ignore_entries" title='ignore_entries' data-ref="121ignore_entries" data-ref-filename="121ignore_entries">ignore_entries</a>)</td></tr>
<tr><th id="865">865</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="866">866</th><td></td></tr>
<tr><th id="867">867</th><td>  <i>/* Loop here processing lines from the input file.  Each</i></td></tr>
<tr><th id="868">868</th><td><i>     INFO-DIR-SECTION entry is added to the SECTIONS linked list.</i></td></tr>
<tr><th id="869">869</th><td><i>     Each START-INFO-DIR-ENTRY block is added to the ENTRIES linked</i></td></tr>
<tr><th id="870">870</th><td><i>     list, and all its entries inherit the chain of SECTION entries</i></td></tr>
<tr><th id="871">871</th><td><i>     defined by the last group of INFO-DIR-SECTION entries we have</i></td></tr>
<tr><th id="872">872</th><td><i>     seen until that point.  */</i></td></tr>
<tr><th id="873">873</th><td>  <b>for</b> (<a class="local col2 ref" href="#122i" title='i' data-ref="122i" data-ref-filename="122i">i</a> = <var>0</var>; <a class="local col2 ref" href="#122i" title='i' data-ref="122i" data-ref-filename="122i">i</a> &lt; <a class="local col1 ref" href="#111nlines" title='nlines' data-ref="111nlines" data-ref-filename="111nlines">nlines</a>; <a class="local col2 ref" href="#122i" title='i' data-ref="122i" data-ref-filename="122i">i</a>++)</td></tr>
<tr><th id="874">874</th><td>    {</td></tr>
<tr><th id="875">875</th><td>      <b>if</b> (!<a class="local col0 ref" href="#120ignore_sections" title='ignore_sections' data-ref="120ignore_sections" data-ref-filename="120ignore_sections">ignore_sections</a></td></tr>
<tr><th id="876">876</th><td>          &amp;&amp; !<a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strncmp" title='strncmp' data-ref="strncmp" data-ref-filename="strncmp">strncmp</a> (<q>"INFO-DIR-SECTION "</q>, <a class="local col0 ref" href="#110lines" title='lines' data-ref="110lines" data-ref-filename="110lines">lines</a>[<a class="local col2 ref" href="#122i" title='i' data-ref="122i" data-ref-filename="122i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a>, <a class="local col5 ref" href="#115prefix_length" title='prefix_length' data-ref="115prefix_length" data-ref-filename="115prefix_length">prefix_length</a>))</td></tr>
<tr><th id="877">877</th><td>        {</td></tr>
<tr><th id="878">878</th><td>          <b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a> *<dfn class="local col3 decl" id="123next" title='next' data-type='struct spec_section *' data-ref="123next" data-ref-filename="123next">next</dfn></td></tr>
<tr><th id="879">879</th><td>            = (<b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a> *) <a class="ref fn" href="../lib/system.h.html#xmalloc" title='xmalloc' data-ref="xmalloc" data-ref-filename="xmalloc">xmalloc</a> (<b>sizeof</b> (<b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a>));</td></tr>
<tr><th id="880">880</th><td>          <a class="local col3 ref" href="#123next" title='next' data-ref="123next" data-ref-filename="123next">next</a>-&gt;<a class="tu ref field" href="#spec_section::name" title='spec_section::name' data-use='w' data-ref="spec_section::name" data-ref-filename="spec_section..name">name</a> = <a class="ref fn" href="#copy_string" title='copy_string' data-ref="copy_string" data-ref-filename="copy_string">copy_string</a> (<a class="local col0 ref" href="#110lines" title='lines' data-ref="110lines" data-ref-filename="110lines">lines</a>[<a class="local col2 ref" href="#122i" title='i' data-ref="122i" data-ref-filename="122i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a> + <a class="local col5 ref" href="#115prefix_length" title='prefix_length' data-ref="115prefix_length" data-ref-filename="115prefix_length">prefix_length</a>,</td></tr>
<tr><th id="881">881</th><td>                                    <a class="local col0 ref" href="#110lines" title='lines' data-ref="110lines" data-ref-filename="110lines">lines</a>[<a class="local col2 ref" href="#122i" title='i' data-ref="122i" data-ref-filename="122i">i</a>].<a class="tu ref field" href="#line_data::size" title='line_data::size' data-use='r' data-ref="line_data::size" data-ref-filename="line_data..size">size</a> - <a class="local col5 ref" href="#115prefix_length" title='prefix_length' data-ref="115prefix_length" data-ref-filename="115prefix_length">prefix_length</a>);</td></tr>
<tr><th id="882">882</th><td>          <a class="local col3 ref" href="#123next" title='next' data-ref="123next" data-ref-filename="123next">next</a>-&gt;<a class="tu ref field" href="#spec_section::next" title='spec_section::next' data-use='w' data-ref="spec_section::next" data-ref-filename="spec_section..next">next</a> = *<a class="local col2 ref" href="#112sections" title='sections' data-ref="112sections" data-ref-filename="112sections">sections</a>;</td></tr>
<tr><th id="883">883</th><td>          <a class="local col3 ref" href="#123next" title='next' data-ref="123next" data-ref-filename="123next">next</a>-&gt;<a class="tu ref field" href="#spec_section::missing" title='spec_section::missing' data-use='w' data-ref="spec_section::missing" data-ref-filename="spec_section..missing">missing</a> = <var>1</var>;</td></tr>
<tr><th id="884">884</th><td>          <b>if</b> (<a class="local col8 ref" href="#118reset_tail" title='reset_tail' data-ref="118reset_tail" data-ref-filename="118reset_tail">reset_tail</a>)</td></tr>
<tr><th id="885">885</th><td>            {</td></tr>
<tr><th id="886">886</th><td>              <a class="local col7 ref" href="#117tail" title='tail' data-ref="117tail" data-ref-filename="117tail">tail</a> = *<a class="local col2 ref" href="#112sections" title='sections' data-ref="112sections" data-ref-filename="112sections">sections</a>;</td></tr>
<tr><th id="887">887</th><td>              <a class="local col8 ref" href="#118reset_tail" title='reset_tail' data-ref="118reset_tail" data-ref-filename="118reset_tail">reset_tail</a> = <var>0</var>;</td></tr>
<tr><th id="888">888</th><td>            }</td></tr>
<tr><th id="889">889</th><td>          *<a class="local col2 ref" href="#112sections" title='sections' data-ref="112sections" data-ref-filename="112sections">sections</a> = <a class="local col3 ref" href="#123next" title='next' data-ref="123next" data-ref-filename="123next">next</a>;</td></tr>
<tr><th id="890">890</th><td>          <a class="local col6 ref" href="#116head" title='head' data-ref="116head" data-ref-filename="116head">head</a> = *<a class="local col2 ref" href="#112sections" title='sections' data-ref="112sections" data-ref-filename="112sections">sections</a>;</td></tr>
<tr><th id="891">891</th><td>        }</td></tr>
<tr><th id="892">892</th><td>      <i>/* If entries were specified explicitly with command options,</i></td></tr>
<tr><th id="893">893</th><td><i>         ignore the entries in the input file.  */</i></td></tr>
<tr><th id="894">894</th><td>      <b>else</b> <b>if</b> (!<a class="local col1 ref" href="#121ignore_entries" title='ignore_entries' data-ref="121ignore_entries" data-ref-filename="121ignore_entries">ignore_entries</a>)</td></tr>
<tr><th id="895">895</th><td>        {</td></tr>
<tr><th id="896">896</th><td>          <b>if</b> (!<a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strncmp" title='strncmp' data-ref="strncmp" data-ref-filename="strncmp">strncmp</a> (<q>"START-INFO-DIR-ENTRY"</q>, <a class="local col0 ref" href="#110lines" title='lines' data-ref="110lines" data-ref-filename="110lines">lines</a>[<a class="local col2 ref" href="#122i" title='i' data-ref="122i" data-ref-filename="122i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a>, <a class="local col0 ref" href="#110lines" title='lines' data-ref="110lines" data-ref-filename="110lines">lines</a>[<a class="local col2 ref" href="#122i" title='i' data-ref="122i" data-ref-filename="122i">i</a>].<a class="tu ref field" href="#line_data::size" title='line_data::size' data-use='r' data-ref="line_data::size" data-ref-filename="line_data..size">size</a>)</td></tr>
<tr><th id="897">897</th><td>              &amp;&amp; <b>sizeof</b> (<q>"START-INFO-DIR-ENTRY"</q>) - <var>1</var> == <a class="local col0 ref" href="#110lines" title='lines' data-ref="110lines" data-ref-filename="110lines">lines</a>[<a class="local col2 ref" href="#122i" title='i' data-ref="122i" data-ref-filename="122i">i</a>].<a class="tu ref field" href="#line_data::size" title='line_data::size' data-use='r' data-ref="line_data::size" data-ref-filename="line_data..size">size</a>)</td></tr>
<tr><th id="898">898</th><td>            {</td></tr>
<tr><th id="899">899</th><td>              <b>if</b> (!*<a class="local col2 ref" href="#112sections" title='sections' data-ref="112sections" data-ref-filename="112sections">sections</a>)</td></tr>
<tr><th id="900">900</th><td>                {</td></tr>
<tr><th id="901">901</th><td>                  <i>/* We found an entry, but didn't yet see any sections</i></td></tr>
<tr><th id="902">902</th><td><i>                     specified.  Default to section "Miscellaneous".  */</i></td></tr>
<tr><th id="903">903</th><td>                  *<a class="local col2 ref" href="#112sections" title='sections' data-ref="112sections" data-ref-filename="112sections">sections</a> = (<b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a> *)</td></tr>
<tr><th id="904">904</th><td>                    <a class="ref fn" href="../lib/system.h.html#xmalloc" title='xmalloc' data-ref="xmalloc" data-ref-filename="xmalloc">xmalloc</a> (<b>sizeof</b> (<b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a>));</td></tr>
<tr><th id="905">905</th><td>                  (*<a class="local col2 ref" href="#112sections" title='sections' data-ref="112sections" data-ref-filename="112sections">sections</a>)-&gt;<a class="tu ref field" href="#spec_section::name" title='spec_section::name' data-use='w' data-ref="spec_section::name" data-ref-filename="spec_section..name">name</a> = <q>"Miscellaneous"</q>;</td></tr>
<tr><th id="906">906</th><td>                  (*<a class="local col2 ref" href="#112sections" title='sections' data-ref="112sections" data-ref-filename="112sections">sections</a>)-&gt;<a class="tu ref field" href="#spec_section::next" title='spec_section::next' data-use='w' data-ref="spec_section::next" data-ref-filename="spec_section..next">next</a> = <var>0</var>;</td></tr>
<tr><th id="907">907</th><td>                  (*<a class="local col2 ref" href="#112sections" title='sections' data-ref="112sections" data-ref-filename="112sections">sections</a>)-&gt;<a class="tu ref field" href="#spec_section::missing" title='spec_section::missing' data-use='w' data-ref="spec_section::missing" data-ref-filename="spec_section..missing">missing</a> = <var>1</var>;</td></tr>
<tr><th id="908">908</th><td>                  <a class="local col6 ref" href="#116head" title='head' data-ref="116head" data-ref-filename="116head">head</a> = *<a class="local col2 ref" href="#112sections" title='sections' data-ref="112sections" data-ref-filename="112sections">sections</a>;</td></tr>
<tr><th id="909">909</th><td>                }</td></tr>
<tr><th id="910">910</th><td>              <i>/* Next time we see INFO-DIR-SECTION, we will reset the</i></td></tr>
<tr><th id="911">911</th><td><i>                 tail pointer.  */</i></td></tr>
<tr><th id="912">912</th><td>              <a class="local col8 ref" href="#118reset_tail" title='reset_tail' data-ref="118reset_tail" data-ref-filename="118reset_tail">reset_tail</a> = <var>1</var>;</td></tr>
<tr><th id="913">913</th><td></td></tr>
<tr><th id="914">914</th><td>              <b>if</b> (<a class="local col9 ref" href="#119start_of_this_entry" title='start_of_this_entry' data-ref="119start_of_this_entry" data-ref-filename="119start_of_this_entry">start_of_this_entry</a> != <var>0</var>)</td></tr>
<tr><th id="915">915</th><td>                <a class="ref fn" href="#fatal" title='fatal' data-ref="fatal" data-ref-filename="fatal">fatal</a> (<a class="macro" href="../lib/system.h.html#59" title="gettext (&quot;START-INFO-DIR-ENTRY without matching END-INFO-DIR-ENTRY&quot;)" data-ref="_M/_">_</a>(<q>"START-INFO-DIR-ENTRY without matching END-INFO-DIR-ENTRY"</q>), <var>0</var>, <var>0</var>);</td></tr>
<tr><th id="916">916</th><td>              <a class="local col9 ref" href="#119start_of_this_entry" title='start_of_this_entry' data-ref="119start_of_this_entry" data-ref-filename="119start_of_this_entry">start_of_this_entry</a> = <a class="local col0 ref" href="#110lines" title='lines' data-ref="110lines" data-ref-filename="110lines">lines</a>[<a class="local col2 ref" href="#122i" title='i' data-ref="122i" data-ref-filename="122i">i</a> + <var>1</var>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a>;</td></tr>
<tr><th id="917">917</th><td>            }</td></tr>
<tr><th id="918">918</th><td>          <b>else</b> <b>if</b> (<a class="local col9 ref" href="#119start_of_this_entry" title='start_of_this_entry' data-ref="119start_of_this_entry" data-ref-filename="119start_of_this_entry">start_of_this_entry</a>)</td></tr>
<tr><th id="919">919</th><td>            {</td></tr>
<tr><th id="920">920</th><td>              <b>if</b> ((!<a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strncmp" title='strncmp' data-ref="strncmp" data-ref-filename="strncmp">strncmp</a> (<q>"* "</q>, <a class="local col0 ref" href="#110lines" title='lines' data-ref="110lines" data-ref-filename="110lines">lines</a>[<a class="local col2 ref" href="#122i" title='i' data-ref="122i" data-ref-filename="122i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a>, <var>2</var>)</td></tr>
<tr><th id="921">921</th><td>                   &amp;&amp; <a class="local col0 ref" href="#110lines" title='lines' data-ref="110lines" data-ref-filename="110lines">lines</a>[<a class="local col2 ref" href="#122i" title='i' data-ref="122i" data-ref-filename="122i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a> &gt; <a class="local col9 ref" href="#119start_of_this_entry" title='start_of_this_entry' data-ref="119start_of_this_entry" data-ref-filename="119start_of_this_entry">start_of_this_entry</a>)</td></tr>
<tr><th id="922">922</th><td>                  || (!<a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strncmp" title='strncmp' data-ref="strncmp" data-ref-filename="strncmp">strncmp</a> (<q>"END-INFO-DIR-ENTRY"</q>,</td></tr>
<tr><th id="923">923</th><td>                                <a class="local col0 ref" href="#110lines" title='lines' data-ref="110lines" data-ref-filename="110lines">lines</a>[<a class="local col2 ref" href="#122i" title='i' data-ref="122i" data-ref-filename="122i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a>, <a class="local col0 ref" href="#110lines" title='lines' data-ref="110lines" data-ref-filename="110lines">lines</a>[<a class="local col2 ref" href="#122i" title='i' data-ref="122i" data-ref-filename="122i">i</a>].<a class="tu ref field" href="#line_data::size" title='line_data::size' data-use='r' data-ref="line_data::size" data-ref-filename="line_data..size">size</a>)</td></tr>
<tr><th id="924">924</th><td>                      &amp;&amp; <b>sizeof</b> (<q>"END-INFO-DIR-ENTRY"</q>) - <var>1</var> == <a class="local col0 ref" href="#110lines" title='lines' data-ref="110lines" data-ref-filename="110lines">lines</a>[<a class="local col2 ref" href="#122i" title='i' data-ref="122i" data-ref-filename="122i">i</a>].<a class="tu ref field" href="#line_data::size" title='line_data::size' data-use='r' data-ref="line_data::size" data-ref-filename="line_data..size">size</a>))</td></tr>
<tr><th id="925">925</th><td>                {</td></tr>
<tr><th id="926">926</th><td>                  <i>/* We found an end of this entry.  Allocate another</i></td></tr>
<tr><th id="927">927</th><td><i>                     entry, fill its data, and add it to the linked</i></td></tr>
<tr><th id="928">928</th><td><i>                     list.  */</i></td></tr>
<tr><th id="929">929</th><td>                  <b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a> *<dfn class="local col4 decl" id="124next" title='next' data-type='struct spec_entry *' data-ref="124next" data-ref-filename="124next">next</dfn></td></tr>
<tr><th id="930">930</th><td>                    = (<b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a> *) <a class="ref fn" href="../lib/system.h.html#xmalloc" title='xmalloc' data-ref="xmalloc" data-ref-filename="xmalloc">xmalloc</a> (<b>sizeof</b> (<b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a>));</td></tr>
<tr><th id="931">931</th><td>                  <a class="local col4 ref" href="#124next" title='next' data-ref="124next" data-ref-filename="124next">next</a>-&gt;<a class="tu ref field" href="#spec_entry::text" title='spec_entry::text' data-use='w' data-ref="spec_entry::text" data-ref-filename="spec_entry..text">text</a></td></tr>
<tr><th id="932">932</th><td>                    = <a class="ref fn" href="#copy_string" title='copy_string' data-ref="copy_string" data-ref-filename="copy_string">copy_string</a> (<a class="local col9 ref" href="#119start_of_this_entry" title='start_of_this_entry' data-ref="119start_of_this_entry" data-ref-filename="119start_of_this_entry">start_of_this_entry</a>,</td></tr>
<tr><th id="933">933</th><td>                                   <a class="local col0 ref" href="#110lines" title='lines' data-ref="110lines" data-ref-filename="110lines">lines</a>[<a class="local col2 ref" href="#122i" title='i' data-ref="122i" data-ref-filename="122i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a> - <a class="local col9 ref" href="#119start_of_this_entry" title='start_of_this_entry' data-ref="119start_of_this_entry" data-ref-filename="119start_of_this_entry">start_of_this_entry</a>);</td></tr>
<tr><th id="934">934</th><td>                  <a class="local col4 ref" href="#124next" title='next' data-ref="124next" data-ref-filename="124next">next</a>-&gt;<a class="tu ref field" href="#spec_entry::text_len" title='spec_entry::text_len' data-use='w' data-ref="spec_entry::text_len" data-ref-filename="spec_entry..text_len">text_len</a> = <a class="local col0 ref" href="#110lines" title='lines' data-ref="110lines" data-ref-filename="110lines">lines</a>[<a class="local col2 ref" href="#122i" title='i' data-ref="122i" data-ref-filename="122i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a> - <a class="local col9 ref" href="#119start_of_this_entry" title='start_of_this_entry' data-ref="119start_of_this_entry" data-ref-filename="119start_of_this_entry">start_of_this_entry</a>;</td></tr>
<tr><th id="935">935</th><td>                  <a class="local col4 ref" href="#124next" title='next' data-ref="124next" data-ref-filename="124next">next</a>-&gt;<a class="tu ref field" href="#spec_entry::entry_sections" title='spec_entry::entry_sections' data-use='w' data-ref="spec_entry::entry_sections" data-ref-filename="spec_entry..entry_sections">entry_sections</a> = <a class="local col6 ref" href="#116head" title='head' data-ref="116head" data-ref-filename="116head">head</a>;</td></tr>
<tr><th id="936">936</th><td>                  <a class="local col4 ref" href="#124next" title='next' data-ref="124next" data-ref-filename="124next">next</a>-&gt;<a class="tu ref field" href="#spec_entry::entry_sections_tail" title='spec_entry::entry_sections_tail' data-use='w' data-ref="spec_entry::entry_sections_tail" data-ref-filename="spec_entry..entry_sections_tail">entry_sections_tail</a> = <a class="local col7 ref" href="#117tail" title='tail' data-ref="117tail" data-ref-filename="117tail">tail</a>;</td></tr>
<tr><th id="937">937</th><td>                  <a class="local col4 ref" href="#124next" title='next' data-ref="124next" data-ref-filename="124next">next</a>-&gt;<a class="tu ref field" href="#spec_entry::next" title='spec_entry::next' data-use='w' data-ref="spec_entry::next" data-ref-filename="spec_entry..next">next</a> = *<a class="local col3 ref" href="#113entries" title='entries' data-ref="113entries" data-ref-filename="113entries">entries</a>;</td></tr>
<tr><th id="938">938</th><td>                  *<a class="local col3 ref" href="#113entries" title='entries' data-ref="113entries" data-ref-filename="113entries">entries</a> = <a class="local col4 ref" href="#124next" title='next' data-ref="124next" data-ref-filename="124next">next</a>;</td></tr>
<tr><th id="939">939</th><td>                  <a class="local col4 ref" href="#114n_entries" title='n_entries' data-ref="114n_entries" data-ref-filename="114n_entries">n_entries</a>++;</td></tr>
<tr><th id="940">940</th><td>                  <b>if</b> (!<a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strncmp" title='strncmp' data-ref="strncmp" data-ref-filename="strncmp">strncmp</a> (<q>"END-INFO-DIR-ENTRY"</q>,</td></tr>
<tr><th id="941">941</th><td>                                <a class="local col0 ref" href="#110lines" title='lines' data-ref="110lines" data-ref-filename="110lines">lines</a>[<a class="local col2 ref" href="#122i" title='i' data-ref="122i" data-ref-filename="122i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a>, <a class="local col0 ref" href="#110lines" title='lines' data-ref="110lines" data-ref-filename="110lines">lines</a>[<a class="local col2 ref" href="#122i" title='i' data-ref="122i" data-ref-filename="122i">i</a>].<a class="tu ref field" href="#line_data::size" title='line_data::size' data-use='r' data-ref="line_data::size" data-ref-filename="line_data..size">size</a>)</td></tr>
<tr><th id="942">942</th><td>                      &amp;&amp; <b>sizeof</b> (<q>"END-INFO-DIR-ENTRY"</q>) - <var>1</var> == <a class="local col0 ref" href="#110lines" title='lines' data-ref="110lines" data-ref-filename="110lines">lines</a>[<a class="local col2 ref" href="#122i" title='i' data-ref="122i" data-ref-filename="122i">i</a>].<a class="tu ref field" href="#line_data::size" title='line_data::size' data-use='r' data-ref="line_data::size" data-ref-filename="line_data..size">size</a>)</td></tr>
<tr><th id="943">943</th><td>                    <a class="local col9 ref" href="#119start_of_this_entry" title='start_of_this_entry' data-ref="119start_of_this_entry" data-ref-filename="119start_of_this_entry">start_of_this_entry</a> = <var>0</var>;</td></tr>
<tr><th id="944">944</th><td>                  <b>else</b></td></tr>
<tr><th id="945">945</th><td>                    <a class="local col9 ref" href="#119start_of_this_entry" title='start_of_this_entry' data-ref="119start_of_this_entry" data-ref-filename="119start_of_this_entry">start_of_this_entry</a> = <a class="local col0 ref" href="#110lines" title='lines' data-ref="110lines" data-ref-filename="110lines">lines</a>[<a class="local col2 ref" href="#122i" title='i' data-ref="122i" data-ref-filename="122i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a>;</td></tr>
<tr><th id="946">946</th><td>                }</td></tr>
<tr><th id="947">947</th><td>              <b>else</b> <b>if</b> (!<a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strncmp" title='strncmp' data-ref="strncmp" data-ref-filename="strncmp">strncmp</a> (<q>"END-INFO-DIR-ENTRY"</q>,</td></tr>
<tr><th id="948">948</th><td>                                 <a class="local col0 ref" href="#110lines" title='lines' data-ref="110lines" data-ref-filename="110lines">lines</a>[<a class="local col2 ref" href="#122i" title='i' data-ref="122i" data-ref-filename="122i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a>, <a class="local col0 ref" href="#110lines" title='lines' data-ref="110lines" data-ref-filename="110lines">lines</a>[<a class="local col2 ref" href="#122i" title='i' data-ref="122i" data-ref-filename="122i">i</a>].<a class="tu ref field" href="#line_data::size" title='line_data::size' data-use='r' data-ref="line_data::size" data-ref-filename="line_data..size">size</a>)</td></tr>
<tr><th id="949">949</th><td>                       &amp;&amp; <b>sizeof</b> (<q>"END-INFO-DIR-ENTRY"</q>) - <var>1</var> == <a class="local col0 ref" href="#110lines" title='lines' data-ref="110lines" data-ref-filename="110lines">lines</a>[<a class="local col2 ref" href="#122i" title='i' data-ref="122i" data-ref-filename="122i">i</a>].<a class="tu ref field" href="#line_data::size" title='line_data::size' data-use='r' data-ref="line_data::size" data-ref-filename="line_data..size">size</a>)</td></tr>
<tr><th id="950">950</th><td>                <a class="ref fn" href="#fatal" title='fatal' data-ref="fatal" data-ref-filename="fatal">fatal</a> (<a class="macro" href="../lib/system.h.html#59" title="gettext (&quot;END-INFO-DIR-ENTRY without matching START-INFO-DIR-ENTRY&quot;)" data-ref="_M/_">_</a>(<q>"END-INFO-DIR-ENTRY without matching START-INFO-DIR-ENTRY"</q>), <var>0</var>, <var>0</var>);</td></tr>
<tr><th id="951">951</th><td>            }</td></tr>
<tr><th id="952">952</th><td>        }</td></tr>
<tr><th id="953">953</th><td>    }</td></tr>
<tr><th id="954">954</th><td>  <b>if</b> (<a class="local col9 ref" href="#119start_of_this_entry" title='start_of_this_entry' data-ref="119start_of_this_entry" data-ref-filename="119start_of_this_entry">start_of_this_entry</a> != <var>0</var>)</td></tr>
<tr><th id="955">955</th><td>    <a class="ref fn" href="#fatal" title='fatal' data-ref="fatal" data-ref-filename="fatal">fatal</a> (<a class="macro" href="../lib/system.h.html#59" title="gettext (&quot;START-INFO-DIR-ENTRY without matching END-INFO-DIR-ENTRY&quot;)" data-ref="_M/_">_</a>(<q>"START-INFO-DIR-ENTRY without matching END-INFO-DIR-ENTRY"</q>),</td></tr>
<tr><th id="956">956</th><td>           <var>0</var>, <var>0</var>);</td></tr>
<tr><th id="957">957</th><td></td></tr>
<tr><th id="958">958</th><td>  <i>/* If we ignored the INFO-DIR-ENTRY directives, we need now go back</i></td></tr>
<tr><th id="959">959</th><td><i>     and plug the names of all the sections we found into every</i></td></tr>
<tr><th id="960">960</th><td><i>     element of the ENTRIES list.  */</i></td></tr>
<tr><th id="961">961</th><td>  <b>if</b> (<a class="local col1 ref" href="#121ignore_entries" title='ignore_entries' data-ref="121ignore_entries" data-ref-filename="121ignore_entries">ignore_entries</a> &amp;&amp; *<a class="local col3 ref" href="#113entries" title='entries' data-ref="113entries" data-ref-filename="113entries">entries</a>)</td></tr>
<tr><th id="962">962</th><td>    {</td></tr>
<tr><th id="963">963</th><td>      <b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a> *<dfn class="local col5 decl" id="125entry" title='entry' data-type='struct spec_entry *' data-ref="125entry" data-ref-filename="125entry">entry</dfn>;</td></tr>
<tr><th id="964">964</th><td></td></tr>
<tr><th id="965">965</th><td>      <b>for</b> (<a class="local col5 ref" href="#125entry" title='entry' data-ref="125entry" data-ref-filename="125entry">entry</a> = *<a class="local col3 ref" href="#113entries" title='entries' data-ref="113entries" data-ref-filename="113entries">entries</a>; <a class="local col5 ref" href="#125entry" title='entry' data-ref="125entry" data-ref-filename="125entry">entry</a>; <a class="local col5 ref" href="#125entry" title='entry' data-ref="125entry" data-ref-filename="125entry">entry</a> = <a class="local col5 ref" href="#125entry" title='entry' data-ref="125entry" data-ref-filename="125entry">entry</a>-&gt;<a class="tu ref field" href="#spec_entry::next" title='spec_entry::next' data-use='r' data-ref="spec_entry::next" data-ref-filename="spec_entry..next">next</a>)</td></tr>
<tr><th id="966">966</th><td>        {</td></tr>
<tr><th id="967">967</th><td>          <a class="local col5 ref" href="#125entry" title='entry' data-ref="125entry" data-ref-filename="125entry">entry</a>-&gt;<a class="tu ref field" href="#spec_entry::entry_sections" title='spec_entry::entry_sections' data-use='w' data-ref="spec_entry::entry_sections" data-ref-filename="spec_entry..entry_sections">entry_sections</a> = <a class="local col6 ref" href="#116head" title='head' data-ref="116head" data-ref-filename="116head">head</a>;</td></tr>
<tr><th id="968">968</th><td>          <a class="local col5 ref" href="#125entry" title='entry' data-ref="125entry" data-ref-filename="125entry">entry</a>-&gt;<a class="tu ref field" href="#spec_entry::entry_sections_tail" title='spec_entry::entry_sections_tail' data-use='w' data-ref="spec_entry::entry_sections_tail" data-ref-filename="spec_entry..entry_sections_tail">entry_sections_tail</a> = <a class="local col7 ref" href="#117tail" title='tail' data-ref="117tail" data-ref-filename="117tail">tail</a>;</td></tr>
<tr><th id="969">969</th><td>        }</td></tr>
<tr><th id="970">970</th><td>    }</td></tr>
<tr><th id="971">971</th><td></td></tr>
<tr><th id="972">972</th><td>  <b>return</b> <a class="local col4 ref" href="#114n_entries" title='n_entries' data-ref="114n_entries" data-ref-filename="114n_entries">n_entries</a>;</td></tr>
<tr><th id="973">973</th><td>}</td></tr>
<tr><th id="974">974</th><td></td></tr>
<tr><th id="975">975</th><td><i>/* Parse the dir file whose basename is BASE_NAME.  Find all the</i></td></tr>
<tr><th id="976">976</th><td><i>   nodes, and their menus, and the sections of their menus.  */</i></td></tr>
<tr><th id="977">977</th><td><em>int</em></td></tr>
<tr><th id="978">978</th><td><dfn class="decl def fn" id="parse_dir_file" title='parse_dir_file' data-ref="parse_dir_file" data-ref-filename="parse_dir_file">parse_dir_file</dfn> (<b>struct</b> <a class="type" href="#line_data" title='line_data' data-ref="line_data" data-ref-filename="line_data">line_data</a> *<dfn class="local col6 decl" id="126lines" title='lines' data-type='struct line_data *' data-ref="126lines" data-ref-filename="126lines">lines</dfn>, <em>int</em> <dfn class="local col7 decl" id="127nlines" title='nlines' data-type='int' data-ref="127nlines" data-ref-filename="127nlines">nlines</dfn>, <b>struct</b> <a class="type" href="#node" title='node' data-ref="node" data-ref-filename="node">node</a> **<dfn class="local col8 decl" id="128nodes" title='nodes' data-type='struct node **' data-ref="128nodes" data-ref-filename="128nodes">nodes</dfn>,</td></tr>
<tr><th id="979">979</th><td>                <em>const</em> <em>char</em> *<dfn class="local col9 decl" id="129base_name" title='base_name' data-type='const char *' data-ref="129base_name" data-ref-filename="129base_name">base_name</dfn>)</td></tr>
<tr><th id="980">980</th><td>{</td></tr>
<tr><th id="981">981</th><td>  <em>int</em> <dfn class="local col0 decl" id="130node_header_flag" title='node_header_flag' data-type='int' data-ref="130node_header_flag" data-ref-filename="130node_header_flag">node_header_flag</dfn> = <var>0</var>;</td></tr>
<tr><th id="982">982</th><td>  <em>int</em> <dfn class="local col1 decl" id="131something_deleted" title='something_deleted' data-type='int' data-ref="131something_deleted" data-ref-filename="131something_deleted">something_deleted</dfn> = <var>0</var>;</td></tr>
<tr><th id="983">983</th><td>  <em>int</em> <dfn class="local col2 decl" id="132i" title='i' data-type='int' data-ref="132i" data-ref-filename="132i">i</dfn>;</td></tr>
<tr><th id="984">984</th><td></td></tr>
<tr><th id="985">985</th><td>  *<a class="local col8 ref" href="#128nodes" title='nodes' data-ref="128nodes" data-ref-filename="128nodes">nodes</a> = <var>0</var>;</td></tr>
<tr><th id="986">986</th><td>  <b>for</b> (<a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a> = <var>0</var>; <a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a> &lt; <a class="local col7 ref" href="#127nlines" title='nlines' data-ref="127nlines" data-ref-filename="127nlines">nlines</a>; <a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a>++)</td></tr>
<tr><th id="987">987</th><td>    {</td></tr>
<tr><th id="988">988</th><td>      <i>/* Parse node header lines.  */</i></td></tr>
<tr><th id="989">989</th><td>      <b>if</b> (<a class="local col0 ref" href="#130node_header_flag" title='node_header_flag' data-ref="130node_header_flag" data-ref-filename="130node_header_flag">node_header_flag</a>)</td></tr>
<tr><th id="990">990</th><td>        {</td></tr>
<tr><th id="991">991</th><td>          <em>int</em> <dfn class="local col3 decl" id="133j" title='j' data-type='int' data-ref="133j" data-ref-filename="133j">j</dfn>, <dfn class="local col4 decl" id="134end" title='end' data-type='int' data-ref="134end" data-ref-filename="134end">end</dfn>;</td></tr>
<tr><th id="992">992</th><td>          <b>for</b> (<a class="local col3 ref" href="#133j" title='j' data-ref="133j" data-ref-filename="133j">j</a> = <var>0</var>; <a class="local col3 ref" href="#133j" title='j' data-ref="133j" data-ref-filename="133j">j</a> &lt; <a class="local col6 ref" href="#126lines" title='lines' data-ref="126lines" data-ref-filename="126lines">lines</a>[<a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a>].<a class="tu ref field" href="#line_data::size" title='line_data::size' data-use='r' data-ref="line_data::size" data-ref-filename="line_data..size">size</a>; <a class="local col3 ref" href="#133j" title='j' data-ref="133j" data-ref-filename="133j">j</a>++)</td></tr>
<tr><th id="993">993</th><td>            <i>/* Find the node name and store it in the `struct node'.  */</i></td></tr>
<tr><th id="994">994</th><td>            <b>if</b> (!<a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strncmp" title='strncmp' data-ref="strncmp" data-ref-filename="strncmp">strncmp</a> (<q>"Node:"</q>, <a class="local col6 ref" href="#126lines" title='lines' data-ref="126lines" data-ref-filename="126lines">lines</a>[<a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a> + <a class="local col3 ref" href="#133j" title='j' data-ref="133j" data-ref-filename="133j">j</a>, <var>5</var>))</td></tr>
<tr><th id="995">995</th><td>              {</td></tr>
<tr><th id="996">996</th><td>                <em>char</em> *<dfn class="local col5 decl" id="135line" title='line' data-type='char *' data-ref="135line" data-ref-filename="135line">line</dfn> = <a class="local col6 ref" href="#126lines" title='lines' data-ref="126lines" data-ref-filename="126lines">lines</a>[<a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a>;</td></tr>
<tr><th id="997">997</th><td>                <i>/* Find the start of the node name.  */</i></td></tr>
<tr><th id="998">998</th><td>                <a class="local col3 ref" href="#133j" title='j' data-ref="133j" data-ref-filename="133j">j</a> += <var>5</var>;</td></tr>
<tr><th id="999">999</th><td>                <b>while</b> (<a class="local col5 ref" href="#135line" title='line' data-ref="135line" data-ref-filename="135line">line</a>[<a class="local col3 ref" href="#133j" title='j' data-ref="133j" data-ref-filename="133j">j</a>] == <kbd>' '</kbd> || <a class="local col5 ref" href="#135line" title='line' data-ref="135line" data-ref-filename="135line">line</a>[<a class="local col3 ref" href="#133j" title='j' data-ref="133j" data-ref-filename="133j">j</a>] == <kbd>'\t'</kbd>)</td></tr>
<tr><th id="1000">1000</th><td>                  <a class="local col3 ref" href="#133j" title='j' data-ref="133j" data-ref-filename="133j">j</a>++;</td></tr>
<tr><th id="1001">1001</th><td>                <i>/* Find the end of the node name.  */</i></td></tr>
<tr><th id="1002">1002</th><td>                <a class="local col4 ref" href="#134end" title='end' data-ref="134end" data-ref-filename="134end">end</a> = <a class="local col3 ref" href="#133j" title='j' data-ref="133j" data-ref-filename="133j">j</a>;</td></tr>
<tr><th id="1003">1003</th><td>                <b>while</b> (<a class="local col5 ref" href="#135line" title='line' data-ref="135line" data-ref-filename="135line">line</a>[<a class="local col4 ref" href="#134end" title='end' data-ref="134end" data-ref-filename="134end">end</a>] != <var>0</var> &amp;&amp; <a class="local col5 ref" href="#135line" title='line' data-ref="135line" data-ref-filename="135line">line</a>[<a class="local col4 ref" href="#134end" title='end' data-ref="134end" data-ref-filename="134end">end</a>] != <kbd>','</kbd> &amp;&amp; <a class="local col5 ref" href="#135line" title='line' data-ref="135line" data-ref-filename="135line">line</a>[<a class="local col4 ref" href="#134end" title='end' data-ref="134end" data-ref-filename="134end">end</a>] != <kbd>'\n'</kbd></td></tr>
<tr><th id="1004">1004</th><td>                       &amp;&amp; <a class="local col5 ref" href="#135line" title='line' data-ref="135line" data-ref-filename="135line">line</a>[<a class="local col4 ref" href="#134end" title='end' data-ref="134end" data-ref-filename="134end">end</a>] != <kbd>'\t'</kbd>)</td></tr>
<tr><th id="1005">1005</th><td>                  <a class="local col4 ref" href="#134end" title='end' data-ref="134end" data-ref-filename="134end">end</a>++;</td></tr>
<tr><th id="1006">1006</th><td>                (*<a class="local col8 ref" href="#128nodes" title='nodes' data-ref="128nodes" data-ref-filename="128nodes">nodes</a>)-&gt;<a class="tu ref field" href="#node::name" title='node::name' data-use='w' data-ref="node::name" data-ref-filename="node..name">name</a> = <a class="ref fn" href="#copy_string" title='copy_string' data-ref="copy_string" data-ref-filename="copy_string">copy_string</a> (<a class="local col5 ref" href="#135line" title='line' data-ref="135line" data-ref-filename="135line">line</a> + <a class="local col3 ref" href="#133j" title='j' data-ref="133j" data-ref-filename="133j">j</a>, <a class="local col4 ref" href="#134end" title='end' data-ref="134end" data-ref-filename="134end">end</a> - <a class="local col3 ref" href="#133j" title='j' data-ref="133j" data-ref-filename="133j">j</a>);</td></tr>
<tr><th id="1007">1007</th><td>              }</td></tr>
<tr><th id="1008">1008</th><td>          <a class="local col0 ref" href="#130node_header_flag" title='node_header_flag' data-ref="130node_header_flag" data-ref-filename="130node_header_flag">node_header_flag</a> = <var>0</var>;</td></tr>
<tr><th id="1009">1009</th><td>        }</td></tr>
<tr><th id="1010">1010</th><td></td></tr>
<tr><th id="1011">1011</th><td>      <i>/* Notice the start of a node.  */</i></td></tr>
<tr><th id="1012">1012</th><td>      <b>if</b> (*<a class="local col6 ref" href="#126lines" title='lines' data-ref="126lines" data-ref-filename="126lines">lines</a>[<a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a> == <var>037</var>)</td></tr>
<tr><th id="1013">1013</th><td>        {</td></tr>
<tr><th id="1014">1014</th><td>          <b>struct</b> <a class="type" href="#node" title='node' data-ref="node" data-ref-filename="node">node</a> *<dfn class="local col6 decl" id="136next" title='next' data-type='struct node *' data-ref="136next" data-ref-filename="136next">next</dfn> = (<b>struct</b> <a class="type" href="#node" title='node' data-ref="node" data-ref-filename="node">node</a> *) <a class="ref fn" href="../lib/system.h.html#xmalloc" title='xmalloc' data-ref="xmalloc" data-ref-filename="xmalloc">xmalloc</a> (<b>sizeof</b> (<b>struct</b> <a class="type" href="#node" title='node' data-ref="node" data-ref-filename="node">node</a>));</td></tr>
<tr><th id="1015">1015</th><td></td></tr>
<tr><th id="1016">1016</th><td>          <a class="local col6 ref" href="#136next" title='next' data-ref="136next" data-ref-filename="136next">next</a>-&gt;<a class="tu ref field" href="#node::next" title='node::next' data-use='w' data-ref="node::next" data-ref-filename="node..next">next</a> = *<a class="local col8 ref" href="#128nodes" title='nodes' data-ref="128nodes" data-ref-filename="128nodes">nodes</a>;</td></tr>
<tr><th id="1017">1017</th><td>          <a class="local col6 ref" href="#136next" title='next' data-ref="136next" data-ref-filename="136next">next</a>-&gt;<a class="tu ref field" href="#node::name" title='node::name' data-use='w' data-ref="node::name" data-ref-filename="node..name">name</a> = <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>;</td></tr>
<tr><th id="1018">1018</th><td>          <a class="local col6 ref" href="#136next" title='next' data-ref="136next" data-ref-filename="136next">next</a>-&gt;<a class="tu ref field" href="#node::start_line" title='node::start_line' data-use='w' data-ref="node::start_line" data-ref-filename="node..start_line">start_line</a> = <a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a>;</td></tr>
<tr><th id="1019">1019</th><td>          <a class="local col6 ref" href="#136next" title='next' data-ref="136next" data-ref-filename="136next">next</a>-&gt;<a class="tu ref field" href="#node::end_line" title='node::end_line' data-use='w' data-ref="node::end_line" data-ref-filename="node..end_line">end_line</a> = <var>0</var>;</td></tr>
<tr><th id="1020">1020</th><td>          <a class="local col6 ref" href="#136next" title='next' data-ref="136next" data-ref-filename="136next">next</a>-&gt;<a class="tu ref field" href="#node::menu_start" title='node::menu_start' data-use='w' data-ref="node::menu_start" data-ref-filename="node..menu_start">menu_start</a> = <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>;</td></tr>
<tr><th id="1021">1021</th><td>          <a class="local col6 ref" href="#136next" title='next' data-ref="136next" data-ref-filename="136next">next</a>-&gt;<a class="tu ref field" href="#node::sections" title='node::sections' data-use='w' data-ref="node::sections" data-ref-filename="node..sections">sections</a> = <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>;</td></tr>
<tr><th id="1022">1022</th><td>          <a class="local col6 ref" href="#136next" title='next' data-ref="136next" data-ref-filename="136next">next</a>-&gt;<a class="tu ref field" href="#node::last_section" title='node::last_section' data-use='w' data-ref="node::last_section" data-ref-filename="node..last_section">last_section</a> = <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>;</td></tr>
<tr><th id="1023">1023</th><td></td></tr>
<tr><th id="1024">1024</th><td>          <b>if</b> (*<a class="local col8 ref" href="#128nodes" title='nodes' data-ref="128nodes" data-ref-filename="128nodes">nodes</a> != <var>0</var>)</td></tr>
<tr><th id="1025">1025</th><td>            (*<a class="local col8 ref" href="#128nodes" title='nodes' data-ref="128nodes" data-ref-filename="128nodes">nodes</a>)-&gt;<a class="tu ref field" href="#node::end_line" title='node::end_line' data-use='w' data-ref="node::end_line" data-ref-filename="node..end_line">end_line</a> = <a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a>;</td></tr>
<tr><th id="1026">1026</th><td>          <i>/* Fill in the end of the last menu section</i></td></tr>
<tr><th id="1027">1027</th><td><i>             of the previous node.  */</i></td></tr>
<tr><th id="1028">1028</th><td>          <b>if</b> (*<a class="local col8 ref" href="#128nodes" title='nodes' data-ref="128nodes" data-ref-filename="128nodes">nodes</a> != <var>0</var> &amp;&amp; (*<a class="local col8 ref" href="#128nodes" title='nodes' data-ref="128nodes" data-ref-filename="128nodes">nodes</a>)-&gt;<a class="tu ref field" href="#node::last_section" title='node::last_section' data-use='r' data-ref="node::last_section" data-ref-filename="node..last_section">last_section</a> != <var>0</var>)</td></tr>
<tr><th id="1029">1029</th><td>            (*<a class="local col8 ref" href="#128nodes" title='nodes' data-ref="128nodes" data-ref-filename="128nodes">nodes</a>)-&gt;<a class="tu ref field" href="#node::last_section" title='node::last_section' data-use='r' data-ref="node::last_section" data-ref-filename="node..last_section">last_section</a>-&gt;<a class="tu ref field" href="#menu_section::end_line" title='menu_section::end_line' data-use='w' data-ref="menu_section::end_line" data-ref-filename="menu_section..end_line">end_line</a> = <a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a>;</td></tr>
<tr><th id="1030">1030</th><td></td></tr>
<tr><th id="1031">1031</th><td>          *<a class="local col8 ref" href="#128nodes" title='nodes' data-ref="128nodes" data-ref-filename="128nodes">nodes</a> = <a class="local col6 ref" href="#136next" title='next' data-ref="136next" data-ref-filename="136next">next</a>;</td></tr>
<tr><th id="1032">1032</th><td></td></tr>
<tr><th id="1033">1033</th><td>          <i>/* The following line is the header of this node;</i></td></tr>
<tr><th id="1034">1034</th><td><i>             parse it.  */</i></td></tr>
<tr><th id="1035">1035</th><td>          <a class="local col0 ref" href="#130node_header_flag" title='node_header_flag' data-ref="130node_header_flag" data-ref-filename="130node_header_flag">node_header_flag</a> = <var>1</var>;</td></tr>
<tr><th id="1036">1036</th><td>        }</td></tr>
<tr><th id="1037">1037</th><td></td></tr>
<tr><th id="1038">1038</th><td>      <i>/* Notice the lines that start menus.  */</i></td></tr>
<tr><th id="1039">1039</th><td>      <b>if</b> (*<a class="local col8 ref" href="#128nodes" title='nodes' data-ref="128nodes" data-ref-filename="128nodes">nodes</a> != <var>0</var> &amp;&amp; !<a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strncmp" title='strncmp' data-ref="strncmp" data-ref-filename="strncmp">strncmp</a> (<q>"* Menu:"</q>, <a class="local col6 ref" href="#126lines" title='lines' data-ref="126lines" data-ref-filename="126lines">lines</a>[<a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a>, <var>7</var>))</td></tr>
<tr><th id="1040">1040</th><td>        (*<a class="local col8 ref" href="#128nodes" title='nodes' data-ref="128nodes" data-ref-filename="128nodes">nodes</a>)-&gt;<a class="tu ref field" href="#node::menu_start" title='node::menu_start' data-use='w' data-ref="node::menu_start" data-ref-filename="node..menu_start">menu_start</a> = <a class="local col6 ref" href="#126lines" title='lines' data-ref="126lines" data-ref-filename="126lines">lines</a>[<a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a> + <var>1</var>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a>;</td></tr>
<tr><th id="1041">1041</th><td></td></tr>
<tr><th id="1042">1042</th><td>      <i>/* Notice sections in menus.  */</i></td></tr>
<tr><th id="1043">1043</th><td>      <b>if</b> (*<a class="local col8 ref" href="#128nodes" title='nodes' data-ref="128nodes" data-ref-filename="128nodes">nodes</a> != <var>0</var></td></tr>
<tr><th id="1044">1044</th><td>          &amp;&amp; (*<a class="local col8 ref" href="#128nodes" title='nodes' data-ref="128nodes" data-ref-filename="128nodes">nodes</a>)-&gt;<a class="tu ref field" href="#node::menu_start" title='node::menu_start' data-use='r' data-ref="node::menu_start" data-ref-filename="node..menu_start">menu_start</a> != <var>0</var></td></tr>
<tr><th id="1045">1045</th><td>          &amp;&amp; *<a class="local col6 ref" href="#126lines" title='lines' data-ref="126lines" data-ref-filename="126lines">lines</a>[<a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a> != <kbd>'\n'</kbd></td></tr>
<tr><th id="1046">1046</th><td>          &amp;&amp; *<a class="local col6 ref" href="#126lines" title='lines' data-ref="126lines" data-ref-filename="126lines">lines</a>[<a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a> != <kbd>'*'</kbd></td></tr>
<tr><th id="1047">1047</th><td>          &amp;&amp; *<a class="local col6 ref" href="#126lines" title='lines' data-ref="126lines" data-ref-filename="126lines">lines</a>[<a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a> != <kbd>' '</kbd></td></tr>
<tr><th id="1048">1048</th><td>          &amp;&amp; *<a class="local col6 ref" href="#126lines" title='lines' data-ref="126lines" data-ref-filename="126lines">lines</a>[<a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a> != <kbd>'\t'</kbd>)</td></tr>
<tr><th id="1049">1049</th><td>        {</td></tr>
<tr><th id="1050">1050</th><td>          <i>/* Add this menu section to the node's list.</i></td></tr>
<tr><th id="1051">1051</th><td><i>             This list grows in forward order.  */</i></td></tr>
<tr><th id="1052">1052</th><td>          <b>struct</b> <a class="type" href="#menu_section" title='menu_section' data-ref="menu_section" data-ref-filename="menu_section">menu_section</a> *<dfn class="local col7 decl" id="137next" title='next' data-type='struct menu_section *' data-ref="137next" data-ref-filename="137next">next</dfn></td></tr>
<tr><th id="1053">1053</th><td>            = (<b>struct</b> <a class="type" href="#menu_section" title='menu_section' data-ref="menu_section" data-ref-filename="menu_section">menu_section</a> *) <a class="ref fn" href="../lib/system.h.html#xmalloc" title='xmalloc' data-ref="xmalloc" data-ref-filename="xmalloc">xmalloc</a> (<b>sizeof</b> (<b>struct</b> <a class="type" href="#menu_section" title='menu_section' data-ref="menu_section" data-ref-filename="menu_section">menu_section</a>));</td></tr>
<tr><th id="1054">1054</th><td></td></tr>
<tr><th id="1055">1055</th><td>          <a class="local col7 ref" href="#137next" title='next' data-ref="137next" data-ref-filename="137next">next</a>-&gt;<a class="tu ref field" href="#menu_section::start_line" title='menu_section::start_line' data-use='w' data-ref="menu_section::start_line" data-ref-filename="menu_section..start_line">start_line</a> = <a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a> + <var>1</var>;</td></tr>
<tr><th id="1056">1056</th><td>          <a class="local col7 ref" href="#137next" title='next' data-ref="137next" data-ref-filename="137next">next</a>-&gt;<a class="tu ref field" href="#menu_section::next" title='menu_section::next' data-use='w' data-ref="menu_section::next" data-ref-filename="menu_section..next">next</a> = <var>0</var>;</td></tr>
<tr><th id="1057">1057</th><td>          <a class="local col7 ref" href="#137next" title='next' data-ref="137next" data-ref-filename="137next">next</a>-&gt;<a class="tu ref field" href="#menu_section::end_line" title='menu_section::end_line' data-use='w' data-ref="menu_section::end_line" data-ref-filename="menu_section..end_line">end_line</a> = <var>0</var>;</td></tr>
<tr><th id="1058">1058</th><td>          <a class="local col7 ref" href="#137next" title='next' data-ref="137next" data-ref-filename="137next">next</a>-&gt;<a class="tu ref field" href="#menu_section::name" title='menu_section::name' data-use='w' data-ref="menu_section::name" data-ref-filename="menu_section..name">name</a> = <a class="ref fn" href="#copy_string" title='copy_string' data-ref="copy_string" data-ref-filename="copy_string">copy_string</a> (<a class="local col6 ref" href="#126lines" title='lines' data-ref="126lines" data-ref-filename="126lines">lines</a>[<a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a>, <a class="local col6 ref" href="#126lines" title='lines' data-ref="126lines" data-ref-filename="126lines">lines</a>[<a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a>].<a class="tu ref field" href="#line_data::size" title='line_data::size' data-use='r' data-ref="line_data::size" data-ref-filename="line_data..size">size</a>);</td></tr>
<tr><th id="1059">1059</th><td>          <b>if</b> ((*<a class="local col8 ref" href="#128nodes" title='nodes' data-ref="128nodes" data-ref-filename="128nodes">nodes</a>)-&gt;<a class="tu ref field" href="#node::sections" title='node::sections' data-use='r' data-ref="node::sections" data-ref-filename="node..sections">sections</a>)</td></tr>
<tr><th id="1060">1060</th><td>            {</td></tr>
<tr><th id="1061">1061</th><td>              (*<a class="local col8 ref" href="#128nodes" title='nodes' data-ref="128nodes" data-ref-filename="128nodes">nodes</a>)-&gt;<a class="tu ref field" href="#node::last_section" title='node::last_section' data-use='r' data-ref="node::last_section" data-ref-filename="node..last_section">last_section</a>-&gt;<a class="tu ref field" href="#menu_section::next" title='menu_section::next' data-use='w' data-ref="menu_section::next" data-ref-filename="menu_section..next">next</a> = <a class="local col7 ref" href="#137next" title='next' data-ref="137next" data-ref-filename="137next">next</a>;</td></tr>
<tr><th id="1062">1062</th><td>              (*<a class="local col8 ref" href="#128nodes" title='nodes' data-ref="128nodes" data-ref-filename="128nodes">nodes</a>)-&gt;<a class="tu ref field" href="#node::last_section" title='node::last_section' data-use='r' data-ref="node::last_section" data-ref-filename="node..last_section">last_section</a>-&gt;<a class="tu ref field" href="#menu_section::end_line" title='menu_section::end_line' data-use='w' data-ref="menu_section::end_line" data-ref-filename="menu_section..end_line">end_line</a> = <a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a>;</td></tr>
<tr><th id="1063">1063</th><td>            }</td></tr>
<tr><th id="1064">1064</th><td>          <b>else</b></td></tr>
<tr><th id="1065">1065</th><td>            (*<a class="local col8 ref" href="#128nodes" title='nodes' data-ref="128nodes" data-ref-filename="128nodes">nodes</a>)-&gt;<a class="tu ref field" href="#node::sections" title='node::sections' data-use='w' data-ref="node::sections" data-ref-filename="node..sections">sections</a> = <a class="local col7 ref" href="#137next" title='next' data-ref="137next" data-ref-filename="137next">next</a>;</td></tr>
<tr><th id="1066">1066</th><td>          (*<a class="local col8 ref" href="#128nodes" title='nodes' data-ref="128nodes" data-ref-filename="128nodes">nodes</a>)-&gt;<a class="tu ref field" href="#node::last_section" title='node::last_section' data-use='w' data-ref="node::last_section" data-ref-filename="node..last_section">last_section</a> = <a class="local col7 ref" href="#137next" title='next' data-ref="137next" data-ref-filename="137next">next</a>;</td></tr>
<tr><th id="1067">1067</th><td>        }</td></tr>
<tr><th id="1068">1068</th><td></td></tr>
<tr><th id="1069">1069</th><td>      <i>/* Check for an existing entry that should be deleted.</i></td></tr>
<tr><th id="1070">1070</th><td><i>         Delete all entries which specify this file name.  */</i></td></tr>
<tr><th id="1071">1071</th><td>      <b>if</b> (*<a class="local col6 ref" href="#126lines" title='lines' data-ref="126lines" data-ref-filename="126lines">lines</a>[<a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a> == <kbd>'*'</kbd>)</td></tr>
<tr><th id="1072">1072</th><td>        {</td></tr>
<tr><th id="1073">1073</th><td>          <em>char</em> *<dfn class="local col8 decl" id="138q" title='q' data-type='char *' data-ref="138q" data-ref-filename="138q">q</dfn>;</td></tr>
<tr><th id="1074">1074</th><td>          <em>char</em> *<dfn class="local col9 decl" id="139p" title='p' data-type='char *' data-ref="139p" data-ref-filename="139p">p</dfn> = <a class="local col6 ref" href="#126lines" title='lines' data-ref="126lines" data-ref-filename="126lines">lines</a>[<a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a>;</td></tr>
<tr><th id="1075">1075</th><td></td></tr>
<tr><th id="1076">1076</th><td>          <a class="local col9 ref" href="#139p" title='p' data-ref="139p" data-ref-filename="139p">p</a>++; <i>/* skip * */</i></td></tr>
<tr><th id="1077">1077</th><td>          <b>while</b> (*<a class="local col9 ref" href="#139p" title='p' data-ref="139p" data-ref-filename="139p">p</a> == <kbd>' '</kbd>) <a class="local col9 ref" href="#139p" title='p' data-ref="139p" data-ref-filename="139p">p</a>++; <i>/* ignore following spaces */</i></td></tr>
<tr><th id="1078">1078</th><td>          <a class="local col8 ref" href="#138q" title='q' data-ref="138q" data-ref-filename="138q">q</a> = <a class="local col9 ref" href="#139p" title='p' data-ref="139p" data-ref-filename="139p">p</a>; <i>/* remember this, it's the beginning of the menu item.  */</i></td></tr>
<tr><th id="1079">1079</th><td></td></tr>
<tr><th id="1080">1080</th><td>          <i>/* Read menu item.  */</i></td></tr>
<tr><th id="1081">1081</th><td>          <b>while</b> (*<a class="local col9 ref" href="#139p" title='p' data-ref="139p" data-ref-filename="139p">p</a> != <var>0</var> &amp;&amp; *<a class="local col9 ref" href="#139p" title='p' data-ref="139p" data-ref-filename="139p">p</a> != <kbd>':'</kbd>)</td></tr>
<tr><th id="1082">1082</th><td>            <a class="local col9 ref" href="#139p" title='p' data-ref="139p" data-ref-filename="139p">p</a>++;</td></tr>
<tr><th id="1083">1083</th><td>          <a class="local col9 ref" href="#139p" title='p' data-ref="139p" data-ref-filename="139p">p</a>++; <i>/* skip : */</i></td></tr>
<tr><th id="1084">1084</th><td></td></tr>
<tr><th id="1085">1085</th><td>          <b>if</b> (*<a class="local col9 ref" href="#139p" title='p' data-ref="139p" data-ref-filename="139p">p</a> == <kbd>':'</kbd>)</td></tr>
<tr><th id="1086">1086</th><td>            { <i>/* XEmacs-style entry, as in * Mew::Messaging.  */</i></td></tr>
<tr><th id="1087">1087</th><td>              <b>if</b> (<a class="tu ref fn" href="#menu_item_equal" title='menu_item_equal' data-use='c' data-ref="menu_item_equal" data-ref-filename="menu_item_equal">menu_item_equal</a> (<a class="local col8 ref" href="#138q" title='q' data-ref="138q" data-ref-filename="138q">q</a>, <kbd>':'</kbd>, <a class="local col9 ref" href="#129base_name" title='base_name' data-ref="129base_name" data-ref-filename="129base_name">base_name</a>))</td></tr>
<tr><th id="1088">1088</th><td>                {</td></tr>
<tr><th id="1089">1089</th><td>                  <a class="local col6 ref" href="#126lines" title='lines' data-ref="126lines" data-ref-filename="126lines">lines</a>[<a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a>].<a class="tu ref field" href="#line_data::delete" title='line_data::delete' data-use='w' data-ref="line_data::delete" data-ref-filename="line_data..delete">delete</a> = <var>1</var>;</td></tr>
<tr><th id="1090">1090</th><td>                  <a class="local col1 ref" href="#131something_deleted" title='something_deleted' data-ref="131something_deleted" data-ref-filename="131something_deleted">something_deleted</a> = <var>1</var>;</td></tr>
<tr><th id="1091">1091</th><td>                }</td></tr>
<tr><th id="1092">1092</th><td>            }</td></tr>
<tr><th id="1093">1093</th><td>          <b>else</b></td></tr>
<tr><th id="1094">1094</th><td>            { <i>/* Emacs-style entry, as in * Emacs: (emacs).  */</i></td></tr>
<tr><th id="1095">1095</th><td>              <b>while</b> (*<a class="local col9 ref" href="#139p" title='p' data-ref="139p" data-ref-filename="139p">p</a> == <kbd>' '</kbd>) <a class="local col9 ref" href="#139p" title='p' data-ref="139p" data-ref-filename="139p">p</a>++; <i>/* skip spaces after : */</i></td></tr>
<tr><th id="1096">1096</th><td>              <b>if</b> (*<a class="local col9 ref" href="#139p" title='p' data-ref="139p" data-ref-filename="139p">p</a> == <kbd>'('</kbd>)         <i>/* if at parenthesized (FILENAME) */</i></td></tr>
<tr><th id="1097">1097</th><td>                {</td></tr>
<tr><th id="1098">1098</th><td>                  <a class="local col9 ref" href="#139p" title='p' data-ref="139p" data-ref-filename="139p">p</a>++;</td></tr>
<tr><th id="1099">1099</th><td>                  <b>if</b> (<a class="tu ref fn" href="#menu_item_equal" title='menu_item_equal' data-use='c' data-ref="menu_item_equal" data-ref-filename="menu_item_equal">menu_item_equal</a> (<a class="local col9 ref" href="#139p" title='p' data-ref="139p" data-ref-filename="139p">p</a>, <kbd>')'</kbd>, <a class="local col9 ref" href="#129base_name" title='base_name' data-ref="129base_name" data-ref-filename="129base_name">base_name</a>))</td></tr>
<tr><th id="1100">1100</th><td>                    {</td></tr>
<tr><th id="1101">1101</th><td>                      <a class="local col6 ref" href="#126lines" title='lines' data-ref="126lines" data-ref-filename="126lines">lines</a>[<a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a>].<a class="tu ref field" href="#line_data::delete" title='line_data::delete' data-use='w' data-ref="line_data::delete" data-ref-filename="line_data..delete">delete</a> = <var>1</var>;</td></tr>
<tr><th id="1102">1102</th><td>                      <a class="local col1 ref" href="#131something_deleted" title='something_deleted' data-ref="131something_deleted" data-ref-filename="131something_deleted">something_deleted</a> = <var>1</var>;</td></tr>
<tr><th id="1103">1103</th><td>                    }</td></tr>
<tr><th id="1104">1104</th><td>                }</td></tr>
<tr><th id="1105">1105</th><td>            }</td></tr>
<tr><th id="1106">1106</th><td>        }</td></tr>
<tr><th id="1107">1107</th><td></td></tr>
<tr><th id="1108">1108</th><td>      <i>/* Treat lines that start with whitespace</i></td></tr>
<tr><th id="1109">1109</th><td><i>         as continuations; if we are deleting an entry,</i></td></tr>
<tr><th id="1110">1110</th><td><i>         delete all its continuations as well.  */</i></td></tr>
<tr><th id="1111">1111</th><td>      <b>else</b> <b>if</b> (<a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a> &gt; <var>0</var> &amp;&amp; (*<a class="local col6 ref" href="#126lines" title='lines' data-ref="126lines" data-ref-filename="126lines">lines</a>[<a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a> == <kbd>' '</kbd> || *<a class="local col6 ref" href="#126lines" title='lines' data-ref="126lines" data-ref-filename="126lines">lines</a>[<a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a> == <kbd>'\t'</kbd>))</td></tr>
<tr><th id="1112">1112</th><td>        {</td></tr>
<tr><th id="1113">1113</th><td>          <a class="local col6 ref" href="#126lines" title='lines' data-ref="126lines" data-ref-filename="126lines">lines</a>[<a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a>].<a class="tu ref field" href="#line_data::delete" title='line_data::delete' data-use='w' data-ref="line_data::delete" data-ref-filename="line_data..delete">delete</a> = <a class="local col6 ref" href="#126lines" title='lines' data-ref="126lines" data-ref-filename="126lines">lines</a>[<a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a> - <var>1</var>].<a class="tu ref field" href="#line_data::delete" title='line_data::delete' data-use='r' data-ref="line_data::delete" data-ref-filename="line_data..delete">delete</a>;</td></tr>
<tr><th id="1114">1114</th><td>        }</td></tr>
<tr><th id="1115">1115</th><td>    }</td></tr>
<tr><th id="1116">1116</th><td></td></tr>
<tr><th id="1117">1117</th><td>  <i>/* Finish the info about the end of the last node.  */</i></td></tr>
<tr><th id="1118">1118</th><td>  <b>if</b> (*<a class="local col8 ref" href="#128nodes" title='nodes' data-ref="128nodes" data-ref-filename="128nodes">nodes</a> != <var>0</var>)</td></tr>
<tr><th id="1119">1119</th><td>    {</td></tr>
<tr><th id="1120">1120</th><td>      (*<a class="local col8 ref" href="#128nodes" title='nodes' data-ref="128nodes" data-ref-filename="128nodes">nodes</a>)-&gt;<a class="tu ref field" href="#node::end_line" title='node::end_line' data-use='w' data-ref="node::end_line" data-ref-filename="node..end_line">end_line</a> = <a class="local col7 ref" href="#127nlines" title='nlines' data-ref="127nlines" data-ref-filename="127nlines">nlines</a>;</td></tr>
<tr><th id="1121">1121</th><td>      <b>if</b> ((*<a class="local col8 ref" href="#128nodes" title='nodes' data-ref="128nodes" data-ref-filename="128nodes">nodes</a>)-&gt;<a class="tu ref field" href="#node::last_section" title='node::last_section' data-use='r' data-ref="node::last_section" data-ref-filename="node..last_section">last_section</a> != <var>0</var>)</td></tr>
<tr><th id="1122">1122</th><td>        (*<a class="local col8 ref" href="#128nodes" title='nodes' data-ref="128nodes" data-ref-filename="128nodes">nodes</a>)-&gt;<a class="tu ref field" href="#node::last_section" title='node::last_section' data-use='r' data-ref="node::last_section" data-ref-filename="node..last_section">last_section</a>-&gt;<a class="tu ref field" href="#menu_section::end_line" title='menu_section::end_line' data-use='w' data-ref="menu_section::end_line" data-ref-filename="menu_section..end_line">end_line</a> = <a class="local col7 ref" href="#127nlines" title='nlines' data-ref="127nlines" data-ref-filename="127nlines">nlines</a>;</td></tr>
<tr><th id="1123">1123</th><td>    }</td></tr>
<tr><th id="1124">1124</th><td></td></tr>
<tr><th id="1125">1125</th><td>  <b>return</b> <a class="local col1 ref" href="#131something_deleted" title='something_deleted' data-ref="131something_deleted" data-ref-filename="131something_deleted">something_deleted</a>;</td></tr>
<tr><th id="1126">1126</th><td>}</td></tr>
<tr><th id="1127">1127</th><td></td></tr>
<tr><th id="1128">1128</th><td><em>int</em></td></tr>
<tr><th id="1129">1129</th><td><dfn class="decl def fn" id="main" title='main' data-ref="main" data-ref-filename="main">main</dfn> (<em>int</em> <dfn class="local col0 decl" id="140argc" title='argc' data-type='int' data-ref="140argc" data-ref-filename="140argc">argc</dfn>, <em>char</em> **<dfn class="local col1 decl" id="141argv" title='argv' data-type='char **' data-ref="141argv" data-ref-filename="141argv">argv</dfn>)</td></tr>
<tr><th id="1130">1130</th><td>{</td></tr>
<tr><th id="1131">1131</th><td>  <em>char</em> *<dfn class="local col2 decl" id="142opened_dirfilename" title='opened_dirfilename' data-type='char *' data-ref="142opened_dirfilename" data-ref-filename="142opened_dirfilename">opened_dirfilename</dfn>;</td></tr>
<tr><th id="1132">1132</th><td>  <em>char</em> *<dfn class="local col3 decl" id="143compression_program" title='compression_program' data-type='char *' data-ref="143compression_program" data-ref-filename="143compression_program">compression_program</dfn>;</td></tr>
<tr><th id="1133">1133</th><td>  <em>char</em> *<dfn class="local col4 decl" id="144infile_sans_info" title='infile_sans_info' data-type='char *' data-ref="144infile_sans_info" data-ref-filename="144infile_sans_info">infile_sans_info</dfn>;</td></tr>
<tr><th id="1134">1134</th><td>  <em>char</em> *<dfn class="local col5 decl" id="145infile" title='infile' data-type='char *' data-ref="145infile" data-ref-filename="145infile">infile</dfn> = <var>0</var>, *<dfn class="local col6 decl" id="146dirfile" title='dirfile' data-type='char *' data-ref="146dirfile" data-ref-filename="146dirfile">dirfile</dfn> = <var>0</var>;</td></tr>
<tr><th id="1135">1135</th><td></td></tr>
<tr><th id="1136">1136</th><td>  <i>/* Record the text of the Info file, as a sequence of characters</i></td></tr>
<tr><th id="1137">1137</th><td><i>     and as a sequence of lines.  */</i></td></tr>
<tr><th id="1138">1138</th><td>  <em>char</em> *<dfn class="local col7 decl" id="147input_data" title='input_data' data-type='char *' data-ref="147input_data" data-ref-filename="147input_data">input_data</dfn> = <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>;</td></tr>
<tr><th id="1139">1139</th><td>  <em>int</em> <dfn class="local col8 decl" id="148input_size" title='input_size' data-type='int' data-ref="148input_size" data-ref-filename="148input_size">input_size</dfn> = <var>0</var>;</td></tr>
<tr><th id="1140">1140</th><td>  <b>struct</b> <a class="type" href="#line_data" title='line_data' data-ref="line_data" data-ref-filename="line_data">line_data</a> *<dfn class="local col9 decl" id="149input_lines" title='input_lines' data-type='struct line_data *' data-ref="149input_lines" data-ref-filename="149input_lines">input_lines</dfn> = <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>;</td></tr>
<tr><th id="1141">1141</th><td>  <em>int</em> <dfn class="local col0 decl" id="150input_nlines" title='input_nlines' data-type='int' data-ref="150input_nlines" data-ref-filename="150input_nlines">input_nlines</dfn> = <var>0</var>;</td></tr>
<tr><th id="1142">1142</th><td></td></tr>
<tr><th id="1143">1143</th><td>  <i>/* Record here the specified section names and directory entries.  */</i></td></tr>
<tr><th id="1144">1144</th><td>  <b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a> *<dfn class="local col1 decl" id="151input_sections" title='input_sections' data-type='struct spec_section *' data-ref="151input_sections" data-ref-filename="151input_sections">input_sections</dfn> = <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>;</td></tr>
<tr><th id="1145">1145</th><td>  <b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a> *<dfn class="local col2 decl" id="152entries_to_add" title='entries_to_add' data-type='struct spec_entry *' data-ref="152entries_to_add" data-ref-filename="152entries_to_add">entries_to_add</dfn> = <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>;</td></tr>
<tr><th id="1146">1146</th><td>  <em>int</em> <dfn class="local col3 decl" id="153n_entries_to_add" title='n_entries_to_add' data-type='int' data-ref="153n_entries_to_add" data-ref-filename="153n_entries_to_add">n_entries_to_add</dfn> = <var>0</var>;</td></tr>
<tr><th id="1147">1147</th><td></td></tr>
<tr><th id="1148">1148</th><td>  <i>/* Record the old text of the dir file, as plain characters,</i></td></tr>
<tr><th id="1149">1149</th><td><i>     as lines, and as nodes.  */</i></td></tr>
<tr><th id="1150">1150</th><td>  <em>char</em> *<dfn class="local col4 decl" id="154dir_data" title='dir_data' data-type='char *' data-ref="154dir_data" data-ref-filename="154dir_data">dir_data</dfn>;</td></tr>
<tr><th id="1151">1151</th><td>  <em>int</em> <dfn class="local col5 decl" id="155dir_size" title='dir_size' data-type='int' data-ref="155dir_size" data-ref-filename="155dir_size">dir_size</dfn>;</td></tr>
<tr><th id="1152">1152</th><td>  <em>int</em> <dfn class="local col6 decl" id="156dir_nlines" title='dir_nlines' data-type='int' data-ref="156dir_nlines" data-ref-filename="156dir_nlines">dir_nlines</dfn>;</td></tr>
<tr><th id="1153">1153</th><td>  <b>struct</b> <a class="type" href="#line_data" title='line_data' data-ref="line_data" data-ref-filename="line_data">line_data</a> *<dfn class="local col7 decl" id="157dir_lines" title='dir_lines' data-type='struct line_data *' data-ref="157dir_lines" data-ref-filename="157dir_lines">dir_lines</dfn>;</td></tr>
<tr><th id="1154">1154</th><td>  <b>struct</b> <a class="type" href="#node" title='node' data-ref="node" data-ref-filename="node">node</a> *<dfn class="local col8 decl" id="158dir_nodes" title='dir_nodes' data-type='struct node *' data-ref="158dir_nodes" data-ref-filename="158dir_nodes">dir_nodes</dfn>;</td></tr>
<tr><th id="1155">1155</th><td></td></tr>
<tr><th id="1156">1156</th><td>  <i>/* Nonzero means --delete was specified (just delete existing entries).  */</i></td></tr>
<tr><th id="1157">1157</th><td>  <em>int</em> <dfn class="local col9 decl" id="159delete_flag" title='delete_flag' data-type='int' data-ref="159delete_flag" data-ref-filename="159delete_flag">delete_flag</dfn> = <var>0</var>;</td></tr>
<tr><th id="1158">1158</th><td>  <em>int</em> <dfn class="local col0 decl" id="160something_deleted" title='something_deleted' data-type='int' data-ref="160something_deleted" data-ref-filename="160something_deleted">something_deleted</dfn> = <var>0</var>;</td></tr>
<tr><th id="1159">1159</th><td>  <i>/* Nonzero means -q was specified.  */</i></td></tr>
<tr><th id="1160">1160</th><td>  <em>int</em> <dfn class="local col1 decl" id="161quiet_flag" title='quiet_flag' data-type='int' data-ref="161quiet_flag" data-ref-filename="161quiet_flag">quiet_flag</dfn> = <var>0</var>;</td></tr>
<tr><th id="1161">1161</th><td></td></tr>
<tr><th id="1162">1162</th><td>  <em>int</em> <dfn class="local col2 decl" id="162i" title='i' data-type='int' data-ref="162i" data-ref-filename="162i">i</dfn>;</td></tr>
<tr><th id="1163">1163</th><td></td></tr>
<tr><th id="1164">1164</th><td><u>#<span data-ppcond="1164">ifdef</span> <a class="macro" href="../../include/config.h.html#193" data-ref="_M/HAVE_SETLOCALE">HAVE_SETLOCALE</a></u></td></tr>
<tr><th id="1165">1165</th><td>  <i>/* Set locale via LC_ALL.  */</i></td></tr>
<tr><th id="1166">1166</th><td>  <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/locale.h.html#__setlocale50" title='setlocale' data-ref="__setlocale50" data-ref-filename="__setlocale50">setlocale</a> (<a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/locale.h.html#68" title="0" data-ref="_M/LC_ALL">LC_ALL</a>, <q>""</q>);</td></tr>
<tr><th id="1167">1167</th><td><u>#<span data-ppcond="1164">endif</span></u></td></tr>
<tr><th id="1168">1168</th><td></td></tr>
<tr><th id="1169">1169</th><td>  <i>/* Set the text message domain.  */</i></td></tr>
<tr><th id="1170">1170</th><td>  <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/libintl.h.html#bindtextdomain" title='bindtextdomain' data-ref="bindtextdomain" data-ref-filename="bindtextdomain">bindtextdomain</a> (<a class="macro" href="../../include/config.h.html#339" title="&quot;texinfo&quot;" data-ref="_M/PACKAGE">PACKAGE</a>, <span class="macro" title="&quot;/usr/share/locale&quot;" data-ref="_M/LOCALEDIR">LOCALEDIR</span>);</td></tr>
<tr><th id="1171">1171</th><td>  <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/libintl.h.html#textdomain" title='textdomain' data-ref="textdomain" data-ref-filename="textdomain">textdomain</a> (<a class="macro" href="../../include/config.h.html#339" title="&quot;texinfo&quot;" data-ref="_M/PACKAGE">PACKAGE</a>);</td></tr>
<tr><th id="1172">1172</th><td></td></tr>
<tr><th id="1173">1173</th><td>  <b>while</b> (<var>1</var>)</td></tr>
<tr><th id="1174">1174</th><td>    {</td></tr>
<tr><th id="1175">1175</th><td>      <em>int</em> <dfn class="local col3 decl" id="163opt" title='opt' data-type='int' data-ref="163opt" data-ref-filename="163opt">opt</dfn> = <a class="ref fn" href="../lib/getopt_.h.html#getopt_long" title='getopt_long' data-ref="getopt_long" data-ref-filename="getopt_long">getopt_long</a> (<a class="local col0 ref" href="#140argc" title='argc' data-ref="140argc" data-ref-filename="140argc">argc</a>, <a class="local col1 ref" href="#141argv" title='argv' data-ref="141argv" data-ref-filename="141argv">argv</a>, <q>"i:d:e:s:hHr"</q>, <a class="ref" href="#longopts" title='longopts' data-ref="longopts" data-ref-filename="longopts">longopts</a>, <var>0</var>);</td></tr>
<tr><th id="1176">1176</th><td></td></tr>
<tr><th id="1177">1177</th><td>      <b>if</b> (<a class="local col3 ref" href="#163opt" title='opt' data-ref="163opt" data-ref-filename="163opt">opt</a> == <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#183" title="(-1)" data-ref="_M/EOF">EOF</a>)</td></tr>
<tr><th id="1178">1178</th><td>        <b>break</b>;</td></tr>
<tr><th id="1179">1179</th><td></td></tr>
<tr><th id="1180">1180</th><td>      <b>switch</b> (<a class="local col3 ref" href="#163opt" title='opt' data-ref="163opt" data-ref-filename="163opt">opt</a>)</td></tr>
<tr><th id="1181">1181</th><td>        {</td></tr>
<tr><th id="1182">1182</th><td>        <b>case</b> <var>0</var>:</td></tr>
<tr><th id="1183">1183</th><td>          <i>/* If getopt returns 0, then it has already processed a</i></td></tr>
<tr><th id="1184">1184</th><td><i>             long-named option.  We should do nothing.  */</i></td></tr>
<tr><th id="1185">1185</th><td>          <b>break</b>;</td></tr>
<tr><th id="1186">1186</th><td></td></tr>
<tr><th id="1187">1187</th><td>        <b>case</b> <var>1</var>:</td></tr>
<tr><th id="1188">1188</th><td>          <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#abort" title='abort' data-ref="abort" data-ref-filename="abort">abort</a> ();</td></tr>
<tr><th id="1189">1189</th><td></td></tr>
<tr><th id="1190">1190</th><td>        <b>case</b> <kbd>'d'</kbd>:</td></tr>
<tr><th id="1191">1191</th><td>          <b>if</b> (<a class="local col6 ref" href="#146dirfile" title='dirfile' data-ref="146dirfile" data-ref-filename="146dirfile">dirfile</a>)</td></tr>
<tr><th id="1192">1192</th><td>            {</td></tr>
<tr><th id="1193">1193</th><td>              <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fprintf" title='fprintf' data-ref="fprintf" data-ref-filename="fprintf">fprintf</a> (<a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#217" title="(&amp;__sF[2])" data-ref="_M/stderr">stderr</a>, <a class="macro" href="../lib/system.h.html#59" title="gettext (&quot;%s: already have dir file: %s\n&quot;)" data-ref="_M/_">_</a>(<q>"%s: already have dir file: %s\n"</q>),</td></tr>
<tr><th id="1194">1194</th><td>                       <a class="tu ref" href="#progname" title='progname' data-use='r' data-ref="progname" data-ref-filename="progname">progname</a>, <a class="local col6 ref" href="#146dirfile" title='dirfile' data-ref="146dirfile" data-ref-filename="146dirfile">dirfile</a>);</td></tr>
<tr><th id="1195">1195</th><td>              <a class="ref fn" href="#suggest_asking_for_help" title='suggest_asking_for_help' data-ref="suggest_asking_for_help" data-ref-filename="suggest_asking_for_help">suggest_asking_for_help</a> ();</td></tr>
<tr><th id="1196">1196</th><td>            }</td></tr>
<tr><th id="1197">1197</th><td>          <a class="local col6 ref" href="#146dirfile" title='dirfile' data-ref="146dirfile" data-ref-filename="146dirfile">dirfile</a> = <a class="ref" href="../../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#optarg" title='optarg' data-ref="optarg" data-ref-filename="optarg">optarg</a>;</td></tr>
<tr><th id="1198">1198</th><td>          <b>break</b>;</td></tr>
<tr><th id="1199">1199</th><td></td></tr>
<tr><th id="1200">1200</th><td>        <b>case</b> <kbd>'D'</kbd>:</td></tr>
<tr><th id="1201">1201</th><td>          <b>if</b> (<a class="local col6 ref" href="#146dirfile" title='dirfile' data-ref="146dirfile" data-ref-filename="146dirfile">dirfile</a>)</td></tr>
<tr><th id="1202">1202</th><td>            {</td></tr>
<tr><th id="1203">1203</th><td>              <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fprintf" title='fprintf' data-ref="fprintf" data-ref-filename="fprintf">fprintf</a> (<a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#217" title="(&amp;__sF[2])" data-ref="_M/stderr">stderr</a>, <a class="macro" href="../lib/system.h.html#59" title="gettext (&quot;%s: already have dir file: %s\n&quot;)" data-ref="_M/_">_</a>(<q>"%s: already have dir file: %s\n"</q>),</td></tr>
<tr><th id="1204">1204</th><td>                       <a class="tu ref" href="#progname" title='progname' data-use='r' data-ref="progname" data-ref-filename="progname">progname</a>, <a class="local col6 ref" href="#146dirfile" title='dirfile' data-ref="146dirfile" data-ref-filename="146dirfile">dirfile</a>);</td></tr>
<tr><th id="1205">1205</th><td>              <a class="ref fn" href="#suggest_asking_for_help" title='suggest_asking_for_help' data-ref="suggest_asking_for_help" data-ref-filename="suggest_asking_for_help">suggest_asking_for_help</a> ();</td></tr>
<tr><th id="1206">1206</th><td>            }</td></tr>
<tr><th id="1207">1207</th><td>          <a class="local col6 ref" href="#146dirfile" title='dirfile' data-ref="146dirfile" data-ref-filename="146dirfile">dirfile</a> = <a class="ref fn" href="#concat" title='concat' data-ref="concat" data-ref-filename="concat">concat</a> (<a class="ref" href="../../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#optarg" title='optarg' data-ref="optarg" data-ref-filename="optarg">optarg</a>, <q>""</q>, <q>"/dir"</q>);</td></tr>
<tr><th id="1208">1208</th><td>          <b>break</b>;</td></tr>
<tr><th id="1209">1209</th><td></td></tr>
<tr><th id="1210">1210</th><td>        <b>case</b> <kbd>'e'</kbd>:</td></tr>
<tr><th id="1211">1211</th><td>          {</td></tr>
<tr><th id="1212">1212</th><td>            <b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a> *<dfn class="local col4 decl" id="164next" title='next' data-type='struct spec_entry *' data-ref="164next" data-ref-filename="164next">next</dfn></td></tr>
<tr><th id="1213">1213</th><td>              = (<b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a> *) <a class="ref fn" href="../lib/system.h.html#xmalloc" title='xmalloc' data-ref="xmalloc" data-ref-filename="xmalloc">xmalloc</a> (<b>sizeof</b> (<b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a>));</td></tr>
<tr><th id="1214">1214</th><td>            <em>int</em> <dfn class="local col5 decl" id="165olen" title='olen' data-type='int' data-ref="165olen" data-ref-filename="165olen">olen</dfn> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a> (<a class="ref" href="../../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#optarg" title='optarg' data-ref="optarg" data-ref-filename="optarg">optarg</a>);</td></tr>
<tr><th id="1215">1215</th><td>            <b>if</b> (! (*<a class="ref" href="../../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#optarg" title='optarg' data-ref="optarg" data-ref-filename="optarg">optarg</a> != <var>0</var> &amp;&amp; <a class="ref" href="../../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#optarg" title='optarg' data-ref="optarg" data-ref-filename="optarg">optarg</a>[<a class="local col5 ref" href="#165olen" title='olen' data-ref="165olen" data-ref-filename="165olen">olen</a> - <var>1</var>] == <kbd>'\n'</kbd>))</td></tr>
<tr><th id="1216">1216</th><td>              {</td></tr>
<tr><th id="1217">1217</th><td>                <a class="ref" href="../../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#optarg" title='optarg' data-ref="optarg" data-ref-filename="optarg">optarg</a> = <a class="ref fn" href="#concat" title='concat' data-ref="concat" data-ref-filename="concat">concat</a> (<a class="ref" href="../../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#optarg" title='optarg' data-ref="optarg" data-ref-filename="optarg">optarg</a>, <q>"\n"</q>, <q>""</q>);</td></tr>
<tr><th id="1218">1218</th><td>                <a class="local col5 ref" href="#165olen" title='olen' data-ref="165olen" data-ref-filename="165olen">olen</a>++;</td></tr>
<tr><th id="1219">1219</th><td>              }</td></tr>
<tr><th id="1220">1220</th><td>            <a class="local col4 ref" href="#164next" title='next' data-ref="164next" data-ref-filename="164next">next</a>-&gt;<a class="tu ref field" href="#spec_entry::text" title='spec_entry::text' data-use='w' data-ref="spec_entry::text" data-ref-filename="spec_entry..text">text</a> = <a class="ref" href="../../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#optarg" title='optarg' data-ref="optarg" data-ref-filename="optarg">optarg</a>;</td></tr>
<tr><th id="1221">1221</th><td>            <a class="local col4 ref" href="#164next" title='next' data-ref="164next" data-ref-filename="164next">next</a>-&gt;<a class="tu ref field" href="#spec_entry::text_len" title='spec_entry::text_len' data-use='w' data-ref="spec_entry::text_len" data-ref-filename="spec_entry..text_len">text_len</a> = <a class="local col5 ref" href="#165olen" title='olen' data-ref="165olen" data-ref-filename="165olen">olen</a>;</td></tr>
<tr><th id="1222">1222</th><td>            <a class="local col4 ref" href="#164next" title='next' data-ref="164next" data-ref-filename="164next">next</a>-&gt;<a class="tu ref field" href="#spec_entry::entry_sections" title='spec_entry::entry_sections' data-use='w' data-ref="spec_entry::entry_sections" data-ref-filename="spec_entry..entry_sections">entry_sections</a> = <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>;</td></tr>
<tr><th id="1223">1223</th><td>            <a class="local col4 ref" href="#164next" title='next' data-ref="164next" data-ref-filename="164next">next</a>-&gt;<a class="tu ref field" href="#spec_entry::entry_sections_tail" title='spec_entry::entry_sections_tail' data-use='w' data-ref="spec_entry::entry_sections_tail" data-ref-filename="spec_entry..entry_sections_tail">entry_sections_tail</a> = <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>;</td></tr>
<tr><th id="1224">1224</th><td>            <a class="local col4 ref" href="#164next" title='next' data-ref="164next" data-ref-filename="164next">next</a>-&gt;<a class="tu ref field" href="#spec_entry::next" title='spec_entry::next' data-use='w' data-ref="spec_entry::next" data-ref-filename="spec_entry..next">next</a> = <a class="local col2 ref" href="#152entries_to_add" title='entries_to_add' data-ref="152entries_to_add" data-ref-filename="152entries_to_add">entries_to_add</a>;</td></tr>
<tr><th id="1225">1225</th><td>            <a class="local col2 ref" href="#152entries_to_add" title='entries_to_add' data-ref="152entries_to_add" data-ref-filename="152entries_to_add">entries_to_add</a> = <a class="local col4 ref" href="#164next" title='next' data-ref="164next" data-ref-filename="164next">next</a>;</td></tr>
<tr><th id="1226">1226</th><td>            <a class="local col3 ref" href="#153n_entries_to_add" title='n_entries_to_add' data-ref="153n_entries_to_add" data-ref-filename="153n_entries_to_add">n_entries_to_add</a>++;</td></tr>
<tr><th id="1227">1227</th><td>          }</td></tr>
<tr><th id="1228">1228</th><td>          <b>break</b>;</td></tr>
<tr><th id="1229">1229</th><td></td></tr>
<tr><th id="1230">1230</th><td>        <b>case</b> <kbd>'h'</kbd>:</td></tr>
<tr><th id="1231">1231</th><td>        <b>case</b> <kbd>'H'</kbd>:</td></tr>
<tr><th id="1232">1232</th><td>          <a class="ref fn" href="#print_help" title='print_help' data-ref="print_help" data-ref-filename="print_help">print_help</a> ();</td></tr>
<tr><th id="1233">1233</th><td>          <a class="ref fn" href="../lib/system.h.html#xexit" title='xexit' data-ref="xexit" data-ref-filename="xexit">xexit</a> (<var>0</var>);</td></tr>
<tr><th id="1234">1234</th><td></td></tr>
<tr><th id="1235">1235</th><td>        <b>case</b> <kbd>'i'</kbd>:</td></tr>
<tr><th id="1236">1236</th><td>          <b>if</b> (<a class="local col5 ref" href="#145infile" title='infile' data-ref="145infile" data-ref-filename="145infile">infile</a>)</td></tr>
<tr><th id="1237">1237</th><td>            {</td></tr>
<tr><th id="1238">1238</th><td>              <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#fprintf" title='fprintf' data-ref="fprintf" data-ref-filename="fprintf">fprintf</a> (<a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#217" title="(&amp;__sF[2])" data-ref="_M/stderr">stderr</a>, <a class="macro" href="../lib/system.h.html#59" title="gettext (&quot;%s: Specify the Info file only once.\n&quot;)" data-ref="_M/_">_</a>(<q>"%s: Specify the Info file only once.\n"</q>),</td></tr>
<tr><th id="1239">1239</th><td>                       <a class="tu ref" href="#progname" title='progname' data-use='r' data-ref="progname" data-ref-filename="progname">progname</a>);</td></tr>
<tr><th id="1240">1240</th><td>              <a class="ref fn" href="#suggest_asking_for_help" title='suggest_asking_for_help' data-ref="suggest_asking_for_help" data-ref-filename="suggest_asking_for_help">suggest_asking_for_help</a> ();</td></tr>
<tr><th id="1241">1241</th><td>            }</td></tr>
<tr><th id="1242">1242</th><td>          <a class="local col5 ref" href="#145infile" title='infile' data-ref="145infile" data-ref-filename="145infile">infile</a> = <a class="ref" href="../../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#optarg" title='optarg' data-ref="optarg" data-ref-filename="optarg">optarg</a>;</td></tr>
<tr><th id="1243">1243</th><td>          <b>break</b>;</td></tr>
<tr><th id="1244">1244</th><td></td></tr>
<tr><th id="1245">1245</th><td>        <b>case</b> <kbd>'q'</kbd>:</td></tr>
<tr><th id="1246">1246</th><td>          <a class="local col1 ref" href="#161quiet_flag" title='quiet_flag' data-ref="161quiet_flag" data-ref-filename="161quiet_flag">quiet_flag</a> = <var>1</var>;</td></tr>
<tr><th id="1247">1247</th><td>          <b>break</b>;</td></tr>
<tr><th id="1248">1248</th><td></td></tr>
<tr><th id="1249">1249</th><td>        <b>case</b> <kbd>'r'</kbd>:</td></tr>
<tr><th id="1250">1250</th><td>          <a class="local col9 ref" href="#159delete_flag" title='delete_flag' data-ref="159delete_flag" data-ref-filename="159delete_flag">delete_flag</a> = <var>1</var>;</td></tr>
<tr><th id="1251">1251</th><td>          <b>break</b>;</td></tr>
<tr><th id="1252">1252</th><td></td></tr>
<tr><th id="1253">1253</th><td>        <b>case</b> <kbd>'s'</kbd>:</td></tr>
<tr><th id="1254">1254</th><td>          {</td></tr>
<tr><th id="1255">1255</th><td>            <b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a> *<dfn class="local col6 decl" id="166next" title='next' data-type='struct spec_section *' data-ref="166next" data-ref-filename="166next">next</dfn></td></tr>
<tr><th id="1256">1256</th><td>              = (<b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a> *) <a class="ref fn" href="../lib/system.h.html#xmalloc" title='xmalloc' data-ref="xmalloc" data-ref-filename="xmalloc">xmalloc</a> (<b>sizeof</b> (<b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a>));</td></tr>
<tr><th id="1257">1257</th><td>            <a class="local col6 ref" href="#166next" title='next' data-ref="166next" data-ref-filename="166next">next</a>-&gt;<a class="tu ref field" href="#spec_section::name" title='spec_section::name' data-use='w' data-ref="spec_section::name" data-ref-filename="spec_section..name">name</a> = <a class="ref" href="../../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#optarg" title='optarg' data-ref="optarg" data-ref-filename="optarg">optarg</a>;</td></tr>
<tr><th id="1258">1258</th><td>            <a class="local col6 ref" href="#166next" title='next' data-ref="166next" data-ref-filename="166next">next</a>-&gt;<a class="tu ref field" href="#spec_section::next" title='spec_section::next' data-use='w' data-ref="spec_section::next" data-ref-filename="spec_section..next">next</a> = <a class="local col1 ref" href="#151input_sections" title='input_sections' data-ref="151input_sections" data-ref-filename="151input_sections">input_sections</a>;</td></tr>
<tr><th id="1259">1259</th><td>            <a class="local col6 ref" href="#166next" title='next' data-ref="166next" data-ref-filename="166next">next</a>-&gt;<a class="tu ref field" href="#spec_section::missing" title='spec_section::missing' data-use='w' data-ref="spec_section::missing" data-ref-filename="spec_section..missing">missing</a> = <var>1</var>;</td></tr>
<tr><th id="1260">1260</th><td>            <a class="local col1 ref" href="#151input_sections" title='input_sections' data-ref="151input_sections" data-ref-filename="151input_sections">input_sections</a> = <a class="local col6 ref" href="#166next" title='next' data-ref="166next" data-ref-filename="166next">next</a>;</td></tr>
<tr><th id="1261">1261</th><td>          }</td></tr>
<tr><th id="1262">1262</th><td>          <b>break</b>;</td></tr>
<tr><th id="1263">1263</th><td></td></tr>
<tr><th id="1264">1264</th><td>        <b>case</b> <kbd>'V'</kbd>:</td></tr>
<tr><th id="1265">1265</th><td>          <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#printf" title='printf' data-ref="printf" data-ref-filename="printf">printf</a> (<q>"install-info (GNU %s) %s\n"</q>, <a class="macro" href="../../include/config.h.html#339" title="&quot;texinfo&quot;" data-ref="_M/PACKAGE">PACKAGE</a>, <a class="macro" href="../../include/config.h.html#384" title="&quot;4.8&quot;" data-ref="_M/VERSION">VERSION</a>);</td></tr>
<tr><th id="1266">1266</th><td>          <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#puts" title='puts' data-ref="puts" data-ref-filename="puts">puts</a> (<q>""</q>);</td></tr>
<tr><th id="1267">1267</th><td>          <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#puts" title='puts' data-ref="puts" data-ref-filename="puts">puts</a> (<q>"Copyright (C) 2004 Free Software Foundation, Inc."</q>);</td></tr>
<tr><th id="1268">1268</th><td>          <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#printf" title='printf' data-ref="printf" data-ref-filename="printf">printf</a> (<a class="macro" href="../lib/system.h.html#59" title="gettext (&quot;There is NO warranty.  You may redistribute this software\nunder the terms of the GNU General Public License.\nFor more information about these matters, see the files named COPYING.\n&quot;)" data-ref="_M/_">_</a>(<q>"There is NO warranty.  You may redistribute this software\n\</q></td></tr>
<tr><th id="1269">1269</th><td><q>under the terms of the GNU General Public License.\n\</q></td></tr>
<tr><th id="1270">1270</th><td><q>For more information about these matters, see the files named COPYING.\n"</q>));</td></tr>
<tr><th id="1271">1271</th><td>          <a class="ref fn" href="../lib/system.h.html#xexit" title='xexit' data-ref="xexit" data-ref-filename="xexit">xexit</a> (<var>0</var>);</td></tr>
<tr><th id="1272">1272</th><td></td></tr>
<tr><th id="1273">1273</th><td>        <b>default</b>:</td></tr>
<tr><th id="1274">1274</th><td>          <a class="ref fn" href="#suggest_asking_for_help" title='suggest_asking_for_help' data-ref="suggest_asking_for_help" data-ref-filename="suggest_asking_for_help">suggest_asking_for_help</a> ();</td></tr>
<tr><th id="1275">1275</th><td>        }</td></tr>
<tr><th id="1276">1276</th><td>    }</td></tr>
<tr><th id="1277">1277</th><td></td></tr>
<tr><th id="1278">1278</th><td>  <i>/* Interpret the non-option arguments as file names.  */</i></td></tr>
<tr><th id="1279">1279</th><td>  <b>for</b> (; <a class="ref" href="../../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#optind" title='optind' data-ref="optind" data-ref-filename="optind">optind</a> &lt; <a class="local col0 ref" href="#140argc" title='argc' data-ref="140argc" data-ref-filename="140argc">argc</a>; ++<a class="ref" href="../../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#optind" title='optind' data-ref="optind" data-ref-filename="optind">optind</a>)</td></tr>
<tr><th id="1280">1280</th><td>    {</td></tr>
<tr><th id="1281">1281</th><td>      <b>if</b> (<a class="local col5 ref" href="#145infile" title='infile' data-ref="145infile" data-ref-filename="145infile">infile</a> == <var>0</var>)</td></tr>
<tr><th id="1282">1282</th><td>        <a class="local col5 ref" href="#145infile" title='infile' data-ref="145infile" data-ref-filename="145infile">infile</a> = <a class="local col1 ref" href="#141argv" title='argv' data-ref="141argv" data-ref-filename="141argv">argv</a>[<a class="ref" href="../../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#optind" title='optind' data-ref="optind" data-ref-filename="optind">optind</a>];</td></tr>
<tr><th id="1283">1283</th><td>      <b>else</b> <b>if</b> (<a class="local col6 ref" href="#146dirfile" title='dirfile' data-ref="146dirfile" data-ref-filename="146dirfile">dirfile</a> == <var>0</var>)</td></tr>
<tr><th id="1284">1284</th><td>        <a class="local col6 ref" href="#146dirfile" title='dirfile' data-ref="146dirfile" data-ref-filename="146dirfile">dirfile</a> = <a class="local col1 ref" href="#141argv" title='argv' data-ref="141argv" data-ref-filename="141argv">argv</a>[<a class="ref" href="../../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#optind" title='optind' data-ref="optind" data-ref-filename="optind">optind</a>];</td></tr>
<tr><th id="1285">1285</th><td>      <b>else</b></td></tr>
<tr><th id="1286">1286</th><td>        <a class="ref fn" href="#error" title='error' data-ref="error" data-ref-filename="error">error</a> (<a class="macro" href="../lib/system.h.html#59" title="gettext (&quot;excess command line argument `%s&apos;&quot;)" data-ref="_M/_">_</a>(<q>"excess command line argument `%s'"</q>), <a class="local col1 ref" href="#141argv" title='argv' data-ref="141argv" data-ref-filename="141argv">argv</a>[<a class="ref" href="../../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#optind" title='optind' data-ref="optind" data-ref-filename="optind">optind</a>], <var>0</var>);</td></tr>
<tr><th id="1287">1287</th><td>    }</td></tr>
<tr><th id="1288">1288</th><td></td></tr>
<tr><th id="1289">1289</th><td>  <b>if</b> (!<a class="local col5 ref" href="#145infile" title='infile' data-ref="145infile" data-ref-filename="145infile">infile</a>)</td></tr>
<tr><th id="1290">1290</th><td>    <a class="ref fn" href="#fatal" title='fatal' data-ref="fatal" data-ref-filename="fatal">fatal</a> (<a class="macro" href="../lib/system.h.html#59" title="gettext (&quot;No input file specified; try --help for more information.&quot;)" data-ref="_M/_">_</a>(<q>"No input file specified; try --help for more information."</q>),</td></tr>
<tr><th id="1291">1291</th><td>           <var>0</var>, <var>0</var>);</td></tr>
<tr><th id="1292">1292</th><td>  <b>if</b> (!<a class="local col6 ref" href="#146dirfile" title='dirfile' data-ref="146dirfile" data-ref-filename="146dirfile">dirfile</a>)</td></tr>
<tr><th id="1293">1293</th><td>    <a class="ref fn" href="#fatal" title='fatal' data-ref="fatal" data-ref-filename="fatal">fatal</a> (<a class="macro" href="../lib/system.h.html#59" title="gettext (&quot;No dir file specified; try --help for more information.&quot;)" data-ref="_M/_">_</a>(<q>"No dir file specified; try --help for more information."</q>), <var>0</var>, <var>0</var>);</td></tr>
<tr><th id="1294">1294</th><td></td></tr>
<tr><th id="1295">1295</th><td>  <i>/* Read the Info file and parse it into lines, unless we're deleting.  */</i></td></tr>
<tr><th id="1296">1296</th><td>  <b>if</b> (!<a class="local col9 ref" href="#159delete_flag" title='delete_flag' data-ref="159delete_flag" data-ref-filename="159delete_flag">delete_flag</a>)</td></tr>
<tr><th id="1297">1297</th><td>    {</td></tr>
<tr><th id="1298">1298</th><td>      <a class="local col7 ref" href="#147input_data" title='input_data' data-ref="147input_data" data-ref-filename="147input_data">input_data</a> = <a class="ref fn" href="#readfile" title='readfile' data-ref="readfile" data-ref-filename="readfile">readfile</a> (<a class="local col5 ref" href="#145infile" title='infile' data-ref="145infile" data-ref-filename="145infile">infile</a>, &amp;<a class="local col8 ref" href="#148input_size" title='input_size' data-ref="148input_size" data-ref-filename="148input_size">input_size</a>, <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>, <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>, <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>);</td></tr>
<tr><th id="1299">1299</th><td>      <a class="local col9 ref" href="#149input_lines" title='input_lines' data-ref="149input_lines" data-ref-filename="149input_lines">input_lines</a> = <a class="ref fn" href="#findlines" title='findlines' data-ref="findlines" data-ref-filename="findlines">findlines</a> (<a class="local col7 ref" href="#147input_data" title='input_data' data-ref="147input_data" data-ref-filename="147input_data">input_data</a>, <a class="local col8 ref" href="#148input_size" title='input_size' data-ref="148input_size" data-ref-filename="148input_size">input_size</a>, &amp;<a class="local col0 ref" href="#150input_nlines" title='input_nlines' data-ref="150input_nlines" data-ref-filename="150input_nlines">input_nlines</a>);</td></tr>
<tr><th id="1300">1300</th><td>    }</td></tr>
<tr><th id="1301">1301</th><td></td></tr>
<tr><th id="1302">1302</th><td>  <a class="local col2 ref" href="#162i" title='i' data-ref="162i" data-ref-filename="162i">i</a> = <a class="ref fn" href="#parse_input" title='parse_input' data-ref="parse_input" data-ref-filename="parse_input">parse_input</a> (<a class="local col9 ref" href="#149input_lines" title='input_lines' data-ref="149input_lines" data-ref-filename="149input_lines">input_lines</a>, <a class="local col0 ref" href="#150input_nlines" title='input_nlines' data-ref="150input_nlines" data-ref-filename="150input_nlines">input_nlines</a>,</td></tr>
<tr><th id="1303">1303</th><td>                   &amp;<a class="local col1 ref" href="#151input_sections" title='input_sections' data-ref="151input_sections" data-ref-filename="151input_sections">input_sections</a>, &amp;<a class="local col2 ref" href="#152entries_to_add" title='entries_to_add' data-ref="152entries_to_add" data-ref-filename="152entries_to_add">entries_to_add</a>);</td></tr>
<tr><th id="1304">1304</th><td>  <b>if</b> (<a class="local col2 ref" href="#162i" title='i' data-ref="162i" data-ref-filename="162i">i</a> &gt; <a class="local col3 ref" href="#153n_entries_to_add" title='n_entries_to_add' data-ref="153n_entries_to_add" data-ref-filename="153n_entries_to_add">n_entries_to_add</a>)</td></tr>
<tr><th id="1305">1305</th><td>    <a class="local col3 ref" href="#153n_entries_to_add" title='n_entries_to_add' data-ref="153n_entries_to_add" data-ref-filename="153n_entries_to_add">n_entries_to_add</a> = <a class="local col2 ref" href="#162i" title='i' data-ref="162i" data-ref-filename="162i">i</a>;</td></tr>
<tr><th id="1306">1306</th><td></td></tr>
<tr><th id="1307">1307</th><td>  <b>if</b> (!<a class="local col9 ref" href="#159delete_flag" title='delete_flag' data-ref="159delete_flag" data-ref-filename="159delete_flag">delete_flag</a>)</td></tr>
<tr><th id="1308">1308</th><td>    {</td></tr>
<tr><th id="1309">1309</th><td>      <b>if</b> (<a class="local col2 ref" href="#152entries_to_add" title='entries_to_add' data-ref="152entries_to_add" data-ref-filename="152entries_to_add">entries_to_add</a> == <var>0</var>)</td></tr>
<tr><th id="1310">1310</th><td>        { <i>/* No need to abort here, the original info file may not</i></td></tr>
<tr><th id="1311">1311</th><td><i>             have the requisite Texinfo commands.  This is not</i></td></tr>
<tr><th id="1312">1312</th><td><i>             something an installer should have to correct (it's a</i></td></tr>
<tr><th id="1313">1313</th><td><i>             problem for the maintainer), and there's no need to cause</i></td></tr>
<tr><th id="1314">1314</th><td><i>             subsequent parts of `make install' to fail.  */</i></td></tr>
<tr><th id="1315">1315</th><td>          <a class="ref fn" href="#warning" title='warning' data-ref="warning" data-ref-filename="warning">warning</a> (<a class="macro" href="../lib/system.h.html#59" title="gettext (&quot;no info dir entry in `%s&apos;&quot;)" data-ref="_M/_">_</a>(<q>"no info dir entry in `%s'"</q>), <a class="local col5 ref" href="#145infile" title='infile' data-ref="145infile" data-ref-filename="145infile">infile</a>, <var>0</var>);</td></tr>
<tr><th id="1316">1316</th><td>          <a class="ref fn" href="../lib/system.h.html#xexit" title='xexit' data-ref="xexit" data-ref-filename="xexit">xexit</a> (<var>0</var>);</td></tr>
<tr><th id="1317">1317</th><td>        }</td></tr>
<tr><th id="1318">1318</th><td></td></tr>
<tr><th id="1319">1319</th><td>      <i>/* If the entries came from the command-line arguments, their</i></td></tr>
<tr><th id="1320">1320</th><td><i>         entry_sections pointers are not yet set.  Walk the chain of</i></td></tr>
<tr><th id="1321">1321</th><td><i>         the entries and for each entry update entry_sections to point</i></td></tr>
<tr><th id="1322">1322</th><td><i>         to the head of the list of sections where this entry should</i></td></tr>
<tr><th id="1323">1323</th><td><i>         be put.  Note that all the entries specified on the command</i></td></tr>
<tr><th id="1324">1324</th><td><i>         line get put into ALL the sections we've got, either from the</i></td></tr>
<tr><th id="1325">1325</th><td><i>         Info file, or (under --section) from the command line,</i></td></tr>
<tr><th id="1326">1326</th><td><i>         because in the loop below every entry inherits the entire</i></td></tr>
<tr><th id="1327">1327</th><td><i>         chain of sections.  */</i></td></tr>
<tr><th id="1328">1328</th><td>      <b>if</b> (<a class="local col3 ref" href="#153n_entries_to_add" title='n_entries_to_add' data-ref="153n_entries_to_add" data-ref-filename="153n_entries_to_add">n_entries_to_add</a> &gt; <var>0</var> &amp;&amp; <a class="local col2 ref" href="#152entries_to_add" title='entries_to_add' data-ref="152entries_to_add" data-ref-filename="152entries_to_add">entries_to_add</a>-&gt;<a class="tu ref field" href="#spec_entry::entry_sections" title='spec_entry::entry_sections' data-use='r' data-ref="spec_entry::entry_sections" data-ref-filename="spec_entry..entry_sections">entry_sections</a> == <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>)</td></tr>
<tr><th id="1329">1329</th><td>        {</td></tr>
<tr><th id="1330">1330</th><td>          <b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a> *<dfn class="local col7 decl" id="167ep" title='ep' data-type='struct spec_entry *' data-ref="167ep" data-ref-filename="167ep">ep</dfn>;</td></tr>
<tr><th id="1331">1331</th><td></td></tr>
<tr><th id="1332">1332</th><td>          <i>/* If we got no sections, default to "Miscellaneous".  */</i></td></tr>
<tr><th id="1333">1333</th><td>          <b>if</b> (<a class="local col1 ref" href="#151input_sections" title='input_sections' data-ref="151input_sections" data-ref-filename="151input_sections">input_sections</a> == <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>)</td></tr>
<tr><th id="1334">1334</th><td>            {</td></tr>
<tr><th id="1335">1335</th><td>              <a class="local col1 ref" href="#151input_sections" title='input_sections' data-ref="151input_sections" data-ref-filename="151input_sections">input_sections</a> = (<b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a> *)</td></tr>
<tr><th id="1336">1336</th><td>                <a class="ref fn" href="../lib/system.h.html#xmalloc" title='xmalloc' data-ref="xmalloc" data-ref-filename="xmalloc">xmalloc</a> (<b>sizeof</b> (<b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a>));</td></tr>
<tr><th id="1337">1337</th><td>              <a class="local col1 ref" href="#151input_sections" title='input_sections' data-ref="151input_sections" data-ref-filename="151input_sections">input_sections</a>-&gt;<a class="tu ref field" href="#spec_section::name" title='spec_section::name' data-use='w' data-ref="spec_section::name" data-ref-filename="spec_section..name">name</a> = <q>"Miscellaneous"</q>;</td></tr>
<tr><th id="1338">1338</th><td>              <a class="local col1 ref" href="#151input_sections" title='input_sections' data-ref="151input_sections" data-ref-filename="151input_sections">input_sections</a>-&gt;<a class="tu ref field" href="#spec_section::next" title='spec_section::next' data-use='w' data-ref="spec_section::next" data-ref-filename="spec_section..next">next</a> = <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>;</td></tr>
<tr><th id="1339">1339</th><td>              <a class="local col1 ref" href="#151input_sections" title='input_sections' data-ref="151input_sections" data-ref-filename="151input_sections">input_sections</a>-&gt;<a class="tu ref field" href="#spec_section::missing" title='spec_section::missing' data-use='w' data-ref="spec_section::missing" data-ref-filename="spec_section..missing">missing</a> = <var>1</var>;</td></tr>
<tr><th id="1340">1340</th><td>            }</td></tr>
<tr><th id="1341">1341</th><td>          <b>for</b> (<a class="local col7 ref" href="#167ep" title='ep' data-ref="167ep" data-ref-filename="167ep">ep</a> = <a class="local col2 ref" href="#152entries_to_add" title='entries_to_add' data-ref="152entries_to_add" data-ref-filename="152entries_to_add">entries_to_add</a>; <a class="local col7 ref" href="#167ep" title='ep' data-ref="167ep" data-ref-filename="167ep">ep</a>; <a class="local col7 ref" href="#167ep" title='ep' data-ref="167ep" data-ref-filename="167ep">ep</a> = <a class="local col7 ref" href="#167ep" title='ep' data-ref="167ep" data-ref-filename="167ep">ep</a>-&gt;<a class="tu ref field" href="#spec_entry::next" title='spec_entry::next' data-use='r' data-ref="spec_entry::next" data-ref-filename="spec_entry..next">next</a>)</td></tr>
<tr><th id="1342">1342</th><td>            <a class="local col7 ref" href="#167ep" title='ep' data-ref="167ep" data-ref-filename="167ep">ep</a>-&gt;<a class="tu ref field" href="#spec_entry::entry_sections" title='spec_entry::entry_sections' data-use='w' data-ref="spec_entry::entry_sections" data-ref-filename="spec_entry..entry_sections">entry_sections</a> = <a class="local col1 ref" href="#151input_sections" title='input_sections' data-ref="151input_sections" data-ref-filename="151input_sections">input_sections</a>;</td></tr>
<tr><th id="1343">1343</th><td>        }</td></tr>
<tr><th id="1344">1344</th><td>    }</td></tr>
<tr><th id="1345">1345</th><td></td></tr>
<tr><th id="1346">1346</th><td>  <i>/* Now read in the Info dir file.  */</i></td></tr>
<tr><th id="1347">1347</th><td>  <a class="local col4 ref" href="#154dir_data" title='dir_data' data-ref="154dir_data" data-ref-filename="154dir_data">dir_data</a> = <a class="ref fn" href="#readfile" title='readfile' data-ref="readfile" data-ref-filename="readfile">readfile</a> (<a class="local col6 ref" href="#146dirfile" title='dirfile' data-ref="146dirfile" data-ref-filename="146dirfile">dirfile</a>, &amp;<a class="local col5 ref" href="#155dir_size" title='dir_size' data-ref="155dir_size" data-ref-filename="155dir_size">dir_size</a>, <a class="ref fn" href="#ensure_dirfile_exists" title='ensure_dirfile_exists' data-ref="ensure_dirfile_exists" data-ref-filename="ensure_dirfile_exists">ensure_dirfile_exists</a>,</td></tr>
<tr><th id="1348">1348</th><td>                       &amp;<a class="local col2 ref" href="#142opened_dirfilename" title='opened_dirfilename' data-ref="142opened_dirfilename" data-ref-filename="142opened_dirfilename">opened_dirfilename</a>, &amp;<a class="local col3 ref" href="#143compression_program" title='compression_program' data-ref="143compression_program" data-ref-filename="143compression_program">compression_program</a>);</td></tr>
<tr><th id="1349">1349</th><td>  <a class="local col7 ref" href="#157dir_lines" title='dir_lines' data-ref="157dir_lines" data-ref-filename="157dir_lines">dir_lines</a> = <a class="ref fn" href="#findlines" title='findlines' data-ref="findlines" data-ref-filename="findlines">findlines</a> (<a class="local col4 ref" href="#154dir_data" title='dir_data' data-ref="154dir_data" data-ref-filename="154dir_data">dir_data</a>, <a class="local col5 ref" href="#155dir_size" title='dir_size' data-ref="155dir_size" data-ref-filename="155dir_size">dir_size</a>, &amp;<a class="local col6 ref" href="#156dir_nlines" title='dir_nlines' data-ref="156dir_nlines" data-ref-filename="156dir_nlines">dir_nlines</a>);</td></tr>
<tr><th id="1350">1350</th><td></td></tr>
<tr><th id="1351">1351</th><td>  <i>/* We will be comparing the entries in the dir file against the</i></td></tr>
<tr><th id="1352">1352</th><td><i>     current filename, so need to strip off any directory prefix and/or</i></td></tr>
<tr><th id="1353">1353</th><td><i>     [.info][.gz] suffix.  */</i></td></tr>
<tr><th id="1354">1354</th><td>  {</td></tr>
<tr><th id="1355">1355</th><td>    <em>char</em> *<dfn class="local col8 decl" id="168infile_basename" title='infile_basename' data-type='char *' data-ref="168infile_basename" data-ref-filename="168infile_basename">infile_basename</dfn> = <a class="local col5 ref" href="#145infile" title='infile' data-ref="145infile" data-ref-filename="145infile">infile</a> + <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a> (<a class="local col5 ref" href="#145infile" title='infile' data-ref="145infile" data-ref-filename="145infile">infile</a>);</td></tr>
<tr><th id="1356">1356</th><td></td></tr>
<tr><th id="1357">1357</th><td>    <b>if</b> (<a class="macro" href="../lib/system.h.html#245" title="(0)" data-ref="_M/HAVE_DRIVE">HAVE_DRIVE</a> (infile))</td></tr>
<tr><th id="1358">1358</th><td>      <a class="local col5 ref" href="#145infile" title='infile' data-ref="145infile" data-ref-filename="145infile">infile</a> += <var>2</var>;      <i>/* get past the drive spec X: */</i></td></tr>
<tr><th id="1359">1359</th><td></td></tr>
<tr><th id="1360">1360</th><td>    <b>while</b> (<a class="local col8 ref" href="#168infile_basename" title='infile_basename' data-ref="168infile_basename" data-ref-filename="168infile_basename">infile_basename</a> &gt; <a class="local col5 ref" href="#145infile" title='infile' data-ref="145infile" data-ref-filename="145infile">infile</a> &amp;&amp; !<a class="macro" href="../lib/system.h.html#244" title="((infile_basename[-1]) == &apos;/&apos;)" data-ref="_M/IS_SLASH">IS_SLASH</a> (<a class="local col8 ref" href="#168infile_basename" title='infile_basename' data-ref="168infile_basename" data-ref-filename="168infile_basename">infile_basename</a>[-<var>1</var>]))</td></tr>
<tr><th id="1361">1361</th><td>      <a class="local col8 ref" href="#168infile_basename" title='infile_basename' data-ref="168infile_basename" data-ref-filename="168infile_basename">infile_basename</a>--;</td></tr>
<tr><th id="1362">1362</th><td></td></tr>
<tr><th id="1363">1363</th><td>    <a class="local col4 ref" href="#144infile_sans_info" title='infile_sans_info' data-ref="144infile_sans_info" data-ref-filename="144infile_sans_info">infile_sans_info</a> = <a class="tu ref fn" href="#strip_info_suffix" title='strip_info_suffix' data-use='c' data-ref="strip_info_suffix" data-ref-filename="strip_info_suffix">strip_info_suffix</a> (<a class="local col8 ref" href="#168infile_basename" title='infile_basename' data-ref="168infile_basename" data-ref-filename="168infile_basename">infile_basename</a>);</td></tr>
<tr><th id="1364">1364</th><td>  }</td></tr>
<tr><th id="1365">1365</th><td></td></tr>
<tr><th id="1366">1366</th><td>  <a class="local col0 ref" href="#160something_deleted" title='something_deleted' data-ref="160something_deleted" data-ref-filename="160something_deleted">something_deleted</a></td></tr>
<tr><th id="1367">1367</th><td>    = <a class="ref fn" href="#parse_dir_file" title='parse_dir_file' data-ref="parse_dir_file" data-ref-filename="parse_dir_file">parse_dir_file</a> (<a class="local col7 ref" href="#157dir_lines" title='dir_lines' data-ref="157dir_lines" data-ref-filename="157dir_lines">dir_lines</a>, <a class="local col6 ref" href="#156dir_nlines" title='dir_nlines' data-ref="156dir_nlines" data-ref-filename="156dir_nlines">dir_nlines</a>, &amp;<a class="local col8 ref" href="#158dir_nodes" title='dir_nodes' data-ref="158dir_nodes" data-ref-filename="158dir_nodes">dir_nodes</a>, <a class="local col4 ref" href="#144infile_sans_info" title='infile_sans_info' data-ref="144infile_sans_info" data-ref-filename="144infile_sans_info">infile_sans_info</a>);</td></tr>
<tr><th id="1368">1368</th><td></td></tr>
<tr><th id="1369">1369</th><td>  <i>/* Decide where to add the new entries (unless --delete was used).</i></td></tr>
<tr><th id="1370">1370</th><td><i>     Find the menu sections to add them in.</i></td></tr>
<tr><th id="1371">1371</th><td><i>     In each section, find the proper alphabetical place to add</i></td></tr>
<tr><th id="1372">1372</th><td><i>     each of the entries.  */</i></td></tr>
<tr><th id="1373">1373</th><td>  <b>if</b> (!<a class="local col9 ref" href="#159delete_flag" title='delete_flag' data-ref="159delete_flag" data-ref-filename="159delete_flag">delete_flag</a>)</td></tr>
<tr><th id="1374">1374</th><td>    {</td></tr>
<tr><th id="1375">1375</th><td>      <b>struct</b> <a class="type" href="#node" title='node' data-ref="node" data-ref-filename="node">node</a> *<dfn class="local col9 decl" id="169node" title='node' data-type='struct node *' data-ref="169node" data-ref-filename="169node">node</dfn>;</td></tr>
<tr><th id="1376">1376</th><td>      <b>struct</b> <a class="type" href="#menu_section" title='menu_section' data-ref="menu_section" data-ref-filename="menu_section">menu_section</a> *<dfn class="local col0 decl" id="170section" title='section' data-type='struct menu_section *' data-ref="170section" data-ref-filename="170section">section</dfn>;</td></tr>
<tr><th id="1377">1377</th><td>      <b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a> *<dfn class="local col1 decl" id="171spec" title='spec' data-type='struct spec_section *' data-ref="171spec" data-ref-filename="171spec">spec</dfn>;</td></tr>
<tr><th id="1378">1378</th><td></td></tr>
<tr><th id="1379">1379</th><td>      <b>for</b> (<a class="local col9 ref" href="#169node" title='node' data-ref="169node" data-ref-filename="169node">node</a> = <a class="local col8 ref" href="#158dir_nodes" title='dir_nodes' data-ref="158dir_nodes" data-ref-filename="158dir_nodes">dir_nodes</a>; <a class="local col9 ref" href="#169node" title='node' data-ref="169node" data-ref-filename="169node">node</a>; <a class="local col9 ref" href="#169node" title='node' data-ref="169node" data-ref-filename="169node">node</a> = <a class="local col9 ref" href="#169node" title='node' data-ref="169node" data-ref-filename="169node">node</a>-&gt;<a class="tu ref field" href="#node::next" title='node::next' data-use='r' data-ref="node::next" data-ref-filename="node..next">next</a>)</td></tr>
<tr><th id="1380">1380</th><td>        <b>for</b> (<a class="local col0 ref" href="#170section" title='section' data-ref="170section" data-ref-filename="170section">section</a> = <a class="local col9 ref" href="#169node" title='node' data-ref="169node" data-ref-filename="169node">node</a>-&gt;<a class="tu ref field" href="#node::sections" title='node::sections' data-use='r' data-ref="node::sections" data-ref-filename="node..sections">sections</a>; <a class="local col0 ref" href="#170section" title='section' data-ref="170section" data-ref-filename="170section">section</a>; <a class="local col0 ref" href="#170section" title='section' data-ref="170section" data-ref-filename="170section">section</a> = <a class="local col0 ref" href="#170section" title='section' data-ref="170section" data-ref-filename="170section">section</a>-&gt;<a class="tu ref field" href="#menu_section::next" title='menu_section::next' data-use='r' data-ref="menu_section::next" data-ref-filename="menu_section..next">next</a>)</td></tr>
<tr><th id="1381">1381</th><td>          {</td></tr>
<tr><th id="1382">1382</th><td>            <b>for</b> (<a class="local col2 ref" href="#162i" title='i' data-ref="162i" data-ref-filename="162i">i</a> = <a class="local col0 ref" href="#170section" title='section' data-ref="170section" data-ref-filename="170section">section</a>-&gt;<a class="tu ref field" href="#menu_section::end_line" title='menu_section::end_line' data-use='r' data-ref="menu_section::end_line" data-ref-filename="menu_section..end_line">end_line</a>; <a class="local col2 ref" href="#162i" title='i' data-ref="162i" data-ref-filename="162i">i</a> &gt; <a class="local col0 ref" href="#170section" title='section' data-ref="170section" data-ref-filename="170section">section</a>-&gt;<a class="tu ref field" href="#menu_section::start_line" title='menu_section::start_line' data-use='r' data-ref="menu_section::start_line" data-ref-filename="menu_section..start_line">start_line</a>; <a class="local col2 ref" href="#162i" title='i' data-ref="162i" data-ref-filename="162i">i</a>--)</td></tr>
<tr><th id="1383">1383</th><td>              <b>if</b> (<a class="local col7 ref" href="#157dir_lines" title='dir_lines' data-ref="157dir_lines" data-ref-filename="157dir_lines">dir_lines</a>[<a class="local col2 ref" href="#162i" title='i' data-ref="162i" data-ref-filename="162i">i</a> - <var>1</var>].<a class="tu ref field" href="#line_data::size" title='line_data::size' data-use='r' data-ref="line_data::size" data-ref-filename="line_data..size">size</a> != <var>0</var>)</td></tr>
<tr><th id="1384">1384</th><td>                <b>break</b>;</td></tr>
<tr><th id="1385">1385</th><td>            <a class="local col0 ref" href="#170section" title='section' data-ref="170section" data-ref-filename="170section">section</a>-&gt;<a class="tu ref field" href="#menu_section::end_line" title='menu_section::end_line' data-use='w' data-ref="menu_section::end_line" data-ref-filename="menu_section..end_line">end_line</a> = <a class="local col2 ref" href="#162i" title='i' data-ref="162i" data-ref-filename="162i">i</a>;</td></tr>
<tr><th id="1386">1386</th><td></td></tr>
<tr><th id="1387">1387</th><td>            <b>for</b> (<a class="local col1 ref" href="#171spec" title='spec' data-ref="171spec" data-ref-filename="171spec">spec</a> = <a class="local col1 ref" href="#151input_sections" title='input_sections' data-ref="151input_sections" data-ref-filename="151input_sections">input_sections</a>; <a class="local col1 ref" href="#171spec" title='spec' data-ref="171spec" data-ref-filename="171spec">spec</a>; <a class="local col1 ref" href="#171spec" title='spec' data-ref="171spec" data-ref-filename="171spec">spec</a> = <a class="local col1 ref" href="#171spec" title='spec' data-ref="171spec" data-ref-filename="171spec">spec</a>-&gt;<a class="tu ref field" href="#spec_section::next" title='spec_section::next' data-use='r' data-ref="spec_section::next" data-ref-filename="spec_section..next">next</a>)</td></tr>
<tr><th id="1388">1388</th><td>              <b>if</b> (!<a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a> (<a class="local col1 ref" href="#171spec" title='spec' data-ref="171spec" data-ref-filename="171spec">spec</a>-&gt;<a class="tu ref field" href="#spec_section::name" title='spec_section::name' data-use='r' data-ref="spec_section::name" data-ref-filename="spec_section..name">name</a>, <a class="local col0 ref" href="#170section" title='section' data-ref="170section" data-ref-filename="170section">section</a>-&gt;<a class="tu ref field" href="#menu_section::name" title='menu_section::name' data-use='r' data-ref="menu_section::name" data-ref-filename="menu_section..name">name</a>))</td></tr>
<tr><th id="1389">1389</th><td>                <b>break</b>;</td></tr>
<tr><th id="1390">1390</th><td>            <b>if</b> (<a class="local col1 ref" href="#171spec" title='spec' data-ref="171spec" data-ref-filename="171spec">spec</a>)</td></tr>
<tr><th id="1391">1391</th><td>              {</td></tr>
<tr><th id="1392">1392</th><td>                <em>int</em> <dfn class="local col2 decl" id="172add_at_line" title='add_at_line' data-type='int' data-ref="172add_at_line" data-ref-filename="172add_at_line">add_at_line</dfn> = <a class="local col0 ref" href="#170section" title='section' data-ref="170section" data-ref-filename="170section">section</a>-&gt;<a class="tu ref field" href="#menu_section::end_line" title='menu_section::end_line' data-use='r' data-ref="menu_section::end_line" data-ref-filename="menu_section..end_line">end_line</a>;</td></tr>
<tr><th id="1393">1393</th><td>                <b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a> *<dfn class="local col3 decl" id="173entry" title='entry' data-type='struct spec_entry *' data-ref="173entry" data-ref-filename="173entry">entry</dfn>;</td></tr>
<tr><th id="1394">1394</th><td>                <i>/* Say we have found at least one section with this name,</i></td></tr>
<tr><th id="1395">1395</th><td><i>                   so we need not add such a section.  */</i></td></tr>
<tr><th id="1396">1396</th><td>                <a class="local col1 ref" href="#171spec" title='spec' data-ref="171spec" data-ref-filename="171spec">spec</a>-&gt;<a class="tu ref field" href="#spec_section::missing" title='spec_section::missing' data-use='w' data-ref="spec_section::missing" data-ref-filename="spec_section..missing">missing</a> = <var>0</var>;</td></tr>
<tr><th id="1397">1397</th><td>                <i>/* For each entry, find the right place in this section</i></td></tr>
<tr><th id="1398">1398</th><td><i>                   to add it.  */</i></td></tr>
<tr><th id="1399">1399</th><td>                <b>for</b> (<a class="local col3 ref" href="#173entry" title='entry' data-ref="173entry" data-ref-filename="173entry">entry</a> = <a class="local col2 ref" href="#152entries_to_add" title='entries_to_add' data-ref="152entries_to_add" data-ref-filename="152entries_to_add">entries_to_add</a>; <a class="local col3 ref" href="#173entry" title='entry' data-ref="173entry" data-ref-filename="173entry">entry</a>; <a class="local col3 ref" href="#173entry" title='entry' data-ref="173entry" data-ref-filename="173entry">entry</a> = <a class="local col3 ref" href="#173entry" title='entry' data-ref="173entry" data-ref-filename="173entry">entry</a>-&gt;<a class="tu ref field" href="#spec_entry::next" title='spec_entry::next' data-use='r' data-ref="spec_entry::next" data-ref-filename="spec_entry..next">next</a>)</td></tr>
<tr><th id="1400">1400</th><td>                  {</td></tr>
<tr><th id="1401">1401</th><td>                    <i>/* Did they at all want this entry to be put into</i></td></tr>
<tr><th id="1402">1402</th><td><i>                       this section?  */</i></td></tr>
<tr><th id="1403">1403</th><td>                    <b>for</b> (<a class="local col1 ref" href="#171spec" title='spec' data-ref="171spec" data-ref-filename="171spec">spec</a> = <a class="local col3 ref" href="#173entry" title='entry' data-ref="173entry" data-ref-filename="173entry">entry</a>-&gt;<a class="tu ref field" href="#spec_entry::entry_sections" title='spec_entry::entry_sections' data-use='r' data-ref="spec_entry::entry_sections" data-ref-filename="spec_entry..entry_sections">entry_sections</a>;</td></tr>
<tr><th id="1404">1404</th><td>                         <a class="local col1 ref" href="#171spec" title='spec' data-ref="171spec" data-ref-filename="171spec">spec</a> &amp;&amp; <a class="local col1 ref" href="#171spec" title='spec' data-ref="171spec" data-ref-filename="171spec">spec</a> != <a class="local col3 ref" href="#173entry" title='entry' data-ref="173entry" data-ref-filename="173entry">entry</a>-&gt;<a class="tu ref field" href="#spec_entry::entry_sections_tail" title='spec_entry::entry_sections_tail' data-use='r' data-ref="spec_entry::entry_sections_tail" data-ref-filename="spec_entry..entry_sections_tail">entry_sections_tail</a>;</td></tr>
<tr><th id="1405">1405</th><td>                         <a class="local col1 ref" href="#171spec" title='spec' data-ref="171spec" data-ref-filename="171spec">spec</a> = <a class="local col1 ref" href="#171spec" title='spec' data-ref="171spec" data-ref-filename="171spec">spec</a>-&gt;<a class="tu ref field" href="#spec_section::next" title='spec_section::next' data-use='r' data-ref="spec_section::next" data-ref-filename="spec_section..next">next</a>)</td></tr>
<tr><th id="1406">1406</th><td>                      {</td></tr>
<tr><th id="1407">1407</th><td>                        <b>if</b> (!<a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a> (<a class="local col1 ref" href="#171spec" title='spec' data-ref="171spec" data-ref-filename="171spec">spec</a>-&gt;<a class="tu ref field" href="#spec_section::name" title='spec_section::name' data-use='r' data-ref="spec_section::name" data-ref-filename="spec_section..name">name</a>, <a class="local col0 ref" href="#170section" title='section' data-ref="170section" data-ref-filename="170section">section</a>-&gt;<a class="tu ref field" href="#menu_section::name" title='menu_section::name' data-use='r' data-ref="menu_section::name" data-ref-filename="menu_section..name">name</a>))</td></tr>
<tr><th id="1408">1408</th><td>                          <b>break</b>;</td></tr>
<tr><th id="1409">1409</th><td>                      }</td></tr>
<tr><th id="1410">1410</th><td>                    <b>if</b> (!<a class="local col1 ref" href="#171spec" title='spec' data-ref="171spec" data-ref-filename="171spec">spec</a> || <a class="local col1 ref" href="#171spec" title='spec' data-ref="171spec" data-ref-filename="171spec">spec</a> == <a class="local col3 ref" href="#173entry" title='entry' data-ref="173entry" data-ref-filename="173entry">entry</a>-&gt;<a class="tu ref field" href="#spec_entry::entry_sections_tail" title='spec_entry::entry_sections_tail' data-use='r' data-ref="spec_entry::entry_sections_tail" data-ref-filename="spec_entry..entry_sections_tail">entry_sections_tail</a>)</td></tr>
<tr><th id="1411">1411</th><td>                      <b>continue</b>;</td></tr>
<tr><th id="1412">1412</th><td></td></tr>
<tr><th id="1413">1413</th><td>                    <i>/* Subtract one because dir_lines is zero-based,</i></td></tr>
<tr><th id="1414">1414</th><td><i>                       but the `end_line' and `start_line' members are</i></td></tr>
<tr><th id="1415">1415</th><td><i>                       one-based.  */</i></td></tr>
<tr><th id="1416">1416</th><td>                    <b>for</b> (<a class="local col2 ref" href="#162i" title='i' data-ref="162i" data-ref-filename="162i">i</a> = <a class="local col0 ref" href="#170section" title='section' data-ref="170section" data-ref-filename="170section">section</a>-&gt;<a class="tu ref field" href="#menu_section::end_line" title='menu_section::end_line' data-use='r' data-ref="menu_section::end_line" data-ref-filename="menu_section..end_line">end_line</a> - <var>1</var>;</td></tr>
<tr><th id="1417">1417</th><td>                         <a class="local col2 ref" href="#162i" title='i' data-ref="162i" data-ref-filename="162i">i</a> &gt;= <a class="local col0 ref" href="#170section" title='section' data-ref="170section" data-ref-filename="170section">section</a>-&gt;<a class="tu ref field" href="#menu_section::start_line" title='menu_section::start_line' data-use='r' data-ref="menu_section::start_line" data-ref-filename="menu_section..start_line">start_line</a> - <var>1</var>; <a class="local col2 ref" href="#162i" title='i' data-ref="162i" data-ref-filename="162i">i</a>--)</td></tr>
<tr><th id="1418">1418</th><td>                      {</td></tr>
<tr><th id="1419">1419</th><td>                        <i>/* If an entry exists with the same name,</i></td></tr>
<tr><th id="1420">1420</th><td><i>                           and was not marked for deletion</i></td></tr>
<tr><th id="1421">1421</th><td><i>                           (which means it is for some other file),</i></td></tr>
<tr><th id="1422">1422</th><td><i>                           we are in trouble.  */</i></td></tr>
<tr><th id="1423">1423</th><td>                        <b>if</b> (<a class="local col7 ref" href="#157dir_lines" title='dir_lines' data-ref="157dir_lines" data-ref-filename="157dir_lines">dir_lines</a>[<a class="local col2 ref" href="#162i" title='i' data-ref="162i" data-ref-filename="162i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a>[<var>0</var>] == <kbd>'*'</kbd></td></tr>
<tr><th id="1424">1424</th><td>                            &amp;&amp; <a class="tu ref fn" href="#menu_line_equal" title='menu_line_equal' data-use='c' data-ref="menu_line_equal" data-ref-filename="menu_line_equal">menu_line_equal</a> (<a class="local col3 ref" href="#173entry" title='entry' data-ref="173entry" data-ref-filename="173entry">entry</a>-&gt;<a class="tu ref field" href="#spec_entry::text" title='spec_entry::text' data-use='r' data-ref="spec_entry::text" data-ref-filename="spec_entry..text">text</a>, <a class="local col3 ref" href="#173entry" title='entry' data-ref="173entry" data-ref-filename="173entry">entry</a>-&gt;<a class="tu ref field" href="#spec_entry::text_len" title='spec_entry::text_len' data-use='r' data-ref="spec_entry::text_len" data-ref-filename="spec_entry..text_len">text_len</a>,</td></tr>
<tr><th id="1425">1425</th><td>                                                <a class="local col7 ref" href="#157dir_lines" title='dir_lines' data-ref="157dir_lines" data-ref-filename="157dir_lines">dir_lines</a>[<a class="local col2 ref" href="#162i" title='i' data-ref="162i" data-ref-filename="162i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a>,</td></tr>
<tr><th id="1426">1426</th><td>                                                <a class="local col7 ref" href="#157dir_lines" title='dir_lines' data-ref="157dir_lines" data-ref-filename="157dir_lines">dir_lines</a>[<a class="local col2 ref" href="#162i" title='i' data-ref="162i" data-ref-filename="162i">i</a>].<a class="tu ref field" href="#line_data::size" title='line_data::size' data-use='r' data-ref="line_data::size" data-ref-filename="line_data..size">size</a>)</td></tr>
<tr><th id="1427">1427</th><td>                            &amp;&amp; !<a class="local col7 ref" href="#157dir_lines" title='dir_lines' data-ref="157dir_lines" data-ref-filename="157dir_lines">dir_lines</a>[<a class="local col2 ref" href="#162i" title='i' data-ref="162i" data-ref-filename="162i">i</a>].<a class="tu ref field" href="#line_data::delete" title='line_data::delete' data-use='r' data-ref="line_data::delete" data-ref-filename="line_data..delete">delete</a>)</td></tr>
<tr><th id="1428">1428</th><td>                          <a class="ref fn" href="#fatal" title='fatal' data-ref="fatal" data-ref-filename="fatal">fatal</a> (<a class="macro" href="../lib/system.h.html#59" title="gettext (&quot;menu item `%s&apos; already exists, for file `%s&apos;&quot;)" data-ref="_M/_">_</a>(<q>"menu item `%s' already exists, for file `%s'"</q>),</td></tr>
<tr><th id="1429">1429</th><td>                                 <a class="ref fn" href="#extract_menu_item_name" title='extract_menu_item_name' data-ref="extract_menu_item_name" data-ref-filename="extract_menu_item_name">extract_menu_item_name</a> (<a class="local col3 ref" href="#173entry" title='entry' data-ref="173entry" data-ref-filename="173entry">entry</a>-&gt;<a class="tu ref field" href="#spec_entry::text" title='spec_entry::text' data-use='r' data-ref="spec_entry::text" data-ref-filename="spec_entry..text">text</a>),</td></tr>
<tr><th id="1430">1430</th><td>                                 <a class="ref fn" href="#extract_menu_file_name" title='extract_menu_file_name' data-ref="extract_menu_file_name" data-ref-filename="extract_menu_file_name">extract_menu_file_name</a> (<a class="local col7 ref" href="#157dir_lines" title='dir_lines' data-ref="157dir_lines" data-ref-filename="157dir_lines">dir_lines</a>[<a class="local col2 ref" href="#162i" title='i' data-ref="162i" data-ref-filename="162i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a>));</td></tr>
<tr><th id="1431">1431</th><td>                        <b>if</b> (<a class="local col7 ref" href="#157dir_lines" title='dir_lines' data-ref="157dir_lines" data-ref-filename="157dir_lines">dir_lines</a>[<a class="local col2 ref" href="#162i" title='i' data-ref="162i" data-ref-filename="162i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a>[<var>0</var>] == <kbd>'*'</kbd></td></tr>
<tr><th id="1432">1432</th><td>                            &amp;&amp; <a class="tu ref fn" href="#menu_line_lessp" title='menu_line_lessp' data-use='c' data-ref="menu_line_lessp" data-ref-filename="menu_line_lessp">menu_line_lessp</a> (<a class="local col3 ref" href="#173entry" title='entry' data-ref="173entry" data-ref-filename="173entry">entry</a>-&gt;<a class="tu ref field" href="#spec_entry::text" title='spec_entry::text' data-use='r' data-ref="spec_entry::text" data-ref-filename="spec_entry..text">text</a>, <a class="local col3 ref" href="#173entry" title='entry' data-ref="173entry" data-ref-filename="173entry">entry</a>-&gt;<a class="tu ref field" href="#spec_entry::text_len" title='spec_entry::text_len' data-use='r' data-ref="spec_entry::text_len" data-ref-filename="spec_entry..text_len">text_len</a>,</td></tr>
<tr><th id="1433">1433</th><td>                                                <a class="local col7 ref" href="#157dir_lines" title='dir_lines' data-ref="157dir_lines" data-ref-filename="157dir_lines">dir_lines</a>[<a class="local col2 ref" href="#162i" title='i' data-ref="162i" data-ref-filename="162i">i</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a>,</td></tr>
<tr><th id="1434">1434</th><td>                                                <a class="local col7 ref" href="#157dir_lines" title='dir_lines' data-ref="157dir_lines" data-ref-filename="157dir_lines">dir_lines</a>[<a class="local col2 ref" href="#162i" title='i' data-ref="162i" data-ref-filename="162i">i</a>].<a class="tu ref field" href="#line_data::size" title='line_data::size' data-use='r' data-ref="line_data::size" data-ref-filename="line_data..size">size</a>))</td></tr>
<tr><th id="1435">1435</th><td>                          <a class="local col2 ref" href="#172add_at_line" title='add_at_line' data-ref="172add_at_line" data-ref-filename="172add_at_line">add_at_line</a> = <a class="local col2 ref" href="#162i" title='i' data-ref="162i" data-ref-filename="162i">i</a>;</td></tr>
<tr><th id="1436">1436</th><td>                      }</td></tr>
<tr><th id="1437">1437</th><td>                    <a class="ref fn" href="#insert_entry_here" title='insert_entry_here' data-ref="insert_entry_here" data-ref-filename="insert_entry_here">insert_entry_here</a> (<a class="local col3 ref" href="#173entry" title='entry' data-ref="173entry" data-ref-filename="173entry">entry</a>, <a class="local col2 ref" href="#172add_at_line" title='add_at_line' data-ref="172add_at_line" data-ref-filename="172add_at_line">add_at_line</a>,</td></tr>
<tr><th id="1438">1438</th><td>                                       <a class="local col7 ref" href="#157dir_lines" title='dir_lines' data-ref="157dir_lines" data-ref-filename="157dir_lines">dir_lines</a>, <a class="local col3 ref" href="#153n_entries_to_add" title='n_entries_to_add' data-ref="153n_entries_to_add" data-ref-filename="153n_entries_to_add">n_entries_to_add</a>);</td></tr>
<tr><th id="1439">1439</th><td>                  }</td></tr>
<tr><th id="1440">1440</th><td>              }</td></tr>
<tr><th id="1441">1441</th><td>          }</td></tr>
<tr><th id="1442">1442</th><td></td></tr>
<tr><th id="1443">1443</th><td>      <i>/* Mark the end of the Top node as the place to add any</i></td></tr>
<tr><th id="1444">1444</th><td><i>         new sections that are needed.  */</i></td></tr>
<tr><th id="1445">1445</th><td>      <b>for</b> (<a class="local col9 ref" href="#169node" title='node' data-ref="169node" data-ref-filename="169node">node</a> = <a class="local col8 ref" href="#158dir_nodes" title='dir_nodes' data-ref="158dir_nodes" data-ref-filename="158dir_nodes">dir_nodes</a>; <a class="local col9 ref" href="#169node" title='node' data-ref="169node" data-ref-filename="169node">node</a>; <a class="local col9 ref" href="#169node" title='node' data-ref="169node" data-ref-filename="169node">node</a> = <a class="local col9 ref" href="#169node" title='node' data-ref="169node" data-ref-filename="169node">node</a>-&gt;<a class="tu ref field" href="#node::next" title='node::next' data-use='r' data-ref="node::next" data-ref-filename="node..next">next</a>)</td></tr>
<tr><th id="1446">1446</th><td>        <b>if</b> (<a class="local col9 ref" href="#169node" title='node' data-ref="169node" data-ref-filename="169node">node</a>-&gt;<a class="tu ref field" href="#node::name" title='node::name' data-use='r' data-ref="node::name" data-ref-filename="node..name">name</a> &amp;&amp; <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a> (<a class="local col9 ref" href="#169node" title='node' data-ref="169node" data-ref-filename="169node">node</a>-&gt;<a class="tu ref field" href="#node::name" title='node::name' data-use='r' data-ref="node::name" data-ref-filename="node..name">name</a>, <q>"Top"</q>) == <var>0</var>)</td></tr>
<tr><th id="1447">1447</th><td>          <a class="local col7 ref" href="#157dir_lines" title='dir_lines' data-ref="157dir_lines" data-ref-filename="157dir_lines">dir_lines</a>[<a class="local col9 ref" href="#169node" title='node' data-ref="169node" data-ref-filename="169node">node</a>-&gt;<a class="tu ref field" href="#node::end_line" title='node::end_line' data-use='r' data-ref="node::end_line" data-ref-filename="node..end_line">end_line</a>].<a class="tu ref field" href="#line_data::add_sections_before" title='line_data::add_sections_before' data-use='w' data-ref="line_data::add_sections_before" data-ref-filename="line_data..add_sections_before">add_sections_before</a> = <var>1</var>;</td></tr>
<tr><th id="1448">1448</th><td>    }</td></tr>
<tr><th id="1449">1449</th><td></td></tr>
<tr><th id="1450">1450</th><td>  <b>if</b> (<a class="local col9 ref" href="#159delete_flag" title='delete_flag' data-ref="159delete_flag" data-ref-filename="159delete_flag">delete_flag</a> &amp;&amp; !<a class="local col0 ref" href="#160something_deleted" title='something_deleted' data-ref="160something_deleted" data-ref-filename="160something_deleted">something_deleted</a> &amp;&amp; !<a class="local col1 ref" href="#161quiet_flag" title='quiet_flag' data-ref="161quiet_flag" data-ref-filename="161quiet_flag">quiet_flag</a>)</td></tr>
<tr><th id="1451">1451</th><td>    <a class="ref fn" href="#warning" title='warning' data-ref="warning" data-ref-filename="warning">warning</a> (<a class="macro" href="../lib/system.h.html#59" title="gettext (&quot;no entries found for `%s&apos;; nothing deleted&quot;)" data-ref="_M/_">_</a>(<q>"no entries found for `%s'; nothing deleted"</q>), <a class="local col5 ref" href="#145infile" title='infile' data-ref="145infile" data-ref-filename="145infile">infile</a>, <var>0</var>);</td></tr>
<tr><th id="1452">1452</th><td></td></tr>
<tr><th id="1453">1453</th><td>  <a class="tu ref fn" href="#output_dirfile" title='output_dirfile' data-use='c' data-ref="output_dirfile" data-ref-filename="output_dirfile">output_dirfile</a> (<a class="local col2 ref" href="#142opened_dirfilename" title='opened_dirfilename' data-ref="142opened_dirfilename" data-ref-filename="142opened_dirfilename">opened_dirfilename</a>, <a class="local col6 ref" href="#156dir_nlines" title='dir_nlines' data-ref="156dir_nlines" data-ref-filename="156dir_nlines">dir_nlines</a>, <a class="local col7 ref" href="#157dir_lines" title='dir_lines' data-ref="157dir_lines" data-ref-filename="157dir_lines">dir_lines</a>, <a class="local col3 ref" href="#153n_entries_to_add" title='n_entries_to_add' data-ref="153n_entries_to_add" data-ref-filename="153n_entries_to_add">n_entries_to_add</a>,</td></tr>
<tr><th id="1454">1454</th><td>                  <a class="local col2 ref" href="#152entries_to_add" title='entries_to_add' data-ref="152entries_to_add" data-ref-filename="152entries_to_add">entries_to_add</a>, <a class="local col1 ref" href="#151input_sections" title='input_sections' data-ref="151input_sections" data-ref-filename="151input_sections">input_sections</a>, <a class="local col3 ref" href="#143compression_program" title='compression_program' data-ref="143compression_program" data-ref-filename="143compression_program">compression_program</a>);</td></tr>
<tr><th id="1455">1455</th><td></td></tr>
<tr><th id="1456">1456</th><td>  <a class="ref fn" href="../lib/system.h.html#xexit" title='xexit' data-ref="xexit" data-ref-filename="xexit">xexit</a> (<var>0</var>);</td></tr>
<tr><th id="1457">1457</th><td>  <b>return</b> <var>0</var>; <i>/* Avoid bogus warnings.  */</i></td></tr>
<tr><th id="1458">1458</th><td>}</td></tr>
<tr><th id="1459">1459</th><td></td></tr>
<tr><th id="1460">1460</th><td><i>/* Divide the text at DATA (of SIZE bytes) into lines.</i></td></tr>
<tr><th id="1461">1461</th><td><i>   Return a vector of struct line_data describing the lines.</i></td></tr>
<tr><th id="1462">1462</th><td><i>   Store the length of that vector into *NLINESP.  */</i></td></tr>
<tr><th id="1463">1463</th><td></td></tr>
<tr><th id="1464">1464</th><td><b>struct</b> <a class="type" href="#line_data" title='line_data' data-ref="line_data" data-ref-filename="line_data">line_data</a> *</td></tr>
<tr><th id="1465">1465</th><td><dfn class="decl def fn" id="findlines" title='findlines' data-ref="findlines" data-ref-filename="findlines">findlines</dfn> (<em>char</em> *<dfn class="local col4 decl" id="174data" title='data' data-type='char *' data-ref="174data" data-ref-filename="174data">data</dfn>, <em>int</em> <dfn class="local col5 decl" id="175size" title='size' data-type='int' data-ref="175size" data-ref-filename="175size">size</dfn>, <em>int</em> *<dfn class="local col6 decl" id="176nlinesp" title='nlinesp' data-type='int *' data-ref="176nlinesp" data-ref-filename="176nlinesp">nlinesp</dfn>)</td></tr>
<tr><th id="1466">1466</th><td>{</td></tr>
<tr><th id="1467">1467</th><td>  <em>int</em> <dfn class="local col7 decl" id="177i" title='i' data-type='int' data-ref="177i" data-ref-filename="177i">i</dfn>;</td></tr>
<tr><th id="1468">1468</th><td>  <em>int</em> <dfn class="local col8 decl" id="178lineflag" title='lineflag' data-type='int' data-ref="178lineflag" data-ref-filename="178lineflag">lineflag</dfn> = <var>1</var>;</td></tr>
<tr><th id="1469">1469</th><td>  <em>int</em> <dfn class="local col9 decl" id="179lines_allocated" title='lines_allocated' data-type='int' data-ref="179lines_allocated" data-ref-filename="179lines_allocated">lines_allocated</dfn> = <var>511</var>;</td></tr>
<tr><th id="1470">1470</th><td>  <em>int</em> <dfn class="local col0 decl" id="180filled" title='filled' data-type='int' data-ref="180filled" data-ref-filename="180filled">filled</dfn> = <var>0</var>;</td></tr>
<tr><th id="1471">1471</th><td>  <b>struct</b> <a class="type" href="#line_data" title='line_data' data-ref="line_data" data-ref-filename="line_data">line_data</a> *<dfn class="local col1 decl" id="181lines" title='lines' data-type='struct line_data *' data-ref="181lines" data-ref-filename="181lines">lines</dfn></td></tr>
<tr><th id="1472">1472</th><td>    = <a class="ref fn" href="../lib/system.h.html#xmalloc" title='xmalloc' data-ref="xmalloc" data-ref-filename="xmalloc">xmalloc</a> ((<a class="local col9 ref" href="#179lines_allocated" title='lines_allocated' data-ref="179lines_allocated" data-ref-filename="179lines_allocated">lines_allocated</a> + <var>1</var>) * <b>sizeof</b> (<b>struct</b> <a class="type" href="#line_data" title='line_data' data-ref="line_data" data-ref-filename="line_data">line_data</a>));</td></tr>
<tr><th id="1473">1473</th><td></td></tr>
<tr><th id="1474">1474</th><td>  <b>for</b> (<a class="local col7 ref" href="#177i" title='i' data-ref="177i" data-ref-filename="177i">i</a> = <var>0</var>; <a class="local col7 ref" href="#177i" title='i' data-ref="177i" data-ref-filename="177i">i</a> &lt; <a class="local col5 ref" href="#175size" title='size' data-ref="175size" data-ref-filename="175size">size</a>; <a class="local col7 ref" href="#177i" title='i' data-ref="177i" data-ref-filename="177i">i</a>++)</td></tr>
<tr><th id="1475">1475</th><td>    {</td></tr>
<tr><th id="1476">1476</th><td>      <b>if</b> (<a class="local col8 ref" href="#178lineflag" title='lineflag' data-ref="178lineflag" data-ref-filename="178lineflag">lineflag</a>)</td></tr>
<tr><th id="1477">1477</th><td>        {</td></tr>
<tr><th id="1478">1478</th><td>          <b>if</b> (<a class="local col0 ref" href="#180filled" title='filled' data-ref="180filled" data-ref-filename="180filled">filled</a> == <a class="local col9 ref" href="#179lines_allocated" title='lines_allocated' data-ref="179lines_allocated" data-ref-filename="179lines_allocated">lines_allocated</a>)</td></tr>
<tr><th id="1479">1479</th><td>            {</td></tr>
<tr><th id="1480">1480</th><td>              <i>/* try to keep things somewhat page-aligned */</i></td></tr>
<tr><th id="1481">1481</th><td>              <a class="local col9 ref" href="#179lines_allocated" title='lines_allocated' data-ref="179lines_allocated" data-ref-filename="179lines_allocated">lines_allocated</a> = ((<a class="local col9 ref" href="#179lines_allocated" title='lines_allocated' data-ref="179lines_allocated" data-ref-filename="179lines_allocated">lines_allocated</a> + <var>1</var>) * <var>2</var>) - <var>1</var>;</td></tr>
<tr><th id="1482">1482</th><td>              <a class="local col1 ref" href="#181lines" title='lines' data-ref="181lines" data-ref-filename="181lines">lines</a> = <a class="ref fn" href="../lib/system.h.html#xrealloc" title='xrealloc' data-ref="xrealloc" data-ref-filename="xrealloc">xrealloc</a> (<a class="local col1 ref" href="#181lines" title='lines' data-ref="181lines" data-ref-filename="181lines">lines</a>, (<a class="local col9 ref" href="#179lines_allocated" title='lines_allocated' data-ref="179lines_allocated" data-ref-filename="179lines_allocated">lines_allocated</a> + <var>1</var>)</td></tr>
<tr><th id="1483">1483</th><td>                                       * <b>sizeof</b> (<b>struct</b> <a class="type" href="#line_data" title='line_data' data-ref="line_data" data-ref-filename="line_data">line_data</a>));</td></tr>
<tr><th id="1484">1484</th><td>            }</td></tr>
<tr><th id="1485">1485</th><td>          <a class="local col1 ref" href="#181lines" title='lines' data-ref="181lines" data-ref-filename="181lines">lines</a>[<a class="local col0 ref" href="#180filled" title='filled' data-ref="180filled" data-ref-filename="180filled">filled</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='w' data-ref="line_data::start" data-ref-filename="line_data..start">start</a> = &amp;<a class="local col4 ref" href="#174data" title='data' data-ref="174data" data-ref-filename="174data">data</a>[<a class="local col7 ref" href="#177i" title='i' data-ref="177i" data-ref-filename="177i">i</a>];</td></tr>
<tr><th id="1486">1486</th><td>          <a class="local col1 ref" href="#181lines" title='lines' data-ref="181lines" data-ref-filename="181lines">lines</a>[<a class="local col0 ref" href="#180filled" title='filled' data-ref="180filled" data-ref-filename="180filled">filled</a>].<a class="tu ref field" href="#line_data::add_entries_before" title='line_data::add_entries_before' data-use='w' data-ref="line_data::add_entries_before" data-ref-filename="line_data..add_entries_before">add_entries_before</a> = <var>0</var>;</td></tr>
<tr><th id="1487">1487</th><td>          <a class="local col1 ref" href="#181lines" title='lines' data-ref="181lines" data-ref-filename="181lines">lines</a>[<a class="local col0 ref" href="#180filled" title='filled' data-ref="180filled" data-ref-filename="180filled">filled</a>].<a class="tu ref field" href="#line_data::add_sections_before" title='line_data::add_sections_before' data-use='w' data-ref="line_data::add_sections_before" data-ref-filename="line_data..add_sections_before">add_sections_before</a> = <var>0</var>;</td></tr>
<tr><th id="1488">1488</th><td>          <a class="local col1 ref" href="#181lines" title='lines' data-ref="181lines" data-ref-filename="181lines">lines</a>[<a class="local col0 ref" href="#180filled" title='filled' data-ref="180filled" data-ref-filename="180filled">filled</a>].<a class="tu ref field" href="#line_data::delete" title='line_data::delete' data-use='w' data-ref="line_data::delete" data-ref-filename="line_data..delete">delete</a> = <var>0</var>;</td></tr>
<tr><th id="1489">1489</th><td>          <b>if</b> (<a class="local col0 ref" href="#180filled" title='filled' data-ref="180filled" data-ref-filename="180filled">filled</a> &gt; <var>0</var>)</td></tr>
<tr><th id="1490">1490</th><td>            <a class="local col1 ref" href="#181lines" title='lines' data-ref="181lines" data-ref-filename="181lines">lines</a>[<a class="local col0 ref" href="#180filled" title='filled' data-ref="180filled" data-ref-filename="180filled">filled</a> - <var>1</var>].<a class="tu ref field" href="#line_data::size" title='line_data::size' data-use='w' data-ref="line_data::size" data-ref-filename="line_data..size">size</a></td></tr>
<tr><th id="1491">1491</th><td>              = <a class="local col1 ref" href="#181lines" title='lines' data-ref="181lines" data-ref-filename="181lines">lines</a>[<a class="local col0 ref" href="#180filled" title='filled' data-ref="180filled" data-ref-filename="180filled">filled</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a> - <a class="local col1 ref" href="#181lines" title='lines' data-ref="181lines" data-ref-filename="181lines">lines</a>[<a class="local col0 ref" href="#180filled" title='filled' data-ref="180filled" data-ref-filename="180filled">filled</a> - <var>1</var>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a> - <var>1</var>;</td></tr>
<tr><th id="1492">1492</th><td>          <a class="local col0 ref" href="#180filled" title='filled' data-ref="180filled" data-ref-filename="180filled">filled</a>++;</td></tr>
<tr><th id="1493">1493</th><td>        }</td></tr>
<tr><th id="1494">1494</th><td>      <a class="local col8 ref" href="#178lineflag" title='lineflag' data-ref="178lineflag" data-ref-filename="178lineflag">lineflag</a> = (<a class="local col4 ref" href="#174data" title='data' data-ref="174data" data-ref-filename="174data">data</a>[<a class="local col7 ref" href="#177i" title='i' data-ref="177i" data-ref-filename="177i">i</a>] == <kbd>'\n'</kbd>);</td></tr>
<tr><th id="1495">1495</th><td>    }</td></tr>
<tr><th id="1496">1496</th><td>  <b>if</b> (<a class="local col0 ref" href="#180filled" title='filled' data-ref="180filled" data-ref-filename="180filled">filled</a> &gt; <var>0</var>)</td></tr>
<tr><th id="1497">1497</th><td>    <a class="local col1 ref" href="#181lines" title='lines' data-ref="181lines" data-ref-filename="181lines">lines</a>[<a class="local col0 ref" href="#180filled" title='filled' data-ref="180filled" data-ref-filename="180filled">filled</a> - <var>1</var>].<a class="tu ref field" href="#line_data::size" title='line_data::size' data-use='w' data-ref="line_data::size" data-ref-filename="line_data..size">size</a> = &amp;<a class="local col4 ref" href="#174data" title='data' data-ref="174data" data-ref-filename="174data">data</a>[<a class="local col7 ref" href="#177i" title='i' data-ref="177i" data-ref-filename="177i">i</a>] - <a class="local col1 ref" href="#181lines" title='lines' data-ref="181lines" data-ref-filename="181lines">lines</a>[<a class="local col0 ref" href="#180filled" title='filled' data-ref="180filled" data-ref-filename="180filled">filled</a> - <var>1</var>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='r' data-ref="line_data::start" data-ref-filename="line_data..start">start</a> - <a class="local col8 ref" href="#178lineflag" title='lineflag' data-ref="178lineflag" data-ref-filename="178lineflag">lineflag</a>;</td></tr>
<tr><th id="1498">1498</th><td></td></tr>
<tr><th id="1499">1499</th><td>  <i>/* Do not leave garbage in the last element.  */</i></td></tr>
<tr><th id="1500">1500</th><td>  <a class="local col1 ref" href="#181lines" title='lines' data-ref="181lines" data-ref-filename="181lines">lines</a>[<a class="local col0 ref" href="#180filled" title='filled' data-ref="180filled" data-ref-filename="180filled">filled</a>].<a class="tu ref field" href="#line_data::start" title='line_data::start' data-use='w' data-ref="line_data::start" data-ref-filename="line_data..start">start</a> = <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>;</td></tr>
<tr><th id="1501">1501</th><td>  <a class="local col1 ref" href="#181lines" title='lines' data-ref="181lines" data-ref-filename="181lines">lines</a>[<a class="local col0 ref" href="#180filled" title='filled' data-ref="180filled" data-ref-filename="180filled">filled</a>].<a class="tu ref field" href="#line_data::add_entries_before" title='line_data::add_entries_before' data-use='w' data-ref="line_data::add_entries_before" data-ref-filename="line_data..add_entries_before">add_entries_before</a> = <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>;</td></tr>
<tr><th id="1502">1502</th><td>  <a class="local col1 ref" href="#181lines" title='lines' data-ref="181lines" data-ref-filename="181lines">lines</a>[<a class="local col0 ref" href="#180filled" title='filled' data-ref="180filled" data-ref-filename="180filled">filled</a>].<a class="tu ref field" href="#line_data::add_sections_before" title='line_data::add_sections_before' data-use='w' data-ref="line_data::add_sections_before" data-ref-filename="line_data..add_sections_before">add_sections_before</a> = <var>0</var>;</td></tr>
<tr><th id="1503">1503</th><td>  <a class="local col1 ref" href="#181lines" title='lines' data-ref="181lines" data-ref-filename="181lines">lines</a>[<a class="local col0 ref" href="#180filled" title='filled' data-ref="180filled" data-ref-filename="180filled">filled</a>].<a class="tu ref field" href="#line_data::delete" title='line_data::delete' data-use='w' data-ref="line_data::delete" data-ref-filename="line_data..delete">delete</a> = <var>0</var>;</td></tr>
<tr><th id="1504">1504</th><td>  <a class="local col1 ref" href="#181lines" title='lines' data-ref="181lines" data-ref-filename="181lines">lines</a>[<a class="local col0 ref" href="#180filled" title='filled' data-ref="180filled" data-ref-filename="180filled">filled</a>].<a class="tu ref field" href="#line_data::size" title='line_data::size' data-use='w' data-ref="line_data::size" data-ref-filename="line_data..size">size</a> = <var>0</var>;</td></tr>
<tr><th id="1505">1505</th><td></td></tr>
<tr><th id="1506">1506</th><td>  *<a class="local col6 ref" href="#176nlinesp" title='nlinesp' data-ref="176nlinesp" data-ref-filename="176nlinesp">nlinesp</a> = <a class="local col0 ref" href="#180filled" title='filled' data-ref="180filled" data-ref-filename="180filled">filled</a>;</td></tr>
<tr><th id="1507">1507</th><td>  <b>return</b> <a class="local col1 ref" href="#181lines" title='lines' data-ref="181lines" data-ref-filename="181lines">lines</a>;</td></tr>
<tr><th id="1508">1508</th><td>}</td></tr>
<tr><th id="1509">1509</th><td></td></tr>
<tr><th id="1510">1510</th><td><i>/* This is the comparison function for qsort for a vector of pointers to</i></td></tr>
<tr><th id="1511">1511</th><td><i>   struct spec_section.  (Have to use const void * as the parameter type</i></td></tr>
<tr><th id="1512">1512</th><td><i>   to avoid incompatible-with-qsort warnings.)</i></td></tr>
<tr><th id="1513">1513</th><td><i>   Compare the section names.  */</i></td></tr>
<tr><th id="1514">1514</th><td></td></tr>
<tr><th id="1515">1515</th><td><em>int</em></td></tr>
<tr><th id="1516">1516</th><td><dfn class="decl def fn" id="compare_section_names" title='compare_section_names' data-ref="compare_section_names" data-ref-filename="compare_section_names">compare_section_names</dfn> (<em>const</em> <em>void</em> *<dfn class="local col2 decl" id="182p1" title='p1' data-type='const void *' data-ref="182p1" data-ref-filename="182p1">p1</dfn>, <em>const</em> <em>void</em> *<dfn class="local col3 decl" id="183p2" title='p2' data-type='const void *' data-ref="183p2" data-ref-filename="183p2">p2</dfn>)</td></tr>
<tr><th id="1517">1517</th><td>{</td></tr>
<tr><th id="1518">1518</th><td>  <b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a> **<dfn class="local col4 decl" id="184sec1" title='sec1' data-type='struct spec_section **' data-ref="184sec1" data-ref-filename="184sec1">sec1</dfn> = (<b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a> **) <a class="local col2 ref" href="#182p1" title='p1' data-ref="182p1" data-ref-filename="182p1">p1</a>;</td></tr>
<tr><th id="1519">1519</th><td>  <b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a> **<dfn class="local col5 decl" id="185sec2" title='sec2' data-type='struct spec_section **' data-ref="185sec2" data-ref-filename="185sec2">sec2</dfn> = (<b>struct</b> <a class="type" href="#spec_section" title='spec_section' data-ref="spec_section" data-ref-filename="spec_section">spec_section</a> **) <a class="local col3 ref" href="#183p2" title='p2' data-ref="183p2" data-ref-filename="183p2">p2</a>;</td></tr>
<tr><th id="1520">1520</th><td>  <em>char</em> *<dfn class="local col6 decl" id="186name1" title='name1' data-type='char *' data-ref="186name1" data-ref-filename="186name1">name1</dfn> = (*<a class="local col4 ref" href="#184sec1" title='sec1' data-ref="184sec1" data-ref-filename="184sec1">sec1</a>)-&gt;<a class="tu ref field" href="#spec_section::name" title='spec_section::name' data-use='r' data-ref="spec_section::name" data-ref-filename="spec_section..name">name</a>;</td></tr>
<tr><th id="1521">1521</th><td>  <em>char</em> *<dfn class="local col7 decl" id="187name2" title='name2' data-type='char *' data-ref="187name2" data-ref-filename="187name2">name2</dfn> = (*<a class="local col5 ref" href="#185sec2" title='sec2' data-ref="185sec2" data-ref-filename="185sec2">sec2</a>)-&gt;<a class="tu ref field" href="#spec_section::name" title='spec_section::name' data-use='r' data-ref="spec_section::name" data-ref-filename="spec_section..name">name</a>;</td></tr>
<tr><th id="1522">1522</th><td>  <b>return</b> <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a> (<a class="local col6 ref" href="#186name1" title='name1' data-ref="186name1" data-ref-filename="186name1">name1</a>, <a class="local col7 ref" href="#187name2" title='name2' data-ref="187name2" data-ref-filename="187name2">name2</a>);</td></tr>
<tr><th id="1523">1523</th><td>}</td></tr>
<tr><th id="1524">1524</th><td></td></tr>
<tr><th id="1525">1525</th><td><i>/* This is the comparison function for qsort</i></td></tr>
<tr><th id="1526">1526</th><td><i>   for a vector of pointers to struct spec_entry.</i></td></tr>
<tr><th id="1527">1527</th><td><i>   Compare the entries' text.  */</i></td></tr>
<tr><th id="1528">1528</th><td></td></tr>
<tr><th id="1529">1529</th><td><em>int</em></td></tr>
<tr><th id="1530">1530</th><td><dfn class="decl def fn" id="compare_entries_text" title='compare_entries_text' data-ref="compare_entries_text" data-ref-filename="compare_entries_text">compare_entries_text</dfn> (<em>const</em> <em>void</em> *<dfn class="local col8 decl" id="188p1" title='p1' data-type='const void *' data-ref="188p1" data-ref-filename="188p1">p1</dfn>, <em>const</em> <em>void</em> *<dfn class="local col9 decl" id="189p2" title='p2' data-type='const void *' data-ref="189p2" data-ref-filename="189p2">p2</dfn>)</td></tr>
<tr><th id="1531">1531</th><td>{</td></tr>
<tr><th id="1532">1532</th><td>  <b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a> **<dfn class="local col0 decl" id="190entry1" title='entry1' data-type='struct spec_entry **' data-ref="190entry1" data-ref-filename="190entry1">entry1</dfn> = (<b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a> **) <a class="local col8 ref" href="#188p1" title='p1' data-ref="188p1" data-ref-filename="188p1">p1</a>;</td></tr>
<tr><th id="1533">1533</th><td>  <b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a> **<dfn class="local col1 decl" id="191entry2" title='entry2' data-type='struct spec_entry **' data-ref="191entry2" data-ref-filename="191entry2">entry2</dfn> = (<b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a> **) <a class="local col9 ref" href="#189p2" title='p2' data-ref="189p2" data-ref-filename="189p2">p2</a>;</td></tr>
<tr><th id="1534">1534</th><td>  <em>char</em> *<dfn class="local col2 decl" id="192text1" title='text1' data-type='char *' data-ref="192text1" data-ref-filename="192text1">text1</dfn> = (*<a class="local col0 ref" href="#190entry1" title='entry1' data-ref="190entry1" data-ref-filename="190entry1">entry1</a>)-&gt;<a class="tu ref field" href="#spec_entry::text" title='spec_entry::text' data-use='r' data-ref="spec_entry::text" data-ref-filename="spec_entry..text">text</a>;</td></tr>
<tr><th id="1535">1535</th><td>  <em>char</em> *<dfn class="local col3 decl" id="193text2" title='text2' data-type='char *' data-ref="193text2" data-ref-filename="193text2">text2</dfn> = (*<a class="local col1 ref" href="#191entry2" title='entry2' data-ref="191entry2" data-ref-filename="191entry2">entry2</a>)-&gt;<a class="tu ref field" href="#spec_entry::text" title='spec_entry::text' data-use='r' data-ref="spec_entry::text" data-ref-filename="spec_entry..text">text</a>;</td></tr>
<tr><th id="1536">1536</th><td>  <em>char</em> *<dfn class="local col4 decl" id="194colon1" title='colon1' data-type='char *' data-ref="194colon1" data-ref-filename="194colon1">colon1</dfn> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strchr" title='strchr' data-ref="strchr" data-ref-filename="strchr">strchr</a> (<a class="local col2 ref" href="#192text1" title='text1' data-ref="192text1" data-ref-filename="192text1">text1</a>, <kbd>':'</kbd>);</td></tr>
<tr><th id="1537">1537</th><td>  <em>char</em> *<dfn class="local col5 decl" id="195colon2" title='colon2' data-type='char *' data-ref="195colon2" data-ref-filename="195colon2">colon2</dfn> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strchr" title='strchr' data-ref="strchr" data-ref-filename="strchr">strchr</a> (<a class="local col3 ref" href="#193text2" title='text2' data-ref="193text2" data-ref-filename="193text2">text2</a>, <kbd>':'</kbd>);</td></tr>
<tr><th id="1538">1538</th><td>  <em>int</em> <dfn class="local col6 decl" id="196len1" title='len1' data-type='int' data-ref="196len1" data-ref-filename="196len1">len1</dfn>, <dfn class="local col7 decl" id="197len2" title='len2' data-type='int' data-ref="197len2" data-ref-filename="197len2">len2</dfn>;</td></tr>
<tr><th id="1539">1539</th><td></td></tr>
<tr><th id="1540">1540</th><td>  <b>if</b> (!<a class="local col4 ref" href="#194colon1" title='colon1' data-ref="194colon1" data-ref-filename="194colon1">colon1</a>)</td></tr>
<tr><th id="1541">1541</th><td>    <a class="local col6 ref" href="#196len1" title='len1' data-ref="196len1" data-ref-filename="196len1">len1</a> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a> (<a class="local col2 ref" href="#192text1" title='text1' data-ref="192text1" data-ref-filename="192text1">text1</a>);</td></tr>
<tr><th id="1542">1542</th><td>  <b>else</b></td></tr>
<tr><th id="1543">1543</th><td>    <a class="local col6 ref" href="#196len1" title='len1' data-ref="196len1" data-ref-filename="196len1">len1</a> = <a class="local col4 ref" href="#194colon1" title='colon1' data-ref="194colon1" data-ref-filename="194colon1">colon1</a> - <a class="local col2 ref" href="#192text1" title='text1' data-ref="192text1" data-ref-filename="192text1">text1</a>;</td></tr>
<tr><th id="1544">1544</th><td>  <b>if</b> (!<a class="local col5 ref" href="#195colon2" title='colon2' data-ref="195colon2" data-ref-filename="195colon2">colon2</a>)</td></tr>
<tr><th id="1545">1545</th><td>    <a class="local col7 ref" href="#197len2" title='len2' data-ref="197len2" data-ref-filename="197len2">len2</a> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a> (<a class="local col3 ref" href="#193text2" title='text2' data-ref="193text2" data-ref-filename="193text2">text2</a>);</td></tr>
<tr><th id="1546">1546</th><td>  <b>else</b></td></tr>
<tr><th id="1547">1547</th><td>    <a class="local col7 ref" href="#197len2" title='len2' data-ref="197len2" data-ref-filename="197len2">len2</a> = <a class="local col5 ref" href="#195colon2" title='colon2' data-ref="195colon2" data-ref-filename="195colon2">colon2</a> - <a class="local col3 ref" href="#193text2" title='text2' data-ref="193text2" data-ref-filename="193text2">text2</a>;</td></tr>
<tr><th id="1548">1548</th><td>  <b>return</b> <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strncmp" title='strncmp' data-ref="strncmp" data-ref-filename="strncmp">strncmp</a> (<a class="local col2 ref" href="#192text1" title='text1' data-ref="192text1" data-ref-filename="192text1">text1</a>, <a class="local col3 ref" href="#193text2" title='text2' data-ref="193text2" data-ref-filename="193text2">text2</a>, <a class="local col6 ref" href="#196len1" title='len1' data-ref="196len1" data-ref-filename="196len1">len1</a> &lt;= <a class="local col7 ref" href="#197len2" title='len2' data-ref="197len2" data-ref-filename="197len2">len2</a> ? <a class="local col6 ref" href="#196len1" title='len1' data-ref="196len1" data-ref-filename="196len1">len1</a> : <a class="local col7 ref" href="#197len2" title='len2' data-ref="197len2" data-ref-filename="197len2">len2</a>);</td></tr>
<tr><th id="1549">1549</th><td>}</td></tr>
<tr><th id="1550">1550</th><td></td></tr>
<tr><th id="1551">1551</th><td><i>/* Insert ENTRY into the add_entries_before vector</i></td></tr>
<tr><th id="1552">1552</th><td><i>   for line number LINE_NUMBER of the dir file.</i></td></tr>
<tr><th id="1553">1553</th><td><i>   DIR_LINES and N_ENTRIES carry information from like-named variables</i></td></tr>
<tr><th id="1554">1554</th><td><i>   in main.  */</i></td></tr>
<tr><th id="1555">1555</th><td></td></tr>
<tr><th id="1556">1556</th><td><em>void</em></td></tr>
<tr><th id="1557">1557</th><td><dfn class="decl def fn" id="insert_entry_here" title='insert_entry_here' data-ref="insert_entry_here" data-ref-filename="insert_entry_here">insert_entry_here</dfn> (<b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a> *<dfn class="local col8 decl" id="198entry" title='entry' data-type='struct spec_entry *' data-ref="198entry" data-ref-filename="198entry">entry</dfn>, <em>int</em> <dfn class="local col9 decl" id="199line_number" title='line_number' data-type='int' data-ref="199line_number" data-ref-filename="199line_number">line_number</dfn>,</td></tr>
<tr><th id="1558">1558</th><td>                   <b>struct</b> <a class="type" href="#line_data" title='line_data' data-ref="line_data" data-ref-filename="line_data">line_data</a> *<dfn class="local col0 decl" id="200dir_lines" title='dir_lines' data-type='struct line_data *' data-ref="200dir_lines" data-ref-filename="200dir_lines">dir_lines</dfn>, <em>int</em> <dfn class="local col1 decl" id="201n_entries" title='n_entries' data-type='int' data-ref="201n_entries" data-ref-filename="201n_entries">n_entries</dfn>)</td></tr>
<tr><th id="1559">1559</th><td>{</td></tr>
<tr><th id="1560">1560</th><td>  <em>int</em> <dfn class="local col2 decl" id="202i" title='i' data-type='int' data-ref="202i" data-ref-filename="202i">i</dfn>, <dfn class="local col3 decl" id="203j" title='j' data-type='int' data-ref="203j" data-ref-filename="203j">j</dfn>;</td></tr>
<tr><th id="1561">1561</th><td></td></tr>
<tr><th id="1562">1562</th><td>  <b>if</b> (<a class="local col0 ref" href="#200dir_lines" title='dir_lines' data-ref="200dir_lines" data-ref-filename="200dir_lines">dir_lines</a>[<a class="local col9 ref" href="#199line_number" title='line_number' data-ref="199line_number" data-ref-filename="199line_number">line_number</a>].<a class="tu ref field" href="#line_data::add_entries_before" title='line_data::add_entries_before' data-use='r' data-ref="line_data::add_entries_before" data-ref-filename="line_data..add_entries_before">add_entries_before</a> == <var>0</var>)</td></tr>
<tr><th id="1563">1563</th><td>    {</td></tr>
<tr><th id="1564">1564</th><td>      <a class="local col0 ref" href="#200dir_lines" title='dir_lines' data-ref="200dir_lines" data-ref-filename="200dir_lines">dir_lines</a>[<a class="local col9 ref" href="#199line_number" title='line_number' data-ref="199line_number" data-ref-filename="199line_number">line_number</a>].<a class="tu ref field" href="#line_data::add_entries_before" title='line_data::add_entries_before' data-use='w' data-ref="line_data::add_entries_before" data-ref-filename="line_data..add_entries_before">add_entries_before</a></td></tr>
<tr><th id="1565">1565</th><td>        = (<b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a> **) <a class="ref fn" href="../lib/system.h.html#xmalloc" title='xmalloc' data-ref="xmalloc" data-ref-filename="xmalloc">xmalloc</a> (<a class="local col1 ref" href="#201n_entries" title='n_entries' data-ref="201n_entries" data-ref-filename="201n_entries">n_entries</a> * <b>sizeof</b> (<b>struct</b> <a class="type" href="#spec_entry" title='spec_entry' data-ref="spec_entry" data-ref-filename="spec_entry">spec_entry</a> *));</td></tr>
<tr><th id="1566">1566</th><td>      <b>for</b> (<a class="local col2 ref" href="#202i" title='i' data-ref="202i" data-ref-filename="202i">i</a> = <var>0</var>; <a class="local col2 ref" href="#202i" title='i' data-ref="202i" data-ref-filename="202i">i</a> &lt; <a class="local col1 ref" href="#201n_entries" title='n_entries' data-ref="201n_entries" data-ref-filename="201n_entries">n_entries</a>; <a class="local col2 ref" href="#202i" title='i' data-ref="202i" data-ref-filename="202i">i</a>++)</td></tr>
<tr><th id="1567">1567</th><td>        <a class="local col0 ref" href="#200dir_lines" title='dir_lines' data-ref="200dir_lines" data-ref-filename="200dir_lines">dir_lines</a>[<a class="local col9 ref" href="#199line_number" title='line_number' data-ref="199line_number" data-ref-filename="199line_number">line_number</a>].<a class="tu ref field" href="#line_data::add_entries_before" title='line_data::add_entries_before' data-use='r' data-ref="line_data::add_entries_before" data-ref-filename="line_data..add_entries_before">add_entries_before</a>[<a class="local col2 ref" href="#202i" title='i' data-ref="202i" data-ref-filename="202i">i</a>] = <var>0</var>;</td></tr>
<tr><th id="1568">1568</th><td>    }</td></tr>
<tr><th id="1569">1569</th><td></td></tr>
<tr><th id="1570">1570</th><td>  <i>/* Find the place where this entry belongs.  If there are already</i></td></tr>
<tr><th id="1571">1571</th><td><i>     several entries to add before LINE_NUMBER, make sure they are in</i></td></tr>
<tr><th id="1572">1572</th><td><i>     alphabetical order.  */</i></td></tr>
<tr><th id="1573">1573</th><td>  <b>for</b> (<a class="local col2 ref" href="#202i" title='i' data-ref="202i" data-ref-filename="202i">i</a> = <var>0</var>; <a class="local col2 ref" href="#202i" title='i' data-ref="202i" data-ref-filename="202i">i</a> &lt; <a class="local col1 ref" href="#201n_entries" title='n_entries' data-ref="201n_entries" data-ref-filename="201n_entries">n_entries</a>; <a class="local col2 ref" href="#202i" title='i' data-ref="202i" data-ref-filename="202i">i</a>++)</td></tr>
<tr><th id="1574">1574</th><td>    <b>if</b> (<a class="local col0 ref" href="#200dir_lines" title='dir_lines' data-ref="200dir_lines" data-ref-filename="200dir_lines">dir_lines</a>[<a class="local col9 ref" href="#199line_number" title='line_number' data-ref="199line_number" data-ref-filename="199line_number">line_number</a>].<a class="tu ref field" href="#line_data::add_entries_before" title='line_data::add_entries_before' data-use='r' data-ref="line_data::add_entries_before" data-ref-filename="line_data..add_entries_before">add_entries_before</a>[<a class="local col2 ref" href="#202i" title='i' data-ref="202i" data-ref-filename="202i">i</a>] == <var>0</var></td></tr>
<tr><th id="1575">1575</th><td>        || <a class="tu ref fn" href="#menu_line_lessp" title='menu_line_lessp' data-use='c' data-ref="menu_line_lessp" data-ref-filename="menu_line_lessp">menu_line_lessp</a> (<a class="local col8 ref" href="#198entry" title='entry' data-ref="198entry" data-ref-filename="198entry">entry</a>-&gt;<a class="tu ref field" href="#spec_entry::text" title='spec_entry::text' data-use='r' data-ref="spec_entry::text" data-ref-filename="spec_entry..text">text</a>, <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a> (<a class="local col8 ref" href="#198entry" title='entry' data-ref="198entry" data-ref-filename="198entry">entry</a>-&gt;<a class="tu ref field" href="#spec_entry::text" title='spec_entry::text' data-use='r' data-ref="spec_entry::text" data-ref-filename="spec_entry..text">text</a>),</td></tr>
<tr><th id="1576">1576</th><td>                            <a class="local col0 ref" href="#200dir_lines" title='dir_lines' data-ref="200dir_lines" data-ref-filename="200dir_lines">dir_lines</a>[<a class="local col9 ref" href="#199line_number" title='line_number' data-ref="199line_number" data-ref-filename="199line_number">line_number</a>].<a class="tu ref field" href="#line_data::add_entries_before" title='line_data::add_entries_before' data-use='r' data-ref="line_data::add_entries_before" data-ref-filename="line_data..add_entries_before">add_entries_before</a>[<a class="local col2 ref" href="#202i" title='i' data-ref="202i" data-ref-filename="202i">i</a>]-&gt;<a class="tu ref field" href="#spec_entry::text" title='spec_entry::text' data-use='r' data-ref="spec_entry::text" data-ref-filename="spec_entry..text">text</a>,</td></tr>
<tr><th id="1577">1577</th><td>                            <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a> (<a class="local col0 ref" href="#200dir_lines" title='dir_lines' data-ref="200dir_lines" data-ref-filename="200dir_lines">dir_lines</a>[<a class="local col9 ref" href="#199line_number" title='line_number' data-ref="199line_number" data-ref-filename="199line_number">line_number</a>].<a class="tu ref field" href="#line_data::add_entries_before" title='line_data::add_entries_before' data-use='r' data-ref="line_data::add_entries_before" data-ref-filename="line_data..add_entries_before">add_entries_before</a>[<a class="local col2 ref" href="#202i" title='i' data-ref="202i" data-ref-filename="202i">i</a>]-&gt;<a class="tu ref field" href="#spec_entry::text" title='spec_entry::text' data-use='r' data-ref="spec_entry::text" data-ref-filename="spec_entry..text">text</a>)))</td></tr>
<tr><th id="1578">1578</th><td>      <b>break</b>;</td></tr>
<tr><th id="1579">1579</th><td></td></tr>
<tr><th id="1580">1580</th><td>  <b>if</b> (<a class="local col2 ref" href="#202i" title='i' data-ref="202i" data-ref-filename="202i">i</a> == <a class="local col1 ref" href="#201n_entries" title='n_entries' data-ref="201n_entries" data-ref-filename="201n_entries">n_entries</a>)</td></tr>
<tr><th id="1581">1581</th><td>    <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdlib.h.html#abort" title='abort' data-ref="abort" data-ref-filename="abort">abort</a> ();</td></tr>
<tr><th id="1582">1582</th><td></td></tr>
<tr><th id="1583">1583</th><td>  <i>/* If we need to plug ENTRY into the middle of the</i></td></tr>
<tr><th id="1584">1584</th><td><i>     ADD_ENTRIES_BEFORE array, move the entries which should be output</i></td></tr>
<tr><th id="1585">1585</th><td><i>     after this one down one notch, before adding a new one.  */</i></td></tr>
<tr><th id="1586">1586</th><td>  <b>if</b> (<a class="local col0 ref" href="#200dir_lines" title='dir_lines' data-ref="200dir_lines" data-ref-filename="200dir_lines">dir_lines</a>[<a class="local col9 ref" href="#199line_number" title='line_number' data-ref="199line_number" data-ref-filename="199line_number">line_number</a>].<a class="tu ref field" href="#line_data::add_entries_before" title='line_data::add_entries_before' data-use='r' data-ref="line_data::add_entries_before" data-ref-filename="line_data..add_entries_before">add_entries_before</a>[<a class="local col2 ref" href="#202i" title='i' data-ref="202i" data-ref-filename="202i">i</a>] != <var>0</var>)</td></tr>
<tr><th id="1587">1587</th><td>    <b>for</b> (<a class="local col3 ref" href="#203j" title='j' data-ref="203j" data-ref-filename="203j">j</a> = <a class="local col1 ref" href="#201n_entries" title='n_entries' data-ref="201n_entries" data-ref-filename="201n_entries">n_entries</a> - <var>1</var>; <a class="local col3 ref" href="#203j" title='j' data-ref="203j" data-ref-filename="203j">j</a> &gt; <a class="local col2 ref" href="#202i" title='i' data-ref="202i" data-ref-filename="202i">i</a>; <a class="local col3 ref" href="#203j" title='j' data-ref="203j" data-ref-filename="203j">j</a>--)</td></tr>
<tr><th id="1588">1588</th><td>      <a class="local col0 ref" href="#200dir_lines" title='dir_lines' data-ref="200dir_lines" data-ref-filename="200dir_lines">dir_lines</a>[<a class="local col9 ref" href="#199line_number" title='line_number' data-ref="199line_number" data-ref-filename="199line_number">line_number</a>].<a class="tu ref field" href="#line_data::add_entries_before" title='line_data::add_entries_before' data-use='r' data-ref="line_data::add_entries_before" data-ref-filename="line_data..add_entries_before">add_entries_before</a>[<a class="local col3 ref" href="#203j" title='j' data-ref="203j" data-ref-filename="203j">j</a>]</td></tr>
<tr><th id="1589">1589</th><td>        = <a class="local col0 ref" href="#200dir_lines" title='dir_lines' data-ref="200dir_lines" data-ref-filename="200dir_lines">dir_lines</a>[<a class="local col9 ref" href="#199line_number" title='line_number' data-ref="199line_number" data-ref-filename="199line_number">line_number</a>].<a class="tu ref field" href="#line_data::add_entries_before" title='line_data::add_entries_before' data-use='r' data-ref="line_data::add_entries_before" data-ref-filename="line_data..add_entries_before">add_entries_before</a>[<a class="local col3 ref" href="#203j" title='j' data-ref="203j" data-ref-filename="203j">j</a> - <var>1</var>];</td></tr>
<tr><th id="1590">1590</th><td></td></tr>
<tr><th id="1591">1591</th><td>  <a class="local col0 ref" href="#200dir_lines" title='dir_lines' data-ref="200dir_lines" data-ref-filename="200dir_lines">dir_lines</a>[<a class="local col9 ref" href="#199line_number" title='line_number' data-ref="199line_number" data-ref-filename="199line_number">line_number</a>].<a class="tu ref field" href="#line_data::add_entries_before" title='line_data::add_entries_before' data-use='r' data-ref="line_data::add_entries_before" data-ref-filename="line_data..add_entries_before">add_entries_before</a>[<a class="local col2 ref" href="#202i" title='i' data-ref="202i" data-ref-filename="202i">i</a>] = <a class="local col8 ref" href="#198entry" title='entry' data-ref="198entry" data-ref-filename="198entry">entry</a>;</td></tr>
<tr><th id="1592">1592</th><td>}</td></tr>
<tr><th id="1593">1593</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2019-Jul-19</em> from project netbsd revision <em>f9da89e0d</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
