<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>server.h source code [netbsd/external/gpl2/xcvs/dist/src/server.h] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="request,server_updated_arg4 "/>
<link rel="stylesheet" href="https://code.woboq.org/data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="https://code.woboq.org/data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery-ui.min.js"></script>
<script>var file = 'netbsd/external/gpl2/xcvs/dist/src/server.h'; var root_path = '../../../../../..'; var data_path = 'https://code.woboq.org/data'; var ecma_script_api_version = 2;</script>
<script src='https://code.woboq.org/data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../../..'>netbsd</a>/<a href='../../../..'>external</a>/<a href='../../..'>gpl2</a>/<a href='../..'>xcvs</a>/<a href='..'>dist</a>/<a href='./'>src</a>/<a href='server.h.html'>server.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i> * Copyright (C) 1986-2005 The Free Software Foundation, Inc.</i></td></tr>
<tr><th id="3">3</th><td><i> *</i></td></tr>
<tr><th id="4">4</th><td><i> * Portions Copyright (C) 1998-2005 Derek Price, Ximbiot &lt;<a href="http://ximbiot.com">http://ximbiot.com</a>&gt;,</i></td></tr>
<tr><th id="5">5</th><td><i> *                                  and others.</i></td></tr>
<tr><th id="6">6</th><td><i> *</i></td></tr>
<tr><th id="7">7</th><td><i> * You may distribute under the terms of the GNU General Public License as</i></td></tr>
<tr><th id="8">8</th><td><i> * specified in the README file that comes with the CVS kit.</i></td></tr>
<tr><th id="9">9</th><td><i> *</i></td></tr>
<tr><th id="10">10</th><td><i> *</i></td></tr>
<tr><th id="11">11</th><td><i> *</i></td></tr>
<tr><th id="12">12</th><td><i> * This file contains the interface between the server and the rest of CVS.</i></td></tr>
<tr><th id="13">13</th><td><i> */</i></td></tr>
<tr><th id="14">14</th><td></td></tr>
<tr><th id="15">15</th><td><i>/* Miscellaneous stuff which isn't actually particularly server-specific.  */</i></td></tr>
<tr><th id="16">16</th><td><u>#<span data-ppcond="16">ifndef</span> <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html#80" data-ref="_M/STDIN_FILENO">STDIN_FILENO</a></u></td></tr>
<tr><th id="17">17</th><td><u>#define STDIN_FILENO 0</u></td></tr>
<tr><th id="18">18</th><td><u>#define STDOUT_FILENO 1</u></td></tr>
<tr><th id="19">19</th><td><u>#define STDERR_FILENO 2</u></td></tr>
<tr><th id="20">20</th><td><u>#<span data-ppcond="16">endif</span></u></td></tr>
<tr><th id="21">21</th><td></td></tr>
<tr><th id="22">22</th><td></td></tr>
<tr><th id="23">23</th><td><i>/*</i></td></tr>
<tr><th id="24">24</th><td><i> * Nonzero if we are using the server.  Used by various places to call</i></td></tr>
<tr><th id="25">25</th><td><i> * server-specific functions.</i></td></tr>
<tr><th id="26">26</th><td><i> */</i></td></tr>
<tr><th id="27">27</th><td><b>extern</b> <em>int</em> <dfn class="decl" id="server_active" title='server_active' data-ref="server_active" data-ref-filename="server_active">server_active</dfn>;</td></tr>
<tr><th id="28">28</th><td></td></tr>
<tr><th id="29">29</th><td><i>/*</i></td></tr>
<tr><th id="30">30</th><td><i> * Expand to `S', ` ', or the empty string.  Used in `%s-&gt; ...' trace printfs.</i></td></tr>
<tr><th id="31">31</th><td><i> */</i></td></tr>
<tr><th id="32">32</th><td><u>#<span data-ppcond="32">ifdef</span> <a class="macro" href="../../include/config.h.html#938" data-ref="_M/SERVER_SUPPORT">SERVER_SUPPORT</a></u></td></tr>
<tr><th id="33">33</th><td><u># define <dfn class="macro" id="_M/CLIENT_SERVER_STR" data-ref="_M/CLIENT_SERVER_STR">CLIENT_SERVER_STR</dfn> ((server_active) ? "S" : " ")</u></td></tr>
<tr><th id="34">34</th><td><u>#<span data-ppcond="32">else</span></u></td></tr>
<tr><th id="35">35</th><td><u># define CLIENT_SERVER_STR ""</u></td></tr>
<tr><th id="36">36</th><td><u>#<span data-ppcond="32">endif</span></u></td></tr>
<tr><th id="37">37</th><td></td></tr>
<tr><th id="38">38</th><td><u>#<span data-ppcond="38">ifdef</span> <a class="macro" href="../../include/config.h.html#938" data-ref="_M/SERVER_SUPPORT">SERVER_SUPPORT</a></u></td></tr>
<tr><th id="39">39</th><td></td></tr>
<tr><th id="40">40</th><td><i>/* Server functions exported to the rest of CVS.  */</i></td></tr>
<tr><th id="41">41</th><td></td></tr>
<tr><th id="42">42</th><td><i>/* pre-parse the server options.  */</i></td></tr>
<tr><th id="43">43</th><td><em>void</em> <dfn class="decl fn" id="parseServerOptions" title='parseServerOptions' data-ref="parseServerOptions" data-ref-filename="parseServerOptions">parseServerOptions</dfn> (<em>int</em> <dfn class="local col4 decl" id="644argc" title='argc' data-type='int' data-ref="644argc" data-ref-filename="644argc">argc</dfn>, <em>char</em> **<dfn class="local col5 decl" id="645argv" title='argv' data-type='char **' data-ref="645argv" data-ref-filename="645argv">argv</dfn>);</td></tr>
<tr><th id="44">44</th><td></td></tr>
<tr><th id="45">45</th><td><i>/* Run the server.  */</i></td></tr>
<tr><th id="46">46</th><td><em>int</em> <dfn class="decl fn" id="server" title='server' data-ref="server" data-ref-filename="server">server</dfn> (<em>int</em> <dfn class="local col6 decl" id="646argc" title='argc' data-type='int' data-ref="646argc" data-ref-filename="646argc">argc</dfn>, <em>char</em> **<dfn class="local col7 decl" id="647argv" title='argv' data-type='char **' data-ref="647argv" data-ref-filename="647argv">argv</dfn>);</td></tr>
<tr><th id="47">47</th><td></td></tr>
<tr><th id="48">48</th><td><i>/* kserver user authentication.  */</i></td></tr>
<tr><th id="49">49</th><td><u># <span data-ppcond="49">ifdef</span> <span class="macro" data-ref="_M/HAVE_KERBEROS">HAVE_KERBEROS</span></u></td></tr>
<tr><th id="50">50</th><td><em>void</em> kserver_authenticate_connection (<em>void</em>);</td></tr>
<tr><th id="51">51</th><td><u># <span data-ppcond="49">endif</span></u></td></tr>
<tr><th id="52">52</th><td></td></tr>
<tr><th id="53">53</th><td><i>/* pserver user authentication.  */</i></td></tr>
<tr><th id="54">54</th><td><u># <span data-ppcond="54">if</span> defined (<a class="macro" href="../../include/config.h.html#14" data-ref="_M/AUTH_SERVER_SUPPORT">AUTH_SERVER_SUPPORT</a>) || defined (<span class="macro" data-ref="_M/HAVE_GSSAPI">HAVE_GSSAPI</span>)</u></td></tr>
<tr><th id="55">55</th><td><em>void</em> <dfn class="decl fn" id="pserver_authenticate_connection" title='pserver_authenticate_connection' data-ref="pserver_authenticate_connection" data-ref-filename="pserver_authenticate_connection">pserver_authenticate_connection</dfn> (<em>void</em>);</td></tr>
<tr><th id="56">56</th><td><u># <span data-ppcond="54">endif</span></u></td></tr>
<tr><th id="57">57</th><td></td></tr>
<tr><th id="58">58</th><td><i>/* See server.c for description.  */</i></td></tr>
<tr><th id="59">59</th><td><em>void</em> <dfn class="decl fn" id="server_pathname_check" title='server_pathname_check' data-ref="server_pathname_check" data-ref-filename="server_pathname_check">server_pathname_check</dfn> (<em>char</em> *);</td></tr>
<tr><th id="60">60</th><td></td></tr>
<tr><th id="61">61</th><td><i>/* We have a new Entries line for a file.  TAG or DATE can be NULL.  */</i></td></tr>
<tr><th id="62">62</th><td><em>void</em> <dfn class="decl fn" id="server_register" title='server_register' data-ref="server_register" data-ref-filename="server_register">server_register</dfn> (<em>const</em> <em>char</em> *<dfn class="local col8 decl" id="648name" title='name' data-type='const char *' data-ref="648name" data-ref-filename="648name">name</dfn>, <em>const</em> <em>char</em> *<dfn class="local col9 decl" id="649version" title='version' data-type='const char *' data-ref="649version" data-ref-filename="649version">version</dfn>,</td></tr>
<tr><th id="63">63</th><td>                      <em>const</em> <em>char</em> *<dfn class="local col0 decl" id="650timestamp" title='timestamp' data-type='const char *' data-ref="650timestamp" data-ref-filename="650timestamp">timestamp</dfn>, <em>const</em> <em>char</em> *<dfn class="local col1 decl" id="651options" title='options' data-type='const char *' data-ref="651options" data-ref-filename="651options">options</dfn>,</td></tr>
<tr><th id="64">64</th><td>                      <em>const</em> <em>char</em> *<dfn class="local col2 decl" id="652tag" title='tag' data-type='const char *' data-ref="652tag" data-ref-filename="652tag">tag</dfn>, <em>const</em> <em>char</em> *<dfn class="local col3 decl" id="653date" title='date' data-type='const char *' data-ref="653date" data-ref-filename="653date">date</dfn>, <em>const</em> <em>char</em> *<dfn class="local col4 decl" id="654conflict" title='conflict' data-type='const char *' data-ref="654conflict" data-ref-filename="654conflict">conflict</dfn>);</td></tr>
<tr><th id="65">65</th><td></td></tr>
<tr><th id="66">66</th><td><i>/* Set the modification time of the next file sent.  This must be</i></td></tr>
<tr><th id="67">67</th><td><i>   followed by a call to server_updated on the same file.  */</i></td></tr>
<tr><th id="68">68</th><td><em>void</em> <dfn class="decl fn" id="server_modtime" title='server_modtime' data-ref="server_modtime" data-ref-filename="server_modtime">server_modtime</dfn> (<b>struct</b> <a class="type" href="cvs.h.html#file_info" title='file_info' data-ref="file_info" data-ref-filename="file_info">file_info</a> *<dfn class="local col5 decl" id="655finfo" title='finfo' data-type='struct file_info *' data-ref="655finfo" data-ref-filename="655finfo">finfo</dfn>, <a class="typedef" href="cvs.h.html#Vers_TS" title='Vers_TS' data-type='struct vers_ts' data-ref="Vers_TS" data-ref-filename="Vers_TS">Vers_TS</a> *<dfn class="local col6 decl" id="656vers_ts" title='vers_ts' data-type='Vers_TS *' data-ref="656vers_ts" data-ref-filename="656vers_ts">vers_ts</dfn>);</td></tr>
<tr><th id="69">69</th><td></td></tr>
<tr><th id="70">70</th><td><i>/*</i></td></tr>
<tr><th id="71">71</th><td><i> * We want to nuke the Entries line for a file, and (unless</i></td></tr>
<tr><th id="72">72</th><td><i> * server_scratch_entry_only is subsequently called) the file itself.</i></td></tr>
<tr><th id="73">73</th><td><i> */</i></td></tr>
<tr><th id="74">74</th><td><em>void</em> <dfn class="decl fn" id="server_scratch" title='server_scratch' data-ref="server_scratch" data-ref-filename="server_scratch">server_scratch</dfn> (<em>const</em> <em>char</em> *<dfn class="local col7 decl" id="657name" title='name' data-type='const char *' data-ref="657name" data-ref-filename="657name">name</dfn>);</td></tr>
<tr><th id="75">75</th><td></td></tr>
<tr><th id="76">76</th><td><i>/*</i></td></tr>
<tr><th id="77">77</th><td><i> * The file which just had server_scratch called on it needs to have only</i></td></tr>
<tr><th id="78">78</th><td><i> * the Entries line removed, not the file itself.</i></td></tr>
<tr><th id="79">79</th><td><i> */</i></td></tr>
<tr><th id="80">80</th><td><em>void</em> <dfn class="decl fn" id="server_scratch_entry_only" title='server_scratch_entry_only' data-ref="server_scratch_entry_only" data-ref-filename="server_scratch_entry_only">server_scratch_entry_only</dfn> (<em>void</em>);</td></tr>
<tr><th id="81">81</th><td></td></tr>
<tr><th id="82">82</th><td><i>/*</i></td></tr>
<tr><th id="83">83</th><td><i> * We just successfully checked in FILE (which is just the bare</i></td></tr>
<tr><th id="84">84</th><td><i> * filename, with no directory).  REPOSITORY is the directory for the</i></td></tr>
<tr><th id="85">85</th><td><i> * repository.</i></td></tr>
<tr><th id="86">86</th><td><i> */</i></td></tr>
<tr><th id="87">87</th><td><em>void</em> <dfn class="decl fn" id="server_checked_in" title='server_checked_in' data-ref="server_checked_in" data-ref-filename="server_checked_in">server_checked_in</dfn> (<em>const</em> <em>char</em> *<dfn class="local col8 decl" id="658file" title='file' data-type='const char *' data-ref="658file" data-ref-filename="658file">file</dfn>, <em>const</em> <em>char</em> *<dfn class="local col9 decl" id="659update_dir" title='update_dir' data-type='const char *' data-ref="659update_dir" data-ref-filename="659update_dir">update_dir</dfn>,</td></tr>
<tr><th id="88">88</th><td>                        <em>const</em> <em>char</em> *<dfn class="local col0 decl" id="660repository" title='repository' data-type='const char *' data-ref="660repository" data-ref-filename="660repository">repository</dfn>);</td></tr>
<tr><th id="89">89</th><td></td></tr>
<tr><th id="90">90</th><td><em>void</em> <dfn class="decl fn" id="server_copy_file" title='server_copy_file' data-ref="server_copy_file" data-ref-filename="server_copy_file">server_copy_file</dfn> (<em>const</em> <em>char</em> *<dfn class="local col1 decl" id="661file" title='file' data-type='const char *' data-ref="661file" data-ref-filename="661file">file</dfn>, <em>const</em> <em>char</em> *<dfn class="local col2 decl" id="662update_dir" title='update_dir' data-type='const char *' data-ref="662update_dir" data-ref-filename="662update_dir">update_dir</dfn>,</td></tr>
<tr><th id="91">91</th><td>                       <em>const</em> <em>char</em> *<dfn class="local col3 decl" id="663repository" title='repository' data-type='const char *' data-ref="663repository" data-ref-filename="663repository">repository</dfn>, <em>const</em> <em>char</em> *<dfn class="local col4 decl" id="664newfile" title='newfile' data-type='const char *' data-ref="664newfile" data-ref-filename="664newfile">newfile</dfn>);</td></tr>
<tr><th id="92">92</th><td></td></tr>
<tr><th id="93">93</th><td><i>/* Send the appropriate responses for a file described by FINFO and</i></td></tr>
<tr><th id="94">94</th><td><i>   VERS.  This is called after server_register or server_scratch.  In</i></td></tr>
<tr><th id="95">95</th><td><i>   the latter case the file is to be removed (and VERS can be NULL).</i></td></tr>
<tr><th id="96">96</th><td><i>   In the former case, VERS must be non-NULL, and UPDATED indicates</i></td></tr>
<tr><th id="97">97</th><td><i>   whether the file is now up to date (SERVER_UPDATED, yes,</i></td></tr>
<tr><th id="98">98</th><td><i>   SERVER_MERGED, no, SERVER_PATCHED, yes, but file is a diff from</i></td></tr>
<tr><th id="99">99</th><td><i>   user version to repository version, SERVER_RCS_DIFF, yes, like</i></td></tr>
<tr><th id="100">100</th><td><i>   SERVER_PATCHED but with an RCS style diff).  MODE is the mode the</i></td></tr>
<tr><th id="101">101</th><td><i>   file should get, or (mode_t) -1 if this should be obtained from the</i></td></tr>
<tr><th id="102">102</th><td><i>   file itself.  CHECKSUM is the MD5 checksum of the file, or NULL if</i></td></tr>
<tr><th id="103">103</th><td><i>   this need not be sent.  If FILEBUF is not NULL, it holds the</i></td></tr>
<tr><th id="104">104</th><td><i>   contents of the file, in which case the file itself may not exist.</i></td></tr>
<tr><th id="105">105</th><td><i>   If FILEBUF is not NULL, server_updated will free it.  */</i></td></tr>
<tr><th id="106">106</th><td><b>enum</b> <dfn class="type def" id="server_updated_arg4" title='server_updated_arg4' data-ref="server_updated_arg4" data-ref-filename="server_updated_arg4">server_updated_arg4</dfn></td></tr>
<tr><th id="107">107</th><td>{</td></tr>
<tr><th id="108">108</th><td>    <dfn class="enum" id="SERVER_UPDATED" title='SERVER_UPDATED' data-ref="SERVER_UPDATED" data-ref-filename="SERVER_UPDATED">SERVER_UPDATED</dfn>,</td></tr>
<tr><th id="109">109</th><td>    <dfn class="enum" id="SERVER_MERGED" title='SERVER_MERGED' data-ref="SERVER_MERGED" data-ref-filename="SERVER_MERGED">SERVER_MERGED</dfn>,</td></tr>
<tr><th id="110">110</th><td>    <dfn class="enum" id="SERVER_PATCHED" title='SERVER_PATCHED' data-ref="SERVER_PATCHED" data-ref-filename="SERVER_PATCHED">SERVER_PATCHED</dfn>,</td></tr>
<tr><th id="111">111</th><td>    <dfn class="enum" id="SERVER_RCS_DIFF" title='SERVER_RCS_DIFF' data-ref="SERVER_RCS_DIFF" data-ref-filename="SERVER_RCS_DIFF">SERVER_RCS_DIFF</dfn></td></tr>
<tr><th id="112">112</th><td>};</td></tr>
<tr><th id="113">113</th><td></td></tr>
<tr><th id="114">114</th><td><b>struct</b> <a class="type" href="client.h.html#buffer" title='buffer' data-ref="buffer" data-ref-filename="buffer" id="buffer">buffer</a>;</td></tr>
<tr><th id="115">115</th><td></td></tr>
<tr><th id="116">116</th><td><em>void</em> <dfn class="decl fn" id="server_updated" title='server_updated' data-ref="server_updated" data-ref-filename="server_updated">server_updated</dfn> (<b>struct</b> <a class="type" href="cvs.h.html#file_info" title='file_info' data-ref="file_info" data-ref-filename="file_info">file_info</a> *<dfn class="local col5 decl" id="665finfo" title='finfo' data-type='struct file_info *' data-ref="665finfo" data-ref-filename="665finfo">finfo</dfn>, <a class="typedef" href="cvs.h.html#Vers_TS" title='Vers_TS' data-type='struct vers_ts' data-ref="Vers_TS" data-ref-filename="Vers_TS">Vers_TS</a> *<dfn class="local col6 decl" id="666vers" title='vers' data-type='Vers_TS *' data-ref="666vers" data-ref-filename="666vers">vers</dfn>,</td></tr>
<tr><th id="117">117</th><td>                     <b>enum</b> <a class="type" href="#server_updated_arg4" title='server_updated_arg4' data-ref="server_updated_arg4" data-ref-filename="server_updated_arg4">server_updated_arg4</a> <dfn class="local col7 decl" id="667updated" title='updated' data-type='enum server_updated_arg4' data-ref="667updated" data-ref-filename="667updated">updated</dfn>, <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#171" title="__mode_t" data-ref="_M/mode_t">mode_t</a> <dfn class="local col8 decl" id="668mode" title='mode' data-type='__mode_t' data-ref="668mode" data-ref-filename="668mode">mode</dfn>,</td></tr>
<tr><th id="118">118</th><td>                     <em>unsigned</em> <em>char</em> *<dfn class="local col9 decl" id="669checksum" title='checksum' data-type='unsigned char *' data-ref="669checksum" data-ref-filename="669checksum">checksum</dfn>, <b>struct</b> <a class="type" href="client.h.html#buffer" title='buffer' data-ref="buffer" data-ref-filename="buffer">buffer</a> *<dfn class="local col0 decl" id="670filebuf" title='filebuf' data-type='struct buffer *' data-ref="670filebuf" data-ref-filename="670filebuf">filebuf</dfn>);</td></tr>
<tr><th id="119">119</th><td></td></tr>
<tr><th id="120">120</th><td><i>/* Whether we should send RCS format patches.  */</i></td></tr>
<tr><th id="121">121</th><td><em>int</em> <dfn class="decl fn" id="server_use_rcs_diff" title='server_use_rcs_diff' data-ref="server_use_rcs_diff" data-ref-filename="server_use_rcs_diff">server_use_rcs_diff</dfn> (<em>void</em>);</td></tr>
<tr><th id="122">122</th><td></td></tr>
<tr><th id="123">123</th><td><i>/* Set the Entries.Static flag.  */</i></td></tr>
<tr><th id="124">124</th><td><em>void</em> <dfn class="decl fn" id="server_set_entstat" title='server_set_entstat' data-ref="server_set_entstat" data-ref-filename="server_set_entstat">server_set_entstat</dfn> (<em>const</em> <em>char</em> *<dfn class="local col1 decl" id="671update_dir" title='update_dir' data-type='const char *' data-ref="671update_dir" data-ref-filename="671update_dir">update_dir</dfn>, <em>const</em> <em>char</em> *<dfn class="local col2 decl" id="672repository" title='repository' data-type='const char *' data-ref="672repository" data-ref-filename="672repository">repository</dfn>);</td></tr>
<tr><th id="125">125</th><td><i>/* Clear it.  */</i></td></tr>
<tr><th id="126">126</th><td><em>void</em> <dfn class="decl fn" id="server_clear_entstat" title='server_clear_entstat' data-ref="server_clear_entstat" data-ref-filename="server_clear_entstat">server_clear_entstat</dfn> (<em>const</em> <em>char</em> *<dfn class="local col3 decl" id="673update_dir" title='update_dir' data-type='const char *' data-ref="673update_dir" data-ref-filename="673update_dir">update_dir</dfn>, <em>const</em> <em>char</em> *<dfn class="local col4 decl" id="674repository" title='repository' data-type='const char *' data-ref="674repository" data-ref-filename="674repository">repository</dfn>);</td></tr>
<tr><th id="127">127</th><td></td></tr>
<tr><th id="128">128</th><td><i>/* Set or clear a per-directory sticky tag or date.  */</i></td></tr>
<tr><th id="129">129</th><td><em>void</em> <dfn class="decl fn" id="server_set_sticky" title='server_set_sticky' data-ref="server_set_sticky" data-ref-filename="server_set_sticky">server_set_sticky</dfn> (<em>const</em> <em>char</em> *<dfn class="local col5 decl" id="675update_dir" title='update_dir' data-type='const char *' data-ref="675update_dir" data-ref-filename="675update_dir">update_dir</dfn>, <em>const</em> <em>char</em> *<dfn class="local col6 decl" id="676repository" title='repository' data-type='const char *' data-ref="676repository" data-ref-filename="676repository">repository</dfn>,</td></tr>
<tr><th id="130">130</th><td>                        <em>const</em> <em>char</em> *<dfn class="local col7 decl" id="677tag" title='tag' data-type='const char *' data-ref="677tag" data-ref-filename="677tag">tag</dfn>, <em>const</em> <em>char</em> *<dfn class="local col8 decl" id="678date" title='date' data-type='const char *' data-ref="678date" data-ref-filename="678date">date</dfn>, <em>int</em> <dfn class="local col9 decl" id="679nonbranch" title='nonbranch' data-type='int' data-ref="679nonbranch" data-ref-filename="679nonbranch">nonbranch</dfn>);</td></tr>
<tr><th id="131">131</th><td></td></tr>
<tr><th id="132">132</th><td><i>/* Send Clear-template response.  */</i></td></tr>
<tr><th id="133">133</th><td><em>void</em> <dfn class="decl fn" id="server_clear_template" title='server_clear_template' data-ref="server_clear_template" data-ref-filename="server_clear_template">server_clear_template</dfn> (<em>const</em> <em>char</em> *<dfn class="local col0 decl" id="680update_dir" title='update_dir' data-type='const char *' data-ref="680update_dir" data-ref-filename="680update_dir">update_dir</dfn>, <em>const</em> <em>char</em> *<dfn class="local col1 decl" id="681repository" title='repository' data-type='const char *' data-ref="681repository" data-ref-filename="681repository">repository</dfn>);</td></tr>
<tr><th id="134">134</th><td></td></tr>
<tr><th id="135">135</th><td><i>/* Send Template response.  */</i></td></tr>
<tr><th id="136">136</th><td><em>void</em> <dfn class="decl fn" id="server_template" title='server_template' data-ref="server_template" data-ref-filename="server_template">server_template</dfn> (<em>const</em> <em>char</em> *<dfn class="local col2 decl" id="682update_dir" title='update_dir' data-type='const char *' data-ref="682update_dir" data-ref-filename="682update_dir">update_dir</dfn>, <em>const</em> <em>char</em> *<dfn class="local col3 decl" id="683repository" title='repository' data-type='const char *' data-ref="683repository" data-ref-filename="683repository">repository</dfn>);</td></tr>
<tr><th id="137">137</th><td></td></tr>
<tr><th id="138">138</th><td><em>void</em> <dfn class="decl fn" id="server_update_entries" title='server_update_entries' data-ref="server_update_entries" data-ref-filename="server_update_entries">server_update_entries</dfn> (<em>const</em> <em>char</em> *<dfn class="local col4 decl" id="684file" title='file' data-type='const char *' data-ref="684file" data-ref-filename="684file">file</dfn>, <em>const</em> <em>char</em> *<dfn class="local col5 decl" id="685update_dir" title='update_dir' data-type='const char *' data-ref="685update_dir" data-ref-filename="685update_dir">update_dir</dfn>,</td></tr>
<tr><th id="139">139</th><td>                            <em>const</em> <em>char</em> *<dfn class="local col6 decl" id="686repository" title='repository' data-type='const char *' data-ref="686repository" data-ref-filename="686repository">repository</dfn>,</td></tr>
<tr><th id="140">140</th><td>                            <b>enum</b> <a class="type" href="#server_updated_arg4" title='server_updated_arg4' data-ref="server_updated_arg4" data-ref-filename="server_updated_arg4">server_updated_arg4</a> <dfn class="local col7 decl" id="687updated" title='updated' data-type='enum server_updated_arg4' data-ref="687updated" data-ref-filename="687updated">updated</dfn>);</td></tr>
<tr><th id="141">141</th><td></td></tr>
<tr><th id="142">142</th><td><i>/* Pointer to a malloc'd string which is the directory which</i></td></tr>
<tr><th id="143">143</th><td><i>   the server should prepend to the pathnames which it sends</i></td></tr>
<tr><th id="144">144</th><td><i>   to the client.  */</i></td></tr>
<tr><th id="145">145</th><td><b>extern</b> <em>char</em> *<dfn class="decl" id="server_dir" title='server_dir' data-ref="server_dir" data-ref-filename="server_dir">server_dir</dfn>;</td></tr>
<tr><th id="146">146</th><td></td></tr>
<tr><th id="147">147</th><td><em>void</em> <dfn class="decl fn" id="server_cleanup" title='server_cleanup' data-ref="server_cleanup" data-ref-filename="server_cleanup">server_cleanup</dfn> (<em>void</em>);</td></tr>
<tr><th id="148">148</th><td></td></tr>
<tr><th id="149">149</th><td><u>#<span data-ppcond="149">ifdef</span> <a class="macro" href="../../include/config.h.html#926" data-ref="_M/SERVER_FLOWCONTROL">SERVER_FLOWCONTROL</a></u></td></tr>
<tr><th id="150">150</th><td><i>/* Pause if it's convenient to avoid memory blowout */</i></td></tr>
<tr><th id="151">151</th><td><em>void</em> <dfn class="decl fn" id="server_pause_check" title='server_pause_check' data-ref="server_pause_check" data-ref-filename="server_pause_check">server_pause_check</dfn> (<em>void</em>);</td></tr>
<tr><th id="152">152</th><td><u>#<span data-ppcond="149">endif</span> /* SERVER_FLOWCONTROL */</u></td></tr>
<tr><th id="153">153</th><td></td></tr>
<tr><th id="154">154</th><td><u>#<span data-ppcond="154">ifdef</span> <a class="macro" href="../../include/config.h.html#14" data-ref="_M/AUTH_SERVER_SUPPORT">AUTH_SERVER_SUPPORT</a></u></td></tr>
<tr><th id="155">155</th><td><b>extern</b> <em>char</em> *<dfn class="decl" id="CVS_Username" title='CVS_Username' data-ref="CVS_Username" data-ref-filename="CVS_Username">CVS_Username</dfn>;</td></tr>
<tr><th id="156">156</th><td><u>#<span data-ppcond="154">endif</span> /* AUTH_SERVER_SUPPORT */</u></td></tr>
<tr><th id="157">157</th><td></td></tr>
<tr><th id="158">158</th><td><u>#<span data-ppcond="38">endif</span> /* SERVER_SUPPORT */</u></td></tr>
<tr><th id="159">159</th><td></td></tr>
<tr><th id="160">160</th><td><i>/* Stuff shared with the client.  */</i></td></tr>
<tr><th id="161">161</th><td><b>struct</b> <dfn class="type def" id="request" title='request' data-ref="request" data-ref-filename="request">request</dfn></td></tr>
<tr><th id="162">162</th><td>{</td></tr>
<tr><th id="163">163</th><td>  <i>/* Name of the request.  */</i></td></tr>
<tr><th id="164">164</th><td>  <em>char</em> *<dfn class="decl field" id="request::name" title='request::name' data-ref="request::name" data-ref-filename="request..name">name</dfn>;</td></tr>
<tr><th id="165">165</th><td></td></tr>
<tr><th id="166">166</th><td><u>#<span data-ppcond="166">ifdef</span> <a class="macro" href="../../include/config.h.html#938" data-ref="_M/SERVER_SUPPORT">SERVER_SUPPORT</a></u></td></tr>
<tr><th id="167">167</th><td>  <i>/*</i></td></tr>
<tr><th id="168">168</th><td><i>   * Function to carry out the request.  ARGS is the text of the command</i></td></tr>
<tr><th id="169">169</th><td><i>   * after name and, if present, a single space, have been stripped off.</i></td></tr>
<tr><th id="170">170</th><td><i>   */</i></td></tr>
<tr><th id="171">171</th><td>  <em>void</em> (*<dfn class="decl field" id="request::func" title='request::func' data-ref="request::func" data-ref-filename="request..func">func</dfn>) (<em>char</em> *<dfn class="local col8 decl" id="688args" title='args' data-type='char *' data-ref="688args" data-ref-filename="688args">args</dfn>);</td></tr>
<tr><th id="172">172</th><td><u>#<span data-ppcond="166">endif</span></u></td></tr>
<tr><th id="173">173</th><td></td></tr>
<tr><th id="174">174</th><td>  <i>/* One or more of the RQ_* flags described below.  */</i></td></tr>
<tr><th id="175">175</th><td>  <em>int</em> <dfn class="decl field" id="request::flags" title='request::flags' data-ref="request::flags" data-ref-filename="request..flags">flags</dfn>;</td></tr>
<tr><th id="176">176</th><td></td></tr>
<tr><th id="177">177</th><td>  <i>/* If set, failure to implement this request can imply a fatal</i></td></tr>
<tr><th id="178">178</th><td><i>     error.  This should be set only for commands which were in the</i></td></tr>
<tr><th id="179">179</th><td><i>     original version of the protocol; it should not be set for new</i></td></tr>
<tr><th id="180">180</th><td><i>     commands.  */</i></td></tr>
<tr><th id="181">181</th><td><u>#define <dfn class="macro" id="_M/RQ_ESSENTIAL" data-ref="_M/RQ_ESSENTIAL">RQ_ESSENTIAL</dfn> 1</u></td></tr>
<tr><th id="182">182</th><td></td></tr>
<tr><th id="183">183</th><td>  <i>/* Set by the client if the server we are talking to supports it.  */</i></td></tr>
<tr><th id="184">184</th><td><u>#define <dfn class="macro" id="_M/RQ_SUPPORTED" data-ref="_M/RQ_SUPPORTED">RQ_SUPPORTED</dfn> 2</u></td></tr>
<tr><th id="185">185</th><td></td></tr>
<tr><th id="186">186</th><td>  <i>/* If set, and client and server both support the request, the</i></td></tr>
<tr><th id="187">187</th><td><i>     client should tell the server by making the request.  */</i></td></tr>
<tr><th id="188">188</th><td><u>#define <dfn class="macro" id="_M/RQ_ENABLEME" data-ref="_M/RQ_ENABLEME">RQ_ENABLEME</dfn> 4</u></td></tr>
<tr><th id="189">189</th><td></td></tr>
<tr><th id="190">190</th><td>  <i>/* The server may accept this request before "Root".  */</i></td></tr>
<tr><th id="191">191</th><td><u>#define <dfn class="macro" id="_M/RQ_ROOTLESS" data-ref="_M/RQ_ROOTLESS">RQ_ROOTLESS</dfn> 8</u></td></tr>
<tr><th id="192">192</th><td>};</td></tr>
<tr><th id="193">193</th><td></td></tr>
<tr><th id="194">194</th><td><i>/* Table of requests ending with an entry with a NULL name.  */</i></td></tr>
<tr><th id="195">195</th><td><b>extern</b> <b>struct</b> <a class="type" href="#request" title='request' data-ref="request" data-ref-filename="request">request</a> <dfn class="decl" id="requests" title='requests' data-ref="requests" data-ref-filename="requests">requests</dfn>[];</td></tr>
<tr><th id="196">196</th><td></td></tr>
<tr><th id="197">197</th><td><i>/* Gzip library, see zlib.c.  */</i></td></tr>
<tr><th id="198">198</th><td><em>int</em> <dfn class="decl fn" id="gunzip_and_write" title='gunzip_and_write' data-ref="gunzip_and_write" data-ref-filename="gunzip_and_write">gunzip_and_write</dfn> (<em>int</em>, <em>const</em> <em>char</em> *, <em>unsigned</em> <em>char</em> *, <a class="typedef" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</a>);</td></tr>
<tr><th id="199">199</th><td><em>int</em> <dfn class="decl fn" id="read_and_gzip" title='read_and_gzip' data-ref="read_and_gzip" data-ref-filename="read_and_gzip">read_and_gzip</dfn> (<em>int</em>, <em>const</em> <em>char</em> *, <em>unsigned</em> <em>char</em> **, <a class="typedef" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</a> *, <a class="typedef" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</a> *,</td></tr>
<tr><th id="200">200</th><td>                   <em>int</em>);</td></tr>
<tr><th id="201">201</th><td><em>void</em> <dfn class="decl fn" id="server_edit_file" title='server_edit_file' data-ref="server_edit_file" data-ref-filename="server_edit_file">server_edit_file</dfn> (<b>struct</b> <a class="type" href="cvs.h.html#file_info" title='file_info' data-ref="file_info" data-ref-filename="file_info">file_info</a> *<dfn class="local col9 decl" id="689finfo" title='finfo' data-type='struct file_info *' data-ref="689finfo" data-ref-filename="689finfo">finfo</dfn>);</td></tr>
<tr><th id="202">202</th><td></td></tr>
<tr><th id="203">203</th><td><i>/* The TRACE macro */</i></td></tr>
<tr><th id="204">204</th><td><em>void</em> <dfn class="decl fn" id="cvs_trace" title='cvs_trace' data-ref="cvs_trace" data-ref-filename="cvs_trace">cvs_trace</dfn> (<em>int</em> <dfn class="local col0 decl" id="690level" title='level' data-type='int' data-ref="690level" data-ref-filename="690level">level</dfn>, <em>const</em> <em>char</em> *<dfn class="local col1 decl" id="691fmt" title='fmt' data-type='const char *' data-ref="691fmt" data-ref-filename="691fmt">fmt</dfn>, ...)</td></tr>
<tr><th id="205">205</th><td>  <b>__attribute__</b> ((__format__ (__printf__, <var>2</var>, <var>3</var>)));</td></tr>
<tr><th id="206">206</th><td><u>#define <dfn class="macro" id="_M/TRACE" data-ref="_M/TRACE">TRACE</dfn> cvs_trace</u></td></tr>
<tr><th id="207">207</th><td><i>/* Trace levels:</i></td></tr>
<tr><th id="208">208</th><td><i> *</i></td></tr>
<tr><th id="209">209</th><td><i> * TRACE_FUNCTION	Trace function calls, often including function</i></td></tr>
<tr><th id="210">210</th><td><i> * 			arguments.  This is the trace level that, historically,</i></td></tr>
<tr><th id="211">211</th><td><i> * 			applied to all trace calls.</i></td></tr>
<tr><th id="212">212</th><td><i> * TRACE_FLOW		Include the flow control functions, such as</i></td></tr>
<tr><th id="213">213</th><td><i> * 			start_recursion, do_recursion, and walklist in the</i></td></tr>
<tr><th id="214">214</th><td><i> * 			function traces.</i></td></tr>
<tr><th id="215">215</th><td><i> * TRACE_DATA		Trace important internal function data.</i></td></tr>
<tr><th id="216">216</th><td><i> */</i> </td></tr>
<tr><th id="217">217</th><td><u>#define <dfn class="macro" id="_M/TRACE_FUNCTION" data-ref="_M/TRACE_FUNCTION">TRACE_FUNCTION</dfn>		1</u></td></tr>
<tr><th id="218">218</th><td><u>#define <dfn class="macro" id="_M/TRACE_FLOW" data-ref="_M/TRACE_FLOW">TRACE_FLOW</dfn>		2</u></td></tr>
<tr><th id="219">219</th><td><u>#define <dfn class="macro" id="_M/TRACE_DATA" data-ref="_M/TRACE_DATA">TRACE_DATA</dfn>		3</u></td></tr>
<tr><th id="220">220</th><td></td></tr>
<tr><th id="221">221</th><td><b>extern</b> <a class="typedef" href="root.h.html#cvsroot_t" title='cvsroot_t' data-type='struct cvsroot_s' data-ref="cvsroot_t" data-ref-filename="cvsroot_t">cvsroot_t</a> *<dfn class="decl" id="referrer" title='referrer' data-ref="referrer" data-ref-filename="referrer">referrer</dfn>;</td></tr>
<tr><th id="222">222</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='acl.c.html'>netbsd/external/gpl2/xcvs/dist/src/acl.c</a><br/>Generated on <em>2019-Jul-19</em> from project netbsd revision <em>f9da89e0d</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
