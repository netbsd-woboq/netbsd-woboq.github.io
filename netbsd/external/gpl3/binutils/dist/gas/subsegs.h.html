<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>subsegs.h source code [netbsd/external/gpl3/binutils/dist/gas/subsegs.h] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="frchain,segment_info_struct "/>
<link rel="stylesheet" href="https://code.woboq.org/data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="https://code.woboq.org/data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery-ui.min.js"></script>
<script>var file = 'netbsd/external/gpl3/binutils/dist/gas/subsegs.h'; var root_path = '../../../../../..'; var data_path = 'https://code.woboq.org/data'; var ecma_script_api_version = 2;</script>
<script src='https://code.woboq.org/data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../../..'>netbsd</a>/<a href='../../../..'>external</a>/<a href='../../..'>gpl3</a>/<a href='../..'>binutils</a>/<a href='..'>dist</a>/<a href='./'>gas</a>/<a href='subsegs.h.html'>subsegs.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/* subsegs.h -&gt; subsegs.c</i></td></tr>
<tr><th id="2">2</th><td><i>   Copyright (C) 1987-2018 Free Software Foundation, Inc.</i></td></tr>
<tr><th id="3">3</th><td><i></i></td></tr>
<tr><th id="4">4</th><td><i>   This file is part of GAS, the GNU Assembler.</i></td></tr>
<tr><th id="5">5</th><td><i></i></td></tr>
<tr><th id="6">6</th><td><i>   GAS is free software; you can redistribute it and/or modify</i></td></tr>
<tr><th id="7">7</th><td><i>   it under the terms of the GNU General Public License as published by</i></td></tr>
<tr><th id="8">8</th><td><i>   the Free Software Foundation; either version 3, or (at your option)</i></td></tr>
<tr><th id="9">9</th><td><i>   any later version.</i></td></tr>
<tr><th id="10">10</th><td><i></i></td></tr>
<tr><th id="11">11</th><td><i>   GAS is distributed in the hope that it will be useful,</i></td></tr>
<tr><th id="12">12</th><td><i>   but WITHOUT ANY WARRANTY; without even the implied warranty of</i></td></tr>
<tr><th id="13">13</th><td><i>   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</i></td></tr>
<tr><th id="14">14</th><td><i>   GNU General Public License for more details.</i></td></tr>
<tr><th id="15">15</th><td><i></i></td></tr>
<tr><th id="16">16</th><td><i>   You should have received a copy of the GNU General Public License</i></td></tr>
<tr><th id="17">17</th><td><i>   along with GAS; see the file COPYING.  If not, write to the Free</i></td></tr>
<tr><th id="18">18</th><td><i>   Software Foundation, 51 Franklin Street - Fifth Floor, Boston, MA</i></td></tr>
<tr><th id="19">19</th><td><i>   02110-1301, USA.  */</i></td></tr>
<tr><th id="20">20</th><td></td></tr>
<tr><th id="21">21</th><td><i>/*</i></td></tr>
<tr><th id="22">22</th><td><i> * For every sub-segment the user mentions in the ASsembler program,</i></td></tr>
<tr><th id="23">23</th><td><i> * we make one struct frchain. Each sub-segment has exactly one struct frchain</i></td></tr>
<tr><th id="24">24</th><td><i> * and vice versa.</i></td></tr>
<tr><th id="25">25</th><td><i> *</i></td></tr>
<tr><th id="26">26</th><td><i> * Struct frchain's are forward chained (in ascending order of sub-segment</i></td></tr>
<tr><th id="27">27</th><td><i> * code number). The chain runs through frch_next of each subsegment.</i></td></tr>
<tr><th id="28">28</th><td><i> * This makes it hard to find a subsegment's frags</i></td></tr>
<tr><th id="29">29</th><td><i> * if programmer uses a lot of them. Most programs only use text0 and</i></td></tr>
<tr><th id="30">30</th><td><i> * data0, so they don't suffer. At least this way:</i></td></tr>
<tr><th id="31">31</th><td><i> * (1)	There are no "arbitrary" restrictions on how many subsegments</i></td></tr>
<tr><th id="32">32</th><td><i> *	can be programmed;</i></td></tr>
<tr><th id="33">33</th><td><i> * (2)	Subsegments' frchain-s are (later) chained together in the order in</i></td></tr>
<tr><th id="34">34</th><td><i> *	which they are emitted for object file viz text then data.</i></td></tr>
<tr><th id="35">35</th><td><i> *</i></td></tr>
<tr><th id="36">36</th><td><i> * From each struct frchain dangles a chain of struct frags. The frags</i></td></tr>
<tr><th id="37">37</th><td><i> * represent code fragments, for that sub-segment, forward chained.</i></td></tr>
<tr><th id="38">38</th><td><i> */</i></td></tr>
<tr><th id="39">39</th><td></td></tr>
<tr><th id="40">40</th><td><u>#include <a href="../include/obstack.h.html">"obstack.h"</a></u></td></tr>
<tr><th id="41">41</th><td></td></tr>
<tr><th id="42">42</th><td><b>struct</b> <dfn class="type" id="frch_cfi_data" title='frch_cfi_data' data-ref="frch_cfi_data" data-ref-filename="frch_cfi_data">frch_cfi_data</dfn>;</td></tr>
<tr><th id="43">43</th><td></td></tr>
<tr><th id="44">44</th><td><b>struct</b> <dfn class="type def" id="frchain" title='frchain' data-ref="frchain" data-ref-filename="frchain">frchain</dfn>			<i>/* control building of a frag chain */</i></td></tr>
<tr><th id="45">45</th><td>{				<i>/* FRCH = FRagment CHain control */</i></td></tr>
<tr><th id="46">46</th><td>  <b>struct</b> <a class="type" href="frags.h.html#frag" title='frag' data-ref="frag" data-ref-filename="frag">frag</a> *<dfn class="decl field" id="frchain::frch_root" title='frchain::frch_root' data-ref="frchain::frch_root" data-ref-filename="frchain..frch_root">frch_root</dfn>;	<i>/* 1st struct frag in chain, or NULL */</i></td></tr>
<tr><th id="47">47</th><td>  <b>struct</b> <a class="type" href="frags.h.html#frag" title='frag' data-ref="frag" data-ref-filename="frag">frag</a> *<dfn class="decl field" id="frchain::frch_last" title='frchain::frch_last' data-ref="frchain::frch_last" data-ref-filename="frchain..frch_last">frch_last</dfn>;	<i>/* last struct frag in chain, or NULL */</i></td></tr>
<tr><th id="48">48</th><td>  <b>struct</b> <a class="type" href="#frchain" title='frchain' data-ref="frchain" data-ref-filename="frchain">frchain</a> *<dfn class="decl field" id="frchain::frch_next" title='frchain::frch_next' data-ref="frchain::frch_next" data-ref-filename="frchain..frch_next">frch_next</dfn>;	<i>/* next in chain of struct frchain-s */</i></td></tr>
<tr><th id="49">49</th><td>  <a class="typedef" href="as.h.html#subsegT" title='subsegT' data-type='int' data-ref="subsegT" data-ref-filename="subsegT">subsegT</a> <dfn class="decl field" id="frchain::frch_subseg" title='frchain::frch_subseg' data-ref="frchain::frch_subseg" data-ref-filename="frchain..frch_subseg">frch_subseg</dfn>;		<i>/* subsegment number of this chain */</i></td></tr>
<tr><th id="50">50</th><td>  <a class="typedef" href="write.h.html#fixS" title='fixS' data-type='struct fix' data-ref="fixS" data-ref-filename="fixS">fixS</a> *<dfn class="decl field" id="frchain::fix_root" title='frchain::fix_root' data-ref="frchain::fix_root" data-ref-filename="frchain..fix_root">fix_root</dfn>;		<i>/* Root of fixups for this subsegment.  */</i></td></tr>
<tr><th id="51">51</th><td>  <a class="typedef" href="write.h.html#fixS" title='fixS' data-type='struct fix' data-ref="fixS" data-ref-filename="fixS">fixS</a> *<dfn class="decl field" id="frchain::fix_tail" title='frchain::fix_tail' data-ref="frchain::fix_tail" data-ref-filename="frchain..fix_tail">fix_tail</dfn>;		<i>/* Last fixup for this subsegment.  */</i></td></tr>
<tr><th id="52">52</th><td>  <b>struct</b> <a class="type" href="../include/obstack.h.html#obstack" title='obstack' data-ref="obstack" data-ref-filename="obstack">obstack</a> <dfn class="decl field" id="frchain::frch_obstack" title='frchain::frch_obstack' data-ref="frchain::frch_obstack" data-ref-filename="frchain..frch_obstack">frch_obstack</dfn>;	<i>/* for objects in this frag chain */</i></td></tr>
<tr><th id="53">53</th><td>  <a class="typedef" href="as.h.html#fragS" title='fragS' data-type='struct frag' data-ref="fragS" data-ref-filename="fragS">fragS</a> *<dfn class="decl field" id="frchain::frch_frag_now" title='frchain::frch_frag_now' data-ref="frchain::frch_frag_now" data-ref-filename="frchain..frch_frag_now">frch_frag_now</dfn>;		<i>/* frag_now for this subsegment */</i></td></tr>
<tr><th id="54">54</th><td>  <b>struct</b> <a class="type" href="#frch_cfi_data" title='frch_cfi_data' data-ref="frch_cfi_data" data-ref-filename="frch_cfi_data">frch_cfi_data</a> *<dfn class="decl field" id="frchain::frch_cfi_data" title='frchain::frch_cfi_data' data-ref="frchain::frch_cfi_data" data-ref-filename="frchain..frch_cfi_data">frch_cfi_data</dfn>;</td></tr>
<tr><th id="55">55</th><td>};</td></tr>
<tr><th id="56">56</th><td></td></tr>
<tr><th id="57">57</th><td><b>typedef</b> <b>struct</b> <a class="type" href="#frchain" title='frchain' data-ref="frchain" data-ref-filename="frchain">frchain</a> <dfn class="typedef" id="frchainS" title='frchainS' data-type='struct frchain' data-ref="frchainS" data-ref-filename="frchainS">frchainS</dfn>;</td></tr>
<tr><th id="58">58</th><td></td></tr>
<tr><th id="59">59</th><td><i>/* Frchain we are assembling into now.  That is, the current segment's</i></td></tr>
<tr><th id="60">60</th><td><i>   frag chain, even if it contains no (complete) frags.  */</i></td></tr>
<tr><th id="61">61</th><td><b>extern</b> <a class="typedef" href="#frchainS" title='frchainS' data-type='struct frchain' data-ref="frchainS" data-ref-filename="frchainS">frchainS</a> *<dfn class="decl" id="frchain_now" title='frchain_now' data-ref="frchain_now" data-ref-filename="frchain_now">frchain_now</dfn>;</td></tr>
<tr><th id="62">62</th><td></td></tr>
<tr><th id="63">63</th><td><b>typedef</b> <b>struct</b> <dfn class="type def" id="segment_info_struct" title='segment_info_struct' data-ref="segment_info_struct" data-ref-filename="segment_info_struct"><a class="type" href="#segment_info_struct" title='segment_info_struct' data-ref="segment_info_struct" data-ref-filename="segment_info_struct">segment_info_struct</a></dfn> {</td></tr>
<tr><th id="64">64</th><td>  <a class="typedef" href="#frchainS" title='frchainS' data-type='struct frchain' data-ref="frchainS" data-ref-filename="frchainS">frchainS</a> *<dfn class="decl field" id="segment_info_struct::frchainP" title='segment_info_struct::frchainP' data-ref="segment_info_struct::frchainP" data-ref-filename="segment_info_struct..frchainP">frchainP</dfn>;</td></tr>
<tr><th id="65">65</th><td>  <em>unsigned</em> <em>int</em> <dfn class="decl field" id="segment_info_struct::hadone" title='segment_info_struct::hadone' data-ref="segment_info_struct::hadone" data-ref-filename="segment_info_struct..hadone">hadone</dfn> : <var>1</var>;</td></tr>
<tr><th id="66">66</th><td></td></tr>
<tr><th id="67">67</th><td>  <i>/* This field is set if this is a .bss section which does not really</i></td></tr>
<tr><th id="68">68</th><td><i>     have any contents.  Once upon a time a .bss section did not have</i></td></tr>
<tr><th id="69">69</th><td><i>     any frags, but that is no longer true.  This field prevent the</i></td></tr>
<tr><th id="70">70</th><td><i>     SEC_HAS_CONTENTS flag from being set for the section even if</i></td></tr>
<tr><th id="71">71</th><td><i>     there are frags.  */</i></td></tr>
<tr><th id="72">72</th><td>  <em>unsigned</em> <em>int</em> <dfn class="decl field" id="segment_info_struct::bss" title='segment_info_struct::bss' data-ref="segment_info_struct::bss" data-ref-filename="segment_info_struct..bss">bss</dfn> : <var>1</var>;</td></tr>
<tr><th id="73">73</th><td></td></tr>
<tr><th id="74">74</th><td>  <em>int</em> <dfn class="decl field" id="segment_info_struct::user_stuff" title='segment_info_struct::user_stuff' data-ref="segment_info_struct::user_stuff" data-ref-filename="segment_info_struct..user_stuff">user_stuff</dfn>;</td></tr>
<tr><th id="75">75</th><td></td></tr>
<tr><th id="76">76</th><td>  <i>/* Fixups for this segment.  This is only valid after the frchains</i></td></tr>
<tr><th id="77">77</th><td><i>     are run together.  */</i></td></tr>
<tr><th id="78">78</th><td>  <a class="typedef" href="write.h.html#fixS" title='fixS' data-type='struct fix' data-ref="fixS" data-ref-filename="fixS">fixS</a> *<dfn class="decl field" id="segment_info_struct::fix_root" title='segment_info_struct::fix_root' data-ref="segment_info_struct::fix_root" data-ref-filename="segment_info_struct..fix_root">fix_root</dfn>;</td></tr>
<tr><th id="79">79</th><td>  <a class="typedef" href="write.h.html#fixS" title='fixS' data-type='struct fix' data-ref="fixS" data-ref-filename="fixS">fixS</a> *<dfn class="decl field" id="segment_info_struct::fix_tail" title='segment_info_struct::fix_tail' data-ref="segment_info_struct::fix_tail" data-ref-filename="segment_info_struct..fix_tail">fix_tail</dfn>;</td></tr>
<tr><th id="80">80</th><td></td></tr>
<tr><th id="81">81</th><td>  <a class="typedef" href="as.h.html#symbolS" title='symbolS' data-type='struct symbol' data-ref="symbolS" data-ref-filename="symbolS">symbolS</a> *<dfn class="decl field" id="segment_info_struct::dot" title='segment_info_struct::dot' data-ref="segment_info_struct::dot" data-ref-filename="segment_info_struct..dot">dot</dfn>;</td></tr>
<tr><th id="82">82</th><td></td></tr>
<tr><th id="83">83</th><td>  <b>struct</b> <dfn class="type" id="lineno_list" title='lineno_list' data-ref="lineno_list" data-ref-filename="lineno_list"><a class="type" href="#lineno_list" title='lineno_list' data-ref="lineno_list" data-ref-filename="lineno_list">lineno_list</a></dfn> *<dfn class="decl field" id="segment_info_struct::lineno_list_head" title='segment_info_struct::lineno_list_head' data-ref="segment_info_struct::lineno_list_head" data-ref-filename="segment_info_struct..lineno_list_head">lineno_list_head</dfn>;</td></tr>
<tr><th id="84">84</th><td>  <b>struct</b> <a class="type" href="#lineno_list" title='lineno_list' data-ref="lineno_list" data-ref-filename="lineno_list">lineno_list</a> *<dfn class="decl field" id="segment_info_struct::lineno_list_tail" title='segment_info_struct::lineno_list_tail' data-ref="segment_info_struct::lineno_list_tail" data-ref-filename="segment_info_struct..lineno_list_tail">lineno_list_tail</dfn>;</td></tr>
<tr><th id="85">85</th><td></td></tr>
<tr><th id="86">86</th><td>  <i>/* Which BFD section does this gas segment correspond to?  */</i></td></tr>
<tr><th id="87">87</th><td>  <a class="typedef" href="../../lib/libbfd/arch/x86_64/bfd.h.html#asection" title='asection' data-type='struct bfd_section' data-ref="asection" data-ref-filename="asection">asection</a> *<dfn class="decl field" id="segment_info_struct::bfd_section" title='segment_info_struct::bfd_section' data-ref="segment_info_struct::bfd_section" data-ref-filename="segment_info_struct..bfd_section">bfd_section</dfn>;</td></tr>
<tr><th id="88">88</th><td></td></tr>
<tr><th id="89">89</th><td>  <i>/* NULL, or pointer to the gas symbol that is the section symbol for</i></td></tr>
<tr><th id="90">90</th><td><i>     this section.  sym-&gt;bsym and bfd_section-&gt;symbol should be the same.  */</i></td></tr>
<tr><th id="91">91</th><td>  <a class="typedef" href="as.h.html#symbolS" title='symbolS' data-type='struct symbol' data-ref="symbolS" data-ref-filename="symbolS">symbolS</a> *<dfn class="decl field" id="segment_info_struct::sym" title='segment_info_struct::sym' data-ref="segment_info_struct::sym" data-ref-filename="segment_info_struct..sym">sym</dfn>;</td></tr>
<tr><th id="92">92</th><td></td></tr>
<tr><th id="93">93</th><td>  <i>/* Used by dwarf2dbg.c for this section's line table entries.  */</i></td></tr>
<tr><th id="94">94</th><td>  <em>void</em> *<dfn class="decl field" id="segment_info_struct::dwarf2_line_seg" title='segment_info_struct::dwarf2_line_seg' data-ref="segment_info_struct::dwarf2_line_seg" data-ref-filename="segment_info_struct..dwarf2_line_seg">dwarf2_line_seg</dfn>;</td></tr>
<tr><th id="95">95</th><td></td></tr>
<tr><th id="96">96</th><td>  <b>union</b> {</td></tr>
<tr><th id="97">97</th><td>    <i>/* Current size of section holding stabs strings.  */</i></td></tr>
<tr><th id="98">98</th><td>    <em>unsigned</em> <em>long</em> <dfn class="decl field" id="segment_info_struct::(anonymous)::stab_string_size" title='segment_info_struct::(anonymous union)::stab_string_size' data-ref="segment_info_struct::(anonymous)::stab_string_size" data-ref-filename="segment_info_struct..(anonymous)..stab_string_size">stab_string_size</dfn>;</td></tr>
<tr><th id="99">99</th><td>    <i>/* Initial frag for ELF.  */</i></td></tr>
<tr><th id="100">100</th><td>    <em>char</em> *<dfn class="decl field" id="segment_info_struct::(anonymous)::p" title='segment_info_struct::(anonymous union)::p' data-ref="segment_info_struct::(anonymous)::p" data-ref-filename="segment_info_struct..(anonymous)..p">p</dfn>;</td></tr>
<tr><th id="101">101</th><td>  }</td></tr>
<tr><th id="102">102</th><td>  <dfn class="decl field" id="segment_info_struct::stabu" title='segment_info_struct::stabu' data-ref="segment_info_struct::stabu" data-ref-filename="segment_info_struct..stabu">stabu</dfn>;</td></tr>
<tr><th id="103">103</th><td></td></tr>
<tr><th id="104">104</th><td><u>#<span data-ppcond="104">ifdef</span> <span class="macro" data-ref="_M/NEED_LITERAL_POOL">NEED_LITERAL_POOL</span></u></td></tr>
<tr><th id="105">105</th><td>  <em>unsigned</em> <em>long</em> literal_pool_size;</td></tr>
<tr><th id="106">106</th><td><u>#<span data-ppcond="104">endif</span></u></td></tr>
<tr><th id="107">107</th><td></td></tr>
<tr><th id="108">108</th><td><u>#<span data-ppcond="108">ifdef</span> <span class="macro" data-ref="_M/TC_SEGMENT_INFO_TYPE">TC_SEGMENT_INFO_TYPE</span></u></td></tr>
<tr><th id="109">109</th><td>  TC_SEGMENT_INFO_TYPE tc_segment_info_data;</td></tr>
<tr><th id="110">110</th><td><u>#<span data-ppcond="108">endif</span></u></td></tr>
<tr><th id="111">111</th><td>} <dfn class="typedef" id="segment_info_type" title='segment_info_type' data-type='struct segment_info_struct' data-ref="segment_info_type" data-ref-filename="segment_info_type">segment_info_type</dfn>;</td></tr>
<tr><th id="112">112</th><td></td></tr>
<tr><th id="113">113</th><td></td></tr>
<tr><th id="114">114</th><td><u>#define <dfn class="macro" id="_M/seg_info" data-ref="_M/seg_info">seg_info</dfn>(sec) \</u></td></tr>
<tr><th id="115">115</th><td><u>  ((segment_info_type *) bfd_get_section_userdata (stdoutput, sec))</u></td></tr>
<tr><th id="116">116</th><td></td></tr>
<tr><th id="117">117</th><td><b>extern</b> <a class="typedef" href="as.h.html#symbolS" title='symbolS' data-type='struct symbol' data-ref="symbolS" data-ref-filename="symbolS">symbolS</a> *<dfn class="decl fn" id="section_symbol" title='section_symbol' data-ref="section_symbol" data-ref-filename="section_symbol">section_symbol</dfn> (<a class="typedef" href="as.h.html#segT" title='segT' data-type='asection *' data-ref="segT" data-ref-filename="segT">segT</a>);</td></tr>
<tr><th id="118">118</th><td></td></tr>
<tr><th id="119">119</th><td><b>extern</b> <em>void</em> <dfn class="decl fn" id="subsegs_print_statistics" title='subsegs_print_statistics' data-ref="subsegs_print_statistics" data-ref-filename="subsegs_print_statistics">subsegs_print_statistics</dfn> (<a class="typedef" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#FILE" title='FILE' data-type='struct __sFILE' data-ref="FILE" data-ref-filename="FILE">FILE</a> *);</td></tr>
<tr><th id="120">120</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='as.c.html'>netbsd/external/gpl3/binutils/dist/gas/as.c</a><br/>Generated on <em>2019-Jul-19</em> from project netbsd revision <em>f9da89e0d</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
