<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>parens.c source code [netbsd/external/gpl3/gdb/dist/readline/parens.c] - Woboq Code Browser</title>
<link rel="stylesheet" href="https://code.woboq.org/data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="https://code.woboq.org/data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery-ui.min.js"></script>
<script>var file = 'netbsd/external/gpl3/gdb/dist/readline/parens.c'; var root_path = '../../../../../..'; var data_path = 'https://code.woboq.org/data'; var ecma_script_api_version = 2;</script>
<script src='https://code.woboq.org/data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../../..'>netbsd</a>/<a href='../../../..'>external</a>/<a href='../../..'>gpl3</a>/<a href='../..'>gdb</a>/<a href='..'>dist</a>/<a href='./'>readline</a>/<a href='parens.c.html'>parens.c</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/* parens.c -- implementation of matching parentheses feature. */</i></td></tr>
<tr><th id="2">2</th><td></td></tr>
<tr><th id="3">3</th><td><i>/* Copyright (C) 1987, 1989, 1992-2009 Free Software Foundation, Inc.</i></td></tr>
<tr><th id="4">4</th><td><i></i></td></tr>
<tr><th id="5">5</th><td><i>   This file is part of the GNU Readline Library (Readline), a library</i></td></tr>
<tr><th id="6">6</th><td><i>   for reading lines of text with interactive input and history editing.      </i></td></tr>
<tr><th id="7">7</th><td><i></i></td></tr>
<tr><th id="8">8</th><td><i>   Readline is free software: you can redistribute it and/or modify</i></td></tr>
<tr><th id="9">9</th><td><i>   it under the terms of the GNU General Public License as published by</i></td></tr>
<tr><th id="10">10</th><td><i>   the Free Software Foundation, either version 3 of the License, or</i></td></tr>
<tr><th id="11">11</th><td><i>   (at your option) any later version.</i></td></tr>
<tr><th id="12">12</th><td><i></i></td></tr>
<tr><th id="13">13</th><td><i>   Readline is distributed in the hope that it will be useful,</i></td></tr>
<tr><th id="14">14</th><td><i>   but WITHOUT ANY WARRANTY; without even the implied warranty of</i></td></tr>
<tr><th id="15">15</th><td><i>   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</i></td></tr>
<tr><th id="16">16</th><td><i>   GNU General Public License for more details.</i></td></tr>
<tr><th id="17">17</th><td><i></i></td></tr>
<tr><th id="18">18</th><td><i>   You should have received a copy of the GNU General Public License</i></td></tr>
<tr><th id="19">19</th><td><i>   along with Readline.  If not, see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.</i></td></tr>
<tr><th id="20">20</th><td><i>*/</i></td></tr>
<tr><th id="21">21</th><td></td></tr>
<tr><th id="22">22</th><td><u>#define <dfn class="macro" id="_M/READLINE_LIBRARY" data-ref="_M/READLINE_LIBRARY">READLINE_LIBRARY</dfn></u></td></tr>
<tr><th id="23">23</th><td></td></tr>
<tr><th id="24">24</th><td><u>#<span data-ppcond="24">if</span> defined (<span class="macro" data-ref="_M/__TANDEM">__TANDEM</span>)</u></td></tr>
<tr><th id="25">25</th><td><u>#  include &lt;floss.h&gt;</u></td></tr>
<tr><th id="26">26</th><td><u>#<span data-ppcond="24">endif</span></u></td></tr>
<tr><th id="27">27</th><td></td></tr>
<tr><th id="28">28</th><td><u>#include <a href="rlconf.h.html">"rlconf.h"</a></u></td></tr>
<tr><th id="29">29</th><td></td></tr>
<tr><th id="30">30</th><td><u>#<span data-ppcond="30">if</span> defined (<span class="macro" data-ref="_M/HAVE_CONFIG_H">HAVE_CONFIG_H</span>)</u></td></tr>
<tr><th id="31">31</th><td><u>#  include <a href="../../lib/libreadline/arch/x86_64/config.h.html">&lt;config.h&gt;</a></u></td></tr>
<tr><th id="32">32</th><td><u>#<span data-ppcond="30">endif</span></u></td></tr>
<tr><th id="33">33</th><td></td></tr>
<tr><th id="34">34</th><td><u>#include <a href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html">&lt;stdio.h&gt;</a></u></td></tr>
<tr><th id="35">35</th><td><u>#include <a href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html">&lt;sys/types.h&gt;</a></u></td></tr>
<tr><th id="36">36</th><td></td></tr>
<tr><th id="37">37</th><td><u>#<span data-ppcond="37">if</span> defined (<a class="macro" href="../../lib/libreadline/arch/x86_64/config.h.html#214" data-ref="_M/HAVE_UNISTD_H">HAVE_UNISTD_H</a>)</u></td></tr>
<tr><th id="38">38</th><td><u>#  include <a href="../../../../../objdir.amd64/destdir.amd64/usr/include/unistd.h.html">&lt;unistd.h&gt;</a></u></td></tr>
<tr><th id="39">39</th><td><u>#<span data-ppcond="37">endif</span></u></td></tr>
<tr><th id="40">40</th><td></td></tr>
<tr><th id="41">41</th><td><u>#include <a href="posixselect.h.html">"posixselect.h"</a></u></td></tr>
<tr><th id="42">42</th><td></td></tr>
<tr><th id="43">43</th><td><u>#<span data-ppcond="43">if</span> defined (<a class="macro" href="../../lib/libreadline/arch/x86_64/config.h.html#175" data-ref="_M/HAVE_STRING_H">HAVE_STRING_H</a>)</u></td></tr>
<tr><th id="44">44</th><td><u>#  include <a href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html">&lt;string.h&gt;</a></u></td></tr>
<tr><th id="45">45</th><td><u>#<span data-ppcond="43">else</span> /* !HAVE_STRING_H */</u></td></tr>
<tr><th id="46">46</th><td><u>#  include &lt;strings.h&gt;</u></td></tr>
<tr><th id="47">47</th><td><u>#<span data-ppcond="43">endif</span> /* !HAVE_STRING_H */</u></td></tr>
<tr><th id="48">48</th><td></td></tr>
<tr><th id="49">49</th><td><u>#<span data-ppcond="49">if</span> !defined (<span class="macro" data-ref="_M/strchr">strchr</span>) &amp;&amp; !defined (<span class="macro" data-ref="_M/__STDC__">__STDC__</span>)</u></td></tr>
<tr><th id="50">50</th><td><b>extern</b> <em>char</em> *strchr (), *strrchr ();</td></tr>
<tr><th id="51">51</th><td><u>#<span data-ppcond="49">endif</span> /* !strchr &amp;&amp; !__STDC__ */</u></td></tr>
<tr><th id="52">52</th><td></td></tr>
<tr><th id="53">53</th><td><u>#include <a href="readline.h.html">"readline.h"</a></u></td></tr>
<tr><th id="54">54</th><td><u>#include <a href="rlprivate.h.html">"rlprivate.h"</a></u></td></tr>
<tr><th id="55">55</th><td></td></tr>
<tr><th id="56">56</th><td><em>static</em> <em>int</em> <a class="tu decl fn" href="#find_matching_open" title='find_matching_open' data-type='int find_matching_open(char * , int , int )' data-ref="find_matching_open" data-ref-filename="find_matching_open">find_matching_open</a> <a class="macro" href="rlstdc.h.html#33" title="(char *, int, int)" data-ref="_M/PARAMS">PARAMS</a>((<em>char</em> *, <em>int</em>, <em>int</em>));</td></tr>
<tr><th id="57">57</th><td></td></tr>
<tr><th id="58">58</th><td><i>/* Non-zero means try to blink the matching open parenthesis when the</i></td></tr>
<tr><th id="59">59</th><td><i>   close parenthesis is inserted. */</i></td></tr>
<tr><th id="60">60</th><td><u>#<span data-ppcond="60">if</span> defined (<a class="macro" href="../../lib/libreadline/arch/x86_64/config.h.html#99" data-ref="_M/HAVE_SELECT">HAVE_SELECT</a>)</u></td></tr>
<tr><th id="61">61</th><td><em>int</em> <dfn class="decl def" id="rl_blink_matching_paren" title='rl_blink_matching_paren' data-ref="rl_blink_matching_paren" data-ref-filename="rl_blink_matching_paren">rl_blink_matching_paren</dfn> = <var>1</var>;</td></tr>
<tr><th id="62">62</th><td><u>#<span data-ppcond="60">else</span> /* !HAVE_SELECT */</u></td></tr>
<tr><th id="63">63</th><td><em>int</em> rl_blink_matching_paren = <var>0</var>;</td></tr>
<tr><th id="64">64</th><td><u>#<span data-ppcond="60">endif</span> /* !HAVE_SELECT */</u></td></tr>
<tr><th id="65">65</th><td></td></tr>
<tr><th id="66">66</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="_paren_blink_usec" title='_paren_blink_usec' data-type='int' data-ref="_paren_blink_usec" data-ref-filename="_paren_blink_usec">_paren_blink_usec</dfn> = <var>500000</var>;</td></tr>
<tr><th id="67">67</th><td></td></tr>
<tr><th id="68">68</th><td><i>/* Change emacs_standard_keymap to have bindings for paren matching when</i></td></tr>
<tr><th id="69">69</th><td><i>   ON_OR_OFF is 1, change them back to self_insert when ON_OR_OFF == 0. */</i></td></tr>
<tr><th id="70">70</th><td><em>void</em></td></tr>
<tr><th id="71">71</th><td><dfn class="decl def fn" id="_rl_enable_paren_matching" title='_rl_enable_paren_matching' data-ref="_rl_enable_paren_matching" data-ref-filename="_rl_enable_paren_matching">_rl_enable_paren_matching</dfn> (on_or_off)</td></tr>
<tr><th id="72">72</th><td>     <em>int</em> <dfn class="local col1 decl" id="1on_or_off" title='on_or_off' data-type='int' data-ref="1on_or_off" data-ref-filename="1on_or_off">on_or_off</dfn>;</td></tr>
<tr><th id="73">73</th><td>{</td></tr>
<tr><th id="74">74</th><td>  <b>if</b> (<a class="local col1 ref" href="#1on_or_off" title='on_or_off' data-ref="1on_or_off" data-ref-filename="1on_or_off">on_or_off</a>)</td></tr>
<tr><th id="75">75</th><td>    {	<i>/* ([{ */</i></td></tr>
<tr><th id="76">76</th><td>      <a class="ref fn" href="readline.h.html#rl_bind_key_in_map" title='rl_bind_key_in_map' data-ref="rl_bind_key_in_map" data-ref-filename="rl_bind_key_in_map">rl_bind_key_in_map</a> (<kbd>')'</kbd>, <a class="ref fn" href="#rl_insert_close" title='rl_insert_close' data-ref="rl_insert_close" data-ref-filename="rl_insert_close">rl_insert_close</a>, <a class="ref" href="keymaps.h.html#emacs_standard_keymap" title='emacs_standard_keymap' data-ref="emacs_standard_keymap" data-ref-filename="emacs_standard_keymap">emacs_standard_keymap</a>);</td></tr>
<tr><th id="77">77</th><td>      <a class="ref fn" href="readline.h.html#rl_bind_key_in_map" title='rl_bind_key_in_map' data-ref="rl_bind_key_in_map" data-ref-filename="rl_bind_key_in_map">rl_bind_key_in_map</a> (<kbd>']'</kbd>, <a class="ref fn" href="#rl_insert_close" title='rl_insert_close' data-ref="rl_insert_close" data-ref-filename="rl_insert_close">rl_insert_close</a>, <a class="ref" href="keymaps.h.html#emacs_standard_keymap" title='emacs_standard_keymap' data-ref="emacs_standard_keymap" data-ref-filename="emacs_standard_keymap">emacs_standard_keymap</a>);</td></tr>
<tr><th id="78">78</th><td>      <a class="ref fn" href="readline.h.html#rl_bind_key_in_map" title='rl_bind_key_in_map' data-ref="rl_bind_key_in_map" data-ref-filename="rl_bind_key_in_map">rl_bind_key_in_map</a> (<kbd>'}'</kbd>, <a class="ref fn" href="#rl_insert_close" title='rl_insert_close' data-ref="rl_insert_close" data-ref-filename="rl_insert_close">rl_insert_close</a>, <a class="ref" href="keymaps.h.html#emacs_standard_keymap" title='emacs_standard_keymap' data-ref="emacs_standard_keymap" data-ref-filename="emacs_standard_keymap">emacs_standard_keymap</a>);</td></tr>
<tr><th id="79">79</th><td>    }</td></tr>
<tr><th id="80">80</th><td>  <b>else</b></td></tr>
<tr><th id="81">81</th><td>    {	<i>/* ([{ */</i></td></tr>
<tr><th id="82">82</th><td>      <a class="ref fn" href="readline.h.html#rl_bind_key_in_map" title='rl_bind_key_in_map' data-ref="rl_bind_key_in_map" data-ref-filename="rl_bind_key_in_map">rl_bind_key_in_map</a> (<kbd>')'</kbd>, <a class="ref fn" href="readline.h.html#rl_insert" title='rl_insert' data-ref="rl_insert" data-ref-filename="rl_insert">rl_insert</a>, <a class="ref" href="keymaps.h.html#emacs_standard_keymap" title='emacs_standard_keymap' data-ref="emacs_standard_keymap" data-ref-filename="emacs_standard_keymap">emacs_standard_keymap</a>);</td></tr>
<tr><th id="83">83</th><td>      <a class="ref fn" href="readline.h.html#rl_bind_key_in_map" title='rl_bind_key_in_map' data-ref="rl_bind_key_in_map" data-ref-filename="rl_bind_key_in_map">rl_bind_key_in_map</a> (<kbd>']'</kbd>, <a class="ref fn" href="readline.h.html#rl_insert" title='rl_insert' data-ref="rl_insert" data-ref-filename="rl_insert">rl_insert</a>, <a class="ref" href="keymaps.h.html#emacs_standard_keymap" title='emacs_standard_keymap' data-ref="emacs_standard_keymap" data-ref-filename="emacs_standard_keymap">emacs_standard_keymap</a>);</td></tr>
<tr><th id="84">84</th><td>      <a class="ref fn" href="readline.h.html#rl_bind_key_in_map" title='rl_bind_key_in_map' data-ref="rl_bind_key_in_map" data-ref-filename="rl_bind_key_in_map">rl_bind_key_in_map</a> (<kbd>'}'</kbd>, <a class="ref fn" href="readline.h.html#rl_insert" title='rl_insert' data-ref="rl_insert" data-ref-filename="rl_insert">rl_insert</a>, <a class="ref" href="keymaps.h.html#emacs_standard_keymap" title='emacs_standard_keymap' data-ref="emacs_standard_keymap" data-ref-filename="emacs_standard_keymap">emacs_standard_keymap</a>);</td></tr>
<tr><th id="85">85</th><td>    }</td></tr>
<tr><th id="86">86</th><td>}</td></tr>
<tr><th id="87">87</th><td></td></tr>
<tr><th id="88">88</th><td><em>int</em></td></tr>
<tr><th id="89">89</th><td><dfn class="decl def fn" id="rl_set_paren_blink_timeout" title='rl_set_paren_blink_timeout' data-ref="rl_set_paren_blink_timeout" data-ref-filename="rl_set_paren_blink_timeout">rl_set_paren_blink_timeout</dfn> (u)</td></tr>
<tr><th id="90">90</th><td>     <em>int</em> <dfn class="local col2 decl" id="2u" title='u' data-type='int' data-ref="2u" data-ref-filename="2u">u</dfn>;</td></tr>
<tr><th id="91">91</th><td>{</td></tr>
<tr><th id="92">92</th><td>  <em>int</em> <dfn class="local col3 decl" id="3o" title='o' data-type='int' data-ref="3o" data-ref-filename="3o">o</dfn>;</td></tr>
<tr><th id="93">93</th><td></td></tr>
<tr><th id="94">94</th><td>  <a class="local col3 ref" href="#3o" title='o' data-ref="3o" data-ref-filename="3o">o</a> = <a class="tu ref" href="#_paren_blink_usec" title='_paren_blink_usec' data-use='r' data-ref="_paren_blink_usec" data-ref-filename="_paren_blink_usec">_paren_blink_usec</a>;</td></tr>
<tr><th id="95">95</th><td>  <b>if</b> (<a class="local col2 ref" href="#2u" title='u' data-ref="2u" data-ref-filename="2u">u</a> &gt; <var>0</var>)</td></tr>
<tr><th id="96">96</th><td>    <a class="tu ref" href="#_paren_blink_usec" title='_paren_blink_usec' data-use='w' data-ref="_paren_blink_usec" data-ref-filename="_paren_blink_usec">_paren_blink_usec</a> = <a class="local col2 ref" href="#2u" title='u' data-ref="2u" data-ref-filename="2u">u</a>;</td></tr>
<tr><th id="97">97</th><td>  <b>return</b> (<a class="local col3 ref" href="#3o" title='o' data-ref="3o" data-ref-filename="3o">o</a>);</td></tr>
<tr><th id="98">98</th><td>}</td></tr>
<tr><th id="99">99</th><td></td></tr>
<tr><th id="100">100</th><td><em>int</em></td></tr>
<tr><th id="101">101</th><td><dfn class="decl def fn" id="rl_insert_close" title='rl_insert_close' data-ref="rl_insert_close" data-ref-filename="rl_insert_close">rl_insert_close</dfn> (count, invoking_key)</td></tr>
<tr><th id="102">102</th><td>     <em>int</em> <dfn class="local col4 decl" id="4count" title='count' data-type='int' data-ref="4count" data-ref-filename="4count">count</dfn>, <dfn class="local col5 decl" id="5invoking_key" title='invoking_key' data-type='int' data-ref="5invoking_key" data-ref-filename="5invoking_key">invoking_key</dfn>;</td></tr>
<tr><th id="103">103</th><td>{</td></tr>
<tr><th id="104">104</th><td>  <b>if</b> (<a class="ref" href="readline.h.html#rl_explicit_arg" title='rl_explicit_arg' data-ref="rl_explicit_arg" data-ref-filename="rl_explicit_arg">rl_explicit_arg</a> || !<a class="ref" href="rlprivate.h.html#rl_blink_matching_paren" title='rl_blink_matching_paren' data-ref="rl_blink_matching_paren" data-ref-filename="rl_blink_matching_paren">rl_blink_matching_paren</a>)</td></tr>
<tr><th id="105">105</th><td>    <a class="ref fn" href="rlprivate.h.html#_rl_insert_char" title='_rl_insert_char' data-ref="_rl_insert_char" data-ref-filename="_rl_insert_char">_rl_insert_char</a> (<a class="local col4 ref" href="#4count" title='count' data-ref="4count" data-ref-filename="4count">count</a>, <a class="local col5 ref" href="#5invoking_key" title='invoking_key' data-ref="5invoking_key" data-ref-filename="5invoking_key">invoking_key</a>);</td></tr>
<tr><th id="106">106</th><td>  <b>else</b></td></tr>
<tr><th id="107">107</th><td>    {</td></tr>
<tr><th id="108">108</th><td><u>#<span data-ppcond="108">if</span> defined (<a class="macro" href="../../lib/libreadline/arch/x86_64/config.h.html#99" data-ref="_M/HAVE_SELECT">HAVE_SELECT</a>)</u></td></tr>
<tr><th id="109">109</th><td>      <em>int</em> <dfn class="local col6 decl" id="6orig_point" title='orig_point' data-type='int' data-ref="6orig_point" data-ref-filename="6orig_point">orig_point</dfn>, <dfn class="local col7 decl" id="7match_point" title='match_point' data-type='int' data-ref="7match_point" data-ref-filename="7match_point">match_point</dfn>, <dfn class="local col8 decl" id="8ready" title='ready' data-type='int' data-ref="8ready" data-ref-filename="8ready">ready</dfn>;</td></tr>
<tr><th id="110">110</th><td>      <b>struct</b> <a class="type" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/time.h.html#timeval" title='timeval' data-ref="timeval" data-ref-filename="timeval">timeval</a> <dfn class="local col9 decl" id="9timer" title='timer' data-type='struct timeval' data-ref="9timer" data-ref-filename="9timer">timer</dfn>;</td></tr>
<tr><th id="111">111</th><td>      <a class="typedef" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/fd_set.h.html#fd_set" title='fd_set' data-type='struct fd_set' data-ref="fd_set" data-ref-filename="fd_set">fd_set</a> <dfn class="local col0 decl" id="10readfds" title='readfds' data-type='fd_set' data-ref="10readfds" data-ref-filename="10readfds">readfds</dfn>;</td></tr>
<tr><th id="112">112</th><td></td></tr>
<tr><th id="113">113</th><td>      <a class="ref fn" href="rlprivate.h.html#_rl_insert_char" title='_rl_insert_char' data-ref="_rl_insert_char" data-ref-filename="_rl_insert_char">_rl_insert_char</a> (<var>1</var>, <a class="local col5 ref" href="#5invoking_key" title='invoking_key' data-ref="5invoking_key" data-ref-filename="5invoking_key">invoking_key</a>);</td></tr>
<tr><th id="114">114</th><td>      (*<a class="ref" href="readline.h.html#rl_redisplay_function" title='rl_redisplay_function' data-ref="rl_redisplay_function" data-ref-filename="rl_redisplay_function">rl_redisplay_function</a>) ();</td></tr>
<tr><th id="115">115</th><td>      <a class="local col7 ref" href="#7match_point" title='match_point' data-ref="7match_point" data-ref-filename="7match_point">match_point</a> =</td></tr>
<tr><th id="116">116</th><td>	<a class="tu ref fn" href="#find_matching_open" title='find_matching_open' data-use='c' data-ref="find_matching_open" data-ref-filename="find_matching_open">find_matching_open</a> (<a class="ref" href="readline.h.html#rl_line_buffer" title='rl_line_buffer' data-ref="rl_line_buffer" data-ref-filename="rl_line_buffer">rl_line_buffer</a>, <a class="ref" href="readline.h.html#rl_point" title='rl_point' data-ref="rl_point" data-ref-filename="rl_point">rl_point</a> - <var>2</var>, <a class="local col5 ref" href="#5invoking_key" title='invoking_key' data-ref="5invoking_key" data-ref-filename="5invoking_key">invoking_key</a>);</td></tr>
<tr><th id="117">117</th><td></td></tr>
<tr><th id="118">118</th><td>      <i>/* Emacs might message or ring the bell here, but I don't. */</i></td></tr>
<tr><th id="119">119</th><td>      <b>if</b> (<a class="local col7 ref" href="#7match_point" title='match_point' data-ref="7match_point" data-ref-filename="7match_point">match_point</a> &lt; <var>0</var>)</td></tr>
<tr><th id="120">120</th><td>	<b>return</b> -<var>1</var>;</td></tr>
<tr><th id="121">121</th><td></td></tr>
<tr><th id="122">122</th><td>      <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/fd_set.h.html#77" title="(void)__builtin_memset((&amp;readfds), 0, sizeof(*(&amp;readfds)))" data-ref="_M/FD_ZERO">FD_ZERO</a> (&amp;<a class="local col0 ref" href="#10readfds" title='readfds' data-ref="10readfds" data-ref-filename="10readfds">readfds</a>);</td></tr>
<tr><th id="123">123</th><td>      <a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/fd_set.h.html#70" title="((&amp;readfds)-&gt;fds_bits[(unsigned)(((rl_instream)-&gt;_file == -1 ? -1 : (int)(unsigned short)(rl_instream)-&gt;_file)) &gt;&gt; (5)] |= (1U &lt;&lt; ((((rl_instream)-&gt;_file == -1 ? -1 : (int)(unsigned short)(rl_instream)-&gt;_file)) &amp; ((32) - 1))))" data-ref="_M/FD_SET">FD_SET</a> (<a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#508" title="((rl_instream)-&gt;_file == -1 ? -1 : (int)(unsigned short)(rl_instream)-&gt;_file)" data-ref="_M/fileno">fileno</a> (<a class="ref" href="readline.h.html#rl_instream" title='rl_instream' data-ref="rl_instream" data-ref-filename="rl_instream">rl_instream</a>), &amp;<a class="local col0 ref" href="#10readfds" title='readfds' data-ref="10readfds" data-ref-filename="10readfds">readfds</a>);</td></tr>
<tr><th id="124">124</th><td>      <a class="macro" href="posixselect.h.html#41" title="do { (timer).tv_sec = (_paren_blink_usec) / 1000000; (timer).tv_usec = (_paren_blink_usec) % 1000000; } while (0)" data-ref="_M/USEC_TO_TIMEVAL">USEC_TO_TIMEVAL</a> (<a class="tu ref" href="#_paren_blink_usec" title='_paren_blink_usec' data-use='r' data-ref="_paren_blink_usec" data-ref-filename="_paren_blink_usec">_paren_blink_usec</a>, <a class="local col9 ref" href="#9timer" title='timer' data-ref="9timer" data-ref-filename="9timer">timer</a>);</td></tr>
<tr><th id="125">125</th><td></td></tr>
<tr><th id="126">126</th><td>      <a class="local col6 ref" href="#6orig_point" title='orig_point' data-ref="6orig_point" data-ref-filename="6orig_point">orig_point</a> = <a class="ref" href="readline.h.html#rl_point" title='rl_point' data-ref="rl_point" data-ref-filename="rl_point">rl_point</a>;</td></tr>
<tr><th id="127">127</th><td>      <a class="ref" href="readline.h.html#rl_point" title='rl_point' data-ref="rl_point" data-ref-filename="rl_point">rl_point</a> = <a class="local col7 ref" href="#7match_point" title='match_point' data-ref="7match_point" data-ref-filename="7match_point">match_point</a>;</td></tr>
<tr><th id="128">128</th><td>      (*<a class="ref" href="readline.h.html#rl_redisplay_function" title='rl_redisplay_function' data-ref="rl_redisplay_function" data-ref-filename="rl_redisplay_function">rl_redisplay_function</a>) ();</td></tr>
<tr><th id="129">129</th><td>      <a class="local col8 ref" href="#8ready" title='ready' data-ref="8ready" data-ref-filename="8ready">ready</a> = <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/select.h.html#__select50" title='select' data-ref="__select50" data-ref-filename="__select50">select</a> (<var>1</var>, &amp;<a class="local col0 ref" href="#10readfds" title='readfds' data-ref="10readfds" data-ref-filename="10readfds">readfds</a>, (<a class="typedef" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/fd_set.h.html#fd_set" title='fd_set' data-type='struct fd_set' data-ref="fd_set" data-ref-filename="fd_set">fd_set</a> *)<a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>, (<a class="typedef" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/fd_set.h.html#fd_set" title='fd_set' data-type='struct fd_set' data-ref="fd_set" data-ref-filename="fd_set">fd_set</a> *)<a class="macro" href="../../../../../objdir.amd64/destdir.amd64/usr/include/sys/null.h.html#13" title="((void *)0)" data-ref="_M/NULL">NULL</a>, &amp;<a class="local col9 ref" href="#9timer" title='timer' data-ref="9timer" data-ref-filename="9timer">timer</a>);</td></tr>
<tr><th id="130">130</th><td>      <a class="ref" href="readline.h.html#rl_point" title='rl_point' data-ref="rl_point" data-ref-filename="rl_point">rl_point</a> = <a class="local col6 ref" href="#6orig_point" title='orig_point' data-ref="6orig_point" data-ref-filename="6orig_point">orig_point</a>;</td></tr>
<tr><th id="131">131</th><td><u>#<span data-ppcond="108">else</span> /* !HAVE_SELECT */</u></td></tr>
<tr><th id="132">132</th><td>      _rl_insert_char (count, invoking_key);</td></tr>
<tr><th id="133">133</th><td><u>#<span data-ppcond="108">endif</span> /* !HAVE_SELECT */</u></td></tr>
<tr><th id="134">134</th><td>    }</td></tr>
<tr><th id="135">135</th><td>  <b>return</b> <var>0</var>;</td></tr>
<tr><th id="136">136</th><td>}</td></tr>
<tr><th id="137">137</th><td></td></tr>
<tr><th id="138">138</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="139">139</th><td><dfn class="tu decl def fn" id="find_matching_open" title='find_matching_open' data-type='int find_matching_open(char * string, int from, int closer)' data-ref="find_matching_open" data-ref-filename="find_matching_open">find_matching_open</dfn> (string, from, closer)</td></tr>
<tr><th id="140">140</th><td>     <em>char</em> *<dfn class="local col1 decl" id="11string" title='string' data-type='char *' data-ref="11string" data-ref-filename="11string">string</dfn>;</td></tr>
<tr><th id="141">141</th><td>     <em>int</em> <dfn class="local col2 decl" id="12from" title='from' data-type='int' data-ref="12from" data-ref-filename="12from">from</dfn>, <dfn class="local col3 decl" id="13closer" title='closer' data-type='int' data-ref="13closer" data-ref-filename="13closer">closer</dfn>;</td></tr>
<tr><th id="142">142</th><td>{</td></tr>
<tr><th id="143">143</th><td>  <em>register</em> <em>int</em> <dfn class="local col4 decl" id="14i" title='i' data-type='int' data-ref="14i" data-ref-filename="14i">i</dfn>;</td></tr>
<tr><th id="144">144</th><td>  <em>int</em> <dfn class="local col5 decl" id="15opener" title='opener' data-type='int' data-ref="15opener" data-ref-filename="15opener">opener</dfn>, <dfn class="local col6 decl" id="16level" title='level' data-type='int' data-ref="16level" data-ref-filename="16level">level</dfn>, <dfn class="local col7 decl" id="17delimiter" title='delimiter' data-type='int' data-ref="17delimiter" data-ref-filename="17delimiter">delimiter</dfn>;</td></tr>
<tr><th id="145">145</th><td></td></tr>
<tr><th id="146">146</th><td>  <b>switch</b> (<a class="local col3 ref" href="#13closer" title='closer' data-ref="13closer" data-ref-filename="13closer">closer</a>)</td></tr>
<tr><th id="147">147</th><td>    {</td></tr>
<tr><th id="148">148</th><td>    <b>case</b> <kbd>']'</kbd>: <a class="local col5 ref" href="#15opener" title='opener' data-ref="15opener" data-ref-filename="15opener">opener</a> = <kbd>'['</kbd>; <b>break</b>;</td></tr>
<tr><th id="149">149</th><td>    <b>case</b> <kbd>'}'</kbd>: <a class="local col5 ref" href="#15opener" title='opener' data-ref="15opener" data-ref-filename="15opener">opener</a> = <kbd>'{'</kbd>; <b>break</b>;</td></tr>
<tr><th id="150">150</th><td>    <b>case</b> <kbd>')'</kbd>: <a class="local col5 ref" href="#15opener" title='opener' data-ref="15opener" data-ref-filename="15opener">opener</a> = <kbd>'('</kbd>; <b>break</b>;</td></tr>
<tr><th id="151">151</th><td>    <b>default</b>:</td></tr>
<tr><th id="152">152</th><td>      <b>return</b> (-<var>1</var>);</td></tr>
<tr><th id="153">153</th><td>    }</td></tr>
<tr><th id="154">154</th><td></td></tr>
<tr><th id="155">155</th><td>  <a class="local col6 ref" href="#16level" title='level' data-ref="16level" data-ref-filename="16level">level</a> = <var>1</var>;			<i>/* The closer passed in counts as 1. */</i></td></tr>
<tr><th id="156">156</th><td>  <a class="local col7 ref" href="#17delimiter" title='delimiter' data-ref="17delimiter" data-ref-filename="17delimiter">delimiter</a> = <var>0</var>;		<i>/* Delimited state unknown. */</i></td></tr>
<tr><th id="157">157</th><td></td></tr>
<tr><th id="158">158</th><td>  <b>for</b> (<a class="local col4 ref" href="#14i" title='i' data-ref="14i" data-ref-filename="14i">i</a> = <a class="local col2 ref" href="#12from" title='from' data-ref="12from" data-ref-filename="12from">from</a>; <a class="local col4 ref" href="#14i" title='i' data-ref="14i" data-ref-filename="14i">i</a> &gt; -<var>1</var>; <a class="local col4 ref" href="#14i" title='i' data-ref="14i" data-ref-filename="14i">i</a>--)</td></tr>
<tr><th id="159">159</th><td>    {</td></tr>
<tr><th id="160">160</th><td>      <b>if</b> (<a class="local col7 ref" href="#17delimiter" title='delimiter' data-ref="17delimiter" data-ref-filename="17delimiter">delimiter</a> &amp;&amp; (<a class="local col1 ref" href="#11string" title='string' data-ref="11string" data-ref-filename="11string">string</a>[<a class="local col4 ref" href="#14i" title='i' data-ref="14i" data-ref-filename="14i">i</a>] == <a class="local col7 ref" href="#17delimiter" title='delimiter' data-ref="17delimiter" data-ref-filename="17delimiter">delimiter</a>))</td></tr>
<tr><th id="161">161</th><td>	<a class="local col7 ref" href="#17delimiter" title='delimiter' data-ref="17delimiter" data-ref-filename="17delimiter">delimiter</a> = <var>0</var>;</td></tr>
<tr><th id="162">162</th><td>      <b>else</b> <b>if</b> (<a class="ref" href="readline.h.html#rl_basic_quote_characters" title='rl_basic_quote_characters' data-ref="rl_basic_quote_characters" data-ref-filename="rl_basic_quote_characters">rl_basic_quote_characters</a> &amp;&amp; <a class="ref fn" href="../../../../../objdir.amd64/destdir.amd64/usr/include/string.h.html#strchr" title='strchr' data-ref="strchr" data-ref-filename="strchr">strchr</a> (<a class="ref" href="readline.h.html#rl_basic_quote_characters" title='rl_basic_quote_characters' data-ref="rl_basic_quote_characters" data-ref-filename="rl_basic_quote_characters">rl_basic_quote_characters</a>, <a class="local col1 ref" href="#11string" title='string' data-ref="11string" data-ref-filename="11string">string</a>[<a class="local col4 ref" href="#14i" title='i' data-ref="14i" data-ref-filename="14i">i</a>]))</td></tr>
<tr><th id="163">163</th><td>	<a class="local col7 ref" href="#17delimiter" title='delimiter' data-ref="17delimiter" data-ref-filename="17delimiter">delimiter</a> = <a class="local col1 ref" href="#11string" title='string' data-ref="11string" data-ref-filename="11string">string</a>[<a class="local col4 ref" href="#14i" title='i' data-ref="14i" data-ref-filename="14i">i</a>];</td></tr>
<tr><th id="164">164</th><td>      <b>else</b> <b>if</b> (!<a class="local col7 ref" href="#17delimiter" title='delimiter' data-ref="17delimiter" data-ref-filename="17delimiter">delimiter</a> &amp;&amp; (<a class="local col1 ref" href="#11string" title='string' data-ref="11string" data-ref-filename="11string">string</a>[<a class="local col4 ref" href="#14i" title='i' data-ref="14i" data-ref-filename="14i">i</a>] == <a class="local col3 ref" href="#13closer" title='closer' data-ref="13closer" data-ref-filename="13closer">closer</a>))</td></tr>
<tr><th id="165">165</th><td>	<a class="local col6 ref" href="#16level" title='level' data-ref="16level" data-ref-filename="16level">level</a>++;</td></tr>
<tr><th id="166">166</th><td>      <b>else</b> <b>if</b> (!<a class="local col7 ref" href="#17delimiter" title='delimiter' data-ref="17delimiter" data-ref-filename="17delimiter">delimiter</a> &amp;&amp; (<a class="local col1 ref" href="#11string" title='string' data-ref="11string" data-ref-filename="11string">string</a>[<a class="local col4 ref" href="#14i" title='i' data-ref="14i" data-ref-filename="14i">i</a>] == <a class="local col5 ref" href="#15opener" title='opener' data-ref="15opener" data-ref-filename="15opener">opener</a>))</td></tr>
<tr><th id="167">167</th><td>	<a class="local col6 ref" href="#16level" title='level' data-ref="16level" data-ref-filename="16level">level</a>--;</td></tr>
<tr><th id="168">168</th><td></td></tr>
<tr><th id="169">169</th><td>      <b>if</b> (!<a class="local col6 ref" href="#16level" title='level' data-ref="16level" data-ref-filename="16level">level</a>)</td></tr>
<tr><th id="170">170</th><td>	<b>break</b>;</td></tr>
<tr><th id="171">171</th><td>    }</td></tr>
<tr><th id="172">172</th><td>  <b>return</b> (<a class="local col4 ref" href="#14i" title='i' data-ref="14i" data-ref-filename="14i">i</a>);</td></tr>
<tr><th id="173">173</th><td>}</td></tr>
<tr><th id="174">174</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2019-Jul-19</em> from project netbsd revision <em>f9da89e0d</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
