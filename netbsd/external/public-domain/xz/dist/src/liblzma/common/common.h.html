<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>common.h source code [netbsd/external/public-domain/xz/dist/src/liblzma/common/common.h] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="lzma_filter_info_s,lzma_internal_s,lzma_next_coder_s "/>
<link rel="stylesheet" href="https://code.woboq.org/data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="https://code.woboq.org/data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery-ui.min.js"></script>
<script>var file = 'netbsd/external/public-domain/xz/dist/src/liblzma/common/common.h'; var root_path = '../../../../../../../..'; var data_path = 'https://code.woboq.org/data'; var ecma_script_api_version = 2;</script>
<script src='https://code.woboq.org/data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../../../../..'>netbsd</a>/<a href='../../../../../..'>external</a>/<a href='../../../../..'>public-domain</a>/<a href='../../../..'>xz</a>/<a href='../../..'>dist</a>/<a href='../..'>src</a>/<a href='..'>liblzma</a>/<a href='./'>common</a>/<a href='common.h.html'>common.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>///////////////////////////////////////////////////////////////////////////////</i></td></tr>
<tr><th id="2">2</th><td><i>//</i></td></tr>
<tr><th id="3">3</th><td><i>/// \file       common.h</i></td></tr>
<tr><th id="4">4</th><td><i>/// \brief      Definitions common to the whole liblzma library</i></td></tr>
<tr><th id="5">5</th><td><i>//</i></td></tr>
<tr><th id="6">6</th><td><i>//  Author:     Lasse Collin</i></td></tr>
<tr><th id="7">7</th><td><i>//</i></td></tr>
<tr><th id="8">8</th><td><i>//  This file has been put into the public domain.</i></td></tr>
<tr><th id="9">9</th><td><i>//  You can do whatever you want with this file.</i></td></tr>
<tr><th id="10">10</th><td><i>//</i></td></tr>
<tr><th id="11">11</th><td><i>///////////////////////////////////////////////////////////////////////////////</i></td></tr>
<tr><th id="12">12</th><td></td></tr>
<tr><th id="13">13</th><td><u>#<span data-ppcond="13">ifndef</span> <span class="macro" data-ref="_M/LZMA_COMMON_H">LZMA_COMMON_H</span></u></td></tr>
<tr><th id="14">14</th><td><u>#define <dfn class="macro" id="_M/LZMA_COMMON_H" data-ref="_M/LZMA_COMMON_H">LZMA_COMMON_H</dfn></u></td></tr>
<tr><th id="15">15</th><td></td></tr>
<tr><th id="16">16</th><td><u>#include <a href="../../common/sysdefs.h.html">"sysdefs.h"</a></u></td></tr>
<tr><th id="17">17</th><td><u>#include <a href="../../common/mythread.h.html">"mythread.h"</a></u></td></tr>
<tr><th id="18">18</th><td><u>#include <a href="../../common/tuklib_integer.h.html">"tuklib_integer.h"</a></u></td></tr>
<tr><th id="19">19</th><td></td></tr>
<tr><th id="20">20</th><td><u>#<span data-ppcond="20">if</span> defined(<span class="macro" data-ref="_M/_WIN32">_WIN32</span>) || defined(<span class="macro" data-ref="_M/__CYGWIN__">__CYGWIN__</span>)</u></td></tr>
<tr><th id="21">21</th><td><u>#	ifdef DLL_EXPORT</u></td></tr>
<tr><th id="22">22</th><td><u>#		define LZMA_API_EXPORT __declspec(dllexport)</u></td></tr>
<tr><th id="23">23</th><td><u>#	else</u></td></tr>
<tr><th id="24">24</th><td><u>#		define LZMA_API_EXPORT</u></td></tr>
<tr><th id="25">25</th><td><u>#	endif</u></td></tr>
<tr><th id="26">26</th><td><i>// Don't use ifdef or defined() below.</i></td></tr>
<tr><th id="27">27</th><td><u>#<span data-ppcond="20">elif</span> <a class="macro" href="../../../../include/config.h.html#288" title="1" data-ref="_M/HAVE_VISIBILITY">HAVE_VISIBILITY</a></u></td></tr>
<tr><th id="28">28</th><td><u>#	define <dfn class="macro" id="_M/LZMA_API_EXPORT" data-ref="_M/LZMA_API_EXPORT">LZMA_API_EXPORT</dfn> __attribute__((__visibility__("default")))</u></td></tr>
<tr><th id="29">29</th><td><u>#<span data-ppcond="20">else</span></u></td></tr>
<tr><th id="30">30</th><td><u>#	define LZMA_API_EXPORT</u></td></tr>
<tr><th id="31">31</th><td><u>#<span data-ppcond="20">endif</span></u></td></tr>
<tr><th id="32">32</th><td></td></tr>
<tr><th id="33">33</th><td><u>#define <dfn class="macro" id="_M/LZMA_API" data-ref="_M/LZMA_API">LZMA_API</dfn>(type) LZMA_API_EXPORT type LZMA_API_CALL</u></td></tr>
<tr><th id="34">34</th><td></td></tr>
<tr><th id="35">35</th><td><u>#include <a href="../api/lzma.h.html">"lzma.h"</a></u></td></tr>
<tr><th id="36">36</th><td></td></tr>
<tr><th id="37">37</th><td><i>// These allow helping the compiler in some often-executed branches, whose</i></td></tr>
<tr><th id="38">38</th><td><i>// result is almost always the same.</i></td></tr>
<tr><th id="39">39</th><td><u>#<span data-ppcond="39">ifdef</span> <span class="macro" data-ref="_M/__GNUC__">__GNUC__</span></u></td></tr>
<tr><th id="40">40</th><td><u>#	define <dfn class="macro" id="_M/likely" data-ref="_M/likely">likely</dfn>(expr) __builtin_expect(expr, true)</u></td></tr>
<tr><th id="41">41</th><td><u>#	define <dfn class="macro" id="_M/unlikely" data-ref="_M/unlikely">unlikely</dfn>(expr) __builtin_expect(expr, false)</u></td></tr>
<tr><th id="42">42</th><td><u>#<span data-ppcond="39">else</span></u></td></tr>
<tr><th id="43">43</th><td><u>#	define likely(expr) (expr)</u></td></tr>
<tr><th id="44">44</th><td><u>#	define unlikely(expr) (expr)</u></td></tr>
<tr><th id="45">45</th><td><u>#<span data-ppcond="39">endif</span></u></td></tr>
<tr><th id="46">46</th><td></td></tr>
<tr><th id="47">47</th><td></td></tr>
<tr><th id="48">48</th><td><i class="doc">/// Size of temporary buffers needed in some filters</i></td></tr>
<tr><th id="49">49</th><td><u>#define <dfn class="macro" id="_M/LZMA_BUFFER_SIZE" data-ref="_M/LZMA_BUFFER_SIZE">LZMA_BUFFER_SIZE</dfn> 4096</u></td></tr>
<tr><th id="50">50</th><td></td></tr>
<tr><th id="51">51</th><td></td></tr>
<tr><th id="52">52</th><td><i class="doc">/// Maximum number of worker threads within one multithreaded component.</i></td></tr>
<tr><th id="53">53</th><td><i class="doc">/// The limit exists solely to make it simpler to prevent integer overflows</i></td></tr>
<tr><th id="54">54</th><td><i class="doc">/// when allocating structures etc. This should be big enough for now...</i></td></tr>
<tr><th id="55">55</th><td><i class="doc">/// the code won't scale anywhere close to this number anyway.</i></td></tr>
<tr><th id="56">56</th><td><u>#define <dfn class="macro" id="_M/LZMA_THREADS_MAX" data-ref="_M/LZMA_THREADS_MAX">LZMA_THREADS_MAX</dfn> 16384</u></td></tr>
<tr><th id="57">57</th><td></td></tr>
<tr><th id="58">58</th><td></td></tr>
<tr><th id="59">59</th><td><i class="doc">/// Starting value for memory usage estimates. Instead of calculating size</i></td></tr>
<tr><th id="60">60</th><td><i class="doc">/// of _every_ structure and taking into account malloc() overhead etc., we</i></td></tr>
<tr><th id="61">61</th><td><i class="doc">/// add a base size to all memory usage estimates. It's not very accurate</i></td></tr>
<tr><th id="62">62</th><td><i class="doc">/// but should be easily good enough.</i></td></tr>
<tr><th id="63">63</th><td><u>#define <dfn class="macro" id="_M/LZMA_MEMUSAGE_BASE" data-ref="_M/LZMA_MEMUSAGE_BASE">LZMA_MEMUSAGE_BASE</dfn> (UINT64_C(1) &lt;&lt; 15)</u></td></tr>
<tr><th id="64">64</th><td></td></tr>
<tr><th id="65">65</th><td><i class="doc">/// Start of internal Filter ID space. These IDs must never be used</i></td></tr>
<tr><th id="66">66</th><td><i class="doc">/// in Streams.</i></td></tr>
<tr><th id="67">67</th><td><u>#define <dfn class="macro" id="_M/LZMA_FILTER_RESERVED_START" data-ref="_M/LZMA_FILTER_RESERVED_START">LZMA_FILTER_RESERVED_START</dfn> (LZMA_VLI_C(1) &lt;&lt; 62)</u></td></tr>
<tr><th id="68">68</th><td></td></tr>
<tr><th id="69">69</th><td></td></tr>
<tr><th id="70">70</th><td><i class="doc">/// Supported flags that can be passed to lzma_stream_decoder()</i></td></tr>
<tr><th id="71">71</th><td><i class="doc">/// or lzma_auto_decoder().</i></td></tr>
<tr><th id="72">72</th><td><u>#define <dfn class="macro" id="_M/LZMA_SUPPORTED_FLAGS" data-ref="_M/LZMA_SUPPORTED_FLAGS">LZMA_SUPPORTED_FLAGS</dfn> \</u></td></tr>
<tr><th id="73">73</th><td><u>	( LZMA_TELL_NO_CHECK \</u></td></tr>
<tr><th id="74">74</th><td><u>	| LZMA_TELL_UNSUPPORTED_CHECK \</u></td></tr>
<tr><th id="75">75</th><td><u>	| LZMA_TELL_ANY_CHECK \</u></td></tr>
<tr><th id="76">76</th><td><u>	| LZMA_IGNORE_CHECK \</u></td></tr>
<tr><th id="77">77</th><td><u>	| LZMA_CONCATENATED )</u></td></tr>
<tr><th id="78">78</th><td></td></tr>
<tr><th id="79">79</th><td></td></tr>
<tr><th id="80">80</th><td><i class="doc">/// Largest valid lzma_action value as unsigned integer.</i></td></tr>
<tr><th id="81">81</th><td><u>#define <dfn class="macro" id="_M/LZMA_ACTION_MAX" data-ref="_M/LZMA_ACTION_MAX">LZMA_ACTION_MAX</dfn> ((unsigned int)(<a class="enum" href="../api/lzma/base.h.html#LZMA_FULL_BARRIER" title='LZMA_FULL_BARRIER' data-ref="LZMA_FULL_BARRIER" data-ref-filename="LZMA_FULL_BARRIER">LZMA_FULL_BARRIER</a>))</u></td></tr>
<tr><th id="82">82</th><td></td></tr>
<tr><th id="83">83</th><td></td></tr>
<tr><th id="84">84</th><td><i class="doc">/// Special return value (lzma_ret) to indicate that a timeout was reached</i></td></tr>
<tr><th id="85">85</th><td><i class="doc">/// and lzma_code() must not return LZMA_BUF_ERROR. This is converted to</i></td></tr>
<tr><th id="86">86</th><td><i class="doc">/// LZMA_OK in lzma_code(). This is not in the lzma_ret enumeration because</i></td></tr>
<tr><th id="87">87</th><td><i class="doc">/// there's no need to have it in the public API.</i></td></tr>
<tr><th id="88">88</th><td><u>#define <dfn class="macro" id="_M/LZMA_TIMED_OUT" data-ref="_M/LZMA_TIMED_OUT">LZMA_TIMED_OUT</dfn> 32</u></td></tr>
<tr><th id="89">89</th><td></td></tr>
<tr><th id="90">90</th><td></td></tr>
<tr><th id="91">91</th><td><b>typedef</b> <b>struct</b> <a class="type" href="#lzma_next_coder_s" title='lzma_next_coder_s' data-ref="lzma_next_coder_s" data-ref-filename="lzma_next_coder_s">lzma_next_coder_s</a> <dfn class="typedef" id="lzma_next_coder" title='lzma_next_coder' data-type='struct lzma_next_coder_s' data-ref="lzma_next_coder" data-ref-filename="lzma_next_coder">lzma_next_coder</dfn>;</td></tr>
<tr><th id="92">92</th><td></td></tr>
<tr><th id="93">93</th><td><b>typedef</b> <b>struct</b> <a class="type" href="#lzma_filter_info_s" title='lzma_filter_info_s' data-ref="lzma_filter_info_s" data-ref-filename="lzma_filter_info_s">lzma_filter_info_s</a> <dfn class="typedef" id="lzma_filter_info" title='lzma_filter_info' data-type='struct lzma_filter_info_s' data-ref="lzma_filter_info" data-ref-filename="lzma_filter_info">lzma_filter_info</dfn>;</td></tr>
<tr><th id="94">94</th><td></td></tr>
<tr><th id="95">95</th><td></td></tr>
<tr><th id="96">96</th><td><i class="doc">/// Type of a function used to initialize a filter encoder or decoder</i></td></tr>
<tr><th id="97">97</th><td><b>typedef</b> <a class="typedef" href="../api/lzma/base.h.html#lzma_ret" title='lzma_ret' data-type='enum lzma_ret' data-ref="lzma_ret" data-ref-filename="lzma_ret">lzma_ret</a> (*<dfn class="typedef" id="lzma_init_function" title='lzma_init_function' data-type='lzma_ret (*)(lzma_next_coder *, const lzma_allocator *, const lzma_filter_info *)' data-ref="lzma_init_function" data-ref-filename="lzma_init_function">lzma_init_function</dfn>)(</td></tr>
<tr><th id="98">98</th><td>		<a class="typedef" href="#lzma_next_coder" title='lzma_next_coder' data-type='struct lzma_next_coder_s' data-ref="lzma_next_coder" data-ref-filename="lzma_next_coder">lzma_next_coder</a> *<dfn class="local col1 decl" id="301next" title='next' data-type='lzma_next_coder *' data-ref="301next" data-ref-filename="301next">next</dfn>, <em>const</em> <a class="typedef" href="../api/lzma/base.h.html#lzma_allocator" title='lzma_allocator' data-type='struct lzma_allocator' data-ref="lzma_allocator" data-ref-filename="lzma_allocator">lzma_allocator</a> *<dfn class="local col2 decl" id="302allocator" title='allocator' data-type='const lzma_allocator *' data-ref="302allocator" data-ref-filename="302allocator">allocator</dfn>,</td></tr>
<tr><th id="99">99</th><td>		<em>const</em> <a class="typedef" href="#lzma_filter_info" title='lzma_filter_info' data-type='struct lzma_filter_info_s' data-ref="lzma_filter_info" data-ref-filename="lzma_filter_info">lzma_filter_info</a> *<dfn class="local col3 decl" id="303filters" title='filters' data-type='const lzma_filter_info *' data-ref="303filters" data-ref-filename="303filters">filters</dfn>);</td></tr>
<tr><th id="100">100</th><td></td></tr>
<tr><th id="101">101</th><td><i class="doc">/// Type of a function to do some kind of coding work (filters, Stream,</i></td></tr>
<tr><th id="102">102</th><td><i class="doc">/// Block encoders/decoders etc.). Some special coders use don't use both</i></td></tr>
<tr><th id="103">103</th><td><i class="doc">/// input and output buffers, but for simplicity they still use this same</i></td></tr>
<tr><th id="104">104</th><td><i class="doc">/// function prototype.</i></td></tr>
<tr><th id="105">105</th><td><b>typedef</b> <a class="typedef" href="../api/lzma/base.h.html#lzma_ret" title='lzma_ret' data-type='enum lzma_ret' data-ref="lzma_ret" data-ref-filename="lzma_ret">lzma_ret</a> (*<dfn class="typedef" id="lzma_code_function" title='lzma_code_function' data-type='lzma_ret (*)(void *, const lzma_allocator *, const uint8_t *restrict, size_t *restrict, size_t, uint8_t *restrict, size_t *restrict, size_t, lzma_action)' data-ref="lzma_code_function" data-ref-filename="lzma_code_function">lzma_code_function</dfn>)(</td></tr>
<tr><th id="106">106</th><td>		<em>void</em> *<dfn class="local col4 decl" id="304coder" title='coder' data-type='void *' data-ref="304coder" data-ref-filename="304coder">coder</dfn>, <em>const</em> <a class="typedef" href="../api/lzma/base.h.html#lzma_allocator" title='lzma_allocator' data-type='struct lzma_allocator' data-ref="lzma_allocator" data-ref-filename="lzma_allocator">lzma_allocator</a> *<dfn class="local col5 decl" id="305allocator" title='allocator' data-type='const lzma_allocator *' data-ref="305allocator" data-ref-filename="305allocator">allocator</dfn>,</td></tr>
<tr><th id="107">107</th><td>		<em>const</em> <a class="typedef" href="../../../../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#uint8_t" title='uint8_t' data-type='__uint8_t' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</a> *<b>restrict</b> <dfn class="local col6 decl" id="306in" title='in' data-type='const uint8_t *restrict' data-ref="306in" data-ref-filename="306in">in</dfn>, <a class="typedef" href="../../../../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned int' data-ref="size_t" data-ref-filename="size_t">size_t</a> *<b>restrict</b> <dfn class="local col7 decl" id="307in_pos" title='in_pos' data-type='size_t *restrict' data-ref="307in_pos" data-ref-filename="307in_pos">in_pos</dfn>,</td></tr>
<tr><th id="108">108</th><td>		<a class="typedef" href="../../../../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned int' data-ref="size_t" data-ref-filename="size_t">size_t</a> <dfn class="local col8 decl" id="308in_size" title='in_size' data-type='size_t' data-ref="308in_size" data-ref-filename="308in_size">in_size</dfn>, <a class="typedef" href="../../../../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#uint8_t" title='uint8_t' data-type='__uint8_t' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</a> *<b>restrict</b> <dfn class="local col9 decl" id="309out" title='out' data-type='uint8_t *restrict' data-ref="309out" data-ref-filename="309out">out</dfn>,</td></tr>
<tr><th id="109">109</th><td>		<a class="typedef" href="../../../../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned int' data-ref="size_t" data-ref-filename="size_t">size_t</a> *<b>restrict</b> <dfn class="local col0 decl" id="310out_pos" title='out_pos' data-type='size_t *restrict' data-ref="310out_pos" data-ref-filename="310out_pos">out_pos</dfn>, <a class="typedef" href="../../../../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned int' data-ref="size_t" data-ref-filename="size_t">size_t</a> <dfn class="local col1 decl" id="311out_size" title='out_size' data-type='size_t' data-ref="311out_size" data-ref-filename="311out_size">out_size</dfn>,</td></tr>
<tr><th id="110">110</th><td>		<a class="typedef" href="../api/lzma/base.h.html#lzma_action" title='lzma_action' data-type='enum lzma_action' data-ref="lzma_action" data-ref-filename="lzma_action">lzma_action</a> <dfn class="local col2 decl" id="312action" title='action' data-type='lzma_action' data-ref="312action" data-ref-filename="312action">action</dfn>);</td></tr>
<tr><th id="111">111</th><td></td></tr>
<tr><th id="112">112</th><td><i class="doc">/// Type of a function to free the memory allocated for the coder</i></td></tr>
<tr><th id="113">113</th><td><b>typedef</b> <em>void</em> (*<dfn class="typedef" id="lzma_end_function" title='lzma_end_function' data-type='void (*)(void *, const lzma_allocator *)' data-ref="lzma_end_function" data-ref-filename="lzma_end_function">lzma_end_function</dfn>)(</td></tr>
<tr><th id="114">114</th><td>		<em>void</em> *<dfn class="local col3 decl" id="313coder" title='coder' data-type='void *' data-ref="313coder" data-ref-filename="313coder">coder</dfn>, <em>const</em> <a class="typedef" href="../api/lzma/base.h.html#lzma_allocator" title='lzma_allocator' data-type='struct lzma_allocator' data-ref="lzma_allocator" data-ref-filename="lzma_allocator">lzma_allocator</a> *<dfn class="local col4 decl" id="314allocator" title='allocator' data-type='const lzma_allocator *' data-ref="314allocator" data-ref-filename="314allocator">allocator</dfn>);</td></tr>
<tr><th id="115">115</th><td></td></tr>
<tr><th id="116">116</th><td></td></tr>
<tr><th id="117">117</th><td><i class="doc">/// Raw coder validates and converts an array of lzma_filter structures to</i></td></tr>
<tr><th id="118">118</th><td><i class="doc">/// an array of lzma_filter_info structures. This array is used with</i></td></tr>
<tr><th id="119">119</th><td><i class="doc">/// lzma_next_filter_init to initialize the filter chain.</i></td></tr>
<tr><th id="120">120</th><td><b>struct</b> <dfn class="type def" id="lzma_filter_info_s" title='lzma_filter_info_s' data-ref="lzma_filter_info_s" data-ref-filename="lzma_filter_info_s">lzma_filter_info_s</dfn> {</td></tr>
<tr><th id="121">121</th><td>	<i class="doc">/// Filter ID. This is used only by the encoder</i></td></tr>
<tr><th id="122">122</th><td><i class="doc">	/// with lzma_filters_update().</i></td></tr>
<tr><th id="123">123</th><td>	<a class="typedef" href="../api/lzma/vli.h.html#lzma_vli" title='lzma_vli' data-type='uint64_t' data-ref="lzma_vli" data-ref-filename="lzma_vli">lzma_vli</a> <dfn class="decl field" id="lzma_filter_info_s::id" title='lzma_filter_info_s::id' data-ref="lzma_filter_info_s::id" data-ref-filename="lzma_filter_info_s..id">id</dfn>;</td></tr>
<tr><th id="124">124</th><td></td></tr>
<tr><th id="125">125</th><td>	<i class="doc">/// Pointer to function used to initialize the filter.</i></td></tr>
<tr><th id="126">126</th><td><i class="doc">	/// This is NULL to indicate end of array.</i></td></tr>
<tr><th id="127">127</th><td>	<a class="typedef" href="#lzma_init_function" title='lzma_init_function' data-type='lzma_ret (*)(lzma_next_coder *, const lzma_allocator *, const lzma_filter_info *)' data-ref="lzma_init_function" data-ref-filename="lzma_init_function">lzma_init_function</a> <dfn class="decl field" id="lzma_filter_info_s::init" title='lzma_filter_info_s::init' data-ref="lzma_filter_info_s::init" data-ref-filename="lzma_filter_info_s..init">init</dfn>;</td></tr>
<tr><th id="128">128</th><td></td></tr>
<tr><th id="129">129</th><td>	<i class="doc">/// Pointer to filter's options structure</i></td></tr>
<tr><th id="130">130</th><td>	<em>void</em> *<dfn class="decl field" id="lzma_filter_info_s::options" title='lzma_filter_info_s::options' data-ref="lzma_filter_info_s::options" data-ref-filename="lzma_filter_info_s..options">options</dfn>;</td></tr>
<tr><th id="131">131</th><td>};</td></tr>
<tr><th id="132">132</th><td></td></tr>
<tr><th id="133">133</th><td></td></tr>
<tr><th id="134">134</th><td><i class="doc">/// Hold data and function pointers of the next filter in the chain.</i></td></tr>
<tr><th id="135">135</th><td><b>struct</b> <dfn class="type def" id="lzma_next_coder_s" title='lzma_next_coder_s' data-ref="lzma_next_coder_s" data-ref-filename="lzma_next_coder_s">lzma_next_coder_s</dfn> {</td></tr>
<tr><th id="136">136</th><td>	<i class="doc">/// Pointer to coder-specific data</i></td></tr>
<tr><th id="137">137</th><td>	<em>void</em> *<dfn class="decl field" id="lzma_next_coder_s::coder" title='lzma_next_coder_s::coder' data-ref="lzma_next_coder_s::coder" data-ref-filename="lzma_next_coder_s..coder">coder</dfn>;</td></tr>
<tr><th id="138">138</th><td></td></tr>
<tr><th id="139">139</th><td>	<i class="doc">/// Filter ID. This is LZMA_VLI_UNKNOWN when this structure doesn't</i></td></tr>
<tr><th id="140">140</th><td><i class="doc">	/// point to a filter coder.</i></td></tr>
<tr><th id="141">141</th><td>	<a class="typedef" href="../api/lzma/vli.h.html#lzma_vli" title='lzma_vli' data-type='uint64_t' data-ref="lzma_vli" data-ref-filename="lzma_vli">lzma_vli</a> <dfn class="decl field" id="lzma_next_coder_s::id" title='lzma_next_coder_s::id' data-ref="lzma_next_coder_s::id" data-ref-filename="lzma_next_coder_s..id">id</dfn>;</td></tr>
<tr><th id="142">142</th><td></td></tr>
<tr><th id="143">143</th><td>	<i class="doc">/// "Pointer" to init function. This is never called here.</i></td></tr>
<tr><th id="144">144</th><td><i class="doc">	/// We need only to detect if we are initializing a coder</i></td></tr>
<tr><th id="145">145</th><td><i class="doc">	/// that was allocated earlier. See lzma_next_coder_init and</i></td></tr>
<tr><th id="146">146</th><td><i class="doc">	/// lzma_next_strm_init macros in this file.</i></td></tr>
<tr><th id="147">147</th><td>	<a class="typedef" href="../../../../../../../objdir.amd64/destdir.amd64/usr/include/sys/stdint.h.html#uintptr_t" title='uintptr_t' data-type='__uintptr_t' data-ref="uintptr_t" data-ref-filename="uintptr_t">uintptr_t</a> <dfn class="decl field" id="lzma_next_coder_s::init" title='lzma_next_coder_s::init' data-ref="lzma_next_coder_s::init" data-ref-filename="lzma_next_coder_s..init">init</dfn>;</td></tr>
<tr><th id="148">148</th><td></td></tr>
<tr><th id="149">149</th><td>	<i class="doc">/// Pointer to function to do the actual coding</i></td></tr>
<tr><th id="150">150</th><td>	<a class="typedef" href="#lzma_code_function" title='lzma_code_function' data-type='lzma_ret (*)(void *, const lzma_allocator *, const uint8_t *restrict, size_t *restrict, size_t, uint8_t *restrict, size_t *restrict, size_t, lzma_action)' data-ref="lzma_code_function" data-ref-filename="lzma_code_function">lzma_code_function</a> <dfn class="decl field" id="lzma_next_coder_s::code" title='lzma_next_coder_s::code' data-ref="lzma_next_coder_s::code" data-ref-filename="lzma_next_coder_s..code">code</dfn>;</td></tr>
<tr><th id="151">151</th><td></td></tr>
<tr><th id="152">152</th><td>	<i class="doc">/// Pointer to function to free lzma_next_coder.coder. This can</i></td></tr>
<tr><th id="153">153</th><td><i class="doc">	/// be NULL; in that case, lzma_free is called to free</i></td></tr>
<tr><th id="154">154</th><td><i class="doc">	/// lzma_next_coder.coder.</i></td></tr>
<tr><th id="155">155</th><td>	<a class="typedef" href="#lzma_end_function" title='lzma_end_function' data-type='void (*)(void *, const lzma_allocator *)' data-ref="lzma_end_function" data-ref-filename="lzma_end_function">lzma_end_function</a> <dfn class="decl field" id="lzma_next_coder_s::end" title='lzma_next_coder_s::end' data-ref="lzma_next_coder_s::end" data-ref-filename="lzma_next_coder_s..end">end</dfn>;</td></tr>
<tr><th id="156">156</th><td></td></tr>
<tr><th id="157">157</th><td>	<i class="doc">/// Pointer to a function to get progress information. If this is NULL,</i></td></tr>
<tr><th id="158">158</th><td><i class="doc">	/// lzma_stream.total_in and .total_out are used instead.</i></td></tr>
<tr><th id="159">159</th><td>	<em>void</em> (*<dfn class="decl field" id="lzma_next_coder_s::get_progress" title='lzma_next_coder_s::get_progress' data-ref="lzma_next_coder_s::get_progress" data-ref-filename="lzma_next_coder_s..get_progress">get_progress</dfn>)(<em>void</em> *<dfn class="local col5 decl" id="315coder" title='coder' data-type='void *' data-ref="315coder" data-ref-filename="315coder">coder</dfn>,</td></tr>
<tr><th id="160">160</th><td>			<a class="typedef" href="../../../../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a> *<dfn class="local col6 decl" id="316progress_in" title='progress_in' data-type='uint64_t *' data-ref="316progress_in" data-ref-filename="316progress_in">progress_in</dfn>, <a class="typedef" href="../../../../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a> *<dfn class="local col7 decl" id="317progress_out" title='progress_out' data-type='uint64_t *' data-ref="317progress_out" data-ref-filename="317progress_out">progress_out</dfn>);</td></tr>
<tr><th id="161">161</th><td></td></tr>
<tr><th id="162">162</th><td>	<i class="doc">/// Pointer to function to return the type of the integrity check.</i></td></tr>
<tr><th id="163">163</th><td><i class="doc">	/// Most coders won't support this.</i></td></tr>
<tr><th id="164">164</th><td>	<a class="typedef" href="../api/lzma/check.h.html#lzma_check" title='lzma_check' data-type='enum lzma_check' data-ref="lzma_check" data-ref-filename="lzma_check">lzma_check</a> (*<dfn class="decl field" id="lzma_next_coder_s::get_check" title='lzma_next_coder_s::get_check' data-ref="lzma_next_coder_s::get_check" data-ref-filename="lzma_next_coder_s..get_check">get_check</dfn>)(<em>const</em> <em>void</em> *<dfn class="local col8 decl" id="318coder" title='coder' data-type='const void *' data-ref="318coder" data-ref-filename="318coder">coder</dfn>);</td></tr>
<tr><th id="165">165</th><td></td></tr>
<tr><th id="166">166</th><td>	<i class="doc">/// Pointer to function to get and/or change the memory usage limit.</i></td></tr>
<tr><th id="167">167</th><td><i class="doc">	/// If new_memlimit == 0, the limit is not changed.</i></td></tr>
<tr><th id="168">168</th><td>	<a class="typedef" href="../api/lzma/base.h.html#lzma_ret" title='lzma_ret' data-type='enum lzma_ret' data-ref="lzma_ret" data-ref-filename="lzma_ret">lzma_ret</a> (*<dfn class="decl field" id="lzma_next_coder_s::memconfig" title='lzma_next_coder_s::memconfig' data-ref="lzma_next_coder_s::memconfig" data-ref-filename="lzma_next_coder_s..memconfig">memconfig</dfn>)(<em>void</em> *<dfn class="local col9 decl" id="319coder" title='coder' data-type='void *' data-ref="319coder" data-ref-filename="319coder">coder</dfn>, <a class="typedef" href="../../../../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a> *<dfn class="local col0 decl" id="320memusage" title='memusage' data-type='uint64_t *' data-ref="320memusage" data-ref-filename="320memusage">memusage</dfn>,</td></tr>
<tr><th id="169">169</th><td>			<a class="typedef" href="../../../../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a> *<dfn class="local col1 decl" id="321old_memlimit" title='old_memlimit' data-type='uint64_t *' data-ref="321old_memlimit" data-ref-filename="321old_memlimit">old_memlimit</dfn>, <a class="typedef" href="../../../../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a> <dfn class="local col2 decl" id="322new_memlimit" title='new_memlimit' data-type='uint64_t' data-ref="322new_memlimit" data-ref-filename="322new_memlimit">new_memlimit</dfn>);</td></tr>
<tr><th id="170">170</th><td></td></tr>
<tr><th id="171">171</th><td>	<i class="doc">/// Update the filter-specific options or the whole filter chain</i></td></tr>
<tr><th id="172">172</th><td><i class="doc">	/// in the encoder.</i></td></tr>
<tr><th id="173">173</th><td>	<a class="typedef" href="../api/lzma/base.h.html#lzma_ret" title='lzma_ret' data-type='enum lzma_ret' data-ref="lzma_ret" data-ref-filename="lzma_ret">lzma_ret</a> (*<dfn class="decl field" id="lzma_next_coder_s::update" title='lzma_next_coder_s::update' data-ref="lzma_next_coder_s::update" data-ref-filename="lzma_next_coder_s..update">update</dfn>)(<em>void</em> *<dfn class="local col3 decl" id="323coder" title='coder' data-type='void *' data-ref="323coder" data-ref-filename="323coder">coder</dfn>, <em>const</em> <a class="typedef" href="../api/lzma/base.h.html#lzma_allocator" title='lzma_allocator' data-type='struct lzma_allocator' data-ref="lzma_allocator" data-ref-filename="lzma_allocator">lzma_allocator</a> *<dfn class="local col4 decl" id="324allocator" title='allocator' data-type='const lzma_allocator *' data-ref="324allocator" data-ref-filename="324allocator">allocator</dfn>,</td></tr>
<tr><th id="174">174</th><td>			<em>const</em> <a class="typedef" href="../api/lzma/filter.h.html#lzma_filter" title='lzma_filter' data-type='struct lzma_filter' data-ref="lzma_filter" data-ref-filename="lzma_filter">lzma_filter</a> *<dfn class="local col5 decl" id="325filters" title='filters' data-type='const lzma_filter *' data-ref="325filters" data-ref-filename="325filters">filters</dfn>,</td></tr>
<tr><th id="175">175</th><td>			<em>const</em> <a class="typedef" href="../api/lzma/filter.h.html#lzma_filter" title='lzma_filter' data-type='struct lzma_filter' data-ref="lzma_filter" data-ref-filename="lzma_filter">lzma_filter</a> *<dfn class="local col6 decl" id="326reversed_filters" title='reversed_filters' data-type='const lzma_filter *' data-ref="326reversed_filters" data-ref-filename="326reversed_filters">reversed_filters</dfn>);</td></tr>
<tr><th id="176">176</th><td>};</td></tr>
<tr><th id="177">177</th><td></td></tr>
<tr><th id="178">178</th><td></td></tr>
<tr><th id="179">179</th><td><i class="doc">/// Macro to initialize lzma_next_coder structure</i></td></tr>
<tr><th id="180">180</th><td><u>#define <dfn class="macro" id="_M/LZMA_NEXT_CODER_INIT" data-ref="_M/LZMA_NEXT_CODER_INIT">LZMA_NEXT_CODER_INIT</dfn> \</u></td></tr>
<tr><th id="181">181</th><td><u>	(lzma_next_coder){ \</u></td></tr>
<tr><th id="182">182</th><td><u>		.coder = NULL, \</u></td></tr>
<tr><th id="183">183</th><td><u>		.init = (uintptr_t)(NULL), \</u></td></tr>
<tr><th id="184">184</th><td><u>		.id = LZMA_VLI_UNKNOWN, \</u></td></tr>
<tr><th id="185">185</th><td><u>		.code = NULL, \</u></td></tr>
<tr><th id="186">186</th><td><u>		.end = NULL, \</u></td></tr>
<tr><th id="187">187</th><td><u>		.get_progress = NULL, \</u></td></tr>
<tr><th id="188">188</th><td><u>		.get_check = NULL, \</u></td></tr>
<tr><th id="189">189</th><td><u>		.memconfig = NULL, \</u></td></tr>
<tr><th id="190">190</th><td><u>		.update = NULL, \</u></td></tr>
<tr><th id="191">191</th><td><u>	}</u></td></tr>
<tr><th id="192">192</th><td></td></tr>
<tr><th id="193">193</th><td></td></tr>
<tr><th id="194">194</th><td><i class="doc">/// Internal data for lzma_strm_init, lzma_code, and lzma_end. A pointer to</i></td></tr>
<tr><th id="195">195</th><td><i class="doc">/// this is stored in lzma_stream.</i></td></tr>
<tr><th id="196">196</th><td><b>struct</b> <dfn class="type def" id="lzma_internal_s" title='lzma_internal_s' data-ref="lzma_internal_s" data-ref-filename="lzma_internal_s">lzma_internal_s</dfn> {</td></tr>
<tr><th id="197">197</th><td>	<i class="doc">/// The actual coder that should do something useful</i></td></tr>
<tr><th id="198">198</th><td>	<a class="typedef" href="#lzma_next_coder" title='lzma_next_coder' data-type='struct lzma_next_coder_s' data-ref="lzma_next_coder" data-ref-filename="lzma_next_coder">lzma_next_coder</a> <dfn class="decl field" id="lzma_internal_s::next" title='lzma_internal_s::next' data-ref="lzma_internal_s::next" data-ref-filename="lzma_internal_s..next">next</dfn>;</td></tr>
<tr><th id="199">199</th><td></td></tr>
<tr><th id="200">200</th><td>	<i class="doc">/// Track the state of the coder. This is used to validate arguments</i></td></tr>
<tr><th id="201">201</th><td><i class="doc">	/// so that the actual coders can rely on e.g. that LZMA_SYNC_FLUSH</i></td></tr>
<tr><th id="202">202</th><td><i class="doc">	/// is used on every call to lzma_code until next.code has returned</i></td></tr>
<tr><th id="203">203</th><td><i class="doc">	/// LZMA_STREAM_END.</i></td></tr>
<tr><th id="204">204</th><td>	<b>enum</b> {</td></tr>
<tr><th id="205">205</th><td>		<dfn class="enum" id="lzma_internal_s::ISEQ_RUN" title='lzma_internal_s::ISEQ_RUN' data-ref="lzma_internal_s::ISEQ_RUN" data-ref-filename="lzma_internal_s..ISEQ_RUN">ISEQ_RUN</dfn>,</td></tr>
<tr><th id="206">206</th><td>		<dfn class="enum" id="lzma_internal_s::ISEQ_SYNC_FLUSH" title='lzma_internal_s::ISEQ_SYNC_FLUSH' data-ref="lzma_internal_s::ISEQ_SYNC_FLUSH" data-ref-filename="lzma_internal_s..ISEQ_SYNC_FLUSH">ISEQ_SYNC_FLUSH</dfn>,</td></tr>
<tr><th id="207">207</th><td>		<dfn class="enum" id="lzma_internal_s::ISEQ_FULL_FLUSH" title='lzma_internal_s::ISEQ_FULL_FLUSH' data-ref="lzma_internal_s::ISEQ_FULL_FLUSH" data-ref-filename="lzma_internal_s..ISEQ_FULL_FLUSH">ISEQ_FULL_FLUSH</dfn>,</td></tr>
<tr><th id="208">208</th><td>		<dfn class="enum" id="lzma_internal_s::ISEQ_FINISH" title='lzma_internal_s::ISEQ_FINISH' data-ref="lzma_internal_s::ISEQ_FINISH" data-ref-filename="lzma_internal_s..ISEQ_FINISH">ISEQ_FINISH</dfn>,</td></tr>
<tr><th id="209">209</th><td>		<dfn class="enum" id="lzma_internal_s::ISEQ_FULL_BARRIER" title='lzma_internal_s::ISEQ_FULL_BARRIER' data-ref="lzma_internal_s::ISEQ_FULL_BARRIER" data-ref-filename="lzma_internal_s..ISEQ_FULL_BARRIER">ISEQ_FULL_BARRIER</dfn>,</td></tr>
<tr><th id="210">210</th><td>		<dfn class="enum" id="lzma_internal_s::ISEQ_END" title='lzma_internal_s::ISEQ_END' data-ref="lzma_internal_s::ISEQ_END" data-ref-filename="lzma_internal_s..ISEQ_END">ISEQ_END</dfn>,</td></tr>
<tr><th id="211">211</th><td>		<dfn class="enum" id="lzma_internal_s::ISEQ_ERROR" title='lzma_internal_s::ISEQ_ERROR' data-ref="lzma_internal_s::ISEQ_ERROR" data-ref-filename="lzma_internal_s..ISEQ_ERROR">ISEQ_ERROR</dfn>,</td></tr>
<tr><th id="212">212</th><td>	} <dfn class="decl field" id="lzma_internal_s::sequence" title='lzma_internal_s::sequence' data-ref="lzma_internal_s::sequence" data-ref-filename="lzma_internal_s..sequence">sequence</dfn>;</td></tr>
<tr><th id="213">213</th><td></td></tr>
<tr><th id="214">214</th><td>	<i class="doc">/// A copy of lzma_stream avail_in. This is used to verify that the</i></td></tr>
<tr><th id="215">215</th><td><i class="doc">	/// amount of input doesn't change once e.g. LZMA_FINISH has been</i></td></tr>
<tr><th id="216">216</th><td><i class="doc">	/// used.</i></td></tr>
<tr><th id="217">217</th><td>	<a class="typedef" href="../../../../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned int' data-ref="size_t" data-ref-filename="size_t">size_t</a> <dfn class="decl field" id="lzma_internal_s::avail_in" title='lzma_internal_s::avail_in' data-ref="lzma_internal_s::avail_in" data-ref-filename="lzma_internal_s..avail_in">avail_in</dfn>;</td></tr>
<tr><th id="218">218</th><td></td></tr>
<tr><th id="219">219</th><td>	<i class="doc">/// Indicates which lzma_action values are allowed by next.code.</i></td></tr>
<tr><th id="220">220</th><td>	<span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl field" id="lzma_internal_s::supported_actions" title='lzma_internal_s::supported_actions' data-ref="lzma_internal_s::supported_actions" data-ref-filename="lzma_internal_s..supported_actions">supported_actions</dfn>[<a class="macro" href="#81" title="((unsigned int)(LZMA_FULL_BARRIER))" data-ref="_M/LZMA_ACTION_MAX">LZMA_ACTION_MAX</a> + <var>1</var>];</td></tr>
<tr><th id="221">221</th><td></td></tr>
<tr><th id="222">222</th><td>	<i class="doc">/// If true, lzma_code will return LZMA_BUF_ERROR if no progress was</i></td></tr>
<tr><th id="223">223</th><td><i class="doc">	/// made (no input consumed and no output produced by next.code).</i></td></tr>
<tr><th id="224">224</th><td>	<span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl field" id="lzma_internal_s::allow_buf_error" title='lzma_internal_s::allow_buf_error' data-ref="lzma_internal_s::allow_buf_error" data-ref-filename="lzma_internal_s..allow_buf_error">allow_buf_error</dfn>;</td></tr>
<tr><th id="225">225</th><td>};</td></tr>
<tr><th id="226">226</th><td></td></tr>
<tr><th id="227">227</th><td></td></tr>
<tr><th id="228">228</th><td><i class="doc">/// Allocates memory</i></td></tr>
<tr><th id="229">229</th><td><b>extern</b> <em>void</em> *<dfn class="decl fn" id="lzma_alloc" title='lzma_alloc' data-ref="lzma_alloc" data-ref-filename="lzma_alloc">lzma_alloc</dfn>(<a class="typedef" href="../../../../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned int' data-ref="size_t" data-ref-filename="size_t">size_t</a> <dfn class="local col7 decl" id="327size" title='size' data-type='size_t' data-ref="327size" data-ref-filename="327size">size</dfn>, <em>const</em> <a class="typedef" href="../api/lzma/base.h.html#lzma_allocator" title='lzma_allocator' data-type='struct lzma_allocator' data-ref="lzma_allocator" data-ref-filename="lzma_allocator">lzma_allocator</a> *<dfn class="local col8 decl" id="328allocator" title='allocator' data-type='const lzma_allocator *' data-ref="328allocator" data-ref-filename="328allocator">allocator</dfn>)</td></tr>
<tr><th id="230">230</th><td>		<a class="macro" href="../api/lzma.h.html#246" title="__attribute__((__malloc__))" data-ref="_M/lzma_attribute">lzma_attribute</a>((__malloc__)) <a class="macro" href="../../common/sysdefs.h.html#199" title="" data-ref="_M/lzma_attr_alloc_size">lzma_attr_alloc_size</a>(<var>1</var>);</td></tr>
<tr><th id="231">231</th><td></td></tr>
<tr><th id="232">232</th><td><i class="doc">/// Allocates memory and zeroes it (like calloc()). This can be faster</i></td></tr>
<tr><th id="233">233</th><td><i class="doc">/// than lzma_alloc() + memzero() while being backward compatible with</i></td></tr>
<tr><th id="234">234</th><td><i class="doc">/// custom allocators.</i></td></tr>
<tr><th id="235">235</th><td><b>extern</b> <em>void</em> * <a class="macro" href="../api/lzma.h.html#246" title="__attribute__((__malloc__))" data-ref="_M/lzma_attribute">lzma_attribute</a>((__malloc__)) <a class="macro" href="../../common/sysdefs.h.html#199" title="" data-ref="_M/lzma_attr_alloc_size">lzma_attr_alloc_size</a>(<var>1</var>)</td></tr>
<tr><th id="236">236</th><td>		<dfn class="decl fn" id="lzma_alloc_zero" title='lzma_alloc_zero' data-ref="lzma_alloc_zero" data-ref-filename="lzma_alloc_zero">lzma_alloc_zero</dfn>(<a class="typedef" href="../../../../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned int' data-ref="size_t" data-ref-filename="size_t">size_t</a> <dfn class="local col9 decl" id="329size" title='size' data-type='size_t' data-ref="329size" data-ref-filename="329size">size</dfn>, <em>const</em> <a class="typedef" href="../api/lzma/base.h.html#lzma_allocator" title='lzma_allocator' data-type='struct lzma_allocator' data-ref="lzma_allocator" data-ref-filename="lzma_allocator">lzma_allocator</a> *<dfn class="local col0 decl" id="330allocator" title='allocator' data-type='const lzma_allocator *' data-ref="330allocator" data-ref-filename="330allocator">allocator</dfn>);</td></tr>
<tr><th id="237">237</th><td></td></tr>
<tr><th id="238">238</th><td><i class="doc">/// Frees memory</i></td></tr>
<tr><th id="239">239</th><td><b>extern</b> <em>void</em> <dfn class="decl fn" id="lzma_free" title='lzma_free' data-ref="lzma_free" data-ref-filename="lzma_free">lzma_free</dfn>(<em>void</em> *<dfn class="local col1 decl" id="331ptr" title='ptr' data-type='void *' data-ref="331ptr" data-ref-filename="331ptr">ptr</dfn>, <em>const</em> <a class="typedef" href="../api/lzma/base.h.html#lzma_allocator" title='lzma_allocator' data-type='struct lzma_allocator' data-ref="lzma_allocator" data-ref-filename="lzma_allocator">lzma_allocator</a> *<dfn class="local col2 decl" id="332allocator" title='allocator' data-type='const lzma_allocator *' data-ref="332allocator" data-ref-filename="332allocator">allocator</dfn>);</td></tr>
<tr><th id="240">240</th><td></td></tr>
<tr><th id="241">241</th><td></td></tr>
<tr><th id="242">242</th><td><i class="doc">/// Allocates strm-&gt;internal if it is NULL, and initializes *strm and</i></td></tr>
<tr><th id="243">243</th><td><i class="doc">/// strm-&gt;internal. This function is only called via lzma_next_strm_init macro.</i></td></tr>
<tr><th id="244">244</th><td><b>extern</b> <a class="typedef" href="../api/lzma/base.h.html#lzma_ret" title='lzma_ret' data-type='enum lzma_ret' data-ref="lzma_ret" data-ref-filename="lzma_ret">lzma_ret</a> <dfn class="decl fn" id="lzma_strm_init" title='lzma_strm_init' data-ref="lzma_strm_init" data-ref-filename="lzma_strm_init">lzma_strm_init</dfn>(<a class="typedef" href="../api/lzma/base.h.html#lzma_stream" title='lzma_stream' data-type='struct lzma_stream' data-ref="lzma_stream" data-ref-filename="lzma_stream">lzma_stream</a> *<dfn class="local col3 decl" id="333strm" title='strm' data-type='lzma_stream *' data-ref="333strm" data-ref-filename="333strm">strm</dfn>);</td></tr>
<tr><th id="245">245</th><td></td></tr>
<tr><th id="246">246</th><td><i class="doc">/// Initializes the next filter in the chain, if any. This takes care of</i></td></tr>
<tr><th id="247">247</th><td><i class="doc">/// freeing the memory of previously initialized filter if it is different</i></td></tr>
<tr><th id="248">248</th><td><i class="doc">/// than the filter being initialized now. This way the actual filter</i></td></tr>
<tr><th id="249">249</th><td><i class="doc">/// initialization functions don't need to use lzma_next_coder_init macro.</i></td></tr>
<tr><th id="250">250</th><td><b>extern</b> <a class="typedef" href="../api/lzma/base.h.html#lzma_ret" title='lzma_ret' data-type='enum lzma_ret' data-ref="lzma_ret" data-ref-filename="lzma_ret">lzma_ret</a> <dfn class="decl fn" id="lzma_next_filter_init" title='lzma_next_filter_init' data-ref="lzma_next_filter_init" data-ref-filename="lzma_next_filter_init">lzma_next_filter_init</dfn>(<a class="typedef" href="#lzma_next_coder" title='lzma_next_coder' data-type='struct lzma_next_coder_s' data-ref="lzma_next_coder" data-ref-filename="lzma_next_coder">lzma_next_coder</a> *<dfn class="local col4 decl" id="334next" title='next' data-type='lzma_next_coder *' data-ref="334next" data-ref-filename="334next">next</dfn>,</td></tr>
<tr><th id="251">251</th><td>		<em>const</em> <a class="typedef" href="../api/lzma/base.h.html#lzma_allocator" title='lzma_allocator' data-type='struct lzma_allocator' data-ref="lzma_allocator" data-ref-filename="lzma_allocator">lzma_allocator</a> *<dfn class="local col5 decl" id="335allocator" title='allocator' data-type='const lzma_allocator *' data-ref="335allocator" data-ref-filename="335allocator">allocator</dfn>,</td></tr>
<tr><th id="252">252</th><td>		<em>const</em> <a class="typedef" href="#lzma_filter_info" title='lzma_filter_info' data-type='struct lzma_filter_info_s' data-ref="lzma_filter_info" data-ref-filename="lzma_filter_info">lzma_filter_info</a> *<dfn class="local col6 decl" id="336filters" title='filters' data-type='const lzma_filter_info *' data-ref="336filters" data-ref-filename="336filters">filters</dfn>);</td></tr>
<tr><th id="253">253</th><td></td></tr>
<tr><th id="254">254</th><td><i class="doc">/// Update the next filter in the chain, if any. This checks that</i></td></tr>
<tr><th id="255">255</th><td><i class="doc">/// the application is not trying to change the Filter IDs.</i></td></tr>
<tr><th id="256">256</th><td><b>extern</b> <a class="typedef" href="../api/lzma/base.h.html#lzma_ret" title='lzma_ret' data-type='enum lzma_ret' data-ref="lzma_ret" data-ref-filename="lzma_ret">lzma_ret</a> <dfn class="decl fn" id="lzma_next_filter_update" title='lzma_next_filter_update' data-ref="lzma_next_filter_update" data-ref-filename="lzma_next_filter_update">lzma_next_filter_update</dfn>(</td></tr>
<tr><th id="257">257</th><td>		<a class="typedef" href="#lzma_next_coder" title='lzma_next_coder' data-type='struct lzma_next_coder_s' data-ref="lzma_next_coder" data-ref-filename="lzma_next_coder">lzma_next_coder</a> *<dfn class="local col7 decl" id="337next" title='next' data-type='lzma_next_coder *' data-ref="337next" data-ref-filename="337next">next</dfn>, <em>const</em> <a class="typedef" href="../api/lzma/base.h.html#lzma_allocator" title='lzma_allocator' data-type='struct lzma_allocator' data-ref="lzma_allocator" data-ref-filename="lzma_allocator">lzma_allocator</a> *<dfn class="local col8 decl" id="338allocator" title='allocator' data-type='const lzma_allocator *' data-ref="338allocator" data-ref-filename="338allocator">allocator</dfn>,</td></tr>
<tr><th id="258">258</th><td>		<em>const</em> <a class="typedef" href="../api/lzma/filter.h.html#lzma_filter" title='lzma_filter' data-type='struct lzma_filter' data-ref="lzma_filter" data-ref-filename="lzma_filter">lzma_filter</a> *<dfn class="local col9 decl" id="339reversed_filters" title='reversed_filters' data-type='const lzma_filter *' data-ref="339reversed_filters" data-ref-filename="339reversed_filters">reversed_filters</dfn>);</td></tr>
<tr><th id="259">259</th><td></td></tr>
<tr><th id="260">260</th><td><i class="doc">/// Frees the memory allocated for next-&gt;coder either using next-&gt;end or,</i></td></tr>
<tr><th id="261">261</th><td><i class="doc">/// if next-&gt;end is NULL, using lzma_free.</i></td></tr>
<tr><th id="262">262</th><td><b>extern</b> <em>void</em> <dfn class="decl fn" id="lzma_next_end" title='lzma_next_end' data-ref="lzma_next_end" data-ref-filename="lzma_next_end">lzma_next_end</dfn>(<a class="typedef" href="#lzma_next_coder" title='lzma_next_coder' data-type='struct lzma_next_coder_s' data-ref="lzma_next_coder" data-ref-filename="lzma_next_coder">lzma_next_coder</a> *<dfn class="local col0 decl" id="340next" title='next' data-type='lzma_next_coder *' data-ref="340next" data-ref-filename="340next">next</dfn>,</td></tr>
<tr><th id="263">263</th><td>		<em>const</em> <a class="typedef" href="../api/lzma/base.h.html#lzma_allocator" title='lzma_allocator' data-type='struct lzma_allocator' data-ref="lzma_allocator" data-ref-filename="lzma_allocator">lzma_allocator</a> *<dfn class="local col1 decl" id="341allocator" title='allocator' data-type='const lzma_allocator *' data-ref="341allocator" data-ref-filename="341allocator">allocator</dfn>);</td></tr>
<tr><th id="264">264</th><td></td></tr>
<tr><th id="265">265</th><td></td></tr>
<tr><th id="266">266</th><td><i class="doc">/// Copy as much data as possible from in[] to out[] and update *in_pos</i></td></tr>
<tr><th id="267">267</th><td><i class="doc">/// and *out_pos accordingly. Returns the number of bytes copied.</i></td></tr>
<tr><th id="268">268</th><td><b>extern</b> <a class="typedef" href="../../../../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned int' data-ref="size_t" data-ref-filename="size_t">size_t</a> <dfn class="decl fn" id="lzma_bufcpy" title='lzma_bufcpy' data-ref="lzma_bufcpy" data-ref-filename="lzma_bufcpy">lzma_bufcpy</dfn>(<em>const</em> <a class="typedef" href="../../../../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#uint8_t" title='uint8_t' data-type='__uint8_t' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</a> *<b>restrict</b> <dfn class="local col2 decl" id="342in" title='in' data-type='const uint8_t *restrict' data-ref="342in" data-ref-filename="342in">in</dfn>, <a class="typedef" href="../../../../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned int' data-ref="size_t" data-ref-filename="size_t">size_t</a> *<b>restrict</b> <dfn class="local col3 decl" id="343in_pos" title='in_pos' data-type='size_t *restrict' data-ref="343in_pos" data-ref-filename="343in_pos">in_pos</dfn>,</td></tr>
<tr><th id="269">269</th><td>		<a class="typedef" href="../../../../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned int' data-ref="size_t" data-ref-filename="size_t">size_t</a> <dfn class="local col4 decl" id="344in_size" title='in_size' data-type='size_t' data-ref="344in_size" data-ref-filename="344in_size">in_size</dfn>, <a class="typedef" href="../../../../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#uint8_t" title='uint8_t' data-type='__uint8_t' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</a> *<b>restrict</b> <dfn class="local col5 decl" id="345out" title='out' data-type='uint8_t *restrict' data-ref="345out" data-ref-filename="345out">out</dfn>,</td></tr>
<tr><th id="270">270</th><td>		<a class="typedef" href="../../../../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned int' data-ref="size_t" data-ref-filename="size_t">size_t</a> *<b>restrict</b> <dfn class="local col6 decl" id="346out_pos" title='out_pos' data-type='size_t *restrict' data-ref="346out_pos" data-ref-filename="346out_pos">out_pos</dfn>, <a class="typedef" href="../../../../../../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#size_t" title='size_t' data-type='unsigned int' data-ref="size_t" data-ref-filename="size_t">size_t</a> <dfn class="local col7 decl" id="347out_size" title='out_size' data-type='size_t' data-ref="347out_size" data-ref-filename="347out_size">out_size</dfn>);</td></tr>
<tr><th id="271">271</th><td></td></tr>
<tr><th id="272">272</th><td></td></tr>
<tr><th id="273">273</th><td><i class="doc">/// <span class="command">\brief</span>      Return if expression doesn't evaluate to LZMA_OK</i></td></tr>
<tr><th id="274">274</th><td><i class="doc">///</i></td></tr>
<tr><th id="275">275</th><td><i class="doc">/// There are several situations where we want to return immediately</i></td></tr>
<tr><th id="276">276</th><td><i class="doc">/// with the value of expr if it isn't LZMA_OK. This macro shortens</i></td></tr>
<tr><th id="277">277</th><td><i class="doc">/// the code a little.</i></td></tr>
<tr><th id="278">278</th><td><u>#define <dfn class="macro" id="_M/return_if_error" data-ref="_M/return_if_error">return_if_error</dfn>(expr) \</u></td></tr>
<tr><th id="279">279</th><td><u>do { \</u></td></tr>
<tr><th id="280">280</th><td><u>	const lzma_ret ret_ = (expr); \</u></td></tr>
<tr><th id="281">281</th><td><u>	if (ret_ != LZMA_OK) \</u></td></tr>
<tr><th id="282">282</th><td><u>		return ret_; \</u></td></tr>
<tr><th id="283">283</th><td><u>} while (0)</u></td></tr>
<tr><th id="284">284</th><td></td></tr>
<tr><th id="285">285</th><td></td></tr>
<tr><th id="286">286</th><td><i class="doc">/// If next isn't already initialized, free the previous coder. Then mark</i></td></tr>
<tr><th id="287">287</th><td><i class="doc">/// that next is _possibly_ initialized for the coder using this macro.</i></td></tr>
<tr><th id="288">288</th><td><i class="doc">/// "Possibly" means that if e.g. allocation of next-&gt;coder fails, the</i></td></tr>
<tr><th id="289">289</th><td><i class="doc">/// structure isn't actually initialized for this coder, but leaving</i></td></tr>
<tr><th id="290">290</th><td><i class="doc">/// next-&gt;init to func is still OK.</i></td></tr>
<tr><th id="291">291</th><td><u>#define <dfn class="macro" id="_M/lzma_next_coder_init" data-ref="_M/lzma_next_coder_init">lzma_next_coder_init</dfn>(func, next, allocator) \</u></td></tr>
<tr><th id="292">292</th><td><u>do { \</u></td></tr>
<tr><th id="293">293</th><td><u>	if ((uintptr_t)(func) != (next)-&gt;init) \</u></td></tr>
<tr><th id="294">294</th><td><u>		lzma_next_end(next, allocator); \</u></td></tr>
<tr><th id="295">295</th><td><u>	(next)-&gt;init = (uintptr_t)(func); \</u></td></tr>
<tr><th id="296">296</th><td><u>} while (0)</u></td></tr>
<tr><th id="297">297</th><td></td></tr>
<tr><th id="298">298</th><td></td></tr>
<tr><th id="299">299</th><td><i class="doc">/// Initializes lzma_strm and calls func() to initialize strm-&gt;internal-&gt;next.</i></td></tr>
<tr><th id="300">300</th><td><i class="doc">/// (The function being called will use lzma_next_coder_init()). If</i></td></tr>
<tr><th id="301">301</th><td><i class="doc">/// initialization fails, memory that wasn't freed by func() is freed</i></td></tr>
<tr><th id="302">302</th><td><i class="doc">/// along strm-&gt;internal.</i></td></tr>
<tr><th id="303">303</th><td><u>#define <dfn class="macro" id="_M/lzma_next_strm_init" data-ref="_M/lzma_next_strm_init">lzma_next_strm_init</dfn>(func, strm, ...) \</u></td></tr>
<tr><th id="304">304</th><td><u>do { \</u></td></tr>
<tr><th id="305">305</th><td><u>	return_if_error(lzma_strm_init(strm)); \</u></td></tr>
<tr><th id="306">306</th><td><u>	const lzma_ret ret_ = func(&amp;(strm)-&gt;internal-&gt;next, \</u></td></tr>
<tr><th id="307">307</th><td><u>			(strm)-&gt;allocator, __VA_ARGS__); \</u></td></tr>
<tr><th id="308">308</th><td><u>	if (ret_ != LZMA_OK) { \</u></td></tr>
<tr><th id="309">309</th><td><u>		lzma_end(strm); \</u></td></tr>
<tr><th id="310">310</th><td><u>		return ret_; \</u></td></tr>
<tr><th id="311">311</th><td><u>	} \</u></td></tr>
<tr><th id="312">312</th><td><u>} while (0)</u></td></tr>
<tr><th id="313">313</th><td></td></tr>
<tr><th id="314">314</th><td><u>#<span data-ppcond="13">endif</span></u></td></tr>
<tr><th id="315">315</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='../check/check.c.html'>netbsd/external/public-domain/xz/dist/src/liblzma/check/check.c</a><br/>Generated on <em>2019-Jul-19</em> from project netbsd revision <em>f9da89e0d</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
