<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>phantglobs.c source code [netbsd/games/phantasia/phantglobs.c] - Woboq Code Browser</title>
<link rel="stylesheet" href="https://code.woboq.org/data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="https://code.woboq.org/data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery-ui.min.js"></script>
<script>var file = 'netbsd/games/phantasia/phantglobs.c'; var root_path = '../../..'; var data_path = 'https://code.woboq.org/data'; var ecma_script_api_version = 2;</script>
<script src='https://code.woboq.org/data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../..'>netbsd</a>/<a href='..'>games</a>/<a href='./'>phantasia</a>/<a href='phantglobs.c.html'>phantglobs.c</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*	$NetBSD: phantglobs.c,v 1.6 2009/08/31 08:27:16 dholland Exp $	*/</i></td></tr>
<tr><th id="2">2</th><td></td></tr>
<tr><th id="3">3</th><td><i>/*</i></td></tr>
<tr><th id="4">4</th><td><i> * phantglobs.c - globals for Phantasia</i></td></tr>
<tr><th id="5">5</th><td><i> */</i></td></tr>
<tr><th id="6">6</th><td></td></tr>
<tr><th id="7">7</th><td><u>#include <a href="../../objdir.amd64/destdir.amd64/usr/include/setjmp.h.html">&lt;setjmp.h&gt;</a></u></td></tr>
<tr><th id="8">8</th><td><u>#include <a href="../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html">&lt;stdio.h&gt;</a></u></td></tr>
<tr><th id="9">9</th><td></td></tr>
<tr><th id="10">10</th><td><u>#include <a href="phantdefs.h.html">"phantdefs.h"</a></u></td></tr>
<tr><th id="11">11</th><td><u>#include <a href="phantstruct.h.html">"phantstruct.h"</a></u></td></tr>
<tr><th id="12">12</th><td><u>#include <a href="phantglobs.h.html">"phantglobs.h"</a></u></td></tr>
<tr><th id="13">13</th><td></td></tr>
<tr><th id="14">14</th><td></td></tr>
<tr><th id="15">15</th><td><em>double</em>	<dfn class="decl def" id="Circle" title='Circle' data-ref="Circle" data-ref-filename="Circle">Circle</dfn>;		<i>/* which circle player is in			*/</i></td></tr>
<tr><th id="16">16</th><td><em>double</em>	<dfn class="decl def" id="Shield" title='Shield' data-ref="Shield" data-ref-filename="Shield">Shield</dfn>;		<i>/* force field thrown up in monster battle	*/</i></td></tr>
<tr><th id="17">17</th><td></td></tr>
<tr><th id="18">18</th><td><a class="macro" href="phantstruct.h.html#3" title="char" data-ref="_M/bool">bool</a>	<dfn class="decl def" id="Beyond" title='Beyond' data-ref="Beyond" data-ref-filename="Beyond">Beyond</dfn>;		<i>/* set if player is beyond point of no return	*/</i></td></tr>
<tr><th id="19">19</th><td><a class="macro" href="phantstruct.h.html#3" title="char" data-ref="_M/bool">bool</a>	<dfn class="decl def" id="Marsh" title='Marsh' data-ref="Marsh" data-ref-filename="Marsh">Marsh</dfn>;		<i>/* set if player is in dead marshes		*/</i></td></tr>
<tr><th id="20">20</th><td><a class="macro" href="phantstruct.h.html#3" title="char" data-ref="_M/bool">bool</a>	<dfn class="decl def" id="Throne" title='Throne' data-ref="Throne" data-ref-filename="Throne">Throne</dfn>;		<i>/* set if player is on throne			*/</i></td></tr>
<tr><th id="21">21</th><td><a class="macro" href="phantstruct.h.html#3" title="char" data-ref="_M/bool">bool</a>	<dfn class="decl def" id="Changed" title='Changed' data-ref="Changed" data-ref-filename="Changed">Changed</dfn>;	<i>/* set if important player stats have changed	*/</i></td></tr>
<tr><th id="22">22</th><td><a class="macro" href="phantstruct.h.html#3" title="char" data-ref="_M/bool">bool</a>	<dfn class="decl def" id="Wizard" title='Wizard' data-ref="Wizard" data-ref-filename="Wizard">Wizard</dfn>;		<i>/* set if player is the 'wizard' of the game	*/</i></td></tr>
<tr><th id="23">23</th><td><a class="macro" href="phantstruct.h.html#3" title="char" data-ref="_M/bool">bool</a>	<dfn class="decl def" id="Timeout" title='Timeout' data-ref="Timeout" data-ref-filename="Timeout">Timeout</dfn>;	<i>/* set if short timeout waiting for input	*/</i></td></tr>
<tr><th id="24">24</th><td><a class="macro" href="phantstruct.h.html#3" title="char" data-ref="_M/bool">bool</a>	<dfn class="decl def" id="Windows" title='Windows' data-ref="Windows" data-ref-filename="Windows">Windows</dfn>;	<i>/* set if we are set up for curses stuff	*/</i></td></tr>
<tr><th id="25">25</th><td><a class="macro" href="phantstruct.h.html#3" title="char" data-ref="_M/bool">bool</a>	<dfn class="decl def" id="Luckout" title='Luckout' data-ref="Luckout" data-ref-filename="Luckout">Luckout</dfn>;	<i>/* set if we have tried to luck out in fight	*/</i></td></tr>
<tr><th id="26">26</th><td><a class="macro" href="phantstruct.h.html#3" title="char" data-ref="_M/bool">bool</a>	<dfn class="decl def" id="Foestrikes" title='Foestrikes' data-ref="Foestrikes" data-ref-filename="Foestrikes">Foestrikes</dfn>;	<i>/* set if foe gets a chance to hit in battleplayer()	*/</i></td></tr>
<tr><th id="27">27</th><td><a class="macro" href="phantstruct.h.html#3" title="char" data-ref="_M/bool">bool</a>	<dfn class="decl def" id="Echo" title='Echo' data-ref="Echo" data-ref-filename="Echo">Echo</dfn>;		<i>/* set if echo input to terminal		*/</i></td></tr>
<tr><th id="28">28</th><td></td></tr>
<tr><th id="29">29</th><td><em>int</em>	<dfn class="decl def" id="Users" title='Users' data-ref="Users" data-ref-filename="Users">Users</dfn>;		<i>/* number of users currently playing		*/</i></td></tr>
<tr><th id="30">30</th><td><em>int</em>	<dfn class="decl def" id="Whichmonster" title='Whichmonster' data-ref="Whichmonster" data-ref-filename="Whichmonster">Whichmonster</dfn>;	<i>/* which monster we are fighting		*/</i></td></tr>
<tr><th id="31">31</th><td><em>int</em>	<dfn class="decl def" id="Lines" title='Lines' data-ref="Lines" data-ref-filename="Lines">Lines</dfn>;		<i>/* line on screen counter for fight routines	*/</i></td></tr>
<tr><th id="32">32</th><td></td></tr>
<tr><th id="33">33</th><td><a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/setjmp.h.html#jmp_buf" title='jmp_buf' data-type='long [11]' data-ref="jmp_buf" data-ref-filename="jmp_buf">jmp_buf</a> <dfn class="decl def" id="Fightenv" title='Fightenv' data-ref="Fightenv" data-ref-filename="Fightenv">Fightenv</dfn>;	<i>/* used to jump into fight routine		*/</i></td></tr>
<tr><th id="34">34</th><td><a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/setjmp.h.html#jmp_buf" title='jmp_buf' data-type='long [11]' data-ref="jmp_buf" data-ref-filename="jmp_buf">jmp_buf</a> <dfn class="decl def" id="Timeoenv" title='Timeoenv' data-ref="Timeoenv" data-ref-filename="Timeoenv">Timeoenv</dfn>;	<i>/* used for timing out waiting for input	*/</i></td></tr>
<tr><th id="35">35</th><td></td></tr>
<tr><th id="36">36</th><td><em>long</em>	<dfn class="decl def" id="Fileloc" title='Fileloc' data-ref="Fileloc" data-ref-filename="Fileloc">Fileloc</dfn>;	<i>/* location in file of player statistics	*/</i></td></tr>
<tr><th id="37">37</th><td></td></tr>
<tr><th id="38">38</th><td><em>const</em> <em>char</em> *<dfn class="decl def" id="Login" title='Login' data-ref="Login" data-ref-filename="Login">Login</dfn>;	<i>/* pointer to login of player			*/</i></td></tr>
<tr><th id="39">39</th><td><em>const</em> <em>char</em> *<dfn class="decl def" id="Enemyname" title='Enemyname' data-ref="Enemyname" data-ref-filename="Enemyname">Enemyname</dfn>;	<i>/* pointer name of monster/player we are battling*/</i></td></tr>
<tr><th id="40">40</th><td></td></tr>
<tr><th id="41">41</th><td><b>struct</b>	<a class="type" href="phantstruct.h.html#player" title='player' data-ref="player" data-ref-filename="player">player</a>	<dfn class="decl def" id="Player" title='Player' data-ref="Player" data-ref-filename="Player">Player</dfn>;	<i>/* stats for player				*/</i></td></tr>
<tr><th id="42">42</th><td><b>struct</b>	<a class="type" href="phantstruct.h.html#player" title='player' data-ref="player" data-ref-filename="player">player</a>	<dfn class="decl def" id="Other" title='Other' data-ref="Other" data-ref-filename="Other">Other</dfn>;	<i>/* stats for another player			*/</i></td></tr>
<tr><th id="43">43</th><td></td></tr>
<tr><th id="44">44</th><td><b>struct</b>	<a class="type" href="phantstruct.h.html#monster" title='monster' data-ref="monster" data-ref-filename="monster">monster</a>	<dfn class="decl def" id="Curmonster" title='Curmonster' data-ref="Curmonster" data-ref-filename="Curmonster">Curmonster</dfn>;<i>/* stats for current monster			*/</i></td></tr>
<tr><th id="45">45</th><td></td></tr>
<tr><th id="46">46</th><td><b>struct</b>	<a class="type" href="phantstruct.h.html#energyvoid" title='energyvoid' data-ref="energyvoid" data-ref-filename="energyvoid">energyvoid</a> <dfn class="decl def" id="Enrgyvoid" title='Enrgyvoid' data-ref="Enrgyvoid" data-ref-filename="Enrgyvoid">Enrgyvoid</dfn>;<i>/* energy void buffer			*/</i></td></tr>
<tr><th id="47">47</th><td></td></tr>
<tr><th id="48">48</th><td><em>const</em> <b>struct</b>	<a class="type" href="phantstruct.h.html#charstats" title='charstats' data-ref="charstats" data-ref-filename="charstats">charstats</a> *<dfn class="decl def" id="Statptr" title='Statptr' data-ref="Statptr" data-ref-filename="Statptr">Statptr</dfn>;<i>/* pointer into Stattable[]		*/</i></td></tr>
<tr><th id="49">49</th><td></td></tr>
<tr><th id="50">50</th><td><i>/* lookup table for character type dependent statistics */</i></td></tr>
<tr><th id="51">51</th><td><em>const</em> <b>struct</b>	<a class="type" href="phantstruct.h.html#charstats" title='charstats' data-ref="charstats" data-ref-filename="charstats">charstats</a> <dfn class="decl def" id="Stattable" title='Stattable' data-ref="Stattable" data-ref-filename="Stattable">Stattable</dfn>[<var>7</var>] = {</td></tr>
<tr><th id="52">52</th><td>	<i>/* MAGIC USER */</i></td></tr>
<tr><th id="53">53</th><td>	{</td></tr>
<tr><th id="54">54</th><td>		<var>15.0</var>, <var>200.0</var>, <var>18.0</var>, <var>175.0</var>, <var>10</var>,</td></tr>
<tr><th id="55">55</th><td>			{<var>30</var>, <var>6</var>, <var>0.0</var>},	{<var>10</var>, <var>6</var>, <var>2.0</var>},	{<var>50</var>, <var>51</var>, <var>75.0</var>},</td></tr>
<tr><th id="56">56</th><td>			{<var>30</var>, <var>16</var>, <var>20.0</var>},	{<var>60</var>, <var>26</var>, <var>6.0</var>},	{<var>5</var>, <var>5</var>, <var>2.75</var>}</td></tr>
<tr><th id="57">57</th><td>	},</td></tr>
<tr><th id="58">58</th><td></td></tr>
<tr><th id="59">59</th><td>	<i>/* FIGHTER */</i></td></tr>
<tr><th id="60">60</th><td>	{</td></tr>
<tr><th id="61">61</th><td>		<var>10.0</var>, <var>110.0</var>, <var>15.0</var>, <var>220.0</var>, <var>20</var>,</td></tr>
<tr><th id="62">62</th><td>			{<var>30</var>, <var>6</var>, <var>0.0</var>},	{<var>40</var>, <var>16</var>, <var>3.0</var>},	{<var>30</var>, <var>21</var>, <var>40.0</var>},</td></tr>
<tr><th id="63">63</th><td>			{<var>45</var>, <var>26</var>, <var>30.0</var>},	{<var>25</var>, <var>21</var>, <var>3.0</var>},	{<var>3</var>, <var>4</var>, <var>1.5</var>}</td></tr>
<tr><th id="64">64</th><td>	},</td></tr>
<tr><th id="65">65</th><td></td></tr>
<tr><th id="66">66</th><td>	<i>/* ELF */</i></td></tr>
<tr><th id="67">67</th><td>	{</td></tr>
<tr><th id="68">68</th><td>		<var>12.0</var>, <var>150.0</var>, <var>17.0</var>, <var>190.0</var>, <var>13</var>,</td></tr>
<tr><th id="69">69</th><td>			{<var>32</var>, <var>7</var>, <var>0.0</var>},	{<var>35</var>, <var>11</var>, <var>2.5</var>},	{<var>45</var>, <var>46</var>, <var>65.0</var>},</td></tr>
<tr><th id="70">70</th><td>			{<var>30</var>, <var>21</var>, <var>25.0</var>},	{<var>40</var>, <var>26</var>, <var>4.0</var>},	{<var>4</var>, <var>4</var>, <var>2.0</var>}</td></tr>
<tr><th id="71">71</th><td>	},</td></tr>
<tr><th id="72">72</th><td></td></tr>
<tr><th id="73">73</th><td>	<i>/* DWARF */</i></td></tr>
<tr><th id="74">74</th><td>	{	 <var>7.0</var>, <var>80.0</var>, <var>13.0</var>, <var>255.0</var>,  <var>25</var>,</td></tr>
<tr><th id="75">75</th><td>			{<var>25</var>, <var>6</var>, <var>0.0</var>},	{<var>50</var>, <var>21</var>, <var>5.0</var>},	{<var>25</var>, <var>21</var>, <var>30.0</var>},</td></tr>
<tr><th id="76">76</th><td>			{<var>60</var>, <var>41</var>, <var>35.0</var>},	{<var>20</var>, <var>21</var>, <var>2.5</var>},	{<var>2</var>, <var>4</var>, <var>1.0</var>}</td></tr>
<tr><th id="77">77</th><td>	},</td></tr>
<tr><th id="78">78</th><td></td></tr>
<tr><th id="79">79</th><td>	<i>/* HALFLING */</i></td></tr>
<tr><th id="80">80</th><td>	{</td></tr>
<tr><th id="81">81</th><td>		<var>11.0</var>, <var>80.0</var>, <var>10.0</var>, <var>125.0</var>, <var>40</var>,</td></tr>
<tr><th id="82">82</th><td>			{<var>34</var>, <var>0</var>, <var>0.0</var>},	{<var>20</var>, <var>6</var>, <var>2.0</var>},	{<var>25</var>, <var>21</var>, <var>30.0</var>},</td></tr>
<tr><th id="83">83</th><td>			{<var>55</var>, <var>36</var>, <var>30.0</var>},	{<var>40</var>, <var>36</var>, <var>4.5</var>},	{<var>1</var>, <var>4</var>, <var>1.0</var>}</td></tr>
<tr><th id="84">84</th><td>	},</td></tr>
<tr><th id="85">85</th><td></td></tr>
<tr><th id="86">86</th><td>	<i>/* EXPERIMENTO */</i></td></tr>
<tr><th id="87">87</th><td>	{	 <var>9.0</var>, <var>90.0</var>, <var>16.0</var>, <var>160.0</var>, <var>20</var>,</td></tr>
<tr><th id="88">88</th><td>			{<var>27</var>, <var>0</var>, <var>0.0</var>},	{<var>25</var>, <var>0</var>, <var>0.0</var>},	{<var>100</var>, <var>0</var>, <var>0.0</var>},</td></tr>
<tr><th id="89">89</th><td>			{<var>35</var>, <var>0</var>, <var>0.0</var>},	{<var>25</var>, <var>0</var>, <var>0.0</var>},	{<var>2</var>, <var>0</var>, <var>0.0</var>}</td></tr>
<tr><th id="90">90</th><td>	},</td></tr>
<tr><th id="91">91</th><td></td></tr>
<tr><th id="92">92</th><td>	<i>/* SUPER */</i></td></tr>
<tr><th id="93">93</th><td>	{</td></tr>
<tr><th id="94">94</th><td>		<var>15.0</var>, <var>200.0</var>, <var>10.0</var>, <var>225.0</var>, <var>40</var>,</td></tr>
<tr><th id="95">95</th><td>			{<var>38</var>, <var>0</var>, <var>0.0</var>},	{<var>65</var>, <var>0</var>, <var>5.0</var>},	{<var>100</var>, <var>0</var>, <var>75.0</var>},</td></tr>
<tr><th id="96">96</th><td>			{<var>80</var>, <var>0</var>, <var>35.0</var>},	{<var>85</var>, <var>0</var>, <var>6.0</var>},	{<var>9</var>, <var>0</var>, <var>2.75</var>}</td></tr>
<tr><th id="97">97</th><td>	}</td></tr>
<tr><th id="98">98</th><td>};</td></tr>
<tr><th id="99">99</th><td></td></tr>
<tr><th id="100">100</th><td><i>/* menu of items for purchase */</i></td></tr>
<tr><th id="101">101</th><td><em>const</em> <b>struct</b> <a class="type" href="phantstruct.h.html#menuitem" title='menuitem' data-ref="menuitem" data-ref-filename="menuitem">menuitem</a>	<dfn class="decl def" id="Menu" title='Menu' data-ref="Menu" data-ref-filename="Menu">Menu</dfn>[] = {</td></tr>
<tr><th id="102">102</th><td>	{<q>"Mana"</q>, <var>1</var>},</td></tr>
<tr><th id="103">103</th><td>	{<q>"Shield"</q>, <var>5</var>},</td></tr>
<tr><th id="104">104</th><td>	{<q>"Book"</q>, <var>200</var>},</td></tr>
<tr><th id="105">105</th><td>	{<q>"Sword"</q>, <var>500</var>},</td></tr>
<tr><th id="106">106</th><td>	{<q>"Charm"</q>, <var>1000</var>},</td></tr>
<tr><th id="107">107</th><td>	{<q>"Quicksilver"</q>, <var>2500</var>},</td></tr>
<tr><th id="108">108</th><td>	{<q>"Blessing"</q>, <var>1000</var>},</td></tr>
<tr><th id="109">109</th><td>};</td></tr>
<tr><th id="110">110</th><td></td></tr>
<tr><th id="111">111</th><td><a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#FILE" title='FILE' data-type='struct __sFILE' data-ref="FILE" data-ref-filename="FILE">FILE</a>	*<dfn class="decl def" id="Playersfp" title='Playersfp' data-ref="Playersfp" data-ref-filename="Playersfp">Playersfp</dfn>;	<i>/* pointer to open player file			*/</i></td></tr>
<tr><th id="112">112</th><td><a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#FILE" title='FILE' data-type='struct __sFILE' data-ref="FILE" data-ref-filename="FILE">FILE</a>	*<dfn class="decl def" id="Monstfp" title='Monstfp' data-ref="Monstfp" data-ref-filename="Monstfp">Monstfp</dfn>;	<i>/* pointer to open monster file			*/</i></td></tr>
<tr><th id="113">113</th><td><a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#FILE" title='FILE' data-type='struct __sFILE' data-ref="FILE" data-ref-filename="FILE">FILE</a>	*<dfn class="decl def" id="Messagefp" title='Messagefp' data-ref="Messagefp" data-ref-filename="Messagefp">Messagefp</dfn>;	<i>/* pointer to open message file			*/</i></td></tr>
<tr><th id="114">114</th><td><a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/stdio.h.html#FILE" title='FILE' data-type='struct __sFILE' data-ref="FILE" data-ref-filename="FILE">FILE</a>	*<dfn class="decl def" id="Energyvoidfp" title='Energyvoidfp' data-ref="Energyvoidfp" data-ref-filename="Energyvoidfp">Energyvoidfp</dfn>;	<i>/* pointer to open energy void file		*/</i></td></tr>
<tr><th id="115">115</th><td></td></tr>
<tr><th id="116">116</th><td><em>char</em>	<dfn class="decl def" id="Databuf" title='Databuf' data-ref="Databuf" data-ref-filename="Databuf">Databuf</dfn>[<a class="macro" href="phantdefs.h.html#129" title="100" data-ref="_M/SZ_DATABUF">SZ_DATABUF</a>];	<i>/* a place to read data into		*/</i></td></tr>
<tr><th id="117">117</th><td></td></tr>
<tr><th id="118">118</th><td><i>/* some canned strings for messages */</i></td></tr>
<tr><th id="119">119</th><td><em>const</em> <em>char</em>	<dfn class="decl def" id="Illcmd" title='Illcmd' data-ref="Illcmd" data-ref-filename="Illcmd">Illcmd</dfn>[] = <q>"Illegal command.\n"</q>;</td></tr>
<tr><th id="120">120</th><td><em>const</em> <em>char</em>	<dfn class="decl def" id="Illmove" title='Illmove' data-ref="Illmove" data-ref-filename="Illmove">Illmove</dfn>[] = <q>"Too far.\n"</q>;</td></tr>
<tr><th id="121">121</th><td><em>const</em> <em>char</em>	<dfn class="decl def" id="Illspell" title='Illspell' data-ref="Illspell" data-ref-filename="Illspell">Illspell</dfn>[] = <q>"Illegal spell.\n"</q>;</td></tr>
<tr><th id="122">122</th><td><em>const</em> <em>char</em>	<dfn class="decl def" id="Nomana" title='Nomana' data-ref="Nomana" data-ref-filename="Nomana">Nomana</dfn>[] = <q>"Not enought mana for that spell.\n"</q>;</td></tr>
<tr><th id="123">123</th><td><em>const</em> <em>char</em>	<dfn class="decl def" id="Somebetter" title='Somebetter' data-ref="Somebetter" data-ref-filename="Somebetter">Somebetter</dfn>[] = <q>"But you already have something better.\n"</q>;</td></tr>
<tr><th id="124">124</th><td><em>const</em> <em>char</em>	<dfn class="decl def" id="Nobetter" title='Nobetter' data-ref="Nobetter" data-ref-filename="Nobetter">Nobetter</dfn>[] = <q>"That's no better than what you already have.\n"</q>;</td></tr>
<tr><th id="125">125</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2019-Jul-19</em> from project netbsd revision <em>f9da89e0d</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
