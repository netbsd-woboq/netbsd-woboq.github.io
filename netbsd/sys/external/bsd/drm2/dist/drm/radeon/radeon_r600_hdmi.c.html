<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>radeon_r600_hdmi.c source code [netbsd/sys/external/bsd/drm2/dist/drm/radeon/radeon_r600_hdmi.c] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="r600_hdmi_color_format,r600_hdmi_iec_status_bits "/>
<link rel="stylesheet" href="https://code.woboq.org/data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="https://code.woboq.org/data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery-ui.min.js"></script>
<script>var file = 'netbsd/sys/external/bsd/drm2/dist/drm/radeon/radeon_r600_hdmi.c'; var root_path = '../../../../../../../..'; var data_path = 'https://code.woboq.org/data'; var ecma_script_api_version = 2;</script>
<script src='https://code.woboq.org/data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../../../../..'>netbsd</a>/<a href='../../../../../..'>sys</a>/<a href='../../../../..'>external</a>/<a href='../../../..'>bsd</a>/<a href='../../..'>drm2</a>/<a href='../..'>dist</a>/<a href='..'>drm</a>/<a href='./'>radeon</a>/<a href='radeon_r600_hdmi.c.html'>radeon_r600_hdmi.c</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*	$NetBSD: radeon_r600_hdmi.c,v 1.1 2018/08/27 14:38:20 riastradh Exp $	*/</i></td></tr>
<tr><th id="2">2</th><td></td></tr>
<tr><th id="3">3</th><td><i>/*</i></td></tr>
<tr><th id="4">4</th><td><i> * Copyright 2008 Advanced Micro Devices, Inc.</i></td></tr>
<tr><th id="5">5</th><td><i> * Copyright 2008 Red Hat Inc.</i></td></tr>
<tr><th id="6">6</th><td><i> * Copyright 2009 Christian König.</i></td></tr>
<tr><th id="7">7</th><td><i> *</i></td></tr>
<tr><th id="8">8</th><td><i> * Permission is hereby granted, free of charge, to any person obtaining a</i></td></tr>
<tr><th id="9">9</th><td><i> * copy of this software and associated documentation files (the "Software"),</i></td></tr>
<tr><th id="10">10</th><td><i> * to deal in the Software without restriction, including without limitation</i></td></tr>
<tr><th id="11">11</th><td><i> * the rights to use, copy, modify, merge, publish, distribute, sublicense,</i></td></tr>
<tr><th id="12">12</th><td><i> * and/or sell copies of the Software, and to permit persons to whom the</i></td></tr>
<tr><th id="13">13</th><td><i> * Software is furnished to do so, subject to the following conditions:</i></td></tr>
<tr><th id="14">14</th><td><i> *</i></td></tr>
<tr><th id="15">15</th><td><i> * The above copyright notice and this permission notice shall be included in</i></td></tr>
<tr><th id="16">16</th><td><i> * all copies or substantial portions of the Software.</i></td></tr>
<tr><th id="17">17</th><td><i> *</i></td></tr>
<tr><th id="18">18</th><td><i> * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</i></td></tr>
<tr><th id="19">19</th><td><i> * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</i></td></tr>
<tr><th id="20">20</th><td><i> * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL</i></td></tr>
<tr><th id="21">21</th><td><i> * THE COPYRIGHT HOLDER(S) OR AUTHOR(S) BE LIABLE FOR ANY CLAIM, DAMAGES OR</i></td></tr>
<tr><th id="22">22</th><td><i> * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,</i></td></tr>
<tr><th id="23">23</th><td><i> * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR</i></td></tr>
<tr><th id="24">24</th><td><i> * OTHER DEALINGS IN THE SOFTWARE.</i></td></tr>
<tr><th id="25">25</th><td><i> *</i></td></tr>
<tr><th id="26">26</th><td><i> * Authors: Christian König</i></td></tr>
<tr><th id="27">27</th><td><i> */</i></td></tr>
<tr><th id="28">28</th><td><u>#include <a href="../../../../../../sys/cdefs.h.html">&lt;sys/cdefs.h&gt;</a></u></td></tr>
<tr><th id="29">29</th><td><a class="macro" href="../../../../../../sys/cdefs_elf.h.html#156" title="__asm(&quot;.pushsection &quot; &quot;.ident&quot; &quot;\n&quot; &quot;.asciz \&quot;&quot; &quot;$NetBSD: radeon_r600_hdmi.c,v 1.1 2018/08/27 14:38:20 riastradh Exp $&quot; &quot;\&quot;\n&quot; &quot;.popsection&quot;)" data-ref="_M/__KERNEL_RCSID">__KERNEL_RCSID</a>(<var>0</var>, <q>"$NetBSD: radeon_r600_hdmi.c,v 1.1 2018/08/27 14:38:20 riastradh Exp $"</q>);</td></tr>
<tr><th id="30">30</th><td></td></tr>
<tr><th id="31">31</th><td><u>#include <a href="../../../include/linux/hdmi.h.html">&lt;linux/hdmi.h&gt;</a></u></td></tr>
<tr><th id="32">32</th><td><u>#include <a href="../../../include/linux/gcd.h.html">&lt;linux/gcd.h&gt;</a></u></td></tr>
<tr><th id="33">33</th><td><u>#include <a href="../../include/drm/drmP.h.html">&lt;drm/drmP.h&gt;</a></u></td></tr>
<tr><th id="34">34</th><td><u>#include <a href="../../uapi/drm/radeon_drm.h.html">&lt;drm/radeon_drm.h&gt;</a></u></td></tr>
<tr><th id="35">35</th><td><u>#include <a href="radeon.h.html">"radeon.h"</a></u></td></tr>
<tr><th id="36">36</th><td><u>#include <a href="radeon_asic.h.html">"radeon_asic.h"</a></u></td></tr>
<tr><th id="37">37</th><td><u>#include <a href="radeon_audio.h.html">"radeon_audio.h"</a></u></td></tr>
<tr><th id="38">38</th><td><u>#include <a href="r600d.h.html">"r600d.h"</a></u></td></tr>
<tr><th id="39">39</th><td><u>#include <a href="atom.h.html">"atom.h"</a></u></td></tr>
<tr><th id="40">40</th><td></td></tr>
<tr><th id="41">41</th><td><i>/*</i></td></tr>
<tr><th id="42">42</th><td><i> * HDMI color format</i></td></tr>
<tr><th id="43">43</th><td><i> */</i></td></tr>
<tr><th id="44">44</th><td><b>enum</b> <dfn class="type def" id="r600_hdmi_color_format" title='r600_hdmi_color_format' data-ref="r600_hdmi_color_format" data-ref-filename="r600_hdmi_color_format">r600_hdmi_color_format</dfn> {</td></tr>
<tr><th id="45">45</th><td>	<dfn class="enum" id="RGB" title='RGB' data-ref="RGB" data-ref-filename="RGB">RGB</dfn> = <var>0</var>,</td></tr>
<tr><th id="46">46</th><td>	<dfn class="enum" id="YCC_422" title='YCC_422' data-ref="YCC_422" data-ref-filename="YCC_422">YCC_422</dfn> = <var>1</var>,</td></tr>
<tr><th id="47">47</th><td>	<dfn class="enum" id="YCC_444" title='YCC_444' data-ref="YCC_444" data-ref-filename="YCC_444">YCC_444</dfn> = <var>2</var></td></tr>
<tr><th id="48">48</th><td>};</td></tr>
<tr><th id="49">49</th><td></td></tr>
<tr><th id="50">50</th><td><i>/*</i></td></tr>
<tr><th id="51">51</th><td><i> * IEC60958 status bits</i></td></tr>
<tr><th id="52">52</th><td><i> */</i></td></tr>
<tr><th id="53">53</th><td><b>enum</b> <dfn class="type def" id="r600_hdmi_iec_status_bits" title='r600_hdmi_iec_status_bits' data-ref="r600_hdmi_iec_status_bits" data-ref-filename="r600_hdmi_iec_status_bits">r600_hdmi_iec_status_bits</dfn> {</td></tr>
<tr><th id="54">54</th><td>	<dfn class="enum" id="AUDIO_STATUS_DIG_ENABLE" title='AUDIO_STATUS_DIG_ENABLE' data-ref="AUDIO_STATUS_DIG_ENABLE" data-ref-filename="AUDIO_STATUS_DIG_ENABLE">AUDIO_STATUS_DIG_ENABLE</dfn>   = <var>0x01</var>,</td></tr>
<tr><th id="55">55</th><td>	<dfn class="enum" id="AUDIO_STATUS_V" title='AUDIO_STATUS_V' data-ref="AUDIO_STATUS_V" data-ref-filename="AUDIO_STATUS_V">AUDIO_STATUS_V</dfn>            = <var>0x02</var>,</td></tr>
<tr><th id="56">56</th><td>	<dfn class="enum" id="AUDIO_STATUS_VCFG" title='AUDIO_STATUS_VCFG' data-ref="AUDIO_STATUS_VCFG" data-ref-filename="AUDIO_STATUS_VCFG">AUDIO_STATUS_VCFG</dfn>         = <var>0x04</var>,</td></tr>
<tr><th id="57">57</th><td>	<dfn class="enum" id="AUDIO_STATUS_EMPHASIS" title='AUDIO_STATUS_EMPHASIS' data-ref="AUDIO_STATUS_EMPHASIS" data-ref-filename="AUDIO_STATUS_EMPHASIS">AUDIO_STATUS_EMPHASIS</dfn>     = <var>0x08</var>,</td></tr>
<tr><th id="58">58</th><td>	<dfn class="enum" id="AUDIO_STATUS_COPYRIGHT" title='AUDIO_STATUS_COPYRIGHT' data-ref="AUDIO_STATUS_COPYRIGHT" data-ref-filename="AUDIO_STATUS_COPYRIGHT">AUDIO_STATUS_COPYRIGHT</dfn>    = <var>0x10</var>,</td></tr>
<tr><th id="59">59</th><td>	<dfn class="enum" id="AUDIO_STATUS_NONAUDIO" title='AUDIO_STATUS_NONAUDIO' data-ref="AUDIO_STATUS_NONAUDIO" data-ref-filename="AUDIO_STATUS_NONAUDIO">AUDIO_STATUS_NONAUDIO</dfn>     = <var>0x20</var>,</td></tr>
<tr><th id="60">60</th><td>	<dfn class="enum" id="AUDIO_STATUS_PROFESSIONAL" title='AUDIO_STATUS_PROFESSIONAL' data-ref="AUDIO_STATUS_PROFESSIONAL" data-ref-filename="AUDIO_STATUS_PROFESSIONAL">AUDIO_STATUS_PROFESSIONAL</dfn> = <var>0x40</var>,</td></tr>
<tr><th id="61">61</th><td>	<dfn class="enum" id="AUDIO_STATUS_LEVEL" title='AUDIO_STATUS_LEVEL' data-ref="AUDIO_STATUS_LEVEL" data-ref-filename="AUDIO_STATUS_LEVEL">AUDIO_STATUS_LEVEL</dfn>        = <var>0x80</var></td></tr>
<tr><th id="62">62</th><td>};</td></tr>
<tr><th id="63">63</th><td></td></tr>
<tr><th id="64">64</th><td><em>static</em> <b>struct</b> <a class="type" href="radeon.h.html#r600_audio_pin" title='r600_audio_pin' data-ref="r600_audio_pin" data-ref-filename="r600_audio_pin">r600_audio_pin</a> <dfn class="tu decl def fn" id="r600_audio_status" title='r600_audio_status' data-type='struct r600_audio_pin r600_audio_status(struct radeon_device * rdev)' data-ref="r600_audio_status" data-ref-filename="r600_audio_status">r600_audio_status</dfn>(<b>struct</b> <a class="type" href="radeon.h.html#radeon_device" title='radeon_device' data-ref="radeon_device" data-ref-filename="radeon_device">radeon_device</a> *<dfn class="local col1 decl" id="1rdev" title='rdev' data-type='struct radeon_device *' data-ref="1rdev" data-ref-filename="1rdev">rdev</dfn>)</td></tr>
<tr><th id="65">65</th><td>{</td></tr>
<tr><th id="66">66</th><td>	<b>struct</b> <a class="type" href="radeon.h.html#r600_audio_pin" title='r600_audio_pin' data-ref="r600_audio_pin" data-ref-filename="r600_audio_pin">r600_audio_pin</a> <dfn class="local col2 decl" id="2status" title='status' data-type='struct r600_audio_pin' data-ref="2status" data-ref-filename="2status">status</dfn>;</td></tr>
<tr><th id="67">67</th><td>	<a class="typedef" href="../../../../../../sys/types.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col3 decl" id="3value" title='value' data-type='uint32_t' data-ref="3value" data-ref-filename="3value">value</dfn>;</td></tr>
<tr><th id="68">68</th><td></td></tr>
<tr><th id="69">69</th><td>	<a class="local col3 ref" href="#3value" title='value' data-ref="3value" data-ref-filename="3value">value</a> = <a class="macro" href="radeon.h.html#2612" title="r100_mm_rreg(rdev, (0x73c0), 0)" data-ref="_M/RREG32">RREG32</a>(<a class="macro" href="r600_reg.h.html#168" title="0x73c0" data-ref="_M/R600_AUDIO_RATE_BPS_CHANNEL">R600_AUDIO_RATE_BPS_CHANNEL</a>);</td></tr>
<tr><th id="70">70</th><td></td></tr>
<tr><th id="71">71</th><td>	<i>/* number of channels */</i></td></tr>
<tr><th id="72">72</th><td>	<a class="local col2 ref" href="#2status" title='status' data-ref="2status" data-ref-filename="2status">status</a>.<a class="ref field" href="radeon.h.html#r600_audio_pin::channels" title='r600_audio_pin::channels' data-ref="r600_audio_pin::channels" data-ref-filename="r600_audio_pin..channels">channels</a> = (<a class="local col3 ref" href="#3value" title='value' data-ref="3value" data-ref-filename="3value">value</a> &amp; <var>0x7</var>) + <var>1</var>;</td></tr>
<tr><th id="73">73</th><td></td></tr>
<tr><th id="74">74</th><td>	<i>/* bits per sample */</i></td></tr>
<tr><th id="75">75</th><td>	<b>switch</b> ((<a class="local col3 ref" href="#3value" title='value' data-ref="3value" data-ref-filename="3value">value</a> &amp; <var>0xF0</var>) &gt;&gt; <var>4</var>) {</td></tr>
<tr><th id="76">76</th><td>	<b>case</b> <var>0x0</var>:</td></tr>
<tr><th id="77">77</th><td>		<a class="local col2 ref" href="#2status" title='status' data-ref="2status" data-ref-filename="2status">status</a>.<a class="ref field" href="radeon.h.html#r600_audio_pin::bits_per_sample" title='r600_audio_pin::bits_per_sample' data-ref="r600_audio_pin::bits_per_sample" data-ref-filename="r600_audio_pin..bits_per_sample">bits_per_sample</a> = <var>8</var>;</td></tr>
<tr><th id="78">78</th><td>		<b>break</b>;</td></tr>
<tr><th id="79">79</th><td>	<b>case</b> <var>0x1</var>:</td></tr>
<tr><th id="80">80</th><td>		<a class="local col2 ref" href="#2status" title='status' data-ref="2status" data-ref-filename="2status">status</a>.<a class="ref field" href="radeon.h.html#r600_audio_pin::bits_per_sample" title='r600_audio_pin::bits_per_sample' data-ref="r600_audio_pin::bits_per_sample" data-ref-filename="r600_audio_pin..bits_per_sample">bits_per_sample</a> = <var>16</var>;</td></tr>
<tr><th id="81">81</th><td>		<b>break</b>;</td></tr>
<tr><th id="82">82</th><td>	<b>case</b> <var>0x2</var>:</td></tr>
<tr><th id="83">83</th><td>		<a class="local col2 ref" href="#2status" title='status' data-ref="2status" data-ref-filename="2status">status</a>.<a class="ref field" href="radeon.h.html#r600_audio_pin::bits_per_sample" title='r600_audio_pin::bits_per_sample' data-ref="r600_audio_pin::bits_per_sample" data-ref-filename="r600_audio_pin..bits_per_sample">bits_per_sample</a> = <var>20</var>;</td></tr>
<tr><th id="84">84</th><td>		<b>break</b>;</td></tr>
<tr><th id="85">85</th><td>	<b>case</b> <var>0x3</var>:</td></tr>
<tr><th id="86">86</th><td>		<a class="local col2 ref" href="#2status" title='status' data-ref="2status" data-ref-filename="2status">status</a>.<a class="ref field" href="radeon.h.html#r600_audio_pin::bits_per_sample" title='r600_audio_pin::bits_per_sample' data-ref="r600_audio_pin::bits_per_sample" data-ref-filename="r600_audio_pin..bits_per_sample">bits_per_sample</a> = <var>24</var>;</td></tr>
<tr><th id="87">87</th><td>		<b>break</b>;</td></tr>
<tr><th id="88">88</th><td>	<b>case</b> <var>0x4</var>:</td></tr>
<tr><th id="89">89</th><td>		<a class="local col2 ref" href="#2status" title='status' data-ref="2status" data-ref-filename="2status">status</a>.<a class="ref field" href="radeon.h.html#r600_audio_pin::bits_per_sample" title='r600_audio_pin::bits_per_sample' data-ref="r600_audio_pin::bits_per_sample" data-ref-filename="r600_audio_pin..bits_per_sample">bits_per_sample</a> = <var>32</var>;</td></tr>
<tr><th id="90">90</th><td>		<b>break</b>;</td></tr>
<tr><th id="91">91</th><td>	<b>default</b>:</td></tr>
<tr><th id="92">92</th><td>		<a class="macro" href="../../../include/linux/device.h.html#45" title="do { if (rdev-&gt;dev) aprint_error_dev((rdev-&gt;dev), &quot;error: &quot; &quot;Unknown bits per sample 0x%x, using 16\n&quot;, (int)value); else aprint_error(&quot;error: &quot; &quot;Unknown bits per sample 0x%x, using 16\n&quot;, (int)value); } while (0)" data-ref="_M/dev_err">dev_err</a>(<a class="local col1 ref" href="#1rdev" title='rdev' data-ref="1rdev" data-ref-filename="1rdev">rdev</a>-&gt;<a class="ref field" href="radeon.h.html#radeon_device::dev" title='radeon_device::dev' data-ref="radeon_device::dev" data-ref-filename="radeon_device..dev">dev</a>, <q>"Unknown bits per sample 0x%x, using 16\n"</q>,</td></tr>
<tr><th id="93">93</th><td>			(<em>int</em>)<a class="local col3 ref" href="#3value" title='value' data-ref="3value" data-ref-filename="3value">value</a>);</td></tr>
<tr><th id="94">94</th><td>		<a class="local col2 ref" href="#2status" title='status' data-ref="2status" data-ref-filename="2status">status</a>.<a class="ref field" href="radeon.h.html#r600_audio_pin::bits_per_sample" title='r600_audio_pin::bits_per_sample' data-ref="r600_audio_pin::bits_per_sample" data-ref-filename="r600_audio_pin..bits_per_sample">bits_per_sample</a> = <var>16</var>;</td></tr>
<tr><th id="95">95</th><td>	}</td></tr>
<tr><th id="96">96</th><td></td></tr>
<tr><th id="97">97</th><td>	<i>/* current sampling rate in HZ */</i></td></tr>
<tr><th id="98">98</th><td>	<b>if</b> (<a class="local col3 ref" href="#3value" title='value' data-ref="3value" data-ref-filename="3value">value</a> &amp; <var>0x4000</var>)</td></tr>
<tr><th id="99">99</th><td>		<a class="local col2 ref" href="#2status" title='status' data-ref="2status" data-ref-filename="2status">status</a>.<a class="ref field" href="radeon.h.html#r600_audio_pin::rate" title='r600_audio_pin::rate' data-ref="r600_audio_pin::rate" data-ref-filename="r600_audio_pin..rate">rate</a> = <var>44100</var>;</td></tr>
<tr><th id="100">100</th><td>	<b>else</b></td></tr>
<tr><th id="101">101</th><td>		<a class="local col2 ref" href="#2status" title='status' data-ref="2status" data-ref-filename="2status">status</a>.<a class="ref field" href="radeon.h.html#r600_audio_pin::rate" title='r600_audio_pin::rate' data-ref="r600_audio_pin::rate" data-ref-filename="r600_audio_pin..rate">rate</a> = <var>48000</var>;</td></tr>
<tr><th id="102">102</th><td>	<a class="local col2 ref" href="#2status" title='status' data-ref="2status" data-ref-filename="2status">status</a>.<a class="ref field" href="radeon.h.html#r600_audio_pin::rate" title='r600_audio_pin::rate' data-ref="r600_audio_pin::rate" data-ref-filename="r600_audio_pin..rate">rate</a> *= ((<a class="local col3 ref" href="#3value" title='value' data-ref="3value" data-ref-filename="3value">value</a> &gt;&gt; <var>11</var>) &amp; <var>0x7</var>) + <var>1</var>;</td></tr>
<tr><th id="103">103</th><td>	<a class="local col2 ref" href="#2status" title='status' data-ref="2status" data-ref-filename="2status">status</a>.<a class="ref field" href="radeon.h.html#r600_audio_pin::rate" title='r600_audio_pin::rate' data-ref="r600_audio_pin::rate" data-ref-filename="r600_audio_pin..rate">rate</a> /= ((<a class="local col3 ref" href="#3value" title='value' data-ref="3value" data-ref-filename="3value">value</a> &gt;&gt; <var>8</var>) &amp; <var>0x7</var>) + <var>1</var>;</td></tr>
<tr><th id="104">104</th><td></td></tr>
<tr><th id="105">105</th><td>	<a class="local col3 ref" href="#3value" title='value' data-ref="3value" data-ref-filename="3value">value</a> = <a class="macro" href="radeon.h.html#2612" title="r100_mm_rreg(rdev, (0x73d8), 0)" data-ref="_M/RREG32">RREG32</a>(<a class="macro" href="r600_reg.h.html#174" title="0x73d8" data-ref="_M/R600_AUDIO_STATUS_BITS">R600_AUDIO_STATUS_BITS</a>);</td></tr>
<tr><th id="106">106</th><td></td></tr>
<tr><th id="107">107</th><td>	<i>/* iec 60958 status bits */</i></td></tr>
<tr><th id="108">108</th><td>	<a class="local col2 ref" href="#2status" title='status' data-ref="2status" data-ref-filename="2status">status</a>.<a class="ref field" href="radeon.h.html#r600_audio_pin::status_bits" title='r600_audio_pin::status_bits' data-ref="r600_audio_pin::status_bits" data-ref-filename="r600_audio_pin..status_bits">status_bits</a> = <a class="local col3 ref" href="#3value" title='value' data-ref="3value" data-ref-filename="3value">value</a> &amp; <var>0xff</var>;</td></tr>
<tr><th id="109">109</th><td></td></tr>
<tr><th id="110">110</th><td>	<i>/* iec 60958 category code */</i></td></tr>
<tr><th id="111">111</th><td>	<a class="local col2 ref" href="#2status" title='status' data-ref="2status" data-ref-filename="2status">status</a>.<a class="ref field" href="radeon.h.html#r600_audio_pin::category_code" title='r600_audio_pin::category_code' data-ref="r600_audio_pin::category_code" data-ref-filename="r600_audio_pin..category_code">category_code</a> = (<a class="local col3 ref" href="#3value" title='value' data-ref="3value" data-ref-filename="3value">value</a> &gt;&gt; <var>8</var>) &amp; <var>0xff</var>;</td></tr>
<tr><th id="112">112</th><td></td></tr>
<tr><th id="113">113</th><td>	<b>return</b> <a class="local col2 ref" href="#2status" title='status' data-ref="2status" data-ref-filename="2status">status</a>;</td></tr>
<tr><th id="114">114</th><td>}</td></tr>
<tr><th id="115">115</th><td></td></tr>
<tr><th id="116">116</th><td><i>/*</i></td></tr>
<tr><th id="117">117</th><td><i> * update all hdmi interfaces with current audio parameters</i></td></tr>
<tr><th id="118">118</th><td><i> */</i></td></tr>
<tr><th id="119">119</th><td><em>void</em> <dfn class="decl def fn" id="r600_audio_update_hdmi" title='r600_audio_update_hdmi' data-ref="r600_audio_update_hdmi" data-ref-filename="r600_audio_update_hdmi">r600_audio_update_hdmi</dfn>(<b>struct</b> <a class="type" href="../../../../common/include/linux/workqueue.h.html#work_struct" title='work_struct' data-ref="work_struct" data-ref-filename="work_struct">work_struct</a> *<dfn class="local col4 decl" id="4work" title='work' data-type='struct work_struct *' data-ref="4work" data-ref-filename="4work">work</dfn>)</td></tr>
<tr><th id="120">120</th><td>{</td></tr>
<tr><th id="121">121</th><td>	<b>struct</b> <a class="type" href="radeon.h.html#radeon_device" title='radeon_device' data-ref="radeon_device" data-ref-filename="radeon_device">radeon_device</a> *<dfn class="local col5 decl" id="5rdev" title='rdev' data-type='struct radeon_device *' data-ref="5rdev" data-ref-filename="5rdev">rdev</dfn> = <a class="macro" href="../../../../../../lib/libkern/libkern.h.html#351" title="((struct radeon_device *)(((char *)(work)) - __builtin_offsetof(struct radeon_device, audio_work)) + (0 * sizeof((work) - &amp;((struct radeon_device *)(((char *)(work)) - __builtin_offsetof(struct radeon_device, audio_work)))-&gt;audio_work)))" data-ref="_M/container_of">container_of</a>(<a class="local col4 ref" href="#4work" title='work' data-ref="4work" data-ref-filename="4work">work</a>, <b>struct</b> <a class="type" href="radeon.h.html#radeon_device" title='radeon_device' data-ref="radeon_device" data-ref-filename="radeon_device">radeon_device</a>,</td></tr>
<tr><th id="122">122</th><td>						  <a class="ref field" href="radeon.h.html#radeon_device::audio_work" title='radeon_device::audio_work' data-ref="radeon_device::audio_work" data-ref-filename="radeon_device..audio_work">audio_work</a>);</td></tr>
<tr><th id="123">123</th><td>	<b>struct</b> <a class="type" href="../../include/drm/drmP.h.html#drm_device" title='drm_device' data-ref="drm_device" data-ref-filename="drm_device">drm_device</a> *<dfn class="local col6 decl" id="6dev" title='dev' data-type='struct drm_device *' data-ref="6dev" data-ref-filename="6dev">dev</dfn> = <a class="local col5 ref" href="#5rdev" title='rdev' data-ref="5rdev" data-ref-filename="5rdev">rdev</a>-&gt;<a class="ref field" href="radeon.h.html#radeon_device::ddev" title='radeon_device::ddev' data-ref="radeon_device::ddev" data-ref-filename="radeon_device..ddev">ddev</a>;</td></tr>
<tr><th id="124">124</th><td>	<b>struct</b> <a class="type" href="radeon.h.html#r600_audio_pin" title='r600_audio_pin' data-ref="r600_audio_pin" data-ref-filename="r600_audio_pin">r600_audio_pin</a> <dfn class="local col7 decl" id="7audio_status" title='audio_status' data-type='struct r600_audio_pin' data-ref="7audio_status" data-ref-filename="7audio_status">audio_status</dfn> = <a class="tu ref fn" href="#r600_audio_status" title='r600_audio_status' data-use='c' data-ref="r600_audio_status" data-ref-filename="r600_audio_status">r600_audio_status</a>(<a class="local col5 ref" href="#5rdev" title='rdev' data-ref="5rdev" data-ref-filename="5rdev">rdev</a>);</td></tr>
<tr><th id="125">125</th><td>	<b>struct</b> <a class="type" href="../../include/drm/drm_crtc.h.html#drm_encoder" title='drm_encoder' data-ref="drm_encoder" data-ref-filename="drm_encoder">drm_encoder</a> *<dfn class="local col8 decl" id="8encoder" title='encoder' data-type='struct drm_encoder *' data-ref="8encoder" data-ref-filename="8encoder">encoder</dfn>;</td></tr>
<tr><th id="126">126</th><td>	<a class="macro" href="../../../../../../sys/stdbool.h.html#37" title="_Bool" data-ref="_M/bool">bool</a> <dfn class="local col9 decl" id="9changed" title='changed' data-type='_Bool' data-ref="9changed" data-ref-filename="9changed">changed</dfn> = <a class="macro" href="../../../../../../sys/stdbool.h.html#40" title="0" data-ref="_M/false">false</a>;</td></tr>
<tr><th id="127">127</th><td></td></tr>
<tr><th id="128">128</th><td>	<b>if</b> (<a class="local col5 ref" href="#5rdev" title='rdev' data-ref="5rdev" data-ref-filename="5rdev">rdev</a>-&gt;<a class="ref field" href="radeon.h.html#radeon_device::audio" title='radeon_device::audio' data-ref="radeon_device::audio" data-ref-filename="radeon_device..audio">audio</a>.<a class="ref field" href="radeon.h.html#r600_audio::pin" title='r600_audio::pin' data-ref="r600_audio::pin" data-ref-filename="r600_audio..pin">pin</a>[<var>0</var>].<a class="ref field" href="radeon.h.html#r600_audio_pin::channels" title='r600_audio_pin::channels' data-ref="r600_audio_pin::channels" data-ref-filename="r600_audio_pin..channels">channels</a> != <a class="local col7 ref" href="#7audio_status" title='audio_status' data-ref="7audio_status" data-ref-filename="7audio_status">audio_status</a>.<a class="ref field" href="radeon.h.html#r600_audio_pin::channels" title='r600_audio_pin::channels' data-ref="r600_audio_pin::channels" data-ref-filename="r600_audio_pin..channels">channels</a> ||</td></tr>
<tr><th id="129">129</th><td>	    <a class="local col5 ref" href="#5rdev" title='rdev' data-ref="5rdev" data-ref-filename="5rdev">rdev</a>-&gt;<a class="ref field" href="radeon.h.html#radeon_device::audio" title='radeon_device::audio' data-ref="radeon_device::audio" data-ref-filename="radeon_device..audio">audio</a>.<a class="ref field" href="radeon.h.html#r600_audio::pin" title='r600_audio::pin' data-ref="r600_audio::pin" data-ref-filename="r600_audio..pin">pin</a>[<var>0</var>].<a class="ref field" href="radeon.h.html#r600_audio_pin::rate" title='r600_audio_pin::rate' data-ref="r600_audio_pin::rate" data-ref-filename="r600_audio_pin..rate">rate</a> != <a class="local col7 ref" href="#7audio_status" title='audio_status' data-ref="7audio_status" data-ref-filename="7audio_status">audio_status</a>.<a class="ref field" href="radeon.h.html#r600_audio_pin::rate" title='r600_audio_pin::rate' data-ref="r600_audio_pin::rate" data-ref-filename="r600_audio_pin..rate">rate</a> ||</td></tr>
<tr><th id="130">130</th><td>	    <a class="local col5 ref" href="#5rdev" title='rdev' data-ref="5rdev" data-ref-filename="5rdev">rdev</a>-&gt;<a class="ref field" href="radeon.h.html#radeon_device::audio" title='radeon_device::audio' data-ref="radeon_device::audio" data-ref-filename="radeon_device..audio">audio</a>.<a class="ref field" href="radeon.h.html#r600_audio::pin" title='r600_audio::pin' data-ref="r600_audio::pin" data-ref-filename="r600_audio..pin">pin</a>[<var>0</var>].<a class="ref field" href="radeon.h.html#r600_audio_pin::bits_per_sample" title='r600_audio_pin::bits_per_sample' data-ref="r600_audio_pin::bits_per_sample" data-ref-filename="r600_audio_pin..bits_per_sample">bits_per_sample</a> != <a class="local col7 ref" href="#7audio_status" title='audio_status' data-ref="7audio_status" data-ref-filename="7audio_status">audio_status</a>.<a class="ref field" href="radeon.h.html#r600_audio_pin::bits_per_sample" title='r600_audio_pin::bits_per_sample' data-ref="r600_audio_pin::bits_per_sample" data-ref-filename="r600_audio_pin..bits_per_sample">bits_per_sample</a> ||</td></tr>
<tr><th id="131">131</th><td>	    <a class="local col5 ref" href="#5rdev" title='rdev' data-ref="5rdev" data-ref-filename="5rdev">rdev</a>-&gt;<a class="ref field" href="radeon.h.html#radeon_device::audio" title='radeon_device::audio' data-ref="radeon_device::audio" data-ref-filename="radeon_device..audio">audio</a>.<a class="ref field" href="radeon.h.html#r600_audio::pin" title='r600_audio::pin' data-ref="r600_audio::pin" data-ref-filename="r600_audio..pin">pin</a>[<var>0</var>].<a class="ref field" href="radeon.h.html#r600_audio_pin::status_bits" title='r600_audio_pin::status_bits' data-ref="r600_audio_pin::status_bits" data-ref-filename="r600_audio_pin..status_bits">status_bits</a> != <a class="local col7 ref" href="#7audio_status" title='audio_status' data-ref="7audio_status" data-ref-filename="7audio_status">audio_status</a>.<a class="ref field" href="radeon.h.html#r600_audio_pin::status_bits" title='r600_audio_pin::status_bits' data-ref="r600_audio_pin::status_bits" data-ref-filename="r600_audio_pin..status_bits">status_bits</a> ||</td></tr>
<tr><th id="132">132</th><td>	    <a class="local col5 ref" href="#5rdev" title='rdev' data-ref="5rdev" data-ref-filename="5rdev">rdev</a>-&gt;<a class="ref field" href="radeon.h.html#radeon_device::audio" title='radeon_device::audio' data-ref="radeon_device::audio" data-ref-filename="radeon_device..audio">audio</a>.<a class="ref field" href="radeon.h.html#r600_audio::pin" title='r600_audio::pin' data-ref="r600_audio::pin" data-ref-filename="r600_audio..pin">pin</a>[<var>0</var>].<a class="ref field" href="radeon.h.html#r600_audio_pin::category_code" title='r600_audio_pin::category_code' data-ref="r600_audio_pin::category_code" data-ref-filename="r600_audio_pin..category_code">category_code</a> != <a class="local col7 ref" href="#7audio_status" title='audio_status' data-ref="7audio_status" data-ref-filename="7audio_status">audio_status</a>.<a class="ref field" href="radeon.h.html#r600_audio_pin::category_code" title='r600_audio_pin::category_code' data-ref="r600_audio_pin::category_code" data-ref-filename="r600_audio_pin..category_code">category_code</a>) {</td></tr>
<tr><th id="133">133</th><td>		<a class="local col5 ref" href="#5rdev" title='rdev' data-ref="5rdev" data-ref-filename="5rdev">rdev</a>-&gt;<a class="ref field" href="radeon.h.html#radeon_device::audio" title='radeon_device::audio' data-ref="radeon_device::audio" data-ref-filename="radeon_device..audio">audio</a>.<a class="ref field" href="radeon.h.html#r600_audio::pin" title='r600_audio::pin' data-ref="r600_audio::pin" data-ref-filename="r600_audio..pin">pin</a>[<var>0</var>] = <a class="local col7 ref" href="#7audio_status" title='audio_status' data-ref="7audio_status" data-ref-filename="7audio_status">audio_status</a>;</td></tr>
<tr><th id="134">134</th><td>		<a class="local col9 ref" href="#9changed" title='changed' data-ref="9changed" data-ref-filename="9changed">changed</a> = <a class="macro" href="../../../../../../sys/stdbool.h.html#39" title="1" data-ref="_M/true">true</a>;</td></tr>
<tr><th id="135">135</th><td>	}</td></tr>
<tr><th id="136">136</th><td></td></tr>
<tr><th id="137">137</th><td>	<a class="macro" href="../../../../common/include/linux/list.h.html#246" title="for ((encoder) = ((typeof(*(encoder)) *)(((char *)(list_first((&amp;dev-&gt;mode_config.encoder_list)))) - __builtin_offsetof(typeof(*(encoder)), head)) + (0 * sizeof((list_first((&amp;dev-&gt;mode_config.encoder_list))) - &amp;((typeof(*(encoder)) *)(((char *)(list_first((&amp;dev-&gt;mode_config.encoder_list)))) - __builtin_offsetof(typeof(*(encoder)), head)))-&gt;head))); &amp;(encoder)-&gt;head != (&amp;dev-&gt;mode_config.encoder_list); (encoder) = ((typeof(*(encoder)) *)(((char *)(list_next(&amp;(encoder)-&gt;head))) - __builtin_offsetof(typeof(*(encoder)), head)) + (0 * sizeof((list_next(&amp;(encoder)-&gt;head)) - &amp;((typeof(*(encoder)) *)(((char *)(list_next(&amp;(encoder)-&gt;head))) - __builtin_offsetof(typeof(*(encoder)), head)))-&gt;head))))" data-ref="_M/list_for_each_entry">list_for_each_entry</a>(<a class="local col8 ref" href="#8encoder" title='encoder' data-ref="8encoder" data-ref-filename="8encoder">encoder</a>, &amp;<a class="local col6 ref" href="#6dev" title='dev' data-ref="6dev" data-ref-filename="6dev">dev</a>-&gt;<a class="ref field" href="../../include/drm/drmP.h.html#drm_device::mode_config" title='drm_device::mode_config' data-ref="drm_device::mode_config" data-ref-filename="drm_device..mode_config">mode_config</a>.<a class="ref field" href="../../include/drm/drm_crtc.h.html#drm_mode_config::encoder_list" title='drm_mode_config::encoder_list' data-ref="drm_mode_config::encoder_list" data-ref-filename="drm_mode_config..encoder_list">encoder_list</a>, <a class="ref field" href="../../include/drm/drm_crtc.h.html#drm_encoder::head" title='drm_encoder::head' data-ref="drm_encoder::head" data-ref-filename="drm_encoder..head">head</a>) {</td></tr>
<tr><th id="138">138</th><td>		<b>if</b> (!<a class="ref fn" href="radeon_mode.h.html#radeon_encoder_is_digital" title='radeon_encoder_is_digital' data-ref="radeon_encoder_is_digital" data-ref-filename="radeon_encoder_is_digital">radeon_encoder_is_digital</a>(<a class="local col8 ref" href="#8encoder" title='encoder' data-ref="8encoder" data-ref-filename="8encoder">encoder</a>))</td></tr>
<tr><th id="139">139</th><td>			<b>continue</b>;</td></tr>
<tr><th id="140">140</th><td>		<b>if</b> (<a class="local col9 ref" href="#9changed" title='changed' data-ref="9changed" data-ref-filename="9changed">changed</a> || <a class="ref fn" href="#r600_hdmi_buffer_status_changed" title='r600_hdmi_buffer_status_changed' data-ref="r600_hdmi_buffer_status_changed" data-ref-filename="r600_hdmi_buffer_status_changed">r600_hdmi_buffer_status_changed</a>(<a class="local col8 ref" href="#8encoder" title='encoder' data-ref="8encoder" data-ref-filename="8encoder">encoder</a>))</td></tr>
<tr><th id="141">141</th><td>			<a class="ref fn" href="#r600_hdmi_update_audio_settings" title='r600_hdmi_update_audio_settings' data-ref="r600_hdmi_update_audio_settings" data-ref-filename="r600_hdmi_update_audio_settings">r600_hdmi_update_audio_settings</a>(<a class="local col8 ref" href="#8encoder" title='encoder' data-ref="8encoder" data-ref-filename="8encoder">encoder</a>);</td></tr>
<tr><th id="142">142</th><td>	}</td></tr>
<tr><th id="143">143</th><td>}</td></tr>
<tr><th id="144">144</th><td></td></tr>
<tr><th id="145">145</th><td><i>/* enable the audio stream */</i></td></tr>
<tr><th id="146">146</th><td><em>void</em> <dfn class="decl def fn" id="r600_audio_enable" title='r600_audio_enable' data-ref="r600_audio_enable" data-ref-filename="r600_audio_enable">r600_audio_enable</dfn>(<b>struct</b> <a class="type" href="radeon.h.html#radeon_device" title='radeon_device' data-ref="radeon_device" data-ref-filename="radeon_device">radeon_device</a> *<dfn class="local col0 decl" id="10rdev" title='rdev' data-type='struct radeon_device *' data-ref="10rdev" data-ref-filename="10rdev">rdev</dfn>,</td></tr>
<tr><th id="147">147</th><td>		       <b>struct</b> <a class="type" href="radeon.h.html#r600_audio_pin" title='r600_audio_pin' data-ref="r600_audio_pin" data-ref-filename="r600_audio_pin">r600_audio_pin</a> *<dfn class="local col1 decl" id="11pin" title='pin' data-type='struct r600_audio_pin *' data-ref="11pin" data-ref-filename="11pin">pin</dfn>,</td></tr>
<tr><th id="148">148</th><td>		       <a class="typedef" href="../../../include/linux/types.h.html#u8" title='u8' data-type='uint8_t' data-ref="u8" data-ref-filename="u8">u8</a> <dfn class="local col2 decl" id="12enable_mask" title='enable_mask' data-type='u8' data-ref="12enable_mask" data-ref-filename="12enable_mask">enable_mask</dfn>)</td></tr>
<tr><th id="149">149</th><td>{</td></tr>
<tr><th id="150">150</th><td>	<a class="typedef" href="../../../include/linux/types.h.html#u32" title='u32' data-type='uint32_t' data-ref="u32" data-ref-filename="u32">u32</a> <dfn class="local col3 decl" id="13tmp" title='tmp' data-type='u32' data-ref="13tmp" data-ref-filename="13tmp">tmp</dfn> = <a class="macro" href="radeon.h.html#2612" title="r100_mm_rreg(rdev, (0x7300), 0)" data-ref="_M/RREG32">RREG32</a>(<a class="macro" href="r600d.h.html#933" title="0x7300" data-ref="_M/AZ_HOT_PLUG_CONTROL">AZ_HOT_PLUG_CONTROL</a>);</td></tr>
<tr><th id="151">151</th><td></td></tr>
<tr><th id="152">152</th><td>	<b>if</b> (!<a class="local col1 ref" href="#11pin" title='pin' data-ref="11pin" data-ref-filename="11pin">pin</a>)</td></tr>
<tr><th id="153">153</th><td>		<b>return</b>;</td></tr>
<tr><th id="154">154</th><td></td></tr>
<tr><th id="155">155</th><td>	<b>if</b> (<a class="local col2 ref" href="#12enable_mask" title='enable_mask' data-ref="12enable_mask" data-ref-filename="12enable_mask">enable_mask</a>) {</td></tr>
<tr><th id="156">156</th><td>		<a class="local col3 ref" href="#13tmp" title='tmp' data-ref="13tmp" data-ref-filename="13tmp">tmp</a> |= <a class="macro" href="r600d.h.html#938" title="(1 &lt;&lt; 31)" data-ref="_M/AUDIO_ENABLED">AUDIO_ENABLED</a>;</td></tr>
<tr><th id="157">157</th><td>		<b>if</b> (<a class="local col2 ref" href="#12enable_mask" title='enable_mask' data-ref="12enable_mask" data-ref-filename="12enable_mask">enable_mask</a> &amp; <var>1</var>)</td></tr>
<tr><th id="158">158</th><td>			<a class="local col3 ref" href="#13tmp" title='tmp' data-ref="13tmp" data-ref-filename="13tmp">tmp</a> |= <a class="macro" href="r600d.h.html#944" title="(1 &lt;&lt; 24)" data-ref="_M/PIN0_AUDIO_ENABLED">PIN0_AUDIO_ENABLED</a>;</td></tr>
<tr><th id="159">159</th><td>		<b>if</b> (<a class="local col2 ref" href="#12enable_mask" title='enable_mask' data-ref="12enable_mask" data-ref-filename="12enable_mask">enable_mask</a> &amp; <var>2</var>)</td></tr>
<tr><th id="160">160</th><td>			<a class="local col3 ref" href="#13tmp" title='tmp' data-ref="13tmp" data-ref-filename="13tmp">tmp</a> |= <a class="macro" href="r600d.h.html#945" title="(1 &lt;&lt; 25)" data-ref="_M/PIN1_AUDIO_ENABLED">PIN1_AUDIO_ENABLED</a>;</td></tr>
<tr><th id="161">161</th><td>		<b>if</b> (<a class="local col2 ref" href="#12enable_mask" title='enable_mask' data-ref="12enable_mask" data-ref-filename="12enable_mask">enable_mask</a> &amp; <var>4</var>)</td></tr>
<tr><th id="162">162</th><td>			<a class="local col3 ref" href="#13tmp" title='tmp' data-ref="13tmp" data-ref-filename="13tmp">tmp</a> |= <a class="macro" href="r600d.h.html#946" title="(1 &lt;&lt; 26)" data-ref="_M/PIN2_AUDIO_ENABLED">PIN2_AUDIO_ENABLED</a>;</td></tr>
<tr><th id="163">163</th><td>		<b>if</b> (<a class="local col2 ref" href="#12enable_mask" title='enable_mask' data-ref="12enable_mask" data-ref-filename="12enable_mask">enable_mask</a> &amp; <var>8</var>)</td></tr>
<tr><th id="164">164</th><td>			<a class="local col3 ref" href="#13tmp" title='tmp' data-ref="13tmp" data-ref-filename="13tmp">tmp</a> |= <a class="macro" href="r600d.h.html#947" title="(1 &lt;&lt; 27)" data-ref="_M/PIN3_AUDIO_ENABLED">PIN3_AUDIO_ENABLED</a>;</td></tr>
<tr><th id="165">165</th><td>	} <b>else</b> {</td></tr>
<tr><th id="166">166</th><td>		<a class="local col3 ref" href="#13tmp" title='tmp' data-ref="13tmp" data-ref-filename="13tmp">tmp</a> &amp;= ~(<a class="macro" href="r600d.h.html#938" title="(1 &lt;&lt; 31)" data-ref="_M/AUDIO_ENABLED">AUDIO_ENABLED</a> |</td></tr>
<tr><th id="167">167</th><td>			 <a class="macro" href="r600d.h.html#944" title="(1 &lt;&lt; 24)" data-ref="_M/PIN0_AUDIO_ENABLED">PIN0_AUDIO_ENABLED</a> |</td></tr>
<tr><th id="168">168</th><td>			 <a class="macro" href="r600d.h.html#945" title="(1 &lt;&lt; 25)" data-ref="_M/PIN1_AUDIO_ENABLED">PIN1_AUDIO_ENABLED</a> |</td></tr>
<tr><th id="169">169</th><td>			 <a class="macro" href="r600d.h.html#946" title="(1 &lt;&lt; 26)" data-ref="_M/PIN2_AUDIO_ENABLED">PIN2_AUDIO_ENABLED</a> |</td></tr>
<tr><th id="170">170</th><td>			 <a class="macro" href="r600d.h.html#947" title="(1 &lt;&lt; 27)" data-ref="_M/PIN3_AUDIO_ENABLED">PIN3_AUDIO_ENABLED</a>);</td></tr>
<tr><th id="171">171</th><td>	}</td></tr>
<tr><th id="172">172</th><td></td></tr>
<tr><th id="173">173</th><td>	<a class="macro" href="radeon.h.html#2615" title="r100_mm_wreg(rdev, (0x7300), (tmp), 0)" data-ref="_M/WREG32">WREG32</a>(<a class="macro" href="r600d.h.html#933" title="0x7300" data-ref="_M/AZ_HOT_PLUG_CONTROL">AZ_HOT_PLUG_CONTROL</a>, <a class="local col3 ref" href="#13tmp" title='tmp' data-ref="13tmp" data-ref-filename="13tmp">tmp</a>);</td></tr>
<tr><th id="174">174</th><td>}</td></tr>
<tr><th id="175">175</th><td></td></tr>
<tr><th id="176">176</th><td><b>struct</b> <a class="type" href="radeon.h.html#r600_audio_pin" title='r600_audio_pin' data-ref="r600_audio_pin" data-ref-filename="r600_audio_pin">r600_audio_pin</a> *<dfn class="decl def fn" id="r600_audio_get_pin" title='r600_audio_get_pin' data-ref="r600_audio_get_pin" data-ref-filename="r600_audio_get_pin">r600_audio_get_pin</dfn>(<b>struct</b> <a class="type" href="radeon.h.html#radeon_device" title='radeon_device' data-ref="radeon_device" data-ref-filename="radeon_device">radeon_device</a> *<dfn class="local col4 decl" id="14rdev" title='rdev' data-type='struct radeon_device *' data-ref="14rdev" data-ref-filename="14rdev">rdev</dfn>)</td></tr>
<tr><th id="177">177</th><td>{</td></tr>
<tr><th id="178">178</th><td>	<i>/* only one pin on 6xx-NI */</i></td></tr>
<tr><th id="179">179</th><td>	<b>return</b> &amp;<a class="local col4 ref" href="#14rdev" title='rdev' data-ref="14rdev" data-ref-filename="14rdev">rdev</a>-&gt;<a class="ref field" href="radeon.h.html#radeon_device::audio" title='radeon_device::audio' data-ref="radeon_device::audio" data-ref-filename="radeon_device..audio">audio</a>.<a class="ref field" href="radeon.h.html#r600_audio::pin" title='r600_audio::pin' data-ref="r600_audio::pin" data-ref-filename="r600_audio..pin">pin</a>[<var>0</var>];</td></tr>
<tr><th id="180">180</th><td>}</td></tr>
<tr><th id="181">181</th><td></td></tr>
<tr><th id="182">182</th><td><em>void</em> <dfn class="decl def fn" id="r600_hdmi_update_acr" title='r600_hdmi_update_acr' data-ref="r600_hdmi_update_acr" data-ref-filename="r600_hdmi_update_acr">r600_hdmi_update_acr</dfn>(<b>struct</b> <a class="type" href="../../include/drm/drm_crtc.h.html#drm_encoder" title='drm_encoder' data-ref="drm_encoder" data-ref-filename="drm_encoder">drm_encoder</a> *<dfn class="local col5 decl" id="15encoder" title='encoder' data-type='struct drm_encoder *' data-ref="15encoder" data-ref-filename="15encoder">encoder</dfn>, <em>long</em> <dfn class="local col6 decl" id="16offset" title='offset' data-type='long' data-ref="16offset" data-ref-filename="16offset">offset</dfn>,</td></tr>
<tr><th id="183">183</th><td>	<em>const</em> <b>struct</b> <a class="type" href="radeon.h.html#radeon_hdmi_acr" title='radeon_hdmi_acr' data-ref="radeon_hdmi_acr" data-ref-filename="radeon_hdmi_acr">radeon_hdmi_acr</a> *<dfn class="local col7 decl" id="17acr" title='acr' data-type='const struct radeon_hdmi_acr *' data-ref="17acr" data-ref-filename="17acr">acr</dfn>)</td></tr>
<tr><th id="184">184</th><td>{</td></tr>
<tr><th id="185">185</th><td>	<b>struct</b> <a class="type" href="../../include/drm/drmP.h.html#drm_device" title='drm_device' data-ref="drm_device" data-ref-filename="drm_device">drm_device</a> *<dfn class="local col8 decl" id="18dev" title='dev' data-type='struct drm_device *' data-ref="18dev" data-ref-filename="18dev">dev</dfn> = <a class="local col5 ref" href="#15encoder" title='encoder' data-ref="15encoder" data-ref-filename="15encoder">encoder</a>-&gt;<a class="ref field" href="../../include/drm/drm_crtc.h.html#drm_encoder::dev" title='drm_encoder::dev' data-ref="drm_encoder::dev" data-ref-filename="drm_encoder..dev">dev</a>;</td></tr>
<tr><th id="186">186</th><td>	<b>struct</b> <a class="type" href="radeon.h.html#radeon_device" title='radeon_device' data-ref="radeon_device" data-ref-filename="radeon_device">radeon_device</a> *<dfn class="local col9 decl" id="19rdev" title='rdev' data-type='struct radeon_device *' data-ref="19rdev" data-ref-filename="19rdev">rdev</dfn> = <a class="local col8 ref" href="#18dev" title='dev' data-ref="18dev" data-ref-filename="18dev">dev</a>-&gt;<a class="ref field" href="../../include/drm/drmP.h.html#drm_device::dev_private" title='drm_device::dev_private' data-ref="drm_device::dev_private" data-ref-filename="drm_device..dev_private">dev_private</a>;</td></tr>
<tr><th id="187">187</th><td></td></tr>
<tr><th id="188">188</th><td>	<i>/* DCE 3.0 uses register that's normally for CRC_CONTROL */</i></td></tr>
<tr><th id="189">189</th><td>	<a class="typedef" href="../../../../../../sys/types.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col0 decl" id="20acr_ctl" title='acr_ctl' data-type='uint32_t' data-ref="20acr_ctl" data-ref-filename="20acr_ctl">acr_ctl</dfn> = <a class="macro" href="radeon.h.html#2733" title="((rdev-&gt;family &gt;= CHIP_RV620))" data-ref="_M/ASIC_IS_DCE3">ASIC_IS_DCE3</a>(<a class="local col9 ref" href="#19rdev" title='rdev' data-ref="19rdev" data-ref-filename="19rdev">rdev</a>) ? <a class="macro" href="r600d.h.html#1060" title="0x740c" data-ref="_M/DCE3_HDMI0_ACR_PACKET_CONTROL">DCE3_HDMI0_ACR_PACKET_CONTROL</a> :</td></tr>
<tr><th id="190">190</th><td>				       <a class="macro" href="r600d.h.html#1192" title="0x74dc" data-ref="_M/HDMI0_ACR_PACKET_CONTROL">HDMI0_ACR_PACKET_CONTROL</a>;</td></tr>
<tr><th id="191">191</th><td>	<a class="macro" href="radeon.h.html#2641" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (acr_ctl + offset), 0); tmp_ &amp;= (~((1 &lt;&lt; 8) | (1 &lt;&lt; 12))); tmp_ |= (((1 &lt;&lt; 8) | (1 &lt;&lt; 12)) &amp; ~(~((1 &lt;&lt; 8) | (1 &lt;&lt; 12)))); r100_mm_wreg(rdev, (acr_ctl + offset), (tmp_), 0); } while (0)" data-ref="_M/WREG32_P">WREG32_P</a>(<a class="local col0 ref" href="#20acr_ctl" title='acr_ctl' data-ref="20acr_ctl" data-ref-filename="20acr_ctl">acr_ctl</a> + <a class="local col6 ref" href="#16offset" title='offset' data-ref="16offset" data-ref-filename="16offset">offset</a>,</td></tr>
<tr><th id="192">192</th><td>		<a class="macro" href="r600d.h.html#1200" title="(1 &lt;&lt; 8)" data-ref="_M/HDMI0_ACR_SOURCE">HDMI0_ACR_SOURCE</a> |		<i>/* select SW CTS value */</i></td></tr>
<tr><th id="193">193</th><td>		<a class="macro" href="r600d.h.html#1201" title="(1 &lt;&lt; 12)" data-ref="_M/HDMI0_ACR_AUTO_SEND">HDMI0_ACR_AUTO_SEND</a>,	<i>/* allow hw to sent ACR packets when required */</i></td></tr>
<tr><th id="194">194</th><td>		~(<a class="macro" href="r600d.h.html#1200" title="(1 &lt;&lt; 8)" data-ref="_M/HDMI0_ACR_SOURCE">HDMI0_ACR_SOURCE</a> |</td></tr>
<tr><th id="195">195</th><td>		<a class="macro" href="r600d.h.html#1201" title="(1 &lt;&lt; 12)" data-ref="_M/HDMI0_ACR_AUTO_SEND">HDMI0_ACR_AUTO_SEND</a>));</td></tr>
<tr><th id="196">196</th><td></td></tr>
<tr><th id="197">197</th><td>	<a class="macro" href="radeon.h.html#2641" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x74ac + offset), 0); tmp_ &amp;= (~(0xfffff &lt;&lt; 12)); tmp_ |= (((((acr-&gt;cts_32khz) &amp; 0xfffff) &lt;&lt; 12)) &amp; ~(~(0xfffff &lt;&lt; 12))); r100_mm_wreg(rdev, (0x74ac + offset), (tmp_), 0); } while (0)" data-ref="_M/WREG32_P">WREG32_P</a>(<a class="macro" href="r600d.h.html#1144" title="0x74ac" data-ref="_M/HDMI0_ACR_32_0">HDMI0_ACR_32_0</a> + <a class="local col6 ref" href="#16offset" title='offset' data-ref="16offset" data-ref-filename="16offset">offset</a>,</td></tr>
<tr><th id="198">198</th><td>		<a class="macro" href="r600d.h.html#1145" title="(((acr-&gt;cts_32khz) &amp; 0xfffff) &lt;&lt; 12)" data-ref="_M/HDMI0_ACR_CTS_32">HDMI0_ACR_CTS_32</a>(<a class="local col7 ref" href="#17acr" title='acr' data-ref="17acr" data-ref-filename="17acr">acr</a>-&gt;<a class="ref field" href="radeon.h.html#radeon_hdmi_acr::cts_32khz" title='radeon_hdmi_acr::cts_32khz' data-ref="radeon_hdmi_acr::cts_32khz" data-ref-filename="radeon_hdmi_acr..cts_32khz">cts_32khz</a>),</td></tr>
<tr><th id="199">199</th><td>		~<a class="macro" href="r600d.h.html#1146" title="(0xfffff &lt;&lt; 12)" data-ref="_M/HDMI0_ACR_CTS_32_MASK">HDMI0_ACR_CTS_32_MASK</a>);</td></tr>
<tr><th id="200">200</th><td>	<a class="macro" href="radeon.h.html#2641" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x74b0 + offset), 0); tmp_ &amp;= (~(0xfffff &lt;&lt; 0)); tmp_ |= (((((acr-&gt;n_32khz) &amp; 0xfffff) &lt;&lt; 0)) &amp; ~(~(0xfffff &lt;&lt; 0))); r100_mm_wreg(rdev, (0x74b0 + offset), (tmp_), 0); } while (0)" data-ref="_M/WREG32_P">WREG32_P</a>(<a class="macro" href="r600d.h.html#1147" title="0x74b0" data-ref="_M/HDMI0_ACR_32_1">HDMI0_ACR_32_1</a> + <a class="local col6 ref" href="#16offset" title='offset' data-ref="16offset" data-ref-filename="16offset">offset</a>,</td></tr>
<tr><th id="201">201</th><td>		<a class="macro" href="r600d.h.html#1148" title="(((acr-&gt;n_32khz) &amp; 0xfffff) &lt;&lt; 0)" data-ref="_M/HDMI0_ACR_N_32">HDMI0_ACR_N_32</a>(<a class="local col7 ref" href="#17acr" title='acr' data-ref="17acr" data-ref-filename="17acr">acr</a>-&gt;<a class="ref field" href="radeon.h.html#radeon_hdmi_acr::n_32khz" title='radeon_hdmi_acr::n_32khz' data-ref="radeon_hdmi_acr::n_32khz" data-ref-filename="radeon_hdmi_acr..n_32khz">n_32khz</a>),</td></tr>
<tr><th id="202">202</th><td>		~<a class="macro" href="r600d.h.html#1149" title="(0xfffff &lt;&lt; 0)" data-ref="_M/HDMI0_ACR_N_32_MASK">HDMI0_ACR_N_32_MASK</a>);</td></tr>
<tr><th id="203">203</th><td></td></tr>
<tr><th id="204">204</th><td>	<a class="macro" href="radeon.h.html#2641" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x74b4 + offset), 0); tmp_ &amp;= (~(0xfffff &lt;&lt; 12)); tmp_ |= (((((acr-&gt;cts_44_1khz) &amp; 0xfffff) &lt;&lt; 12)) &amp; ~(~(0xfffff &lt;&lt; 12))); r100_mm_wreg(rdev, (0x74b4 + offset), (tmp_), 0); } while (0)" data-ref="_M/WREG32_P">WREG32_P</a>(<a class="macro" href="r600d.h.html#1150" title="0x74b4" data-ref="_M/HDMI0_ACR_44_0">HDMI0_ACR_44_0</a> + <a class="local col6 ref" href="#16offset" title='offset' data-ref="16offset" data-ref-filename="16offset">offset</a>,</td></tr>
<tr><th id="205">205</th><td>		<a class="macro" href="r600d.h.html#1151" title="(((acr-&gt;cts_44_1khz) &amp; 0xfffff) &lt;&lt; 12)" data-ref="_M/HDMI0_ACR_CTS_44">HDMI0_ACR_CTS_44</a>(<a class="local col7 ref" href="#17acr" title='acr' data-ref="17acr" data-ref-filename="17acr">acr</a>-&gt;<a class="ref field" href="radeon.h.html#radeon_hdmi_acr::cts_44_1khz" title='radeon_hdmi_acr::cts_44_1khz' data-ref="radeon_hdmi_acr::cts_44_1khz" data-ref-filename="radeon_hdmi_acr..cts_44_1khz">cts_44_1khz</a>),</td></tr>
<tr><th id="206">206</th><td>		~<a class="macro" href="r600d.h.html#1152" title="(0xfffff &lt;&lt; 12)" data-ref="_M/HDMI0_ACR_CTS_44_MASK">HDMI0_ACR_CTS_44_MASK</a>);</td></tr>
<tr><th id="207">207</th><td>	<a class="macro" href="radeon.h.html#2641" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x74b8 + offset), 0); tmp_ &amp;= (~(0xfffff &lt;&lt; 0)); tmp_ |= (((((acr-&gt;n_44_1khz) &amp; 0xfffff) &lt;&lt; 0)) &amp; ~(~(0xfffff &lt;&lt; 0))); r100_mm_wreg(rdev, (0x74b8 + offset), (tmp_), 0); } while (0)" data-ref="_M/WREG32_P">WREG32_P</a>(<a class="macro" href="r600d.h.html#1153" title="0x74b8" data-ref="_M/HDMI0_ACR_44_1">HDMI0_ACR_44_1</a> + <a class="local col6 ref" href="#16offset" title='offset' data-ref="16offset" data-ref-filename="16offset">offset</a>,</td></tr>
<tr><th id="208">208</th><td>		<a class="macro" href="r600d.h.html#1154" title="(((acr-&gt;n_44_1khz) &amp; 0xfffff) &lt;&lt; 0)" data-ref="_M/HDMI0_ACR_N_44">HDMI0_ACR_N_44</a>(<a class="local col7 ref" href="#17acr" title='acr' data-ref="17acr" data-ref-filename="17acr">acr</a>-&gt;<a class="ref field" href="radeon.h.html#radeon_hdmi_acr::n_44_1khz" title='radeon_hdmi_acr::n_44_1khz' data-ref="radeon_hdmi_acr::n_44_1khz" data-ref-filename="radeon_hdmi_acr..n_44_1khz">n_44_1khz</a>),</td></tr>
<tr><th id="209">209</th><td>		~<a class="macro" href="r600d.h.html#1155" title="(0xfffff &lt;&lt; 0)" data-ref="_M/HDMI0_ACR_N_44_MASK">HDMI0_ACR_N_44_MASK</a>);</td></tr>
<tr><th id="210">210</th><td></td></tr>
<tr><th id="211">211</th><td>	<a class="macro" href="radeon.h.html#2641" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x74bc + offset), 0); tmp_ &amp;= (~(0xfffff &lt;&lt; 12)); tmp_ |= (((((acr-&gt;cts_48khz) &amp; 0xfffff) &lt;&lt; 12)) &amp; ~(~(0xfffff &lt;&lt; 12))); r100_mm_wreg(rdev, (0x74bc + offset), (tmp_), 0); } while (0)" data-ref="_M/WREG32_P">WREG32_P</a>(<a class="macro" href="r600d.h.html#1156" title="0x74bc" data-ref="_M/HDMI0_ACR_48_0">HDMI0_ACR_48_0</a> + <a class="local col6 ref" href="#16offset" title='offset' data-ref="16offset" data-ref-filename="16offset">offset</a>,</td></tr>
<tr><th id="212">212</th><td>		<a class="macro" href="r600d.h.html#1157" title="(((acr-&gt;cts_48khz) &amp; 0xfffff) &lt;&lt; 12)" data-ref="_M/HDMI0_ACR_CTS_48">HDMI0_ACR_CTS_48</a>(<a class="local col7 ref" href="#17acr" title='acr' data-ref="17acr" data-ref-filename="17acr">acr</a>-&gt;<a class="ref field" href="radeon.h.html#radeon_hdmi_acr::cts_48khz" title='radeon_hdmi_acr::cts_48khz' data-ref="radeon_hdmi_acr::cts_48khz" data-ref-filename="radeon_hdmi_acr..cts_48khz">cts_48khz</a>),</td></tr>
<tr><th id="213">213</th><td>		~<a class="macro" href="r600d.h.html#1158" title="(0xfffff &lt;&lt; 12)" data-ref="_M/HDMI0_ACR_CTS_48_MASK">HDMI0_ACR_CTS_48_MASK</a>);</td></tr>
<tr><th id="214">214</th><td>	<a class="macro" href="radeon.h.html#2641" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x74c0 + offset), 0); tmp_ &amp;= (~(0xfffff &lt;&lt; 0)); tmp_ |= (((((acr-&gt;n_48khz) &amp; 0xfffff) &lt;&lt; 0)) &amp; ~(~(0xfffff &lt;&lt; 0))); r100_mm_wreg(rdev, (0x74c0 + offset), (tmp_), 0); } while (0)" data-ref="_M/WREG32_P">WREG32_P</a>(<a class="macro" href="r600d.h.html#1159" title="0x74c0" data-ref="_M/HDMI0_ACR_48_1">HDMI0_ACR_48_1</a> + <a class="local col6 ref" href="#16offset" title='offset' data-ref="16offset" data-ref-filename="16offset">offset</a>,</td></tr>
<tr><th id="215">215</th><td>		<a class="macro" href="r600d.h.html#1160" title="(((acr-&gt;n_48khz) &amp; 0xfffff) &lt;&lt; 0)" data-ref="_M/HDMI0_ACR_N_48">HDMI0_ACR_N_48</a>(<a class="local col7 ref" href="#17acr" title='acr' data-ref="17acr" data-ref-filename="17acr">acr</a>-&gt;<a class="ref field" href="radeon.h.html#radeon_hdmi_acr::n_48khz" title='radeon_hdmi_acr::n_48khz' data-ref="radeon_hdmi_acr::n_48khz" data-ref-filename="radeon_hdmi_acr..n_48khz">n_48khz</a>),</td></tr>
<tr><th id="216">216</th><td>		~<a class="macro" href="r600d.h.html#1161" title="(0xfffff &lt;&lt; 0)" data-ref="_M/HDMI0_ACR_N_48_MASK">HDMI0_ACR_N_48_MASK</a>);</td></tr>
<tr><th id="217">217</th><td>}</td></tr>
<tr><th id="218">218</th><td></td></tr>
<tr><th id="219">219</th><td><i>/*</i></td></tr>
<tr><th id="220">220</th><td><i> * build a HDMI Video Info Frame</i></td></tr>
<tr><th id="221">221</th><td><i> */</i></td></tr>
<tr><th id="222">222</th><td><em>void</em> <dfn class="decl def fn" id="r600_set_avi_packet" title='r600_set_avi_packet' data-ref="r600_set_avi_packet" data-ref-filename="r600_set_avi_packet">r600_set_avi_packet</dfn>(<b>struct</b> <a class="type" href="radeon.h.html#radeon_device" title='radeon_device' data-ref="radeon_device" data-ref-filename="radeon_device">radeon_device</a> *<dfn class="local col1 decl" id="21rdev" title='rdev' data-type='struct radeon_device *' data-ref="21rdev" data-ref-filename="21rdev">rdev</dfn>, <a class="typedef" href="../../../include/linux/types.h.html#u32" title='u32' data-type='uint32_t' data-ref="u32" data-ref-filename="u32">u32</a> <dfn class="local col2 decl" id="22offset" title='offset' data-type='u32' data-ref="22offset" data-ref-filename="22offset">offset</dfn>,</td></tr>
<tr><th id="223">223</th><td>    <em>unsigned</em> <em>char</em> *<dfn class="local col3 decl" id="23buffer" title='buffer' data-type='unsigned char *' data-ref="23buffer" data-ref-filename="23buffer">buffer</dfn>, <a class="typedef" href="../../../../../../sys/types.h.html#size_t" title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</a> <dfn class="local col4 decl" id="24size" title='size' data-type='size_t' data-ref="24size" data-ref-filename="24size">size</dfn>)</td></tr>
<tr><th id="224">224</th><td>{</td></tr>
<tr><th id="225">225</th><td>	<a class="typedef" href="../../../../../../sys/types.h.html#uint8_t" title='uint8_t' data-type='__uint8_t' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</a> *<dfn class="local col5 decl" id="25frame" title='frame' data-type='uint8_t *' data-ref="25frame" data-ref-filename="25frame">frame</dfn> = <a class="local col3 ref" href="#23buffer" title='buffer' data-ref="23buffer" data-ref-filename="23buffer">buffer</a> + <var>3</var>;</td></tr>
<tr><th id="226">226</th><td></td></tr>
<tr><th id="227">227</th><td>	<a class="macro" href="radeon.h.html#2615" title="r100_mm_wreg(rdev, (0x7454 + offset), (frame[0x0] | (frame[0x1] &lt;&lt; 8) | (frame[0x2] &lt;&lt; 16) | (frame[0x3] &lt;&lt; 24)), 0)" data-ref="_M/WREG32">WREG32</a>(<a class="macro" href="r600d.h.html#1093" title="0x7454" data-ref="_M/HDMI0_AVI_INFO0">HDMI0_AVI_INFO0</a> + <a class="local col2 ref" href="#22offset" title='offset' data-ref="22offset" data-ref-filename="22offset">offset</a>,</td></tr>
<tr><th id="228">228</th><td>		<a class="local col5 ref" href="#25frame" title='frame' data-ref="25frame" data-ref-filename="25frame">frame</a>[<var>0x0</var>] | (<a class="local col5 ref" href="#25frame" title='frame' data-ref="25frame" data-ref-filename="25frame">frame</a>[<var>0x1</var>] &lt;&lt; <var>8</var>) | (<a class="local col5 ref" href="#25frame" title='frame' data-ref="25frame" data-ref-filename="25frame">frame</a>[<var>0x2</var>] &lt;&lt; <var>16</var>) | (<a class="local col5 ref" href="#25frame" title='frame' data-ref="25frame" data-ref-filename="25frame">frame</a>[<var>0x3</var>] &lt;&lt; <var>24</var>));</td></tr>
<tr><th id="229">229</th><td>	<a class="macro" href="radeon.h.html#2615" title="r100_mm_wreg(rdev, (0x7458 + offset), (frame[0x4] | (frame[0x5] &lt;&lt; 8) | (frame[0x6] &lt;&lt; 16) | (frame[0x7] &lt;&lt; 24)), 0)" data-ref="_M/WREG32">WREG32</a>(<a class="macro" href="r600d.h.html#1109" title="0x7458" data-ref="_M/HDMI0_AVI_INFO1">HDMI0_AVI_INFO1</a> + <a class="local col2 ref" href="#22offset" title='offset' data-ref="22offset" data-ref-filename="22offset">offset</a>,</td></tr>
<tr><th id="230">230</th><td>		<a class="local col5 ref" href="#25frame" title='frame' data-ref="25frame" data-ref-filename="25frame">frame</a>[<var>0x4</var>] | (<a class="local col5 ref" href="#25frame" title='frame' data-ref="25frame" data-ref-filename="25frame">frame</a>[<var>0x5</var>] &lt;&lt; <var>8</var>) | (<a class="local col5 ref" href="#25frame" title='frame' data-ref="25frame" data-ref-filename="25frame">frame</a>[<var>0x6</var>] &lt;&lt; <var>16</var>) | (<a class="local col5 ref" href="#25frame" title='frame' data-ref="25frame" data-ref-filename="25frame">frame</a>[<var>0x7</var>] &lt;&lt; <var>24</var>));</td></tr>
<tr><th id="231">231</th><td>	<a class="macro" href="radeon.h.html#2615" title="r100_mm_wreg(rdev, (0x745c + offset), (frame[0x8] | (frame[0x9] &lt;&lt; 8) | (frame[0xA] &lt;&lt; 16) | (frame[0xB] &lt;&lt; 24)), 0)" data-ref="_M/WREG32">WREG32</a>(<a class="macro" href="r600d.h.html#1113" title="0x745c" data-ref="_M/HDMI0_AVI_INFO2">HDMI0_AVI_INFO2</a> + <a class="local col2 ref" href="#22offset" title='offset' data-ref="22offset" data-ref-filename="22offset">offset</a>,</td></tr>
<tr><th id="232">232</th><td>		<a class="local col5 ref" href="#25frame" title='frame' data-ref="25frame" data-ref-filename="25frame">frame</a>[<var>0x8</var>] | (<a class="local col5 ref" href="#25frame" title='frame' data-ref="25frame" data-ref-filename="25frame">frame</a>[<var>0x9</var>] &lt;&lt; <var>8</var>) | (<a class="local col5 ref" href="#25frame" title='frame' data-ref="25frame" data-ref-filename="25frame">frame</a>[<var>0xA</var>] &lt;&lt; <var>16</var>) | (<a class="local col5 ref" href="#25frame" title='frame' data-ref="25frame" data-ref-filename="25frame">frame</a>[<var>0xB</var>] &lt;&lt; <var>24</var>));</td></tr>
<tr><th id="233">233</th><td>	<a class="macro" href="radeon.h.html#2615" title="r100_mm_wreg(rdev, (0x7460 + offset), (frame[0xC] | (frame[0xD] &lt;&lt; 8) | (buffer[1] &lt;&lt; 24)), 0)" data-ref="_M/WREG32">WREG32</a>(<a class="macro" href="r600d.h.html#1116" title="0x7460" data-ref="_M/HDMI0_AVI_INFO3">HDMI0_AVI_INFO3</a> + <a class="local col2 ref" href="#22offset" title='offset' data-ref="22offset" data-ref-filename="22offset">offset</a>,</td></tr>
<tr><th id="234">234</th><td>		<a class="local col5 ref" href="#25frame" title='frame' data-ref="25frame" data-ref-filename="25frame">frame</a>[<var>0xC</var>] | (<a class="local col5 ref" href="#25frame" title='frame' data-ref="25frame" data-ref-filename="25frame">frame</a>[<var>0xD</var>] &lt;&lt; <var>8</var>) | (<a class="local col3 ref" href="#23buffer" title='buffer' data-ref="23buffer" data-ref-filename="23buffer">buffer</a>[<var>1</var>] &lt;&lt; <var>24</var>));</td></tr>
<tr><th id="235">235</th><td></td></tr>
<tr><th id="236">236</th><td>	<a class="macro" href="radeon.h.html#2649" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x7418 + offset), 0); tmp_ &amp;= (~((((2) &amp; 0x3f) &lt;&lt; 0))); tmp_ |= (((((2) &amp; 0x3f) &lt;&lt; 0)) &amp; ~(~((((2) &amp; 0x3f) &lt;&lt; 0)))); r100_mm_wreg(rdev, (0x7418 + offset), (tmp_), 0); } while (0)" data-ref="_M/WREG32_OR">WREG32_OR</a>(<a class="macro" href="r600d.h.html#1075" title="0x7418" data-ref="_M/HDMI0_INFOFRAME_CONTROL1">HDMI0_INFOFRAME_CONTROL1</a> + <a class="local col2 ref" href="#22offset" title='offset' data-ref="22offset" data-ref-filename="22offset">offset</a>,</td></tr>
<tr><th id="237">237</th><td>		  <a class="macro" href="r600d.h.html#1076" title="(((2) &amp; 0x3f) &lt;&lt; 0)" data-ref="_M/HDMI0_AVI_INFO_LINE">HDMI0_AVI_INFO_LINE</a>(<var>2</var>));	<i>/* anything other than 0 */</i></td></tr>
<tr><th id="238">238</th><td></td></tr>
<tr><th id="239">239</th><td>	<a class="macro" href="radeon.h.html#2649" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x7414 + offset), 0); tmp_ &amp;= (~((1 &lt;&lt; 0) | (1 &lt;&lt; 1))); tmp_ |= (((1 &lt;&lt; 0) | (1 &lt;&lt; 1)) &amp; ~(~((1 &lt;&lt; 0) | (1 &lt;&lt; 1)))); r100_mm_wreg(rdev, (0x7414 + offset), (tmp_), 0); } while (0)" data-ref="_M/WREG32_OR">WREG32_OR</a>(<a class="macro" href="r600d.h.html#1065" title="0x7414" data-ref="_M/HDMI0_INFOFRAME_CONTROL0">HDMI0_INFOFRAME_CONTROL0</a> + <a class="local col2 ref" href="#22offset" title='offset' data-ref="22offset" data-ref-filename="22offset">offset</a>,</td></tr>
<tr><th id="240">240</th><td>		  <a class="macro" href="r600d.h.html#1066" title="(1 &lt;&lt; 0)" data-ref="_M/HDMI0_AVI_INFO_SEND">HDMI0_AVI_INFO_SEND</a> |	<i>/* enable AVI info frames */</i></td></tr>
<tr><th id="241">241</th><td>		  <a class="macro" href="r600d.h.html#1067" title="(1 &lt;&lt; 1)" data-ref="_M/HDMI0_AVI_INFO_CONT">HDMI0_AVI_INFO_CONT</a>);	<i>/* send AVI info frames every frame/field */</i></td></tr>
<tr><th id="242">242</th><td></td></tr>
<tr><th id="243">243</th><td>}</td></tr>
<tr><th id="244">244</th><td></td></tr>
<tr><th id="245">245</th><td><i  data-doc="r600_hdmi_update_audio_infoframe">/*</i></td></tr>
<tr><th id="246">246</th><td><i  data-doc="r600_hdmi_update_audio_infoframe"> * build a Audio Info Frame</i></td></tr>
<tr><th id="247">247</th><td><i  data-doc="r600_hdmi_update_audio_infoframe"> */</i></td></tr>
<tr><th id="248">248</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="r600_hdmi_update_audio_infoframe" title='r600_hdmi_update_audio_infoframe' data-type='void r600_hdmi_update_audio_infoframe(struct drm_encoder * encoder, const void * buffer, size_t size)' data-ref="r600_hdmi_update_audio_infoframe" data-ref-filename="r600_hdmi_update_audio_infoframe">r600_hdmi_update_audio_infoframe</dfn>(<b>struct</b> <a class="type" href="../../include/drm/drm_crtc.h.html#drm_encoder" title='drm_encoder' data-ref="drm_encoder" data-ref-filename="drm_encoder">drm_encoder</a> *<dfn class="local col6 decl" id="26encoder" title='encoder' data-type='struct drm_encoder *' data-ref="26encoder" data-ref-filename="26encoder">encoder</dfn>,</td></tr>
<tr><th id="249">249</th><td>					     <em>const</em> <em>void</em> *<dfn class="local col7 decl" id="27buffer" title='buffer' data-type='const void *' data-ref="27buffer" data-ref-filename="27buffer">buffer</dfn>, <a class="typedef" href="../../../../../../sys/types.h.html#size_t" title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</a> <dfn class="local col8 decl" id="28size" title='size' data-type='size_t' data-ref="28size" data-ref-filename="28size">size</dfn>)</td></tr>
<tr><th id="250">250</th><td>{</td></tr>
<tr><th id="251">251</th><td>	<b>struct</b> <a class="type" href="../../include/drm/drmP.h.html#drm_device" title='drm_device' data-ref="drm_device" data-ref-filename="drm_device">drm_device</a> *<dfn class="local col9 decl" id="29dev" title='dev' data-type='struct drm_device *' data-ref="29dev" data-ref-filename="29dev">dev</dfn> = <a class="local col6 ref" href="#26encoder" title='encoder' data-ref="26encoder" data-ref-filename="26encoder">encoder</a>-&gt;<a class="ref field" href="../../include/drm/drm_crtc.h.html#drm_encoder::dev" title='drm_encoder::dev' data-ref="drm_encoder::dev" data-ref-filename="drm_encoder..dev">dev</a>;</td></tr>
<tr><th id="252">252</th><td>	<b>struct</b> <a class="type" href="radeon.h.html#radeon_device" title='radeon_device' data-ref="radeon_device" data-ref-filename="radeon_device">radeon_device</a> *<dfn class="local col0 decl" id="30rdev" title='rdev' data-type='struct radeon_device *' data-ref="30rdev" data-ref-filename="30rdev">rdev</dfn> = <a class="local col9 ref" href="#29dev" title='dev' data-ref="29dev" data-ref-filename="29dev">dev</a>-&gt;<a class="ref field" href="../../include/drm/drmP.h.html#drm_device::dev_private" title='drm_device::dev_private' data-ref="drm_device::dev_private" data-ref-filename="drm_device..dev_private">dev_private</a>;</td></tr>
<tr><th id="253">253</th><td>	<b>struct</b> <a class="type" href="radeon_mode.h.html#radeon_encoder" title='radeon_encoder' data-ref="radeon_encoder" data-ref-filename="radeon_encoder">radeon_encoder</a> *<dfn class="local col1 decl" id="31radeon_encoder" title='radeon_encoder' data-type='struct radeon_encoder *' data-ref="31radeon_encoder" data-ref-filename="31radeon_encoder">radeon_encoder</dfn> = <a class="macro" href="radeon_mode.h.html#49" title="((struct radeon_encoder *)(((char *)(encoder)) - __builtin_offsetof(struct radeon_encoder, base)) + (0 * sizeof((encoder) - &amp;((struct radeon_encoder *)(((char *)(encoder)) - __builtin_offsetof(struct radeon_encoder, base)))-&gt;base)))" data-ref="_M/to_radeon_encoder">to_radeon_encoder</a>(<a class="local col6 ref" href="#26encoder" title='encoder' data-ref="26encoder" data-ref-filename="26encoder">encoder</a>);</td></tr>
<tr><th id="254">254</th><td>	<b>struct</b> <a class="type" href="radeon_mode.h.html#radeon_encoder_atom_dig" title='radeon_encoder_atom_dig' data-ref="radeon_encoder_atom_dig" data-ref-filename="radeon_encoder_atom_dig">radeon_encoder_atom_dig</a> *<dfn class="local col2 decl" id="32dig" title='dig' data-type='struct radeon_encoder_atom_dig *' data-ref="32dig" data-ref-filename="32dig">dig</dfn> = <a class="local col1 ref" href="#31radeon_encoder" title='radeon_encoder' data-ref="31radeon_encoder" data-ref-filename="31radeon_encoder">radeon_encoder</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder::enc_priv" title='radeon_encoder::enc_priv' data-ref="radeon_encoder::enc_priv" data-ref-filename="radeon_encoder..enc_priv">enc_priv</a>;</td></tr>
<tr><th id="255">255</th><td>	<a class="typedef" href="../../../../../../sys/types.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col3 decl" id="33offset" title='offset' data-type='uint32_t' data-ref="33offset" data-ref-filename="33offset">offset</dfn> = <a class="local col2 ref" href="#32dig" title='dig' data-ref="32dig" data-ref-filename="32dig">dig</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder_atom_dig::afmt" title='radeon_encoder_atom_dig::afmt' data-ref="radeon_encoder_atom_dig::afmt" data-ref-filename="radeon_encoder_atom_dig..afmt">afmt</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_afmt::offset" title='radeon_afmt::offset' data-ref="radeon_afmt::offset" data-ref-filename="radeon_afmt..offset">offset</a>;</td></tr>
<tr><th id="256">256</th><td>	<em>const</em> <a class="typedef" href="../../../include/linux/types.h.html#u8" title='u8' data-type='uint8_t' data-ref="u8" data-ref-filename="u8">u8</a> *<dfn class="local col4 decl" id="34frame" title='frame' data-type='const u8 *' data-ref="34frame" data-ref-filename="34frame">frame</dfn> = (<em>const</em> <a class="typedef" href="../../../include/linux/types.h.html#u8" title='u8' data-type='uint8_t' data-ref="u8" data-ref-filename="u8">u8</a> *)<a class="local col7 ref" href="#27buffer" title='buffer' data-ref="27buffer" data-ref-filename="27buffer">buffer</a> + <var>3</var>;</td></tr>
<tr><th id="257">257</th><td></td></tr>
<tr><th id="258">258</th><td>	<a class="macro" href="radeon.h.html#2615" title="r100_mm_wreg(rdev, (0x74cc + offset), (frame[0x0] | (frame[0x1] &lt;&lt; 8) | (frame[0x2] &lt;&lt; 16) | (frame[0x3] &lt;&lt; 24)), 0)" data-ref="_M/WREG32">WREG32</a>(<a class="macro" href="r600d.h.html#1164" title="0x74cc" data-ref="_M/HDMI0_AUDIO_INFO0">HDMI0_AUDIO_INFO0</a> + <a class="local col3 ref" href="#33offset" title='offset' data-ref="33offset" data-ref-filename="33offset">offset</a>,</td></tr>
<tr><th id="259">259</th><td>		<a class="local col4 ref" href="#34frame" title='frame' data-ref="34frame" data-ref-filename="34frame">frame</a>[<var>0x0</var>] | (<a class="local col4 ref" href="#34frame" title='frame' data-ref="34frame" data-ref-filename="34frame">frame</a>[<var>0x1</var>] &lt;&lt; <var>8</var>) | (<a class="local col4 ref" href="#34frame" title='frame' data-ref="34frame" data-ref-filename="34frame">frame</a>[<var>0x2</var>] &lt;&lt; <var>16</var>) | (<a class="local col4 ref" href="#34frame" title='frame' data-ref="34frame" data-ref-filename="34frame">frame</a>[<var>0x3</var>] &lt;&lt; <var>24</var>));</td></tr>
<tr><th id="260">260</th><td>	<a class="macro" href="radeon.h.html#2615" title="r100_mm_wreg(rdev, (0x74d0 + offset), (frame[0x4] | (frame[0x5] &lt;&lt; 8) | (frame[0x6] &lt;&lt; 16) | (frame[0x8] &lt;&lt; 24)), 0)" data-ref="_M/WREG32">WREG32</a>(<a class="macro" href="r600d.h.html#1167" title="0x74d0" data-ref="_M/HDMI0_AUDIO_INFO1">HDMI0_AUDIO_INFO1</a> + <a class="local col3 ref" href="#33offset" title='offset' data-ref="33offset" data-ref-filename="33offset">offset</a>,</td></tr>
<tr><th id="261">261</th><td>		<a class="local col4 ref" href="#34frame" title='frame' data-ref="34frame" data-ref-filename="34frame">frame</a>[<var>0x4</var>] | (<a class="local col4 ref" href="#34frame" title='frame' data-ref="34frame" data-ref-filename="34frame">frame</a>[<var>0x5</var>] &lt;&lt; <var>8</var>) | (<a class="local col4 ref" href="#34frame" title='frame' data-ref="34frame" data-ref-filename="34frame">frame</a>[<var>0x6</var>] &lt;&lt; <var>16</var>) | (<a class="local col4 ref" href="#34frame" title='frame' data-ref="34frame" data-ref-filename="34frame">frame</a>[<var>0x8</var>] &lt;&lt; <var>24</var>));</td></tr>
<tr><th id="262">262</th><td>}</td></tr>
<tr><th id="263">263</th><td></td></tr>
<tr><th id="264">264</th><td><i  data-doc="r600_hdmi_is_audio_buffer_filled">/*</i></td></tr>
<tr><th id="265">265</th><td><i  data-doc="r600_hdmi_is_audio_buffer_filled"> * test if audio buffer is filled enough to start playing</i></td></tr>
<tr><th id="266">266</th><td><i  data-doc="r600_hdmi_is_audio_buffer_filled"> */</i></td></tr>
<tr><th id="267">267</th><td><em>static</em> <a class="macro" href="../../../../../../sys/stdbool.h.html#37" title="_Bool" data-ref="_M/bool">bool</a> <dfn class="tu decl def fn" id="r600_hdmi_is_audio_buffer_filled" title='r600_hdmi_is_audio_buffer_filled' data-type='_Bool r600_hdmi_is_audio_buffer_filled(struct drm_encoder * encoder)' data-ref="r600_hdmi_is_audio_buffer_filled" data-ref-filename="r600_hdmi_is_audio_buffer_filled">r600_hdmi_is_audio_buffer_filled</dfn>(<b>struct</b> <a class="type" href="../../include/drm/drm_crtc.h.html#drm_encoder" title='drm_encoder' data-ref="drm_encoder" data-ref-filename="drm_encoder">drm_encoder</a> *<dfn class="local col5 decl" id="35encoder" title='encoder' data-type='struct drm_encoder *' data-ref="35encoder" data-ref-filename="35encoder">encoder</dfn>)</td></tr>
<tr><th id="268">268</th><td>{</td></tr>
<tr><th id="269">269</th><td>	<b>struct</b> <a class="type" href="../../include/drm/drmP.h.html#drm_device" title='drm_device' data-ref="drm_device" data-ref-filename="drm_device">drm_device</a> *<dfn class="local col6 decl" id="36dev" title='dev' data-type='struct drm_device *' data-ref="36dev" data-ref-filename="36dev">dev</dfn> = <a class="local col5 ref" href="#35encoder" title='encoder' data-ref="35encoder" data-ref-filename="35encoder">encoder</a>-&gt;<a class="ref field" href="../../include/drm/drm_crtc.h.html#drm_encoder::dev" title='drm_encoder::dev' data-ref="drm_encoder::dev" data-ref-filename="drm_encoder..dev">dev</a>;</td></tr>
<tr><th id="270">270</th><td>	<b>struct</b> <a class="type" href="radeon.h.html#radeon_device" title='radeon_device' data-ref="radeon_device" data-ref-filename="radeon_device">radeon_device</a> *<dfn class="local col7 decl" id="37rdev" title='rdev' data-type='struct radeon_device *' data-ref="37rdev" data-ref-filename="37rdev">rdev</dfn> = <a class="local col6 ref" href="#36dev" title='dev' data-ref="36dev" data-ref-filename="36dev">dev</a>-&gt;<a class="ref field" href="../../include/drm/drmP.h.html#drm_device::dev_private" title='drm_device::dev_private' data-ref="drm_device::dev_private" data-ref-filename="drm_device..dev_private">dev_private</a>;</td></tr>
<tr><th id="271">271</th><td>	<b>struct</b> <a class="type" href="radeon_mode.h.html#radeon_encoder" title='radeon_encoder' data-ref="radeon_encoder" data-ref-filename="radeon_encoder">radeon_encoder</a> *<dfn class="local col8 decl" id="38radeon_encoder" title='radeon_encoder' data-type='struct radeon_encoder *' data-ref="38radeon_encoder" data-ref-filename="38radeon_encoder">radeon_encoder</dfn> = <a class="macro" href="radeon_mode.h.html#49" title="((struct radeon_encoder *)(((char *)(encoder)) - __builtin_offsetof(struct radeon_encoder, base)) + (0 * sizeof((encoder) - &amp;((struct radeon_encoder *)(((char *)(encoder)) - __builtin_offsetof(struct radeon_encoder, base)))-&gt;base)))" data-ref="_M/to_radeon_encoder">to_radeon_encoder</a>(<a class="local col5 ref" href="#35encoder" title='encoder' data-ref="35encoder" data-ref-filename="35encoder">encoder</a>);</td></tr>
<tr><th id="272">272</th><td>	<b>struct</b> <a class="type" href="radeon_mode.h.html#radeon_encoder_atom_dig" title='radeon_encoder_atom_dig' data-ref="radeon_encoder_atom_dig" data-ref-filename="radeon_encoder_atom_dig">radeon_encoder_atom_dig</a> *<dfn class="local col9 decl" id="39dig" title='dig' data-type='struct radeon_encoder_atom_dig *' data-ref="39dig" data-ref-filename="39dig">dig</dfn> = <a class="local col8 ref" href="#38radeon_encoder" title='radeon_encoder' data-ref="38radeon_encoder" data-ref-filename="38radeon_encoder">radeon_encoder</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder::enc_priv" title='radeon_encoder::enc_priv' data-ref="radeon_encoder::enc_priv" data-ref-filename="radeon_encoder..enc_priv">enc_priv</a>;</td></tr>
<tr><th id="273">273</th><td>	<a class="typedef" href="../../../../../../sys/types.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col0 decl" id="40offset" title='offset' data-type='uint32_t' data-ref="40offset" data-ref-filename="40offset">offset</dfn> = <a class="local col9 ref" href="#39dig" title='dig' data-ref="39dig" data-ref-filename="39dig">dig</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder_atom_dig::afmt" title='radeon_encoder_atom_dig::afmt' data-ref="radeon_encoder_atom_dig::afmt" data-ref-filename="radeon_encoder_atom_dig..afmt">afmt</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_afmt::offset" title='radeon_afmt::offset' data-ref="radeon_afmt::offset" data-ref-filename="radeon_afmt..offset">offset</a>;</td></tr>
<tr><th id="274">274</th><td></td></tr>
<tr><th id="275">275</th><td>	<b>return</b> (<a class="macro" href="radeon.h.html#2612" title="r100_mm_rreg(rdev, (0x7404 + offset), 0)" data-ref="_M/RREG32">RREG32</a>(<a class="macro" href="r600d.h.html#1041" title="0x7404" data-ref="_M/HDMI0_STATUS">HDMI0_STATUS</a> + <a class="local col0 ref" href="#40offset" title='offset' data-ref="40offset" data-ref-filename="40offset">offset</a>) &amp; <var>0x10</var>) != <var>0</var>;</td></tr>
<tr><th id="276">276</th><td>}</td></tr>
<tr><th id="277">277</th><td></td></tr>
<tr><th id="278">278</th><td><i>/*</i></td></tr>
<tr><th id="279">279</th><td><i> * have buffer status changed since last call?</i></td></tr>
<tr><th id="280">280</th><td><i> */</i></td></tr>
<tr><th id="281">281</th><td><em>int</em> <dfn class="decl def fn" id="r600_hdmi_buffer_status_changed" title='r600_hdmi_buffer_status_changed' data-ref="r600_hdmi_buffer_status_changed" data-ref-filename="r600_hdmi_buffer_status_changed">r600_hdmi_buffer_status_changed</dfn>(<b>struct</b> <a class="type" href="../../include/drm/drm_crtc.h.html#drm_encoder" title='drm_encoder' data-ref="drm_encoder" data-ref-filename="drm_encoder">drm_encoder</a> *<dfn class="local col1 decl" id="41encoder" title='encoder' data-type='struct drm_encoder *' data-ref="41encoder" data-ref-filename="41encoder">encoder</dfn>)</td></tr>
<tr><th id="282">282</th><td>{</td></tr>
<tr><th id="283">283</th><td>	<b>struct</b> <a class="type" href="radeon_mode.h.html#radeon_encoder" title='radeon_encoder' data-ref="radeon_encoder" data-ref-filename="radeon_encoder">radeon_encoder</a> *<dfn class="local col2 decl" id="42radeon_encoder" title='radeon_encoder' data-type='struct radeon_encoder *' data-ref="42radeon_encoder" data-ref-filename="42radeon_encoder">radeon_encoder</dfn> = <a class="macro" href="radeon_mode.h.html#49" title="((struct radeon_encoder *)(((char *)(encoder)) - __builtin_offsetof(struct radeon_encoder, base)) + (0 * sizeof((encoder) - &amp;((struct radeon_encoder *)(((char *)(encoder)) - __builtin_offsetof(struct radeon_encoder, base)))-&gt;base)))" data-ref="_M/to_radeon_encoder">to_radeon_encoder</a>(<a class="local col1 ref" href="#41encoder" title='encoder' data-ref="41encoder" data-ref-filename="41encoder">encoder</a>);</td></tr>
<tr><th id="284">284</th><td>	<b>struct</b> <a class="type" href="radeon_mode.h.html#radeon_encoder_atom_dig" title='radeon_encoder_atom_dig' data-ref="radeon_encoder_atom_dig" data-ref-filename="radeon_encoder_atom_dig">radeon_encoder_atom_dig</a> *<dfn class="local col3 decl" id="43dig" title='dig' data-type='struct radeon_encoder_atom_dig *' data-ref="43dig" data-ref-filename="43dig">dig</dfn> = <a class="local col2 ref" href="#42radeon_encoder" title='radeon_encoder' data-ref="42radeon_encoder" data-ref-filename="42radeon_encoder">radeon_encoder</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder::enc_priv" title='radeon_encoder::enc_priv' data-ref="radeon_encoder::enc_priv" data-ref-filename="radeon_encoder..enc_priv">enc_priv</a>;</td></tr>
<tr><th id="285">285</th><td>	<em>int</em> <dfn class="local col4 decl" id="44status" title='status' data-type='int' data-ref="44status" data-ref-filename="44status">status</dfn>, <dfn class="local col5 decl" id="45result" title='result' data-type='int' data-ref="45result" data-ref-filename="45result">result</dfn>;</td></tr>
<tr><th id="286">286</th><td></td></tr>
<tr><th id="287">287</th><td>	<b>if</b> (!<a class="local col3 ref" href="#43dig" title='dig' data-ref="43dig" data-ref-filename="43dig">dig</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder_atom_dig::afmt" title='radeon_encoder_atom_dig::afmt' data-ref="radeon_encoder_atom_dig::afmt" data-ref-filename="radeon_encoder_atom_dig..afmt">afmt</a> || !<a class="local col3 ref" href="#43dig" title='dig' data-ref="43dig" data-ref-filename="43dig">dig</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder_atom_dig::afmt" title='radeon_encoder_atom_dig::afmt' data-ref="radeon_encoder_atom_dig::afmt" data-ref-filename="radeon_encoder_atom_dig..afmt">afmt</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_afmt::enabled" title='radeon_afmt::enabled' data-ref="radeon_afmt::enabled" data-ref-filename="radeon_afmt..enabled">enabled</a>)</td></tr>
<tr><th id="288">288</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="289">289</th><td></td></tr>
<tr><th id="290">290</th><td>	<a class="local col4 ref" href="#44status" title='status' data-ref="44status" data-ref-filename="44status">status</a> = <a class="tu ref fn" href="#r600_hdmi_is_audio_buffer_filled" title='r600_hdmi_is_audio_buffer_filled' data-use='c' data-ref="r600_hdmi_is_audio_buffer_filled" data-ref-filename="r600_hdmi_is_audio_buffer_filled">r600_hdmi_is_audio_buffer_filled</a>(<a class="local col1 ref" href="#41encoder" title='encoder' data-ref="41encoder" data-ref-filename="41encoder">encoder</a>);</td></tr>
<tr><th id="291">291</th><td>	<a class="local col5 ref" href="#45result" title='result' data-ref="45result" data-ref-filename="45result">result</a> = <a class="local col3 ref" href="#43dig" title='dig' data-ref="43dig" data-ref-filename="43dig">dig</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder_atom_dig::afmt" title='radeon_encoder_atom_dig::afmt' data-ref="radeon_encoder_atom_dig::afmt" data-ref-filename="radeon_encoder_atom_dig..afmt">afmt</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_afmt::last_buffer_filled_status" title='radeon_afmt::last_buffer_filled_status' data-ref="radeon_afmt::last_buffer_filled_status" data-ref-filename="radeon_afmt..last_buffer_filled_status">last_buffer_filled_status</a> != <a class="local col4 ref" href="#44status" title='status' data-ref="44status" data-ref-filename="44status">status</a>;</td></tr>
<tr><th id="292">292</th><td>	<a class="local col3 ref" href="#43dig" title='dig' data-ref="43dig" data-ref-filename="43dig">dig</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder_atom_dig::afmt" title='radeon_encoder_atom_dig::afmt' data-ref="radeon_encoder_atom_dig::afmt" data-ref-filename="radeon_encoder_atom_dig..afmt">afmt</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_afmt::last_buffer_filled_status" title='radeon_afmt::last_buffer_filled_status' data-ref="radeon_afmt::last_buffer_filled_status" data-ref-filename="radeon_afmt..last_buffer_filled_status">last_buffer_filled_status</a> = <a class="local col4 ref" href="#44status" title='status' data-ref="44status" data-ref-filename="44status">status</a>;</td></tr>
<tr><th id="293">293</th><td></td></tr>
<tr><th id="294">294</th><td>	<b>return</b> <a class="local col5 ref" href="#45result" title='result' data-ref="45result" data-ref-filename="45result">result</a>;</td></tr>
<tr><th id="295">295</th><td>}</td></tr>
<tr><th id="296">296</th><td></td></tr>
<tr><th id="297">297</th><td><i>/*</i></td></tr>
<tr><th id="298">298</th><td><i> * write the audio workaround status to the hardware</i></td></tr>
<tr><th id="299">299</th><td><i> */</i></td></tr>
<tr><th id="300">300</th><td><em>void</em> <dfn class="decl def fn" id="r600_hdmi_audio_workaround" title='r600_hdmi_audio_workaround' data-ref="r600_hdmi_audio_workaround" data-ref-filename="r600_hdmi_audio_workaround">r600_hdmi_audio_workaround</dfn>(<b>struct</b> <a class="type" href="../../include/drm/drm_crtc.h.html#drm_encoder" title='drm_encoder' data-ref="drm_encoder" data-ref-filename="drm_encoder">drm_encoder</a> *<dfn class="local col6 decl" id="46encoder" title='encoder' data-type='struct drm_encoder *' data-ref="46encoder" data-ref-filename="46encoder">encoder</dfn>)</td></tr>
<tr><th id="301">301</th><td>{</td></tr>
<tr><th id="302">302</th><td>	<b>struct</b> <a class="type" href="../../include/drm/drmP.h.html#drm_device" title='drm_device' data-ref="drm_device" data-ref-filename="drm_device">drm_device</a> *<dfn class="local col7 decl" id="47dev" title='dev' data-type='struct drm_device *' data-ref="47dev" data-ref-filename="47dev">dev</dfn> = <a class="local col6 ref" href="#46encoder" title='encoder' data-ref="46encoder" data-ref-filename="46encoder">encoder</a>-&gt;<a class="ref field" href="../../include/drm/drm_crtc.h.html#drm_encoder::dev" title='drm_encoder::dev' data-ref="drm_encoder::dev" data-ref-filename="drm_encoder..dev">dev</a>;</td></tr>
<tr><th id="303">303</th><td>	<b>struct</b> <a class="type" href="radeon.h.html#radeon_device" title='radeon_device' data-ref="radeon_device" data-ref-filename="radeon_device">radeon_device</a> *<dfn class="local col8 decl" id="48rdev" title='rdev' data-type='struct radeon_device *' data-ref="48rdev" data-ref-filename="48rdev">rdev</dfn> = <a class="local col7 ref" href="#47dev" title='dev' data-ref="47dev" data-ref-filename="47dev">dev</a>-&gt;<a class="ref field" href="../../include/drm/drmP.h.html#drm_device::dev_private" title='drm_device::dev_private' data-ref="drm_device::dev_private" data-ref-filename="drm_device..dev_private">dev_private</a>;</td></tr>
<tr><th id="304">304</th><td>	<b>struct</b> <a class="type" href="radeon_mode.h.html#radeon_encoder" title='radeon_encoder' data-ref="radeon_encoder" data-ref-filename="radeon_encoder">radeon_encoder</a> *<dfn class="local col9 decl" id="49radeon_encoder" title='radeon_encoder' data-type='struct radeon_encoder *' data-ref="49radeon_encoder" data-ref-filename="49radeon_encoder">radeon_encoder</dfn> = <a class="macro" href="radeon_mode.h.html#49" title="((struct radeon_encoder *)(((char *)(encoder)) - __builtin_offsetof(struct radeon_encoder, base)) + (0 * sizeof((encoder) - &amp;((struct radeon_encoder *)(((char *)(encoder)) - __builtin_offsetof(struct radeon_encoder, base)))-&gt;base)))" data-ref="_M/to_radeon_encoder">to_radeon_encoder</a>(<a class="local col6 ref" href="#46encoder" title='encoder' data-ref="46encoder" data-ref-filename="46encoder">encoder</a>);</td></tr>
<tr><th id="305">305</th><td>	<b>struct</b> <a class="type" href="radeon_mode.h.html#radeon_encoder_atom_dig" title='radeon_encoder_atom_dig' data-ref="radeon_encoder_atom_dig" data-ref-filename="radeon_encoder_atom_dig">radeon_encoder_atom_dig</a> *<dfn class="local col0 decl" id="50dig" title='dig' data-type='struct radeon_encoder_atom_dig *' data-ref="50dig" data-ref-filename="50dig">dig</dfn> = <a class="local col9 ref" href="#49radeon_encoder" title='radeon_encoder' data-ref="49radeon_encoder" data-ref-filename="49radeon_encoder">radeon_encoder</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder::enc_priv" title='radeon_encoder::enc_priv' data-ref="radeon_encoder::enc_priv" data-ref-filename="radeon_encoder..enc_priv">enc_priv</a>;</td></tr>
<tr><th id="306">306</th><td>	<a class="typedef" href="../../../../../../sys/types.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col1 decl" id="51offset" title='offset' data-type='uint32_t' data-ref="51offset" data-ref-filename="51offset">offset</dfn> = <a class="local col0 ref" href="#50dig" title='dig' data-ref="50dig" data-ref-filename="50dig">dig</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder_atom_dig::afmt" title='radeon_encoder_atom_dig::afmt' data-ref="radeon_encoder_atom_dig::afmt" data-ref-filename="radeon_encoder_atom_dig..afmt">afmt</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_afmt::offset" title='radeon_afmt::offset' data-ref="radeon_afmt::offset" data-ref-filename="radeon_afmt..offset">offset</a>;</td></tr>
<tr><th id="307">307</th><td>	<a class="macro" href="../../../../../../sys/stdbool.h.html#37" title="_Bool" data-ref="_M/bool">bool</a> <dfn class="local col2 decl" id="52hdmi_audio_workaround" title='hdmi_audio_workaround' data-type='_Bool' data-ref="52hdmi_audio_workaround" data-ref-filename="52hdmi_audio_workaround">hdmi_audio_workaround</dfn> = <a class="macro" href="../../../../../../sys/stdbool.h.html#40" title="0" data-ref="_M/false">false</a>; <i>/* FIXME */</i></td></tr>
<tr><th id="308">308</th><td>	<a class="typedef" href="../../../include/linux/types.h.html#u32" title='u32' data-type='uint32_t' data-ref="u32" data-ref-filename="u32">u32</a> <dfn class="local col3 decl" id="53value" title='value' data-type='u32' data-ref="53value" data-ref-filename="53value">value</dfn>;</td></tr>
<tr><th id="309">309</th><td></td></tr>
<tr><th id="310">310</th><td>	<b>if</b> (!<a class="local col2 ref" href="#52hdmi_audio_workaround" title='hdmi_audio_workaround' data-ref="52hdmi_audio_workaround" data-ref-filename="52hdmi_audio_workaround">hdmi_audio_workaround</a> ||</td></tr>
<tr><th id="311">311</th><td>	    <a class="tu ref fn" href="#r600_hdmi_is_audio_buffer_filled" title='r600_hdmi_is_audio_buffer_filled' data-use='c' data-ref="r600_hdmi_is_audio_buffer_filled" data-ref-filename="r600_hdmi_is_audio_buffer_filled">r600_hdmi_is_audio_buffer_filled</a>(<a class="local col6 ref" href="#46encoder" title='encoder' data-ref="46encoder" data-ref-filename="46encoder">encoder</a>))</td></tr>
<tr><th id="312">312</th><td>		<a class="local col3 ref" href="#53value" title='value' data-ref="53value" data-ref-filename="53value">value</a> = <var>0</var>; <i>/* disable workaround */</i></td></tr>
<tr><th id="313">313</th><td>	<b>else</b></td></tr>
<tr><th id="314">314</th><td>		<a class="local col3 ref" href="#53value" title='value' data-ref="53value" data-ref-filename="53value">value</a> = <a class="macro" href="r600d.h.html#1051" title="(1 &lt;&lt; 12)" data-ref="_M/HDMI0_AUDIO_TEST_EN">HDMI0_AUDIO_TEST_EN</a>; <i>/* enable workaround */</i></td></tr>
<tr><th id="315">315</th><td>	<a class="macro" href="radeon.h.html#2641" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x7408 + offset), 0); tmp_ &amp;= (~(1 &lt;&lt; 12)); tmp_ |= ((value) &amp; ~(~(1 &lt;&lt; 12))); r100_mm_wreg(rdev, (0x7408 + offset), (tmp_), 0); } while (0)" data-ref="_M/WREG32_P">WREG32_P</a>(<a class="macro" href="r600d.h.html#1046" title="0x7408" data-ref="_M/HDMI0_AUDIO_PACKET_CONTROL">HDMI0_AUDIO_PACKET_CONTROL</a> + <a class="local col1 ref" href="#51offset" title='offset' data-ref="51offset" data-ref-filename="51offset">offset</a>,</td></tr>
<tr><th id="316">316</th><td>		 <a class="local col3 ref" href="#53value" title='value' data-ref="53value" data-ref-filename="53value">value</a>, ~<a class="macro" href="r600d.h.html#1051" title="(1 &lt;&lt; 12)" data-ref="_M/HDMI0_AUDIO_TEST_EN">HDMI0_AUDIO_TEST_EN</a>);</td></tr>
<tr><th id="317">317</th><td>}</td></tr>
<tr><th id="318">318</th><td></td></tr>
<tr><th id="319">319</th><td><em>void</em> <dfn class="decl def fn" id="r600_hdmi_audio_set_dto" title='r600_hdmi_audio_set_dto' data-ref="r600_hdmi_audio_set_dto" data-ref-filename="r600_hdmi_audio_set_dto">r600_hdmi_audio_set_dto</dfn>(<b>struct</b> <a class="type" href="radeon.h.html#radeon_device" title='radeon_device' data-ref="radeon_device" data-ref-filename="radeon_device">radeon_device</a> *<dfn class="local col4 decl" id="54rdev" title='rdev' data-type='struct radeon_device *' data-ref="54rdev" data-ref-filename="54rdev">rdev</dfn>,</td></tr>
<tr><th id="320">320</th><td>    <b>struct</b> <a class="type" href="radeon_mode.h.html#radeon_crtc" title='radeon_crtc' data-ref="radeon_crtc" data-ref-filename="radeon_crtc">radeon_crtc</a> *<dfn class="local col5 decl" id="55crtc" title='crtc' data-type='struct radeon_crtc *' data-ref="55crtc" data-ref-filename="55crtc">crtc</dfn>, <em>unsigned</em> <em>int</em> <dfn class="local col6 decl" id="56clock" title='clock' data-type='unsigned int' data-ref="56clock" data-ref-filename="56clock">clock</dfn>)</td></tr>
<tr><th id="321">321</th><td>{</td></tr>
<tr><th id="322">322</th><td>	<b>struct</b> <a class="type" href="radeon_mode.h.html#radeon_encoder" title='radeon_encoder' data-ref="radeon_encoder" data-ref-filename="radeon_encoder">radeon_encoder</a> *<dfn class="local col7 decl" id="57radeon_encoder" title='radeon_encoder' data-type='struct radeon_encoder *' data-ref="57radeon_encoder" data-ref-filename="57radeon_encoder">radeon_encoder</dfn>;</td></tr>
<tr><th id="323">323</th><td>	<b>struct</b> <a class="type" href="radeon_mode.h.html#radeon_encoder_atom_dig" title='radeon_encoder_atom_dig' data-ref="radeon_encoder_atom_dig" data-ref-filename="radeon_encoder_atom_dig">radeon_encoder_atom_dig</a> *<dfn class="local col8 decl" id="58dig" title='dig' data-type='struct radeon_encoder_atom_dig *' data-ref="58dig" data-ref-filename="58dig">dig</dfn>;</td></tr>
<tr><th id="324">324</th><td></td></tr>
<tr><th id="325">325</th><td>	<b>if</b> (!<a class="local col5 ref" href="#55crtc" title='crtc' data-ref="55crtc" data-ref-filename="55crtc">crtc</a>)</td></tr>
<tr><th id="326">326</th><td>		<b>return</b>;</td></tr>
<tr><th id="327">327</th><td></td></tr>
<tr><th id="328">328</th><td>	<a class="local col7 ref" href="#57radeon_encoder" title='radeon_encoder' data-ref="57radeon_encoder" data-ref-filename="57radeon_encoder">radeon_encoder</a> = <a class="macro" href="radeon_mode.h.html#49" title="((struct radeon_encoder *)(((char *)(crtc-&gt;encoder)) - __builtin_offsetof(struct radeon_encoder, base)) + (0 * sizeof((crtc-&gt;encoder) - &amp;((struct radeon_encoder *)(((char *)(crtc-&gt;encoder)) - __builtin_offsetof(struct radeon_encoder, base)))-&gt;base)))" data-ref="_M/to_radeon_encoder">to_radeon_encoder</a>(<a class="local col5 ref" href="#55crtc" title='crtc' data-ref="55crtc" data-ref-filename="55crtc">crtc</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_crtc::encoder" title='radeon_crtc::encoder' data-ref="radeon_crtc::encoder" data-ref-filename="radeon_crtc..encoder">encoder</a>);</td></tr>
<tr><th id="329">329</th><td>	<a class="local col8 ref" href="#58dig" title='dig' data-ref="58dig" data-ref-filename="58dig">dig</a> = <a class="local col7 ref" href="#57radeon_encoder" title='radeon_encoder' data-ref="57radeon_encoder" data-ref-filename="57radeon_encoder">radeon_encoder</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder::enc_priv" title='radeon_encoder::enc_priv' data-ref="radeon_encoder::enc_priv" data-ref-filename="radeon_encoder..enc_priv">enc_priv</a>;</td></tr>
<tr><th id="330">330</th><td></td></tr>
<tr><th id="331">331</th><td>	<b>if</b> (!<a class="local col8 ref" href="#58dig" title='dig' data-ref="58dig" data-ref-filename="58dig">dig</a>)</td></tr>
<tr><th id="332">332</th><td>		<b>return</b>;</td></tr>
<tr><th id="333">333</th><td></td></tr>
<tr><th id="334">334</th><td>	<b>if</b> (<a class="local col8 ref" href="#58dig" title='dig' data-ref="58dig" data-ref-filename="58dig">dig</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder_atom_dig::dig_encoder" title='radeon_encoder_atom_dig::dig_encoder' data-ref="radeon_encoder_atom_dig::dig_encoder" data-ref-filename="radeon_encoder_atom_dig..dig_encoder">dig_encoder</a> == <var>0</var>) {</td></tr>
<tr><th id="335">335</th><td>		<a class="macro" href="radeon.h.html#2615" title="r100_mm_wreg(rdev, (0x0514), (24000 * 100), 0)" data-ref="_M/WREG32">WREG32</a>(<a class="macro" href="r600d.h.html#955" title="0x0514" data-ref="_M/DCCG_AUDIO_DTO0_PHASE">DCCG_AUDIO_DTO0_PHASE</a>, <var>24000</var> * <var>100</var>);</td></tr>
<tr><th id="336">336</th><td>		<a class="macro" href="radeon.h.html#2615" title="r100_mm_wreg(rdev, (0x0518), (clock * 100), 0)" data-ref="_M/WREG32">WREG32</a>(<a class="macro" href="r600d.h.html#956" title="0x0518" data-ref="_M/DCCG_AUDIO_DTO0_MODULE">DCCG_AUDIO_DTO0_MODULE</a>, <a class="local col6 ref" href="#56clock" title='clock' data-ref="56clock" data-ref-filename="56clock">clock</a> * <var>100</var>);</td></tr>
<tr><th id="337">337</th><td>		<a class="macro" href="radeon.h.html#2615" title="r100_mm_wreg(rdev, (0x0534), (0), 0)" data-ref="_M/WREG32">WREG32</a>(<a class="macro" href="r600d.h.html#969" title="0x0534" data-ref="_M/DCCG_AUDIO_DTO_SELECT">DCCG_AUDIO_DTO_SELECT</a>, <var>0</var>); <i>/* select DTO0 */</i></td></tr>
<tr><th id="338">338</th><td>	} <b>else</b> {</td></tr>
<tr><th id="339">339</th><td>		<a class="macro" href="radeon.h.html#2615" title="r100_mm_wreg(rdev, (0x0524), (24000 * 100), 0)" data-ref="_M/WREG32">WREG32</a>(<a class="macro" href="r600d.h.html#964" title="0x0524" data-ref="_M/DCCG_AUDIO_DTO1_PHASE">DCCG_AUDIO_DTO1_PHASE</a>, <var>24000</var> * <var>100</var>);</td></tr>
<tr><th id="340">340</th><td>		<a class="macro" href="radeon.h.html#2615" title="r100_mm_wreg(rdev, (0x0528), (clock * 100), 0)" data-ref="_M/WREG32">WREG32</a>(<a class="macro" href="r600d.h.html#965" title="0x0528" data-ref="_M/DCCG_AUDIO_DTO1_MODULE">DCCG_AUDIO_DTO1_MODULE</a>, <a class="local col6 ref" href="#56clock" title='clock' data-ref="56clock" data-ref-filename="56clock">clock</a> * <var>100</var>);</td></tr>
<tr><th id="341">341</th><td>		<a class="macro" href="radeon.h.html#2615" title="r100_mm_wreg(rdev, (0x0534), (1), 0)" data-ref="_M/WREG32">WREG32</a>(<a class="macro" href="r600d.h.html#969" title="0x0534" data-ref="_M/DCCG_AUDIO_DTO_SELECT">DCCG_AUDIO_DTO_SELECT</a>, <var>1</var>); <i>/* select DTO1 */</i></td></tr>
<tr><th id="342">342</th><td>	}</td></tr>
<tr><th id="343">343</th><td>}</td></tr>
<tr><th id="344">344</th><td></td></tr>
<tr><th id="345">345</th><td><em>void</em> <dfn class="decl def fn" id="r600_set_vbi_packet" title='r600_set_vbi_packet' data-ref="r600_set_vbi_packet" data-ref-filename="r600_set_vbi_packet">r600_set_vbi_packet</dfn>(<b>struct</b> <a class="type" href="../../include/drm/drm_crtc.h.html#drm_encoder" title='drm_encoder' data-ref="drm_encoder" data-ref-filename="drm_encoder">drm_encoder</a> *<dfn class="local col9 decl" id="59encoder" title='encoder' data-type='struct drm_encoder *' data-ref="59encoder" data-ref-filename="59encoder">encoder</dfn>, <a class="typedef" href="../../../include/linux/types.h.html#u32" title='u32' data-type='uint32_t' data-ref="u32" data-ref-filename="u32">u32</a> <dfn class="local col0 decl" id="60offset" title='offset' data-type='u32' data-ref="60offset" data-ref-filename="60offset">offset</dfn>)</td></tr>
<tr><th id="346">346</th><td>{</td></tr>
<tr><th id="347">347</th><td>	<b>struct</b> <a class="type" href="../../include/drm/drmP.h.html#drm_device" title='drm_device' data-ref="drm_device" data-ref-filename="drm_device">drm_device</a> *<dfn class="local col1 decl" id="61dev" title='dev' data-type='struct drm_device *' data-ref="61dev" data-ref-filename="61dev">dev</dfn> = <a class="local col9 ref" href="#59encoder" title='encoder' data-ref="59encoder" data-ref-filename="59encoder">encoder</a>-&gt;<a class="ref field" href="../../include/drm/drm_crtc.h.html#drm_encoder::dev" title='drm_encoder::dev' data-ref="drm_encoder::dev" data-ref-filename="drm_encoder..dev">dev</a>;</td></tr>
<tr><th id="348">348</th><td>	<b>struct</b> <a class="type" href="radeon.h.html#radeon_device" title='radeon_device' data-ref="radeon_device" data-ref-filename="radeon_device">radeon_device</a> *<dfn class="local col2 decl" id="62rdev" title='rdev' data-type='struct radeon_device *' data-ref="62rdev" data-ref-filename="62rdev">rdev</dfn> = <a class="local col1 ref" href="#61dev" title='dev' data-ref="61dev" data-ref-filename="61dev">dev</a>-&gt;<a class="ref field" href="../../include/drm/drmP.h.html#drm_device::dev_private" title='drm_device::dev_private' data-ref="drm_device::dev_private" data-ref-filename="drm_device..dev_private">dev_private</a>;</td></tr>
<tr><th id="349">349</th><td></td></tr>
<tr><th id="350">350</th><td>	<a class="macro" href="radeon.h.html#2649" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x7410 + offset), 0); tmp_ &amp;= (~((1 &lt;&lt; 0) | (1 &lt;&lt; 4) | (1 &lt;&lt; 5))); tmp_ |= (((1 &lt;&lt; 0) | (1 &lt;&lt; 4) | (1 &lt;&lt; 5)) &amp; ~(~((1 &lt;&lt; 0) | (1 &lt;&lt; 4) | (1 &lt;&lt; 5)))); r100_mm_wreg(rdev, (0x7410 + offset), (tmp_), 0); } while (0)" data-ref="_M/WREG32_OR">WREG32_OR</a>(<a class="macro" href="r600d.h.html#1061" title="0x7410" data-ref="_M/HDMI0_VBI_PACKET_CONTROL">HDMI0_VBI_PACKET_CONTROL</a> + <a class="local col0 ref" href="#60offset" title='offset' data-ref="60offset" data-ref-filename="60offset">offset</a>,</td></tr>
<tr><th id="351">351</th><td>		<a class="macro" href="r600d.h.html#1062" title="(1 &lt;&lt; 0)" data-ref="_M/HDMI0_NULL_SEND">HDMI0_NULL_SEND</a> |	<i>/* send null packets when required */</i></td></tr>
<tr><th id="352">352</th><td>		<a class="macro" href="r600d.h.html#1063" title="(1 &lt;&lt; 4)" data-ref="_M/HDMI0_GC_SEND">HDMI0_GC_SEND</a> |		<i>/* send general control packets */</i></td></tr>
<tr><th id="353">353</th><td>		<a class="macro" href="r600d.h.html#1064" title="(1 &lt;&lt; 5)" data-ref="_M/HDMI0_GC_CONT">HDMI0_GC_CONT</a>);		<i>/* send general control packets every frame */</i></td></tr>
<tr><th id="354">354</th><td>}</td></tr>
<tr><th id="355">355</th><td></td></tr>
<tr><th id="356">356</th><td><em>void</em> <dfn class="decl def fn" id="r600_set_audio_packet" title='r600_set_audio_packet' data-ref="r600_set_audio_packet" data-ref-filename="r600_set_audio_packet">r600_set_audio_packet</dfn>(<b>struct</b> <a class="type" href="../../include/drm/drm_crtc.h.html#drm_encoder" title='drm_encoder' data-ref="drm_encoder" data-ref-filename="drm_encoder">drm_encoder</a> *<dfn class="local col3 decl" id="63encoder" title='encoder' data-type='struct drm_encoder *' data-ref="63encoder" data-ref-filename="63encoder">encoder</dfn>, <a class="typedef" href="../../../include/linux/types.h.html#u32" title='u32' data-type='uint32_t' data-ref="u32" data-ref-filename="u32">u32</a> <dfn class="local col4 decl" id="64offset" title='offset' data-type='u32' data-ref="64offset" data-ref-filename="64offset">offset</dfn>)</td></tr>
<tr><th id="357">357</th><td>{</td></tr>
<tr><th id="358">358</th><td>	<b>struct</b> <a class="type" href="../../include/drm/drmP.h.html#drm_device" title='drm_device' data-ref="drm_device" data-ref-filename="drm_device">drm_device</a> *<dfn class="local col5 decl" id="65dev" title='dev' data-type='struct drm_device *' data-ref="65dev" data-ref-filename="65dev">dev</dfn> = <a class="local col3 ref" href="#63encoder" title='encoder' data-ref="63encoder" data-ref-filename="63encoder">encoder</a>-&gt;<a class="ref field" href="../../include/drm/drm_crtc.h.html#drm_encoder::dev" title='drm_encoder::dev' data-ref="drm_encoder::dev" data-ref-filename="drm_encoder..dev">dev</a>;</td></tr>
<tr><th id="359">359</th><td>	<b>struct</b> <a class="type" href="radeon.h.html#radeon_device" title='radeon_device' data-ref="radeon_device" data-ref-filename="radeon_device">radeon_device</a> *<dfn class="local col6 decl" id="66rdev" title='rdev' data-type='struct radeon_device *' data-ref="66rdev" data-ref-filename="66rdev">rdev</dfn> = <a class="local col5 ref" href="#65dev" title='dev' data-ref="65dev" data-ref-filename="65dev">dev</a>-&gt;<a class="ref field" href="../../include/drm/drmP.h.html#drm_device::dev_private" title='drm_device::dev_private' data-ref="drm_device::dev_private" data-ref-filename="drm_device..dev_private">dev_private</a>;</td></tr>
<tr><th id="360">360</th><td></td></tr>
<tr><th id="361">361</th><td>	<a class="macro" href="radeon.h.html#2641" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x7408 + offset), 0); tmp_ &amp;= (~((1 &lt;&lt; 0) | (3 &lt;&lt; 4) | (0x1f &lt;&lt; 16) | (1 &lt;&lt; 26))); tmp_ |= (((1 &lt;&lt; 0) | (((1) &amp; 3) &lt;&lt; 4) | (((3) &amp; 0x1f) &lt;&lt; 16) | (1 &lt;&lt; 26)) &amp; ~(~((1 &lt;&lt; 0) | (3 &lt;&lt; 4) | (0x1f &lt;&lt; 16) | (1 &lt;&lt; 26)))); r100_mm_wreg(rdev, (0x7408 + offset), (tmp_), 0); } while (0)" data-ref="_M/WREG32_P">WREG32_P</a>(<a class="macro" href="r600d.h.html#1046" title="0x7408" data-ref="_M/HDMI0_AUDIO_PACKET_CONTROL">HDMI0_AUDIO_PACKET_CONTROL</a> + <a class="local col4 ref" href="#64offset" title='offset' data-ref="64offset" data-ref-filename="64offset">offset</a>,</td></tr>
<tr><th id="362">362</th><td>		<a class="macro" href="r600d.h.html#1047" title="(1 &lt;&lt; 0)" data-ref="_M/HDMI0_AUDIO_SAMPLE_SEND">HDMI0_AUDIO_SAMPLE_SEND</a> |			<i>/* send audio packets */</i></td></tr>
<tr><th id="363">363</th><td>		<a class="macro" href="r600d.h.html#1048" title="(((1) &amp; 3) &lt;&lt; 4)" data-ref="_M/HDMI0_AUDIO_DELAY_EN">HDMI0_AUDIO_DELAY_EN</a>(<var>1</var>) |			<i>/* default audio delay */</i></td></tr>
<tr><th id="364">364</th><td>		<a class="macro" href="r600d.h.html#1052" title="(((3) &amp; 0x1f) &lt;&lt; 16)" data-ref="_M/HDMI0_AUDIO_PACKETS_PER_LINE">HDMI0_AUDIO_PACKETS_PER_LINE</a>(<var>3</var>) |	<i>/* should be suffient for all audio modes and small enough for all hblanks */</i></td></tr>
<tr><th id="365">365</th><td>		<a class="macro" href="r600d.h.html#1055" title="(1 &lt;&lt; 26)" data-ref="_M/HDMI0_60958_CS_UPDATE">HDMI0_60958_CS_UPDATE</a>,				<i>/* allow 60958 channel status fields to be updated */</i></td></tr>
<tr><th id="366">366</th><td>		~(<a class="macro" href="r600d.h.html#1047" title="(1 &lt;&lt; 0)" data-ref="_M/HDMI0_AUDIO_SAMPLE_SEND">HDMI0_AUDIO_SAMPLE_SEND</a> |</td></tr>
<tr><th id="367">367</th><td>		<a class="macro" href="r600d.h.html#1049" title="(3 &lt;&lt; 4)" data-ref="_M/HDMI0_AUDIO_DELAY_EN_MASK">HDMI0_AUDIO_DELAY_EN_MASK</a> |</td></tr>
<tr><th id="368">368</th><td>		<a class="macro" href="r600d.h.html#1053" title="(0x1f &lt;&lt; 16)" data-ref="_M/HDMI0_AUDIO_PACKETS_PER_LINE_MASK">HDMI0_AUDIO_PACKETS_PER_LINE_MASK</a> |</td></tr>
<tr><th id="369">369</th><td>		<a class="macro" href="r600d.h.html#1055" title="(1 &lt;&lt; 26)" data-ref="_M/HDMI0_60958_CS_UPDATE">HDMI0_60958_CS_UPDATE</a>));</td></tr>
<tr><th id="370">370</th><td></td></tr>
<tr><th id="371">371</th><td>	<a class="macro" href="radeon.h.html#2649" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x7414 + offset), 0); tmp_ &amp;= (~((1 &lt;&lt; 4) | (1 &lt;&lt; 7))); tmp_ |= (((1 &lt;&lt; 4) | (1 &lt;&lt; 7)) &amp; ~(~((1 &lt;&lt; 4) | (1 &lt;&lt; 7)))); r100_mm_wreg(rdev, (0x7414 + offset), (tmp_), 0); } while (0)" data-ref="_M/WREG32_OR">WREG32_OR</a>(<a class="macro" href="r600d.h.html#1065" title="0x7414" data-ref="_M/HDMI0_INFOFRAME_CONTROL0">HDMI0_INFOFRAME_CONTROL0</a> + <a class="local col4 ref" href="#64offset" title='offset' data-ref="64offset" data-ref-filename="64offset">offset</a>,</td></tr>
<tr><th id="372">372</th><td>		<a class="macro" href="r600d.h.html#1068" title="(1 &lt;&lt; 4)" data-ref="_M/HDMI0_AUDIO_INFO_SEND">HDMI0_AUDIO_INFO_SEND</a> |		<i>/* enable audio info frames (frames won't be set until audio is enabled) */</i></td></tr>
<tr><th id="373">373</th><td>		<a class="macro" href="r600d.h.html#1071" title="(1 &lt;&lt; 7)" data-ref="_M/HDMI0_AUDIO_INFO_UPDATE">HDMI0_AUDIO_INFO_UPDATE</a>);	<i>/* required for audio info values to be updated */</i></td></tr>
<tr><th id="374">374</th><td></td></tr>
<tr><th id="375">375</th><td>	<a class="macro" href="radeon.h.html#2641" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x7418 + offset), 0); tmp_ &amp;= (~(0x3f &lt;&lt; 8)); tmp_ |= (((((2) &amp; 0x3f) &lt;&lt; 8)) &amp; ~(~(0x3f &lt;&lt; 8))); r100_mm_wreg(rdev, (0x7418 + offset), (tmp_), 0); } while (0)" data-ref="_M/WREG32_P">WREG32_P</a>(<a class="macro" href="r600d.h.html#1075" title="0x7418" data-ref="_M/HDMI0_INFOFRAME_CONTROL1">HDMI0_INFOFRAME_CONTROL1</a> + <a class="local col4 ref" href="#64offset" title='offset' data-ref="64offset" data-ref-filename="64offset">offset</a>,</td></tr>
<tr><th id="376">376</th><td>		<a class="macro" href="r600d.h.html#1078" title="(((2) &amp; 0x3f) &lt;&lt; 8)" data-ref="_M/HDMI0_AUDIO_INFO_LINE">HDMI0_AUDIO_INFO_LINE</a>(<var>2</var>),	<i>/* anything other than 0 */</i></td></tr>
<tr><th id="377">377</th><td>		~<a class="macro" href="r600d.h.html#1079" title="(0x3f &lt;&lt; 8)" data-ref="_M/HDMI0_AUDIO_INFO_LINE_MASK">HDMI0_AUDIO_INFO_LINE_MASK</a>);</td></tr>
<tr><th id="378">378</th><td></td></tr>
<tr><th id="379">379</th><td>	<a class="macro" href="radeon.h.html#2648" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x741c + offset), 0); tmp_ &amp;= (~((1 &lt;&lt; 0) | (1 &lt;&lt; 1) | (1 &lt;&lt; 2) | (1 &lt;&lt; 4) | (1 &lt;&lt; 5) | (0x3f &lt;&lt; 16) | (0x3f &lt;&lt; 24))); tmp_ |= ((0) &amp; ~(~((1 &lt;&lt; 0) | (1 &lt;&lt; 1) | (1 &lt;&lt; 2) | (1 &lt;&lt; 4) | (1 &lt;&lt; 5) | (0x3f &lt;&lt; 16) | (0x3f &lt;&lt; 24)))); r100_mm_wreg(rdev, (0x741c + offset), (tmp_), 0); } while (0)" data-ref="_M/WREG32_AND">WREG32_AND</a>(<a class="macro" href="r600d.h.html#1081" title="0x741c" data-ref="_M/HDMI0_GENERIC_PACKET_CONTROL">HDMI0_GENERIC_PACKET_CONTROL</a> + <a class="local col4 ref" href="#64offset" title='offset' data-ref="64offset" data-ref-filename="64offset">offset</a>,</td></tr>
<tr><th id="380">380</th><td>		~(<a class="macro" href="r600d.h.html#1082" title="(1 &lt;&lt; 0)" data-ref="_M/HDMI0_GENERIC0_SEND">HDMI0_GENERIC0_SEND</a> |</td></tr>
<tr><th id="381">381</th><td>		<a class="macro" href="r600d.h.html#1083" title="(1 &lt;&lt; 1)" data-ref="_M/HDMI0_GENERIC0_CONT">HDMI0_GENERIC0_CONT</a> |</td></tr>
<tr><th id="382">382</th><td>		<a class="macro" href="r600d.h.html#1084" title="(1 &lt;&lt; 2)" data-ref="_M/HDMI0_GENERIC0_UPDATE">HDMI0_GENERIC0_UPDATE</a> |</td></tr>
<tr><th id="383">383</th><td>		<a class="macro" href="r600d.h.html#1085" title="(1 &lt;&lt; 4)" data-ref="_M/HDMI0_GENERIC1_SEND">HDMI0_GENERIC1_SEND</a> |</td></tr>
<tr><th id="384">384</th><td>		<a class="macro" href="r600d.h.html#1086" title="(1 &lt;&lt; 5)" data-ref="_M/HDMI0_GENERIC1_CONT">HDMI0_GENERIC1_CONT</a> |</td></tr>
<tr><th id="385">385</th><td>		<a class="macro" href="r600d.h.html#1088" title="(0x3f &lt;&lt; 16)" data-ref="_M/HDMI0_GENERIC0_LINE_MASK">HDMI0_GENERIC0_LINE_MASK</a> |</td></tr>
<tr><th id="386">386</th><td>		<a class="macro" href="r600d.h.html#1090" title="(0x3f &lt;&lt; 24)" data-ref="_M/HDMI0_GENERIC1_LINE_MASK">HDMI0_GENERIC1_LINE_MASK</a>));</td></tr>
<tr><th id="387">387</th><td></td></tr>
<tr><th id="388">388</th><td>	<a class="macro" href="radeon.h.html#2641" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x74d4 + offset), 0); tmp_ &amp;= (~((0xf &lt;&lt; 20) | (3 &lt;&lt; 28))); tmp_ |= (((((1) &amp; 0xf) &lt;&lt; 20)) &amp; ~(~((0xf &lt;&lt; 20) | (3 &lt;&lt; 28)))); r100_mm_wreg(rdev, (0x74d4 + offset), (tmp_), 0); } while (0)" data-ref="_M/WREG32_P">WREG32_P</a>(<a class="macro" href="r600d.h.html#1172" title="0x74d4" data-ref="_M/HDMI0_60958_0">HDMI0_60958_0</a> + <a class="local col4 ref" href="#64offset" title='offset' data-ref="64offset" data-ref-filename="64offset">offset</a>,</td></tr>
<tr><th id="389">389</th><td>		<a class="macro" href="r600d.h.html#1180" title="(((1) &amp; 0xf) &lt;&lt; 20)" data-ref="_M/HDMI0_60958_CS_CHANNEL_NUMBER_L">HDMI0_60958_CS_CHANNEL_NUMBER_L</a>(<var>1</var>),</td></tr>
<tr><th id="390">390</th><td>		~(<a class="macro" href="r600d.h.html#1181" title="(0xf &lt;&lt; 20)" data-ref="_M/HDMI0_60958_CS_CHANNEL_NUMBER_L_MASK">HDMI0_60958_CS_CHANNEL_NUMBER_L_MASK</a> |</td></tr>
<tr><th id="391">391</th><td>		<a class="macro" href="r600d.h.html#1184" title="(3 &lt;&lt; 28)" data-ref="_M/HDMI0_60958_CS_CLOCK_ACCURACY_MASK">HDMI0_60958_CS_CLOCK_ACCURACY_MASK</a>));</td></tr>
<tr><th id="392">392</th><td></td></tr>
<tr><th id="393">393</th><td>	<a class="macro" href="radeon.h.html#2641" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x74d8 + offset), 0); tmp_ &amp;= (~(0xf &lt;&lt; 20)); tmp_ |= (((((2) &amp; 0xf) &lt;&lt; 20)) &amp; ~(~(0xf &lt;&lt; 20))); r100_mm_wreg(rdev, (0x74d8 + offset), (tmp_), 0); } while (0)" data-ref="_M/WREG32_P">WREG32_P</a>(<a class="macro" href="r600d.h.html#1185" title="0x74d8" data-ref="_M/HDMI0_60958_1">HDMI0_60958_1</a> + <a class="local col4 ref" href="#64offset" title='offset' data-ref="64offset" data-ref-filename="64offset">offset</a>,</td></tr>
<tr><th id="394">394</th><td>		<a class="macro" href="r600d.h.html#1190" title="(((2) &amp; 0xf) &lt;&lt; 20)" data-ref="_M/HDMI0_60958_CS_CHANNEL_NUMBER_R">HDMI0_60958_CS_CHANNEL_NUMBER_R</a>(<var>2</var>),</td></tr>
<tr><th id="395">395</th><td>		~<a class="macro" href="r600d.h.html#1191" title="(0xf &lt;&lt; 20)" data-ref="_M/HDMI0_60958_CS_CHANNEL_NUMBER_R_MASK">HDMI0_60958_CS_CHANNEL_NUMBER_R_MASK</a>);</td></tr>
<tr><th id="396">396</th><td>}</td></tr>
<tr><th id="397">397</th><td></td></tr>
<tr><th id="398">398</th><td><em>void</em> <dfn class="decl def fn" id="r600_set_mute" title='r600_set_mute' data-ref="r600_set_mute" data-ref-filename="r600_set_mute">r600_set_mute</dfn>(<b>struct</b> <a class="type" href="../../include/drm/drm_crtc.h.html#drm_encoder" title='drm_encoder' data-ref="drm_encoder" data-ref-filename="drm_encoder">drm_encoder</a> *<dfn class="local col7 decl" id="67encoder" title='encoder' data-type='struct drm_encoder *' data-ref="67encoder" data-ref-filename="67encoder">encoder</dfn>, <a class="typedef" href="../../../include/linux/types.h.html#u32" title='u32' data-type='uint32_t' data-ref="u32" data-ref-filename="u32">u32</a> <dfn class="local col8 decl" id="68offset" title='offset' data-type='u32' data-ref="68offset" data-ref-filename="68offset">offset</dfn>, <a class="macro" href="../../../../../../sys/stdbool.h.html#37" title="_Bool" data-ref="_M/bool">bool</a> <dfn class="local col9 decl" id="69mute" title='mute' data-type='_Bool' data-ref="69mute" data-ref-filename="69mute">mute</dfn>)</td></tr>
<tr><th id="399">399</th><td>{</td></tr>
<tr><th id="400">400</th><td>	<b>struct</b> <a class="type" href="../../include/drm/drmP.h.html#drm_device" title='drm_device' data-ref="drm_device" data-ref-filename="drm_device">drm_device</a> *<dfn class="local col0 decl" id="70dev" title='dev' data-type='struct drm_device *' data-ref="70dev" data-ref-filename="70dev">dev</dfn> = <a class="local col7 ref" href="#67encoder" title='encoder' data-ref="67encoder" data-ref-filename="67encoder">encoder</a>-&gt;<a class="ref field" href="../../include/drm/drm_crtc.h.html#drm_encoder::dev" title='drm_encoder::dev' data-ref="drm_encoder::dev" data-ref-filename="drm_encoder..dev">dev</a>;</td></tr>
<tr><th id="401">401</th><td>	<b>struct</b> <a class="type" href="radeon.h.html#radeon_device" title='radeon_device' data-ref="radeon_device" data-ref-filename="radeon_device">radeon_device</a> *<dfn class="local col1 decl" id="71rdev" title='rdev' data-type='struct radeon_device *' data-ref="71rdev" data-ref-filename="71rdev">rdev</dfn> = <a class="local col0 ref" href="#70dev" title='dev' data-ref="70dev" data-ref-filename="70dev">dev</a>-&gt;<a class="ref field" href="../../include/drm/drmP.h.html#drm_device::dev_private" title='drm_device::dev_private' data-ref="drm_device::dev_private" data-ref-filename="drm_device..dev_private">dev_private</a>;</td></tr>
<tr><th id="402">402</th><td></td></tr>
<tr><th id="403">403</th><td>	<b>if</b> (<a class="local col9 ref" href="#69mute" title='mute' data-ref="69mute" data-ref-filename="69mute">mute</a>)</td></tr>
<tr><th id="404">404</th><td>		<a class="macro" href="radeon.h.html#2649" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x7428 + offset), 0); tmp_ &amp;= (~((1 &lt;&lt; 0))); tmp_ |= (((1 &lt;&lt; 0)) &amp; ~(~((1 &lt;&lt; 0)))); r100_mm_wreg(rdev, (0x7428 + offset), (tmp_), 0); } while (0)" data-ref="_M/WREG32_OR">WREG32_OR</a>(<a class="macro" href="r600d.h.html#1091" title="0x7428" data-ref="_M/HDMI0_GC">HDMI0_GC</a> + <a class="local col8 ref" href="#68offset" title='offset' data-ref="68offset" data-ref-filename="68offset">offset</a>, <a class="macro" href="r600d.h.html#1092" title="(1 &lt;&lt; 0)" data-ref="_M/HDMI0_GC_AVMUTE">HDMI0_GC_AVMUTE</a>);</td></tr>
<tr><th id="405">405</th><td>	<b>else</b></td></tr>
<tr><th id="406">406</th><td>		<a class="macro" href="radeon.h.html#2648" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x7428 + offset), 0); tmp_ &amp;= (~(1 &lt;&lt; 0)); tmp_ |= ((0) &amp; ~(~(1 &lt;&lt; 0))); r100_mm_wreg(rdev, (0x7428 + offset), (tmp_), 0); } while (0)" data-ref="_M/WREG32_AND">WREG32_AND</a>(<a class="macro" href="r600d.h.html#1091" title="0x7428" data-ref="_M/HDMI0_GC">HDMI0_GC</a> + <a class="local col8 ref" href="#68offset" title='offset' data-ref="68offset" data-ref-filename="68offset">offset</a>, ~<a class="macro" href="r600d.h.html#1092" title="(1 &lt;&lt; 0)" data-ref="_M/HDMI0_GC_AVMUTE">HDMI0_GC_AVMUTE</a>);</td></tr>
<tr><th id="407">407</th><td>}</td></tr>
<tr><th id="408">408</th><td></td></tr>
<tr><th id="409">409</th><td><i class="doc">/**</i></td></tr>
<tr><th id="410">410</th><td><i class="doc"> * r600_hdmi_update_audio_settings - Update audio infoframe</i></td></tr>
<tr><th id="411">411</th><td><i class="doc"> *</i></td></tr>
<tr><th id="412">412</th><td><i class="doc"> *<span class="command"> @encoder</span>: drm encoder</i></td></tr>
<tr><th id="413">413</th><td><i class="doc"> *</i></td></tr>
<tr><th id="414">414</th><td><i class="doc"> * Gets info about current audio stream and updates audio infoframe.</i></td></tr>
<tr><th id="415">415</th><td><i class="doc"> */</i></td></tr>
<tr><th id="416">416</th><td><em>void</em> <dfn class="decl def fn" id="r600_hdmi_update_audio_settings" title='r600_hdmi_update_audio_settings' data-ref="r600_hdmi_update_audio_settings" data-ref-filename="r600_hdmi_update_audio_settings">r600_hdmi_update_audio_settings</dfn>(<b>struct</b> <a class="type" href="../../include/drm/drm_crtc.h.html#drm_encoder" title='drm_encoder' data-ref="drm_encoder" data-ref-filename="drm_encoder">drm_encoder</a> *<dfn class="local col2 decl" id="72encoder" title='encoder' data-type='struct drm_encoder *' data-ref="72encoder" data-ref-filename="72encoder">encoder</dfn>)</td></tr>
<tr><th id="417">417</th><td>{</td></tr>
<tr><th id="418">418</th><td>	<b>struct</b> <a class="type" href="../../include/drm/drmP.h.html#drm_device" title='drm_device' data-ref="drm_device" data-ref-filename="drm_device">drm_device</a> *<dfn class="local col3 decl" id="73dev" title='dev' data-type='struct drm_device *' data-ref="73dev" data-ref-filename="73dev">dev</dfn> = <a class="local col2 ref" href="#72encoder" title='encoder' data-ref="72encoder" data-ref-filename="72encoder">encoder</a>-&gt;<a class="ref field" href="../../include/drm/drm_crtc.h.html#drm_encoder::dev" title='drm_encoder::dev' data-ref="drm_encoder::dev" data-ref-filename="drm_encoder..dev">dev</a>;</td></tr>
<tr><th id="419">419</th><td>	<b>struct</b> <a class="type" href="radeon.h.html#radeon_device" title='radeon_device' data-ref="radeon_device" data-ref-filename="radeon_device">radeon_device</a> *<dfn class="local col4 decl" id="74rdev" title='rdev' data-type='struct radeon_device *' data-ref="74rdev" data-ref-filename="74rdev">rdev</dfn> = <a class="local col3 ref" href="#73dev" title='dev' data-ref="73dev" data-ref-filename="73dev">dev</a>-&gt;<a class="ref field" href="../../include/drm/drmP.h.html#drm_device::dev_private" title='drm_device::dev_private' data-ref="drm_device::dev_private" data-ref-filename="drm_device..dev_private">dev_private</a>;</td></tr>
<tr><th id="420">420</th><td>	<b>struct</b> <a class="type" href="radeon_mode.h.html#radeon_encoder" title='radeon_encoder' data-ref="radeon_encoder" data-ref-filename="radeon_encoder">radeon_encoder</a> *<dfn class="local col5 decl" id="75radeon_encoder" title='radeon_encoder' data-type='struct radeon_encoder *' data-ref="75radeon_encoder" data-ref-filename="75radeon_encoder">radeon_encoder</dfn> = <a class="macro" href="radeon_mode.h.html#49" title="((struct radeon_encoder *)(((char *)(encoder)) - __builtin_offsetof(struct radeon_encoder, base)) + (0 * sizeof((encoder) - &amp;((struct radeon_encoder *)(((char *)(encoder)) - __builtin_offsetof(struct radeon_encoder, base)))-&gt;base)))" data-ref="_M/to_radeon_encoder">to_radeon_encoder</a>(<a class="local col2 ref" href="#72encoder" title='encoder' data-ref="72encoder" data-ref-filename="72encoder">encoder</a>);</td></tr>
<tr><th id="421">421</th><td>	<b>struct</b> <a class="type" href="radeon_mode.h.html#radeon_encoder_atom_dig" title='radeon_encoder_atom_dig' data-ref="radeon_encoder_atom_dig" data-ref-filename="radeon_encoder_atom_dig">radeon_encoder_atom_dig</a> *<dfn class="local col6 decl" id="76dig" title='dig' data-type='struct radeon_encoder_atom_dig *' data-ref="76dig" data-ref-filename="76dig">dig</dfn> = <a class="local col5 ref" href="#75radeon_encoder" title='radeon_encoder' data-ref="75radeon_encoder" data-ref-filename="75radeon_encoder">radeon_encoder</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder::enc_priv" title='radeon_encoder::enc_priv' data-ref="radeon_encoder::enc_priv" data-ref-filename="radeon_encoder..enc_priv">enc_priv</a>;</td></tr>
<tr><th id="422">422</th><td>	<b>struct</b> <a class="type" href="radeon.h.html#r600_audio_pin" title='r600_audio_pin' data-ref="r600_audio_pin" data-ref-filename="r600_audio_pin">r600_audio_pin</a> <dfn class="local col7 decl" id="77audio" title='audio' data-type='struct r600_audio_pin' data-ref="77audio" data-ref-filename="77audio">audio</dfn> = <a class="tu ref fn" href="#r600_audio_status" title='r600_audio_status' data-use='c' data-ref="r600_audio_status" data-ref-filename="r600_audio_status">r600_audio_status</a>(<a class="local col4 ref" href="#74rdev" title='rdev' data-ref="74rdev" data-ref-filename="74rdev">rdev</a>);</td></tr>
<tr><th id="423">423</th><td>	<a class="typedef" href="../../../../../../sys/types.h.html#uint8_t" title='uint8_t' data-type='__uint8_t' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</a> <dfn class="local col8 decl" id="78buffer" title='buffer' data-type='uint8_t [14]' data-ref="78buffer" data-ref-filename="78buffer">buffer</dfn>[<a class="macro" href="../../../include/linux/hdmi.h.html#176" title="4" data-ref="_M/HDMI_INFOFRAME_HEADER_SIZE">HDMI_INFOFRAME_HEADER_SIZE</a> + <a class="macro" href="../../../include/linux/hdmi.h.html#226" title="10" data-ref="_M/HDMI_AUDIO_INFOFRAME_SIZE">HDMI_AUDIO_INFOFRAME_SIZE</a>];</td></tr>
<tr><th id="424">424</th><td>	<b>struct</b> <a class="type" href="../../../include/linux/hdmi.h.html#hdmi_audio_infoframe" title='hdmi_audio_infoframe' data-ref="hdmi_audio_infoframe" data-ref-filename="hdmi_audio_infoframe">hdmi_audio_infoframe</a> <dfn class="local col9 decl" id="79frame" title='frame' data-type='struct hdmi_audio_infoframe' data-ref="79frame" data-ref-filename="79frame">frame</dfn>;</td></tr>
<tr><th id="425">425</th><td>	<a class="typedef" href="../../../../../../sys/types.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col0 decl" id="80offset" title='offset' data-type='uint32_t' data-ref="80offset" data-ref-filename="80offset">offset</dfn>;</td></tr>
<tr><th id="426">426</th><td>	<a class="typedef" href="../../../../../../sys/types.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col1 decl" id="81value" title='value' data-type='uint32_t' data-ref="81value" data-ref-filename="81value">value</dfn>;</td></tr>
<tr><th id="427">427</th><td>	<a class="typedef" href="../../../../../../sys/types.h.html#ssize_t" title='ssize_t' data-type='long' data-ref="ssize_t" data-ref-filename="ssize_t">ssize_t</a> <dfn class="local col2 decl" id="82err" title='err' data-type='ssize_t' data-ref="82err" data-ref-filename="82err">err</dfn>;</td></tr>
<tr><th id="428">428</th><td></td></tr>
<tr><th id="429">429</th><td>	<b>if</b> (!<a class="local col6 ref" href="#76dig" title='dig' data-ref="76dig" data-ref-filename="76dig">dig</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder_atom_dig::afmt" title='radeon_encoder_atom_dig::afmt' data-ref="radeon_encoder_atom_dig::afmt" data-ref-filename="radeon_encoder_atom_dig..afmt">afmt</a> || !<a class="local col6 ref" href="#76dig" title='dig' data-ref="76dig" data-ref-filename="76dig">dig</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder_atom_dig::afmt" title='radeon_encoder_atom_dig::afmt' data-ref="radeon_encoder_atom_dig::afmt" data-ref-filename="radeon_encoder_atom_dig..afmt">afmt</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_afmt::enabled" title='radeon_afmt::enabled' data-ref="radeon_afmt::enabled" data-ref-filename="radeon_afmt..enabled">enabled</a>)</td></tr>
<tr><th id="430">430</th><td>		<b>return</b>;</td></tr>
<tr><th id="431">431</th><td>	<a class="local col0 ref" href="#80offset" title='offset' data-ref="80offset" data-ref-filename="80offset">offset</a> = <a class="local col6 ref" href="#76dig" title='dig' data-ref="76dig" data-ref-filename="76dig">dig</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder_atom_dig::afmt" title='radeon_encoder_atom_dig::afmt' data-ref="radeon_encoder_atom_dig::afmt" data-ref-filename="radeon_encoder_atom_dig..afmt">afmt</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_afmt::offset" title='radeon_afmt::offset' data-ref="radeon_afmt::offset" data-ref-filename="radeon_afmt..offset">offset</a>;</td></tr>
<tr><th id="432">432</th><td></td></tr>
<tr><th id="433">433</th><td>	<a class="macro" href="../../include/drm/drmP.h.html#228" title="do { if (__builtin_expect((drm_debug &amp; 0x01) != 0, 0)) drm_ut_debug_printk(__func__, &quot;%s with %d channels, %d Hz sampling rate, %d bits per sample,\n&quot;, r600_hdmi_is_audio_buffer_filled(encoder) ? &quot;playing&quot; : &quot;stopped&quot;, audio.channels, audio.rate, audio.bits_per_sample); } while (0)" data-ref="_M/DRM_DEBUG">DRM_DEBUG</a>(<q>"%s with %d channels, %d Hz sampling rate, %d bits per sample,\n"</q>,</td></tr>
<tr><th id="434">434</th><td>		 <a class="tu ref fn" href="#r600_hdmi_is_audio_buffer_filled" title='r600_hdmi_is_audio_buffer_filled' data-use='c' data-ref="r600_hdmi_is_audio_buffer_filled" data-ref-filename="r600_hdmi_is_audio_buffer_filled">r600_hdmi_is_audio_buffer_filled</a>(<a class="local col2 ref" href="#72encoder" title='encoder' data-ref="72encoder" data-ref-filename="72encoder">encoder</a>) ? <q>"playing"</q> : <q>"stopped"</q>,</td></tr>
<tr><th id="435">435</th><td>		  <a class="local col7 ref" href="#77audio" title='audio' data-ref="77audio" data-ref-filename="77audio">audio</a>.<a class="ref field" href="radeon.h.html#r600_audio_pin::channels" title='r600_audio_pin::channels' data-ref="r600_audio_pin::channels" data-ref-filename="r600_audio_pin..channels">channels</a>, <a class="local col7 ref" href="#77audio" title='audio' data-ref="77audio" data-ref-filename="77audio">audio</a>.<a class="ref field" href="radeon.h.html#r600_audio_pin::rate" title='r600_audio_pin::rate' data-ref="r600_audio_pin::rate" data-ref-filename="r600_audio_pin..rate">rate</a>, <a class="local col7 ref" href="#77audio" title='audio' data-ref="77audio" data-ref-filename="77audio">audio</a>.<a class="ref field" href="radeon.h.html#r600_audio_pin::bits_per_sample" title='r600_audio_pin::bits_per_sample' data-ref="r600_audio_pin::bits_per_sample" data-ref-filename="r600_audio_pin..bits_per_sample">bits_per_sample</a>);</td></tr>
<tr><th id="436">436</th><td>	<a class="macro" href="../../include/drm/drmP.h.html#228" title="do { if (__builtin_expect((drm_debug &amp; 0x01) != 0, 0)) drm_ut_debug_printk(__func__, &quot;0x%02X IEC60958 status bits and 0x%02X category code\n&quot;, (int)audio.status_bits, (int)audio.category_code); } while (0)" data-ref="_M/DRM_DEBUG">DRM_DEBUG</a>(<q>"0x%02X IEC60958 status bits and 0x%02X category code\n"</q>,</td></tr>
<tr><th id="437">437</th><td>		  (<em>int</em>)<a class="local col7 ref" href="#77audio" title='audio' data-ref="77audio" data-ref-filename="77audio">audio</a>.<a class="ref field" href="radeon.h.html#r600_audio_pin::status_bits" title='r600_audio_pin::status_bits' data-ref="r600_audio_pin::status_bits" data-ref-filename="r600_audio_pin..status_bits">status_bits</a>, (<em>int</em>)<a class="local col7 ref" href="#77audio" title='audio' data-ref="77audio" data-ref-filename="77audio">audio</a>.<a class="ref field" href="radeon.h.html#r600_audio_pin::category_code" title='r600_audio_pin::category_code' data-ref="r600_audio_pin::category_code" data-ref-filename="r600_audio_pin..category_code">category_code</a>);</td></tr>
<tr><th id="438">438</th><td></td></tr>
<tr><th id="439">439</th><td>	<a class="local col2 ref" href="#82err" title='err' data-ref="82err" data-ref-filename="82err">err</a> = <a class="ref fn" href="../../../include/linux/hdmi.h.html#hdmi_audio_infoframe_init" title='hdmi_audio_infoframe_init' data-ref="hdmi_audio_infoframe_init" data-ref-filename="hdmi_audio_infoframe_init">hdmi_audio_infoframe_init</a>(&amp;<a class="local col9 ref" href="#79frame" title='frame' data-ref="79frame" data-ref-filename="79frame">frame</a>);</td></tr>
<tr><th id="440">440</th><td>	<b>if</b> (<a class="local col2 ref" href="#82err" title='err' data-ref="82err" data-ref-filename="82err">err</a> &lt; <var>0</var>) {</td></tr>
<tr><th id="441">441</th><td>		<a class="macro" href="../../include/drm/drmP.h.html#203" title="drm_err(&quot;/___NETBSD_SRC___/objdir.amd64/sys/arch/amd64/compile/GENERIC/../../../../../../sys/external/bsd/drm2/dist/drm/radeon/radeon_r600_hdmi.c&quot;, 441, __func__, &quot;failed to setup audio infoframe\n&quot;)" data-ref="_M/DRM_ERROR">DRM_ERROR</a>(<q>"failed to setup audio infoframe\n"</q>);</td></tr>
<tr><th id="442">442</th><td>		<b>return</b>;</td></tr>
<tr><th id="443">443</th><td>	}</td></tr>
<tr><th id="444">444</th><td></td></tr>
<tr><th id="445">445</th><td>	<a class="local col9 ref" href="#79frame" title='frame' data-ref="79frame" data-ref-filename="79frame">frame</a>.<a class="ref field" href="../../../include/linux/hdmi.h.html#hdmi_audio_infoframe::channels" title='hdmi_audio_infoframe::channels' data-ref="hdmi_audio_infoframe::channels" data-ref-filename="hdmi_audio_infoframe..channels">channels</a> = <a class="local col7 ref" href="#77audio" title='audio' data-ref="77audio" data-ref-filename="77audio">audio</a>.<a class="ref field" href="radeon.h.html#r600_audio_pin::channels" title='r600_audio_pin::channels' data-ref="r600_audio_pin::channels" data-ref-filename="r600_audio_pin..channels">channels</a>;</td></tr>
<tr><th id="446">446</th><td></td></tr>
<tr><th id="447">447</th><td>	<a class="local col2 ref" href="#82err" title='err' data-ref="82err" data-ref-filename="82err">err</a> = <a class="ref fn" href="../../../include/linux/hdmi.h.html#hdmi_audio_infoframe_pack" title='hdmi_audio_infoframe_pack' data-ref="hdmi_audio_infoframe_pack" data-ref-filename="hdmi_audio_infoframe_pack">hdmi_audio_infoframe_pack</a>(&amp;<a class="local col9 ref" href="#79frame" title='frame' data-ref="79frame" data-ref-filename="79frame">frame</a>, <a class="local col8 ref" href="#78buffer" title='buffer' data-ref="78buffer" data-ref-filename="78buffer">buffer</a>, <b>sizeof</b>(<a class="local col8 ref" href="#78buffer" title='buffer' data-ref="78buffer" data-ref-filename="78buffer">buffer</a>));</td></tr>
<tr><th id="448">448</th><td>	<b>if</b> (<a class="local col2 ref" href="#82err" title='err' data-ref="82err" data-ref-filename="82err">err</a> &lt; <var>0</var>) {</td></tr>
<tr><th id="449">449</th><td>		<a class="macro" href="../../include/drm/drmP.h.html#203" title="drm_err(&quot;/___NETBSD_SRC___/objdir.amd64/sys/arch/amd64/compile/GENERIC/../../../../../../sys/external/bsd/drm2/dist/drm/radeon/radeon_r600_hdmi.c&quot;, 449, __func__, &quot;failed to pack audio infoframe\n&quot;)" data-ref="_M/DRM_ERROR">DRM_ERROR</a>(<q>"failed to pack audio infoframe\n"</q>);</td></tr>
<tr><th id="450">450</th><td>		<b>return</b>;</td></tr>
<tr><th id="451">451</th><td>	}</td></tr>
<tr><th id="452">452</th><td></td></tr>
<tr><th id="453">453</th><td>	<a class="local col1 ref" href="#81value" title='value' data-ref="81value" data-ref-filename="81value">value</a> = <a class="macro" href="radeon.h.html#2612" title="r100_mm_rreg(rdev, (0x7408 + offset), 0)" data-ref="_M/RREG32">RREG32</a>(<a class="macro" href="r600d.h.html#1046" title="0x7408" data-ref="_M/HDMI0_AUDIO_PACKET_CONTROL">HDMI0_AUDIO_PACKET_CONTROL</a> + <a class="local col0 ref" href="#80offset" title='offset' data-ref="80offset" data-ref-filename="80offset">offset</a>);</td></tr>
<tr><th id="454">454</th><td>	<b>if</b> (<a class="local col1 ref" href="#81value" title='value' data-ref="81value" data-ref-filename="81value">value</a> &amp; <a class="macro" href="r600d.h.html#1051" title="(1 &lt;&lt; 12)" data-ref="_M/HDMI0_AUDIO_TEST_EN">HDMI0_AUDIO_TEST_EN</a>)</td></tr>
<tr><th id="455">455</th><td>		<a class="macro" href="radeon.h.html#2615" title="r100_mm_wreg(rdev, (0x7408 + offset), (value &amp; ~(1 &lt;&lt; 12)), 0)" data-ref="_M/WREG32">WREG32</a>(<a class="macro" href="r600d.h.html#1046" title="0x7408" data-ref="_M/HDMI0_AUDIO_PACKET_CONTROL">HDMI0_AUDIO_PACKET_CONTROL</a> + <a class="local col0 ref" href="#80offset" title='offset' data-ref="80offset" data-ref-filename="80offset">offset</a>,</td></tr>
<tr><th id="456">456</th><td>		       <a class="local col1 ref" href="#81value" title='value' data-ref="81value" data-ref-filename="81value">value</a> &amp; ~<a class="macro" href="r600d.h.html#1051" title="(1 &lt;&lt; 12)" data-ref="_M/HDMI0_AUDIO_TEST_EN">HDMI0_AUDIO_TEST_EN</a>);</td></tr>
<tr><th id="457">457</th><td></td></tr>
<tr><th id="458">458</th><td>	<a class="macro" href="radeon.h.html#2649" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x7400 + offset), 0); tmp_ &amp;= (~((1 &lt;&lt; 8))); tmp_ |= (((1 &lt;&lt; 8)) &amp; ~(~((1 &lt;&lt; 8)))); r100_mm_wreg(rdev, (0x7400 + offset), (tmp_), 0); } while (0)" data-ref="_M/WREG32_OR">WREG32_OR</a>(<a class="macro" href="r600d.h.html#1030" title="0x7400" data-ref="_M/HDMI0_CONTROL">HDMI0_CONTROL</a> + <a class="local col0 ref" href="#80offset" title='offset' data-ref="80offset" data-ref-filename="80offset">offset</a>,</td></tr>
<tr><th id="459">459</th><td>		  <a class="macro" href="r600d.h.html#1039" title="(1 &lt;&lt; 8)" data-ref="_M/HDMI0_ERROR_ACK">HDMI0_ERROR_ACK</a>);</td></tr>
<tr><th id="460">460</th><td></td></tr>
<tr><th id="461">461</th><td>	<a class="macro" href="radeon.h.html#2648" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x7414 + offset), 0); tmp_ &amp;= (~(1 &lt;&lt; 6)); tmp_ |= ((0) &amp; ~(~(1 &lt;&lt; 6))); r100_mm_wreg(rdev, (0x7414 + offset), (tmp_), 0); } while (0)" data-ref="_M/WREG32_AND">WREG32_AND</a>(<a class="macro" href="r600d.h.html#1065" title="0x7414" data-ref="_M/HDMI0_INFOFRAME_CONTROL0">HDMI0_INFOFRAME_CONTROL0</a> + <a class="local col0 ref" href="#80offset" title='offset' data-ref="80offset" data-ref-filename="80offset">offset</a>,</td></tr>
<tr><th id="462">462</th><td>		   ~<a class="macro" href="r600d.h.html#1070" title="(1 &lt;&lt; 6)" data-ref="_M/HDMI0_AUDIO_INFO_SOURCE">HDMI0_AUDIO_INFO_SOURCE</a>);</td></tr>
<tr><th id="463">463</th><td></td></tr>
<tr><th id="464">464</th><td>	<a class="tu ref fn" href="#r600_hdmi_update_audio_infoframe" title='r600_hdmi_update_audio_infoframe' data-use='c' data-ref="r600_hdmi_update_audio_infoframe" data-ref-filename="r600_hdmi_update_audio_infoframe">r600_hdmi_update_audio_infoframe</a>(<a class="local col2 ref" href="#72encoder" title='encoder' data-ref="72encoder" data-ref-filename="72encoder">encoder</a>, <a class="local col8 ref" href="#78buffer" title='buffer' data-ref="78buffer" data-ref-filename="78buffer">buffer</a>, <b>sizeof</b>(<a class="local col8 ref" href="#78buffer" title='buffer' data-ref="78buffer" data-ref-filename="78buffer">buffer</a>));</td></tr>
<tr><th id="465">465</th><td></td></tr>
<tr><th id="466">466</th><td>	<a class="macro" href="radeon.h.html#2649" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x7414 + offset), 0); tmp_ &amp;= (~((1 &lt;&lt; 5) | (1 &lt;&lt; 7))); tmp_ |= (((1 &lt;&lt; 5) | (1 &lt;&lt; 7)) &amp; ~(~((1 &lt;&lt; 5) | (1 &lt;&lt; 7)))); r100_mm_wreg(rdev, (0x7414 + offset), (tmp_), 0); } while (0)" data-ref="_M/WREG32_OR">WREG32_OR</a>(<a class="macro" href="r600d.h.html#1065" title="0x7414" data-ref="_M/HDMI0_INFOFRAME_CONTROL0">HDMI0_INFOFRAME_CONTROL0</a> + <a class="local col0 ref" href="#80offset" title='offset' data-ref="80offset" data-ref-filename="80offset">offset</a>,</td></tr>
<tr><th id="467">467</th><td>		  <a class="macro" href="r600d.h.html#1069" title="(1 &lt;&lt; 5)" data-ref="_M/HDMI0_AUDIO_INFO_CONT">HDMI0_AUDIO_INFO_CONT</a> |</td></tr>
<tr><th id="468">468</th><td>		  <a class="macro" href="r600d.h.html#1071" title="(1 &lt;&lt; 7)" data-ref="_M/HDMI0_AUDIO_INFO_UPDATE">HDMI0_AUDIO_INFO_UPDATE</a>);</td></tr>
<tr><th id="469">469</th><td>}</td></tr>
<tr><th id="470">470</th><td></td></tr>
<tr><th id="471">471</th><td><i>/*</i></td></tr>
<tr><th id="472">472</th><td><i> * enable the HDMI engine</i></td></tr>
<tr><th id="473">473</th><td><i> */</i></td></tr>
<tr><th id="474">474</th><td><em>void</em> <dfn class="decl def fn" id="r600_hdmi_enable" title='r600_hdmi_enable' data-ref="r600_hdmi_enable" data-ref-filename="r600_hdmi_enable">r600_hdmi_enable</dfn>(<b>struct</b> <a class="type" href="../../include/drm/drm_crtc.h.html#drm_encoder" title='drm_encoder' data-ref="drm_encoder" data-ref-filename="drm_encoder">drm_encoder</a> *<dfn class="local col3 decl" id="83encoder" title='encoder' data-type='struct drm_encoder *' data-ref="83encoder" data-ref-filename="83encoder">encoder</dfn>, <a class="macro" href="../../../../../../sys/stdbool.h.html#37" title="_Bool" data-ref="_M/bool">bool</a> <dfn class="local col4 decl" id="84enable" title='enable' data-type='_Bool' data-ref="84enable" data-ref-filename="84enable">enable</dfn>)</td></tr>
<tr><th id="475">475</th><td>{</td></tr>
<tr><th id="476">476</th><td>	<b>struct</b> <a class="type" href="../../include/drm/drmP.h.html#drm_device" title='drm_device' data-ref="drm_device" data-ref-filename="drm_device">drm_device</a> *<dfn class="local col5 decl" id="85dev" title='dev' data-type='struct drm_device *' data-ref="85dev" data-ref-filename="85dev">dev</dfn> = <a class="local col3 ref" href="#83encoder" title='encoder' data-ref="83encoder" data-ref-filename="83encoder">encoder</a>-&gt;<a class="ref field" href="../../include/drm/drm_crtc.h.html#drm_encoder::dev" title='drm_encoder::dev' data-ref="drm_encoder::dev" data-ref-filename="drm_encoder..dev">dev</a>;</td></tr>
<tr><th id="477">477</th><td>	<b>struct</b> <a class="type" href="radeon.h.html#radeon_device" title='radeon_device' data-ref="radeon_device" data-ref-filename="radeon_device">radeon_device</a> *<dfn class="local col6 decl" id="86rdev" title='rdev' data-type='struct radeon_device *' data-ref="86rdev" data-ref-filename="86rdev">rdev</dfn> = <a class="local col5 ref" href="#85dev" title='dev' data-ref="85dev" data-ref-filename="85dev">dev</a>-&gt;<a class="ref field" href="../../include/drm/drmP.h.html#drm_device::dev_private" title='drm_device::dev_private' data-ref="drm_device::dev_private" data-ref-filename="drm_device..dev_private">dev_private</a>;</td></tr>
<tr><th id="478">478</th><td>	<b>struct</b> <a class="type" href="radeon_mode.h.html#radeon_encoder" title='radeon_encoder' data-ref="radeon_encoder" data-ref-filename="radeon_encoder">radeon_encoder</a> *<dfn class="local col7 decl" id="87radeon_encoder" title='radeon_encoder' data-type='struct radeon_encoder *' data-ref="87radeon_encoder" data-ref-filename="87radeon_encoder">radeon_encoder</dfn> = <a class="macro" href="radeon_mode.h.html#49" title="((struct radeon_encoder *)(((char *)(encoder)) - __builtin_offsetof(struct radeon_encoder, base)) + (0 * sizeof((encoder) - &amp;((struct radeon_encoder *)(((char *)(encoder)) - __builtin_offsetof(struct radeon_encoder, base)))-&gt;base)))" data-ref="_M/to_radeon_encoder">to_radeon_encoder</a>(<a class="local col3 ref" href="#83encoder" title='encoder' data-ref="83encoder" data-ref-filename="83encoder">encoder</a>);</td></tr>
<tr><th id="479">479</th><td>	<b>struct</b> <a class="type" href="radeon_mode.h.html#radeon_encoder_atom_dig" title='radeon_encoder_atom_dig' data-ref="radeon_encoder_atom_dig" data-ref-filename="radeon_encoder_atom_dig">radeon_encoder_atom_dig</a> *<dfn class="local col8 decl" id="88dig" title='dig' data-type='struct radeon_encoder_atom_dig *' data-ref="88dig" data-ref-filename="88dig">dig</dfn> = <a class="local col7 ref" href="#87radeon_encoder" title='radeon_encoder' data-ref="87radeon_encoder" data-ref-filename="87radeon_encoder">radeon_encoder</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder::enc_priv" title='radeon_encoder::enc_priv' data-ref="radeon_encoder::enc_priv" data-ref-filename="radeon_encoder..enc_priv">enc_priv</a>;</td></tr>
<tr><th id="480">480</th><td>	<a class="typedef" href="../../../include/linux/types.h.html#u32" title='u32' data-type='uint32_t' data-ref="u32" data-ref-filename="u32">u32</a> <dfn class="local col9 decl" id="89hdmi" title='hdmi' data-type='u32' data-ref="89hdmi" data-ref-filename="89hdmi">hdmi</dfn> = <a class="macro" href="r600d.h.html#1039" title="(1 &lt;&lt; 8)" data-ref="_M/HDMI0_ERROR_ACK">HDMI0_ERROR_ACK</a>;</td></tr>
<tr><th id="481">481</th><td></td></tr>
<tr><th id="482">482</th><td>	<b>if</b> (!<a class="local col8 ref" href="#88dig" title='dig' data-ref="88dig" data-ref-filename="88dig">dig</a> || !<a class="local col8 ref" href="#88dig" title='dig' data-ref="88dig" data-ref-filename="88dig">dig</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder_atom_dig::afmt" title='radeon_encoder_atom_dig::afmt' data-ref="radeon_encoder_atom_dig::afmt" data-ref-filename="radeon_encoder_atom_dig..afmt">afmt</a>)</td></tr>
<tr><th id="483">483</th><td>		<b>return</b>;</td></tr>
<tr><th id="484">484</th><td></td></tr>
<tr><th id="485">485</th><td>	<i>/* Older chipsets require setting HDMI and routing manually */</i></td></tr>
<tr><th id="486">486</th><td>	<b>if</b> (!<a class="macro" href="radeon.h.html#2733" title="((rdev-&gt;family &gt;= CHIP_RV620))" data-ref="_M/ASIC_IS_DCE3">ASIC_IS_DCE3</a>(<a class="local col6 ref" href="#86rdev" title='rdev' data-ref="86rdev" data-ref-filename="86rdev">rdev</a>)) {</td></tr>
<tr><th id="487">487</th><td>		<b>if</b> (<a class="local col4 ref" href="#84enable" title='enable' data-ref="84enable" data-ref-filename="84enable">enable</a>)</td></tr>
<tr><th id="488">488</th><td>			<a class="local col9 ref" href="#89hdmi" title='hdmi' data-ref="89hdmi" data-ref-filename="89hdmi">hdmi</a> |= <a class="macro" href="r600d.h.html#1032" title="(1 &lt;&lt; 0)" data-ref="_M/HDMI0_ENABLE">HDMI0_ENABLE</a>;</td></tr>
<tr><th id="489">489</th><td>		<b>switch</b> (<a class="local col7 ref" href="#87radeon_encoder" title='radeon_encoder' data-ref="87radeon_encoder" data-ref-filename="87radeon_encoder">radeon_encoder</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder::encoder_id" title='radeon_encoder::encoder_id' data-ref="radeon_encoder::encoder_id" data-ref-filename="radeon_encoder..encoder_id">encoder_id</a>) {</td></tr>
<tr><th id="490">490</th><td>		<b>case</b> <a class="macro" href="ObjectID.h.html#77" title="0x13" data-ref="_M/ENCODER_OBJECT_ID_INTERNAL_KLDSCP_TMDS1">ENCODER_OBJECT_ID_INTERNAL_KLDSCP_TMDS1</a>:</td></tr>
<tr><th id="491">491</th><td>			<b>if</b> (<a class="local col4 ref" href="#84enable" title='enable' data-ref="84enable" data-ref-filename="84enable">enable</a>) {</td></tr>
<tr><th id="492">492</th><td>				<a class="macro" href="radeon.h.html#2649" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x7880), 0); tmp_ &amp;= (~((1 &lt;&lt; 2))); tmp_ |= (((1 &lt;&lt; 2)) &amp; ~(~((1 &lt;&lt; 2)))); r100_mm_wreg(rdev, (0x7880), (tmp_), 0); } while (0)" data-ref="_M/WREG32_OR">WREG32_OR</a>(<a class="macro" href="r500_reg.h.html#582" title="0x7880" data-ref="_M/AVIVO_TMDSA_CNTL">AVIVO_TMDSA_CNTL</a>, <a class="macro" href="r500_reg.h.html#584" title="(1 &lt;&lt; 2)" data-ref="_M/AVIVO_TMDSA_CNTL_HDMI_EN">AVIVO_TMDSA_CNTL_HDMI_EN</a>);</td></tr>
<tr><th id="493">493</th><td>				<a class="local col9 ref" href="#89hdmi" title='hdmi' data-ref="89hdmi" data-ref-filename="89hdmi">hdmi</a> |= <a class="macro" href="r600d.h.html#1033" title="(((0) &amp; 3) &lt;&lt; 2)" data-ref="_M/HDMI0_STREAM">HDMI0_STREAM</a>(<a class="macro" href="r600d.h.html#1034" title="0" data-ref="_M/HDMI0_STREAM_TMDSA">HDMI0_STREAM_TMDSA</a>);</td></tr>
<tr><th id="494">494</th><td>			} <b>else</b> {</td></tr>
<tr><th id="495">495</th><td>				<a class="macro" href="radeon.h.html#2648" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x7880), 0); tmp_ &amp;= (~(1 &lt;&lt; 2)); tmp_ |= ((0) &amp; ~(~(1 &lt;&lt; 2))); r100_mm_wreg(rdev, (0x7880), (tmp_), 0); } while (0)" data-ref="_M/WREG32_AND">WREG32_AND</a>(<a class="macro" href="r500_reg.h.html#582" title="0x7880" data-ref="_M/AVIVO_TMDSA_CNTL">AVIVO_TMDSA_CNTL</a>, ~<a class="macro" href="r500_reg.h.html#584" title="(1 &lt;&lt; 2)" data-ref="_M/AVIVO_TMDSA_CNTL_HDMI_EN">AVIVO_TMDSA_CNTL_HDMI_EN</a>);</td></tr>
<tr><th id="496">496</th><td>			}</td></tr>
<tr><th id="497">497</th><td>			<b>break</b>;</td></tr>
<tr><th id="498">498</th><td>		<b>case</b> <a class="macro" href="ObjectID.h.html#67" title="0x0F" data-ref="_M/ENCODER_OBJECT_ID_INTERNAL_LVTM1">ENCODER_OBJECT_ID_INTERNAL_LVTM1</a>:</td></tr>
<tr><th id="499">499</th><td>			<b>if</b> (<a class="local col4 ref" href="#84enable" title='enable' data-ref="84enable" data-ref-filename="84enable">enable</a>) {</td></tr>
<tr><th id="500">500</th><td>				<a class="macro" href="radeon.h.html#2649" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x7a80), 0); tmp_ &amp;= (~((1 &lt;&lt; 2))); tmp_ |= (((1 &lt;&lt; 2)) &amp; ~(~((1 &lt;&lt; 2)))); r100_mm_wreg(rdev, (0x7a80), (tmp_), 0); } while (0)" data-ref="_M/WREG32_OR">WREG32_OR</a>(<a class="macro" href="r500_reg.h.html#643" title="0x7a80" data-ref="_M/AVIVO_LVTMA_CNTL">AVIVO_LVTMA_CNTL</a>, <a class="macro" href="r500_reg.h.html#645" title="(1 &lt;&lt; 2)" data-ref="_M/AVIVO_LVTMA_CNTL_HDMI_EN">AVIVO_LVTMA_CNTL_HDMI_EN</a>);</td></tr>
<tr><th id="501">501</th><td>				<a class="local col9 ref" href="#89hdmi" title='hdmi' data-ref="89hdmi" data-ref-filename="89hdmi">hdmi</a> |= <a class="macro" href="r600d.h.html#1033" title="(((1) &amp; 3) &lt;&lt; 2)" data-ref="_M/HDMI0_STREAM">HDMI0_STREAM</a>(<a class="macro" href="r600d.h.html#1035" title="1" data-ref="_M/HDMI0_STREAM_LVTMA">HDMI0_STREAM_LVTMA</a>);</td></tr>
<tr><th id="502">502</th><td>			} <b>else</b> {</td></tr>
<tr><th id="503">503</th><td>				<a class="macro" href="radeon.h.html#2648" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x7a80), 0); tmp_ &amp;= (~(1 &lt;&lt; 2)); tmp_ |= ((0) &amp; ~(~(1 &lt;&lt; 2))); r100_mm_wreg(rdev, (0x7a80), (tmp_), 0); } while (0)" data-ref="_M/WREG32_AND">WREG32_AND</a>(<a class="macro" href="r500_reg.h.html#643" title="0x7a80" data-ref="_M/AVIVO_LVTMA_CNTL">AVIVO_LVTMA_CNTL</a>, ~<a class="macro" href="r500_reg.h.html#645" title="(1 &lt;&lt; 2)" data-ref="_M/AVIVO_LVTMA_CNTL_HDMI_EN">AVIVO_LVTMA_CNTL_HDMI_EN</a>);</td></tr>
<tr><th id="504">504</th><td>			}</td></tr>
<tr><th id="505">505</th><td>			<b>break</b>;</td></tr>
<tr><th id="506">506</th><td>		<b>case</b> <a class="macro" href="ObjectID.h.html#83" title="0x19" data-ref="_M/ENCODER_OBJECT_ID_INTERNAL_DDI">ENCODER_OBJECT_ID_INTERNAL_DDI</a>:</td></tr>
<tr><th id="507">507</th><td>			<b>if</b> (<a class="local col4 ref" href="#84enable" title='enable' data-ref="84enable" data-ref-filename="84enable">enable</a>) {</td></tr>
<tr><th id="508">508</th><td>				<a class="macro" href="radeon.h.html#2649" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x7200), 0); tmp_ &amp;= (~((1 &lt;&lt; 2))); tmp_ |= (((1 &lt;&lt; 2)) &amp; ~(~((1 &lt;&lt; 2)))); r100_mm_wreg(rdev, (0x7200), (tmp_), 0); } while (0)" data-ref="_M/WREG32_OR">WREG32_OR</a>(<a class="macro" href="r600d.h.html#976" title="0x7200" data-ref="_M/DDIA_CNTL">DDIA_CNTL</a>, <a class="macro" href="r600d.h.html#977" title="(1 &lt;&lt; 2)" data-ref="_M/DDIA_HDMI_EN">DDIA_HDMI_EN</a>);</td></tr>
<tr><th id="509">509</th><td>				<a class="local col9 ref" href="#89hdmi" title='hdmi' data-ref="89hdmi" data-ref-filename="89hdmi">hdmi</a> |= <a class="macro" href="r600d.h.html#1033" title="(((3) &amp; 3) &lt;&lt; 2)" data-ref="_M/HDMI0_STREAM">HDMI0_STREAM</a>(<a class="macro" href="r600d.h.html#1037" title="3" data-ref="_M/HDMI0_STREAM_DDIA">HDMI0_STREAM_DDIA</a>);</td></tr>
<tr><th id="510">510</th><td>			} <b>else</b> {</td></tr>
<tr><th id="511">511</th><td>				<a class="macro" href="radeon.h.html#2648" title="do { uint32_t tmp_ = r100_mm_rreg(rdev, (0x7200), 0); tmp_ &amp;= (~(1 &lt;&lt; 2)); tmp_ |= ((0) &amp; ~(~(1 &lt;&lt; 2))); r100_mm_wreg(rdev, (0x7200), (tmp_), 0); } while (0)" data-ref="_M/WREG32_AND">WREG32_AND</a>(<a class="macro" href="r600d.h.html#976" title="0x7200" data-ref="_M/DDIA_CNTL">DDIA_CNTL</a>, ~<a class="macro" href="r600d.h.html#977" title="(1 &lt;&lt; 2)" data-ref="_M/DDIA_HDMI_EN">DDIA_HDMI_EN</a>);</td></tr>
<tr><th id="512">512</th><td>			}</td></tr>
<tr><th id="513">513</th><td>			<b>break</b>;</td></tr>
<tr><th id="514">514</th><td>		<b>case</b> <a class="macro" href="ObjectID.h.html#78" title="0x14" data-ref="_M/ENCODER_OBJECT_ID_INTERNAL_KLDSCP_DVO1">ENCODER_OBJECT_ID_INTERNAL_KLDSCP_DVO1</a>:</td></tr>
<tr><th id="515">515</th><td>			<b>if</b> (<a class="local col4 ref" href="#84enable" title='enable' data-ref="84enable" data-ref-filename="84enable">enable</a>)</td></tr>
<tr><th id="516">516</th><td>				<a class="local col9 ref" href="#89hdmi" title='hdmi' data-ref="89hdmi" data-ref-filename="89hdmi">hdmi</a> |= <a class="macro" href="r600d.h.html#1033" title="(((2) &amp; 3) &lt;&lt; 2)" data-ref="_M/HDMI0_STREAM">HDMI0_STREAM</a>(<a class="macro" href="r600d.h.html#1036" title="2" data-ref="_M/HDMI0_STREAM_DVOA">HDMI0_STREAM_DVOA</a>);</td></tr>
<tr><th id="517">517</th><td>			<b>break</b>;</td></tr>
<tr><th id="518">518</th><td>		<b>default</b>:</td></tr>
<tr><th id="519">519</th><td>			<a class="macro" href="../../../include/linux/device.h.html#45" title="do { if (rdev-&gt;dev) aprint_error_dev((rdev-&gt;dev), &quot;error: &quot; &quot;Invalid encoder for HDMI: 0x%X\n&quot;, radeon_encoder-&gt;encoder_id); else aprint_error(&quot;error: &quot; &quot;Invalid encoder for HDMI: 0x%X\n&quot;, radeon_encoder-&gt;encoder_id); } while (0)" data-ref="_M/dev_err">dev_err</a>(<a class="local col6 ref" href="#86rdev" title='rdev' data-ref="86rdev" data-ref-filename="86rdev">rdev</a>-&gt;<a class="ref field" href="radeon.h.html#radeon_device::dev" title='radeon_device::dev' data-ref="radeon_device::dev" data-ref-filename="radeon_device..dev">dev</a>, <q>"Invalid encoder for HDMI: 0x%X\n"</q>,</td></tr>
<tr><th id="520">520</th><td>				<a class="local col7 ref" href="#87radeon_encoder" title='radeon_encoder' data-ref="87radeon_encoder" data-ref-filename="87radeon_encoder">radeon_encoder</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder::encoder_id" title='radeon_encoder::encoder_id' data-ref="radeon_encoder::encoder_id" data-ref-filename="radeon_encoder..encoder_id">encoder_id</a>);</td></tr>
<tr><th id="521">521</th><td>			<b>break</b>;</td></tr>
<tr><th id="522">522</th><td>		}</td></tr>
<tr><th id="523">523</th><td>		<a class="macro" href="radeon.h.html#2615" title="r100_mm_wreg(rdev, (0x7400 + dig-&gt;afmt-&gt;offset), (hdmi), 0)" data-ref="_M/WREG32">WREG32</a>(<a class="macro" href="r600d.h.html#1030" title="0x7400" data-ref="_M/HDMI0_CONTROL">HDMI0_CONTROL</a> + <a class="local col8 ref" href="#88dig" title='dig' data-ref="88dig" data-ref-filename="88dig">dig</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder_atom_dig::afmt" title='radeon_encoder_atom_dig::afmt' data-ref="radeon_encoder_atom_dig::afmt" data-ref-filename="radeon_encoder_atom_dig..afmt">afmt</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_afmt::offset" title='radeon_afmt::offset' data-ref="radeon_afmt::offset" data-ref-filename="radeon_afmt..offset">offset</a>, <a class="local col9 ref" href="#89hdmi" title='hdmi' data-ref="89hdmi" data-ref-filename="89hdmi">hdmi</a>);</td></tr>
<tr><th id="524">524</th><td>	}</td></tr>
<tr><th id="525">525</th><td></td></tr>
<tr><th id="526">526</th><td>	<b>if</b> (rdev-&gt;irq.installed) {</td></tr>
<tr><th id="527">527</th><td>		<i>/* if irq is available use it */</i></td></tr>
<tr><th id="528">528</th><td>		<i>/* XXX: shouldn't need this on any asics.  Double check DCE2/3 */</i></td></tr>
<tr><th id="529">529</th><td>		<b>if</b> (<a class="local col4 ref" href="#84enable" title='enable' data-ref="84enable" data-ref-filename="84enable">enable</a>)</td></tr>
<tr><th id="530">530</th><td>			<a class="ref fn" href="radeon.h.html#radeon_irq_kms_enable_afmt" title='radeon_irq_kms_enable_afmt' data-ref="radeon_irq_kms_enable_afmt" data-ref-filename="radeon_irq_kms_enable_afmt">radeon_irq_kms_enable_afmt</a>(<a class="local col6 ref" href="#86rdev" title='rdev' data-ref="86rdev" data-ref-filename="86rdev">rdev</a>, <a class="local col8 ref" href="#88dig" title='dig' data-ref="88dig" data-ref-filename="88dig">dig</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder_atom_dig::afmt" title='radeon_encoder_atom_dig::afmt' data-ref="radeon_encoder_atom_dig::afmt" data-ref-filename="radeon_encoder_atom_dig..afmt">afmt</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_afmt::id" title='radeon_afmt::id' data-ref="radeon_afmt::id" data-ref-filename="radeon_afmt..id">id</a>);</td></tr>
<tr><th id="531">531</th><td>		<b>else</b></td></tr>
<tr><th id="532">532</th><td>			<a class="ref fn" href="radeon.h.html#radeon_irq_kms_disable_afmt" title='radeon_irq_kms_disable_afmt' data-ref="radeon_irq_kms_disable_afmt" data-ref-filename="radeon_irq_kms_disable_afmt">radeon_irq_kms_disable_afmt</a>(<a class="local col6 ref" href="#86rdev" title='rdev' data-ref="86rdev" data-ref-filename="86rdev">rdev</a>, <a class="local col8 ref" href="#88dig" title='dig' data-ref="88dig" data-ref-filename="88dig">dig</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder_atom_dig::afmt" title='radeon_encoder_atom_dig::afmt' data-ref="radeon_encoder_atom_dig::afmt" data-ref-filename="radeon_encoder_atom_dig..afmt">afmt</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_afmt::id" title='radeon_afmt::id' data-ref="radeon_afmt::id" data-ref-filename="radeon_afmt..id">id</a>);</td></tr>
<tr><th id="533">533</th><td>	}</td></tr>
<tr><th id="534">534</th><td></td></tr>
<tr><th id="535">535</th><td>	<a class="local col8 ref" href="#88dig" title='dig' data-ref="88dig" data-ref-filename="88dig">dig</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder_atom_dig::afmt" title='radeon_encoder_atom_dig::afmt' data-ref="radeon_encoder_atom_dig::afmt" data-ref-filename="radeon_encoder_atom_dig..afmt">afmt</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_afmt::enabled" title='radeon_afmt::enabled' data-ref="radeon_afmt::enabled" data-ref-filename="radeon_afmt..enabled">enabled</a> = <a class="local col4 ref" href="#84enable" title='enable' data-ref="84enable" data-ref-filename="84enable">enable</a>;</td></tr>
<tr><th id="536">536</th><td></td></tr>
<tr><th id="537">537</th><td>	<a class="macro" href="../../include/drm/drmP.h.html#228" title="do { if (__builtin_expect((drm_debug &amp; 0x01) != 0, 0)) drm_ut_debug_printk(__func__, &quot;%sabling HDMI interface @ 0x%04X for encoder 0x%x\n&quot;, enable ? &quot;En&quot; : &quot;Dis&quot;, dig-&gt;afmt-&gt;offset, radeon_encoder-&gt;encoder_id); } while (0)" data-ref="_M/DRM_DEBUG">DRM_DEBUG</a>(<q>"%sabling HDMI interface @ 0x%04X for encoder 0x%x\n"</q>,</td></tr>
<tr><th id="538">538</th><td>		  <a class="local col4 ref" href="#84enable" title='enable' data-ref="84enable" data-ref-filename="84enable">enable</a> ? <q>"En"</q> : <q>"Dis"</q>, <a class="local col8 ref" href="#88dig" title='dig' data-ref="88dig" data-ref-filename="88dig">dig</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder_atom_dig::afmt" title='radeon_encoder_atom_dig::afmt' data-ref="radeon_encoder_atom_dig::afmt" data-ref-filename="radeon_encoder_atom_dig..afmt">afmt</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_afmt::offset" title='radeon_afmt::offset' data-ref="radeon_afmt::offset" data-ref-filename="radeon_afmt..offset">offset</a>, <a class="local col7 ref" href="#87radeon_encoder" title='radeon_encoder' data-ref="87radeon_encoder" data-ref-filename="87radeon_encoder">radeon_encoder</a>-&gt;<a class="ref field" href="radeon_mode.h.html#radeon_encoder::encoder_id" title='radeon_encoder::encoder_id' data-ref="radeon_encoder::encoder_id" data-ref-filename="radeon_encoder..encoder_id">encoder_id</a>);</td></tr>
<tr><th id="539">539</th><td>}</td></tr>
<tr><th id="540">540</th><td></td></tr>
<tr><th id="541">541</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2019-Jul-19</em> from project netbsd revision <em>f9da89e0d</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
