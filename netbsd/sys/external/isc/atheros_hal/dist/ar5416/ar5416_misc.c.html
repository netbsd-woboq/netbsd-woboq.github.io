<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>ar5416_misc.c source code [netbsd/sys/external/isc/atheros_hal/dist/ar5416/ar5416_misc.c] - Woboq Code Browser</title>
<link rel="stylesheet" href="https://code.woboq.org/data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="https://code.woboq.org/data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery-ui.min.js"></script>
<script>var file = 'netbsd/sys/external/isc/atheros_hal/dist/ar5416/ar5416_misc.c'; var root_path = '../../../../../../..'; var data_path = 'https://code.woboq.org/data'; var ecma_script_api_version = 2;</script>
<script src='https://code.woboq.org/data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../../../..'>netbsd</a>/<a href='../../../../..'>sys</a>/<a href='../../../..'>external</a>/<a href='../../..'>isc</a>/<a href='../..'>atheros_hal</a>/<a href='..'>dist</a>/<a href='./'>ar5416</a>/<a href='ar5416_misc.c.html'>ar5416_misc.c</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i> * Copyright (c) 2002-2008 Sam Leffler, Errno Consulting</i></td></tr>
<tr><th id="3">3</th><td><i> * Copyright (c) 2002-2008 Atheros Communications, Inc.</i></td></tr>
<tr><th id="4">4</th><td><i> *</i></td></tr>
<tr><th id="5">5</th><td><i> * Permission to use, copy, modify, and/or distribute this software for any</i></td></tr>
<tr><th id="6">6</th><td><i> * purpose with or without fee is hereby granted, provided that the above</i></td></tr>
<tr><th id="7">7</th><td><i> * copyright notice and this permission notice appear in all copies.</i></td></tr>
<tr><th id="8">8</th><td><i> *</i></td></tr>
<tr><th id="9">9</th><td><i> * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES</i></td></tr>
<tr><th id="10">10</th><td><i> * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF</i></td></tr>
<tr><th id="11">11</th><td><i> * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR</i></td></tr>
<tr><th id="12">12</th><td><i> * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES</i></td></tr>
<tr><th id="13">13</th><td><i> * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN</i></td></tr>
<tr><th id="14">14</th><td><i> * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF</i></td></tr>
<tr><th id="15">15</th><td><i> * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.</i></td></tr>
<tr><th id="16">16</th><td><i> *</i></td></tr>
<tr><th id="17">17</th><td><i> * $Id: ar5416_misc.c,v 1.2 2012/02/12 13:47:19 wiz Exp $</i></td></tr>
<tr><th id="18">18</th><td><i> */</i></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="../../ic/opt_ah.h.html">"opt_ah.h"</a></u></td></tr>
<tr><th id="20">20</th><td></td></tr>
<tr><th id="21">21</th><td><u>#include <a href="../ah.h.html">"ah.h"</a></u></td></tr>
<tr><th id="22">22</th><td><u>#include <a href="../ah_internal.h.html">"ah_internal.h"</a></u></td></tr>
<tr><th id="23">23</th><td><u>#include <a href="../ah_devid.h.html">"ah_devid.h"</a></u></td></tr>
<tr><th id="24">24</th><td><u>#<span data-ppcond="24">ifdef</span> <span class="macro" data-ref="_M/AH_DEBUG">AH_DEBUG</span></u></td></tr>
<tr><th id="25">25</th><td><u>#include "ah_desc.h"                    /* NB: for HAL_PHYERR* */</u></td></tr>
<tr><th id="26">26</th><td><u>#<span data-ppcond="24">endif</span></u></td></tr>
<tr><th id="27">27</th><td></td></tr>
<tr><th id="28">28</th><td><u>#include <a href="ar5416.h.html">"ar5416/ar5416.h"</a></u></td></tr>
<tr><th id="29">29</th><td><u>#include <a href="ar5416reg.h.html">"ar5416/ar5416reg.h"</a></u></td></tr>
<tr><th id="30">30</th><td><u>#include <a href="ar5416phy.h.html">"ar5416/ar5416phy.h"</a></u></td></tr>
<tr><th id="31">31</th><td></td></tr>
<tr><th id="32">32</th><td><i>/*</i></td></tr>
<tr><th id="33">33</th><td><i> * Return the wireless modes (a,b,g,t) supported by hardware.</i></td></tr>
<tr><th id="34">34</th><td><i> *</i></td></tr>
<tr><th id="35">35</th><td><i> * This value is what is actually supported by the hardware</i></td></tr>
<tr><th id="36">36</th><td><i> * and is unaffected by regulatory/country code settings.</i></td></tr>
<tr><th id="37">37</th><td><i> *</i></td></tr>
<tr><th id="38">38</th><td><i> */</i></td></tr>
<tr><th id="39">39</th><td><a class="typedef" href="../../../../../sys/types.h.html#u_int" title='u_int' data-type='unsigned int' data-ref="u_int" data-ref-filename="u_int">u_int</a></td></tr>
<tr><th id="40">40</th><td><dfn class="decl def fn" id="ar5416GetWirelessModes" title='ar5416GetWirelessModes' data-ref="ar5416GetWirelessModes" data-ref-filename="ar5416GetWirelessModes">ar5416GetWirelessModes</dfn>(<b>struct</b> <a class="type" href="../ah.h.html#ath_hal" title='ath_hal' data-ref="ath_hal" data-ref-filename="ath_hal">ath_hal</a> *<dfn class="local col1 decl" id="1ah" title='ah' data-type='struct ath_hal *' data-ref="1ah" data-ref-filename="1ah">ah</dfn>)</td></tr>
<tr><th id="41">41</th><td>{</td></tr>
<tr><th id="42">42</th><td>	<a class="typedef" href="../../../../../sys/types.h.html#u_int" title='u_int' data-type='unsigned int' data-ref="u_int" data-ref-filename="u_int">u_int</a> <dfn class="local col2 decl" id="2mode" title='mode' data-type='u_int' data-ref="2mode" data-ref-filename="2mode">mode</dfn>;</td></tr>
<tr><th id="43">43</th><td></td></tr>
<tr><th id="44">44</th><td>	<a class="local col2 ref" href="#2mode" title='mode' data-ref="2mode" data-ref-filename="2mode">mode</a> = <a class="ref fn" href="../ar5212/ar5212.h.html#ar5212GetWirelessModes" title='ar5212GetWirelessModes' data-ref="ar5212GetWirelessModes" data-ref-filename="ar5212GetWirelessModes">ar5212GetWirelessModes</a>(<a class="local col1 ref" href="#1ah" title='ah' data-ref="1ah" data-ref-filename="1ah">ah</a>);</td></tr>
<tr><th id="45">45</th><td>	<b>if</b> (<a class="local col2 ref" href="#2mode" title='mode' data-ref="2mode" data-ref-filename="2mode">mode</a> &amp; <a class="enum" href="../ah.h.html#HAL_MODE_11A" title='HAL_MODE_11A' data-ref="HAL_MODE_11A" data-ref-filename="HAL_MODE_11A">HAL_MODE_11A</a>)</td></tr>
<tr><th id="46">46</th><td>		<a class="local col2 ref" href="#2mode" title='mode' data-ref="2mode" data-ref-filename="2mode">mode</a> |= <a class="enum" href="../ah.h.html#HAL_MODE_11NA_HT20" title='HAL_MODE_11NA_HT20' data-ref="HAL_MODE_11NA_HT20" data-ref-filename="HAL_MODE_11NA_HT20">HAL_MODE_11NA_HT20</a></td></tr>
<tr><th id="47">47</th><td>		     |  <a class="enum" href="../ah.h.html#HAL_MODE_11NA_HT40PLUS" title='HAL_MODE_11NA_HT40PLUS' data-ref="HAL_MODE_11NA_HT40PLUS" data-ref-filename="HAL_MODE_11NA_HT40PLUS">HAL_MODE_11NA_HT40PLUS</a></td></tr>
<tr><th id="48">48</th><td>		     |  <a class="enum" href="../ah.h.html#HAL_MODE_11NA_HT40MINUS" title='HAL_MODE_11NA_HT40MINUS' data-ref="HAL_MODE_11NA_HT40MINUS" data-ref-filename="HAL_MODE_11NA_HT40MINUS">HAL_MODE_11NA_HT40MINUS</a></td></tr>
<tr><th id="49">49</th><td>		     ;</td></tr>
<tr><th id="50">50</th><td>	<b>if</b> (<a class="local col2 ref" href="#2mode" title='mode' data-ref="2mode" data-ref-filename="2mode">mode</a> &amp; <a class="enum" href="../ah.h.html#HAL_MODE_11G" title='HAL_MODE_11G' data-ref="HAL_MODE_11G" data-ref-filename="HAL_MODE_11G">HAL_MODE_11G</a>)</td></tr>
<tr><th id="51">51</th><td>		<a class="local col2 ref" href="#2mode" title='mode' data-ref="2mode" data-ref-filename="2mode">mode</a> |= <a class="enum" href="../ah.h.html#HAL_MODE_11NG_HT20" title='HAL_MODE_11NG_HT20' data-ref="HAL_MODE_11NG_HT20" data-ref-filename="HAL_MODE_11NG_HT20">HAL_MODE_11NG_HT20</a></td></tr>
<tr><th id="52">52</th><td>		     |  <a class="enum" href="../ah.h.html#HAL_MODE_11NG_HT40PLUS" title='HAL_MODE_11NG_HT40PLUS' data-ref="HAL_MODE_11NG_HT40PLUS" data-ref-filename="HAL_MODE_11NG_HT40PLUS">HAL_MODE_11NG_HT40PLUS</a></td></tr>
<tr><th id="53">53</th><td>		     |  <a class="enum" href="../ah.h.html#HAL_MODE_11NG_HT40MINUS" title='HAL_MODE_11NG_HT40MINUS' data-ref="HAL_MODE_11NG_HT40MINUS" data-ref-filename="HAL_MODE_11NG_HT40MINUS">HAL_MODE_11NG_HT40MINUS</a></td></tr>
<tr><th id="54">54</th><td>		     ;</td></tr>
<tr><th id="55">55</th><td>	<b>return</b> <a class="local col2 ref" href="#2mode" title='mode' data-ref="2mode" data-ref-filename="2mode">mode</a>;</td></tr>
<tr><th id="56">56</th><td>}</td></tr>
<tr><th id="57">57</th><td></td></tr>
<tr><th id="58">58</th><td><i>/*</i></td></tr>
<tr><th id="59">59</th><td><i> * Change the LED blinking pattern to correspond to the connectivity</i></td></tr>
<tr><th id="60">60</th><td><i> */</i></td></tr>
<tr><th id="61">61</th><td><em>void</em></td></tr>
<tr><th id="62">62</th><td><dfn class="decl def fn" id="ar5416SetLedState" title='ar5416SetLedState' data-ref="ar5416SetLedState" data-ref-filename="ar5416SetLedState">ar5416SetLedState</dfn>(<b>struct</b> <a class="type" href="../ah.h.html#ath_hal" title='ath_hal' data-ref="ath_hal" data-ref-filename="ath_hal">ath_hal</a> *<dfn class="local col3 decl" id="3ah" title='ah' data-type='struct ath_hal *' data-ref="3ah" data-ref-filename="3ah">ah</dfn>, <a class="typedef" href="../ah.h.html#HAL_LED_STATE" title='HAL_LED_STATE' data-type='enum HAL_LED_STATE' data-ref="HAL_LED_STATE" data-ref-filename="HAL_LED_STATE">HAL_LED_STATE</a> <dfn class="local col4 decl" id="4state" title='state' data-type='HAL_LED_STATE' data-ref="4state" data-ref-filename="4state">state</dfn>)</td></tr>
<tr><th id="63">63</th><td>{</td></tr>
<tr><th id="64">64</th><td>	<em>static</em> <em>const</em> <a class="typedef" href="../../../../../sys/stdint.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col5 decl" id="5ledbits" title='ledbits' data-type='const uint32_t [8]' data-ref="5ledbits" data-ref-filename="5ledbits">ledbits</dfn>[<var>8</var>] = {</td></tr>
<tr><th id="65">65</th><td>		<a class="macro" href="ar5416reg.h.html#198" title="0x00000000" data-ref="_M/AR_MAC_LED_ASSOC_NONE">AR_MAC_LED_ASSOC_NONE</a>,		<i>/* HAL_LED_INIT */</i></td></tr>
<tr><th id="66">66</th><td>		<a class="macro" href="ar5416reg.h.html#200" title="0x00000800" data-ref="_M/AR_MAC_LED_ASSOC_PEND">AR_MAC_LED_ASSOC_PEND</a>,		<i>/* HAL_LED_SCAN */</i></td></tr>
<tr><th id="67">67</th><td>		<a class="macro" href="ar5416reg.h.html#200" title="0x00000800" data-ref="_M/AR_MAC_LED_ASSOC_PEND">AR_MAC_LED_ASSOC_PEND</a>,		<i>/* HAL_LED_AUTH */</i></td></tr>
<tr><th id="68">68</th><td>		<a class="macro" href="ar5416reg.h.html#199" title="0x00000400" data-ref="_M/AR_MAC_LED_ASSOC_ACTIVE">AR_MAC_LED_ASSOC_ACTIVE</a>,	<i>/* HAL_LED_ASSOC*/</i></td></tr>
<tr><th id="69">69</th><td>		<a class="macro" href="ar5416reg.h.html#199" title="0x00000400" data-ref="_M/AR_MAC_LED_ASSOC_ACTIVE">AR_MAC_LED_ASSOC_ACTIVE</a>,	<i>/* HAL_LED_RUN */</i></td></tr>
<tr><th id="70">70</th><td>		<a class="macro" href="ar5416reg.h.html#198" title="0x00000000" data-ref="_M/AR_MAC_LED_ASSOC_NONE">AR_MAC_LED_ASSOC_NONE</a>,</td></tr>
<tr><th id="71">71</th><td>		<a class="macro" href="ar5416reg.h.html#198" title="0x00000000" data-ref="_M/AR_MAC_LED_ASSOC_NONE">AR_MAC_LED_ASSOC_NONE</a>,</td></tr>
<tr><th id="72">72</th><td>		<a class="macro" href="ar5416reg.h.html#198" title="0x00000000" data-ref="_M/AR_MAC_LED_ASSOC_NONE">AR_MAC_LED_ASSOC_NONE</a>,</td></tr>
<tr><th id="73">73</th><td>	};</td></tr>
<tr><th id="74">74</th><td>	<a class="typedef" href="../../../../../sys/stdint.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col6 decl" id="6bits" title='bits' data-type='uint32_t' data-ref="6bits" data-ref-filename="6bits">bits</dfn>;</td></tr>
<tr><th id="75">75</th><td></td></tr>
<tr><th id="76">76</th><td>	<a class="local col6 ref" href="#6bits" title='bits' data-ref="6bits" data-ref-filename="6bits">bits</a> = <a class="macro" href="../../ic/ah_osdep.h.html#127" title="((u_int32_t) bus_space_read_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x1f04)))" data-ref="_M/OS_REG_READ">OS_REG_READ</a>(<a class="local col3 ref" href="#3ah" title='ah' data-ref="3ah" data-ref-filename="3ah">ah</a>, <a class="macro" href="ar5416reg.h.html#33" title="0x1f04" data-ref="_M/AR_MAC_LED">AR_MAC_LED</a>);</td></tr>
<tr><th id="77">77</th><td>	<a class="local col6 ref" href="#6bits" title='bits' data-ref="6bits" data-ref-filename="6bits">bits</a> = (<a class="local col6 ref" href="#6bits" title='bits' data-ref="6bits" data-ref-filename="6bits">bits</a> &amp;~ <a class="macro" href="ar5416reg.h.html#189" title="0x00000380" data-ref="_M/AR_MAC_LED_MODE">AR_MAC_LED_MODE</a>)</td></tr>
<tr><th id="78">78</th><td>	     | <a class="macro" href="../ah_internal.h.html#507" title="(((5) &lt;&lt; 7) &amp; (0x00000380))" data-ref="_M/SM">SM</a>(<a class="macro" href="ar5416reg.h.html#195" title="5" data-ref="_M/AR_MAC_LED_MODE_POWON">AR_MAC_LED_MODE_POWON</a>, <a class="macro" href="ar5416reg.h.html#189" title="0x00000380" data-ref="_M/AR_MAC_LED_MODE">AR_MAC_LED_MODE</a>)</td></tr>
<tr><th id="79">79</th><td><u>#<span data-ppcond="79">if</span> 1</u></td></tr>
<tr><th id="80">80</th><td>	     | <a class="macro" href="../ah_internal.h.html#507" title="(((6) &lt;&lt; 7) &amp; (0x00000380))" data-ref="_M/SM">SM</a>(<a class="macro" href="ar5416reg.h.html#196" title="6" data-ref="_M/AR_MAC_LED_MODE_NETON">AR_MAC_LED_MODE_NETON</a>, <a class="macro" href="ar5416reg.h.html#189" title="0x00000380" data-ref="_M/AR_MAC_LED_MODE">AR_MAC_LED_MODE</a>)</td></tr>
<tr><th id="81">81</th><td><u>#<span data-ppcond="79">endif</span></u></td></tr>
<tr><th id="82">82</th><td>	     ;</td></tr>
<tr><th id="83">83</th><td>	<a class="local col6 ref" href="#6bits" title='bits' data-ref="6bits" data-ref-filename="6bits">bits</a> = (<a class="local col6 ref" href="#6bits" title='bits' data-ref="6bits" data-ref-filename="6bits">bits</a> &amp;~ <a class="macro" href="ar5416reg.h.html#197" title="0x00000c00" data-ref="_M/AR_MAC_LED_ASSOC">AR_MAC_LED_ASSOC</a>)</td></tr>
<tr><th id="84">84</th><td>	     | <a class="macro" href="../ah_internal.h.html#507" title="(((ledbits[state &amp; 0x7]) &lt;&lt; 10) &amp; (0x00000c00))" data-ref="_M/SM">SM</a>(<a class="local col5 ref" href="#5ledbits" title='ledbits' data-ref="5ledbits" data-ref-filename="5ledbits">ledbits</a>[<a class="local col4 ref" href="#4state" title='state' data-ref="4state" data-ref-filename="4state">state</a> &amp; <var>0x7</var>], <a class="macro" href="ar5416reg.h.html#197" title="0x00000c00" data-ref="_M/AR_MAC_LED_ASSOC">AR_MAC_LED_ASSOC</a>);</td></tr>
<tr><th id="85">85</th><td>	<a class="macro" href="../../ic/ah_osdep.h.html#125" title="bus_space_write_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x1f04), (bits))" data-ref="_M/OS_REG_WRITE">OS_REG_WRITE</a>(<a class="local col3 ref" href="#3ah" title='ah' data-ref="3ah" data-ref-filename="3ah">ah</a>, <a class="macro" href="ar5416reg.h.html#33" title="0x1f04" data-ref="_M/AR_MAC_LED">AR_MAC_LED</a>, <a class="local col6 ref" href="#6bits" title='bits' data-ref="6bits" data-ref-filename="6bits">bits</a>);</td></tr>
<tr><th id="86">86</th><td>}</td></tr>
<tr><th id="87">87</th><td></td></tr>
<tr><th id="88">88</th><td><i>/*</i></td></tr>
<tr><th id="89">89</th><td><i> * Reset the current hardware tsf for stamlme.</i></td></tr>
<tr><th id="90">90</th><td><i> */</i></td></tr>
<tr><th id="91">91</th><td><em>void</em></td></tr>
<tr><th id="92">92</th><td><dfn class="decl def fn" id="ar5416ResetTsf" title='ar5416ResetTsf' data-ref="ar5416ResetTsf" data-ref-filename="ar5416ResetTsf">ar5416ResetTsf</dfn>(<b>struct</b> <a class="type" href="../ah.h.html#ath_hal" title='ath_hal' data-ref="ath_hal" data-ref-filename="ath_hal">ath_hal</a> *<dfn class="local col7 decl" id="7ah" title='ah' data-type='struct ath_hal *' data-ref="7ah" data-ref-filename="7ah">ah</dfn>)</td></tr>
<tr><th id="93">93</th><td>{</td></tr>
<tr><th id="94">94</th><td>	<a class="typedef" href="../../../../../sys/stdint.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col8 decl" id="8v" title='v' data-type='uint32_t' data-ref="8v" data-ref-filename="8v">v</dfn>;</td></tr>
<tr><th id="95">95</th><td>	<em>int</em> <dfn class="local col9 decl" id="9i" title='i' data-type='int' data-ref="9i" data-ref-filename="9i">i</dfn>;</td></tr>
<tr><th id="96">96</th><td></td></tr>
<tr><th id="97">97</th><td>	<b>for</b> (<a class="local col9 ref" href="#9i" title='i' data-ref="9i" data-ref-filename="9i">i</a> = <var>0</var>; <a class="local col9 ref" href="#9i" title='i' data-ref="9i" data-ref-filename="9i">i</a> &lt; <var>10</var>; <a class="local col9 ref" href="#9i" title='i' data-ref="9i" data-ref-filename="9i">i</a>++) {</td></tr>
<tr><th id="98">98</th><td>		<a class="local col8 ref" href="#8v" title='v' data-ref="8v" data-ref-filename="8v">v</a> = <a class="macro" href="../../ic/ah_osdep.h.html#127" title="((u_int32_t) bus_space_read_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x8244)))" data-ref="_M/OS_REG_READ">OS_REG_READ</a>(<a class="local col7 ref" href="#7ah" title='ah' data-ref="7ah" data-ref-filename="7ah">ah</a>, <a class="macro" href="ar5416reg.h.html#120" title="0x8244" data-ref="_M/AR_SLP32_MODE">AR_SLP32_MODE</a>);</td></tr>
<tr><th id="99">99</th><td>		<b>if</b> ((<a class="local col8 ref" href="#8v" title='v' data-ref="8v" data-ref-filename="8v">v</a> &amp; <a class="macro" href="ar5416reg.h.html#467" title="0x00200000" data-ref="_M/AR_SLP32_TSF_WRITE_STATUS">AR_SLP32_TSF_WRITE_STATUS</a>) == <var>0</var>)</td></tr>
<tr><th id="100">100</th><td>			<b>break</b>;</td></tr>
<tr><th id="101">101</th><td>		<a class="macro" href="../../ic/ah_osdep.h.html#46" title="ath_hal_delay(10)" data-ref="_M/OS_DELAY">OS_DELAY</a>(<var>10</var>);</td></tr>
<tr><th id="102">102</th><td>	}</td></tr>
<tr><th id="103">103</th><td>	<a class="macro" href="../../ic/ah_osdep.h.html#125" title="bus_space_write_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x8020), (0x01000000))" data-ref="_M/OS_REG_WRITE">OS_REG_WRITE</a>(<a class="local col7 ref" href="#7ah" title='ah' data-ref="7ah" data-ref-filename="7ah">ah</a>, <a class="macro" href="ar5416reg.h.html#87" title="0x8020" data-ref="_M/AR_RESET_TSF">AR_RESET_TSF</a>, <a class="macro" href="ar5416reg.h.html#236" title="0x01000000" data-ref="_M/AR_RESET_TSF_ONCE">AR_RESET_TSF_ONCE</a>);	</td></tr>
<tr><th id="104">104</th><td>}</td></tr>
<tr><th id="105">105</th><td></td></tr>
<tr><th id="106">106</th><td><a class="typedef" href="../ah.h.html#HAL_BOOL" title='HAL_BOOL' data-type='enum HAL_BOOL' data-ref="HAL_BOOL" data-ref-filename="HAL_BOOL">HAL_BOOL</a></td></tr>
<tr><th id="107">107</th><td><dfn class="decl def fn" id="ar5416SetAntennaSwitch" title='ar5416SetAntennaSwitch' data-ref="ar5416SetAntennaSwitch" data-ref-filename="ar5416SetAntennaSwitch">ar5416SetAntennaSwitch</dfn>(<b>struct</b> <a class="type" href="../ah.h.html#ath_hal" title='ath_hal' data-ref="ath_hal" data-ref-filename="ath_hal">ath_hal</a> *<dfn class="local col0 decl" id="10ah" title='ah' data-type='struct ath_hal *' data-ref="10ah" data-ref-filename="10ah">ah</dfn>, <a class="typedef" href="../ah.h.html#HAL_ANT_SETTING" title='HAL_ANT_SETTING' data-type='enum HAL_ANT_SETTING' data-ref="HAL_ANT_SETTING" data-ref-filename="HAL_ANT_SETTING">HAL_ANT_SETTING</a> <dfn class="local col1 decl" id="11settings" title='settings' data-type='HAL_ANT_SETTING' data-ref="11settings" data-ref-filename="11settings">settings</dfn>)</td></tr>
<tr><th id="108">108</th><td>{</td></tr>
<tr><th id="109">109</th><td>	<b>return</b> <a class="enum" href="../ah.h.html#AH_TRUE" title='AH_TRUE' data-ref="AH_TRUE" data-ref-filename="AH_TRUE">AH_TRUE</a>;</td></tr>
<tr><th id="110">110</th><td>}</td></tr>
<tr><th id="111">111</th><td></td></tr>
<tr><th id="112">112</th><td><i>/* Setup decompression for given key index */</i></td></tr>
<tr><th id="113">113</th><td><a class="typedef" href="../ah.h.html#HAL_BOOL" title='HAL_BOOL' data-type='enum HAL_BOOL' data-ref="HAL_BOOL" data-ref-filename="HAL_BOOL">HAL_BOOL</a></td></tr>
<tr><th id="114">114</th><td><dfn class="decl def fn" id="ar5416SetDecompMask" title='ar5416SetDecompMask' data-ref="ar5416SetDecompMask" data-ref-filename="ar5416SetDecompMask">ar5416SetDecompMask</dfn>(<b>struct</b> <a class="type" href="../ah.h.html#ath_hal" title='ath_hal' data-ref="ath_hal" data-ref-filename="ath_hal">ath_hal</a> *<dfn class="local col2 decl" id="12ah" title='ah' data-type='struct ath_hal *' data-ref="12ah" data-ref-filename="12ah">ah</dfn>, <a class="typedef" href="../../../../../sys/stdint.h.html#uint16_t" title='uint16_t' data-type='__uint16_t' data-ref="uint16_t" data-ref-filename="uint16_t">uint16_t</a> <dfn class="local col3 decl" id="13keyidx" title='keyidx' data-type='uint16_t' data-ref="13keyidx" data-ref-filename="13keyidx">keyidx</dfn>, <em>int</em> <dfn class="local col4 decl" id="14en" title='en' data-type='int' data-ref="14en" data-ref-filename="14en">en</dfn>)</td></tr>
<tr><th id="115">115</th><td>{</td></tr>
<tr><th id="116">116</th><td>	<b>return</b> <a class="enum" href="../ah.h.html#AH_TRUE" title='AH_TRUE' data-ref="AH_TRUE" data-ref-filename="AH_TRUE">AH_TRUE</a>;</td></tr>
<tr><th id="117">117</th><td>}</td></tr>
<tr><th id="118">118</th><td></td></tr>
<tr><th id="119">119</th><td><i>/* Setup coverage class */</i></td></tr>
<tr><th id="120">120</th><td><em>void</em></td></tr>
<tr><th id="121">121</th><td><dfn class="decl def fn" id="ar5416SetCoverageClass" title='ar5416SetCoverageClass' data-ref="ar5416SetCoverageClass" data-ref-filename="ar5416SetCoverageClass">ar5416SetCoverageClass</dfn>(<b>struct</b> <a class="type" href="../ah.h.html#ath_hal" title='ath_hal' data-ref="ath_hal" data-ref-filename="ath_hal">ath_hal</a> *<dfn class="local col5 decl" id="15ah" title='ah' data-type='struct ath_hal *' data-ref="15ah" data-ref-filename="15ah">ah</dfn>, <a class="typedef" href="../../../../../sys/stdint.h.html#uint8_t" title='uint8_t' data-type='__uint8_t' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</a> <dfn class="local col6 decl" id="16coverageclass" title='coverageclass' data-type='uint8_t' data-ref="16coverageclass" data-ref-filename="16coverageclass">coverageclass</dfn>, <em>int</em> <dfn class="local col7 decl" id="17now" title='now' data-type='int' data-ref="17now" data-ref-filename="17now">now</dfn>)</td></tr>
<tr><th id="122">122</th><td>{</td></tr>
<tr><th id="123">123</th><td>}</td></tr>
<tr><th id="124">124</th><td></td></tr>
<tr><th id="125">125</th><td><i>/*</i></td></tr>
<tr><th id="126">126</th><td><i> * Return approximation of extension channel busy over an time interval</i></td></tr>
<tr><th id="127">127</th><td><i> * 0% (clear) -&gt; 100% (busy)</i></td></tr>
<tr><th id="128">128</th><td><i> *</i></td></tr>
<tr><th id="129">129</th><td><i> */</i></td></tr>
<tr><th id="130">130</th><td><a class="typedef" href="../../../../../sys/stdint.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a></td></tr>
<tr><th id="131">131</th><td><dfn class="decl def fn" id="ar5416Get11nExtBusy" title='ar5416Get11nExtBusy' data-ref="ar5416Get11nExtBusy" data-ref-filename="ar5416Get11nExtBusy">ar5416Get11nExtBusy</dfn>(<b>struct</b> <a class="type" href="../ah.h.html#ath_hal" title='ath_hal' data-ref="ath_hal" data-ref-filename="ath_hal">ath_hal</a> *<dfn class="local col8 decl" id="18ah" title='ah' data-type='struct ath_hal *' data-ref="18ah" data-ref-filename="18ah">ah</dfn>)</td></tr>
<tr><th id="132">132</th><td>{</td></tr>
<tr><th id="133">133</th><td>    <b>struct</b> <a class="type" href="ar5416.h.html#ath_hal_5416" title='ath_hal_5416' data-ref="ath_hal_5416" data-ref-filename="ath_hal_5416">ath_hal_5416</a> *<dfn class="local col9 decl" id="19ahp" title='ahp' data-type='struct ath_hal_5416 *' data-ref="19ahp" data-ref-filename="19ahp">ahp</dfn> = <a class="macro" href="ar5416.h.html#86" title="((struct ath_hal_5416 *)(ah))" data-ref="_M/AH5416">AH5416</a>(<a class="local col8 ref" href="#18ah" title='ah' data-ref="18ah" data-ref-filename="18ah">ah</a>);</td></tr>
<tr><th id="134">134</th><td>    <a class="typedef" href="../../../../../sys/stdint.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col0 decl" id="20busy" title='busy' data-type='uint32_t' data-ref="20busy" data-ref-filename="20busy">busy</dfn>; <i>/* percentage */</i></td></tr>
<tr><th id="135">135</th><td>    <a class="typedef" href="../../../../../sys/stdint.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col1 decl" id="21cycleCount" title='cycleCount' data-type='uint32_t' data-ref="21cycleCount" data-ref-filename="21cycleCount">cycleCount</dfn>, <dfn class="local col2 decl" id="22ctlBusy" title='ctlBusy' data-type='uint32_t' data-ref="22ctlBusy" data-ref-filename="22ctlBusy">ctlBusy</dfn>, <dfn class="local col3 decl" id="23extBusy" title='extBusy' data-type='uint32_t' data-ref="23extBusy" data-ref-filename="23extBusy">extBusy</dfn>;</td></tr>
<tr><th id="136">136</th><td></td></tr>
<tr><th id="137">137</th><td>    <a class="local col2 ref" href="#22ctlBusy" title='ctlBusy' data-ref="22ctlBusy" data-ref-filename="22ctlBusy">ctlBusy</a> = <a class="macro" href="../../ic/ah_osdep.h.html#127" title="((u_int32_t) bus_space_read_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x80f4)))" data-ref="_M/OS_REG_READ">OS_REG_READ</a>(<a class="local col8 ref" href="#18ah" title='ah' data-ref="18ah" data-ref-filename="18ah">ah</a>, <a class="macro" href="../ar5212/ar5212reg.h.html#295" title="0x80f4" data-ref="_M/AR_RCCNT">AR_RCCNT</a>);</td></tr>
<tr><th id="138">138</th><td>    <a class="local col3 ref" href="#23extBusy" title='extBusy' data-ref="23extBusy" data-ref-filename="23extBusy">extBusy</a> = <a class="macro" href="../../ic/ah_osdep.h.html#127" title="((u_int32_t) bus_space_read_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x8328)))" data-ref="_M/OS_REG_READ">OS_REG_READ</a>(<a class="local col8 ref" href="#18ah" title='ah' data-ref="18ah" data-ref-filename="18ah">ah</a>, <a class="macro" href="ar5416reg.h.html#127" title="0x8328" data-ref="_M/AR_EXTRCCNT">AR_EXTRCCNT</a>);</td></tr>
<tr><th id="139">139</th><td>    <a class="local col1 ref" href="#21cycleCount" title='cycleCount' data-ref="21cycleCount" data-ref-filename="21cycleCount">cycleCount</a> = <a class="macro" href="../../ic/ah_osdep.h.html#127" title="((u_int32_t) bus_space_read_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x80f8)))" data-ref="_M/OS_REG_READ">OS_REG_READ</a>(<a class="local col8 ref" href="#18ah" title='ah' data-ref="18ah" data-ref-filename="18ah">ah</a>, <a class="macro" href="../ar5212/ar5212reg.h.html#296" title="0x80f8" data-ref="_M/AR_CCCNT">AR_CCCNT</a>);</td></tr>
<tr><th id="140">140</th><td></td></tr>
<tr><th id="141">141</th><td>    <b>if</b> (<a class="local col9 ref" href="#19ahp" title='ahp' data-ref="19ahp" data-ref-filename="19ahp">ahp</a>-&gt;<a class="ref field" href="ar5416.h.html#ath_hal_5416::ah_cycleCount" title='ath_hal_5416::ah_cycleCount' data-ref="ath_hal_5416::ah_cycleCount" data-ref-filename="ath_hal_5416..ah_cycleCount">ah_cycleCount</a> == <var>0</var> || <a class="local col9 ref" href="#19ahp" title='ahp' data-ref="19ahp" data-ref-filename="19ahp">ahp</a>-&gt;<a class="ref field" href="ar5416.h.html#ath_hal_5416::ah_cycleCount" title='ath_hal_5416::ah_cycleCount' data-ref="ath_hal_5416::ah_cycleCount" data-ref-filename="ath_hal_5416..ah_cycleCount">ah_cycleCount</a> &gt; <a class="local col1 ref" href="#21cycleCount" title='cycleCount' data-ref="21cycleCount" data-ref-filename="21cycleCount">cycleCount</a>) {</td></tr>
<tr><th id="142">142</th><td>        <i>/*</i></td></tr>
<tr><th id="143">143</th><td><i>         * Cycle counter wrap (or initial call); it's not possible</i></td></tr>
<tr><th id="144">144</th><td><i>         * to accurately calculate a value because the registers</i></td></tr>
<tr><th id="145">145</th><td><i>         * right shift rather than wrap--so punt and return 0.</i></td></tr>
<tr><th id="146">146</th><td><i>         */</i></td></tr>
<tr><th id="147">147</th><td>        <a class="local col0 ref" href="#20busy" title='busy' data-ref="20busy" data-ref-filename="20busy">busy</a> = <var>0</var>;</td></tr>
<tr><th id="148">148</th><td>        <a class="macro" href="../ah_internal.h.html#578" title="" data-ref="_M/HALDEBUG">HALDEBUG</a>(ah, HAL_DEBUG_ANY, <q>"%s: cycle counter wrap. ExtBusy = 0\n"</q>,</td></tr>
<tr><th id="149">149</th><td>	    <b>__func__</b>);</td></tr>
<tr><th id="150">150</th><td></td></tr>
<tr><th id="151">151</th><td>    } <b>else</b> {</td></tr>
<tr><th id="152">152</th><td>        <a class="typedef" href="../../../../../sys/stdint.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col4 decl" id="24cycleDelta" title='cycleDelta' data-type='uint32_t' data-ref="24cycleDelta" data-ref-filename="24cycleDelta">cycleDelta</dfn> = <a class="local col1 ref" href="#21cycleCount" title='cycleCount' data-ref="21cycleCount" data-ref-filename="21cycleCount">cycleCount</a> - <a class="local col9 ref" href="#19ahp" title='ahp' data-ref="19ahp" data-ref-filename="19ahp">ahp</a>-&gt;<a class="ref field" href="ar5416.h.html#ath_hal_5416::ah_cycleCount" title='ath_hal_5416::ah_cycleCount' data-ref="ath_hal_5416::ah_cycleCount" data-ref-filename="ath_hal_5416..ah_cycleCount">ah_cycleCount</a>;</td></tr>
<tr><th id="153">153</th><td>        <a class="typedef" href="../../../../../sys/stdint.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col5 decl" id="25ctlBusyDelta" title='ctlBusyDelta' data-type='uint32_t' data-ref="25ctlBusyDelta" data-ref-filename="25ctlBusyDelta">ctlBusyDelta</dfn> = <a class="local col2 ref" href="#22ctlBusy" title='ctlBusy' data-ref="22ctlBusy" data-ref-filename="22ctlBusy">ctlBusy</a> - <a class="local col9 ref" href="#19ahp" title='ahp' data-ref="19ahp" data-ref-filename="19ahp">ahp</a>-&gt;<a class="ref field" href="ar5416.h.html#ath_hal_5416::ah_ctlBusy" title='ath_hal_5416::ah_ctlBusy' data-ref="ath_hal_5416::ah_ctlBusy" data-ref-filename="ath_hal_5416..ah_ctlBusy">ah_ctlBusy</a>;</td></tr>
<tr><th id="154">154</th><td>        <a class="typedef" href="../../../../../sys/stdint.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col6 decl" id="26extBusyDelta" title='extBusyDelta' data-type='uint32_t' data-ref="26extBusyDelta" data-ref-filename="26extBusyDelta">extBusyDelta</dfn> = <a class="local col3 ref" href="#23extBusy" title='extBusy' data-ref="23extBusy" data-ref-filename="23extBusy">extBusy</a> - <a class="local col9 ref" href="#19ahp" title='ahp' data-ref="19ahp" data-ref-filename="19ahp">ahp</a>-&gt;<a class="ref field" href="ar5416.h.html#ath_hal_5416::ah_extBusy" title='ath_hal_5416::ah_extBusy' data-ref="ath_hal_5416::ah_extBusy" data-ref-filename="ath_hal_5416..ah_extBusy">ah_extBusy</a>;</td></tr>
<tr><th id="155">155</th><td>        <a class="typedef" href="../../../../../sys/stdint.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col7 decl" id="27ctlClearDelta" title='ctlClearDelta' data-type='uint32_t' data-ref="27ctlClearDelta" data-ref-filename="27ctlClearDelta">ctlClearDelta</dfn> = <var>0</var>;</td></tr>
<tr><th id="156">156</th><td></td></tr>
<tr><th id="157">157</th><td>        <i>/* Compute control channel rxclear.</i></td></tr>
<tr><th id="158">158</th><td><i>         * The cycle delta may be less than the control channel delta.</i></td></tr>
<tr><th id="159">159</th><td><i>         * This could be solved by freezing the timers (or an atomic read,</i></td></tr>
<tr><th id="160">160</th><td><i>         * if one was available). Checking for the condition should be</i></td></tr>
<tr><th id="161">161</th><td><i>         * sufficient.</i></td></tr>
<tr><th id="162">162</th><td><i>         */</i></td></tr>
<tr><th id="163">163</th><td>        <b>if</b> (<a class="local col4 ref" href="#24cycleDelta" title='cycleDelta' data-ref="24cycleDelta" data-ref-filename="24cycleDelta">cycleDelta</a> &gt; <a class="local col5 ref" href="#25ctlBusyDelta" title='ctlBusyDelta' data-ref="25ctlBusyDelta" data-ref-filename="25ctlBusyDelta">ctlBusyDelta</a>) {</td></tr>
<tr><th id="164">164</th><td>            <a class="local col7 ref" href="#27ctlClearDelta" title='ctlClearDelta' data-ref="27ctlClearDelta" data-ref-filename="27ctlClearDelta">ctlClearDelta</a> = <a class="local col4 ref" href="#24cycleDelta" title='cycleDelta' data-ref="24cycleDelta" data-ref-filename="24cycleDelta">cycleDelta</a> - <a class="local col5 ref" href="#25ctlBusyDelta" title='ctlBusyDelta' data-ref="25ctlBusyDelta" data-ref-filename="25ctlBusyDelta">ctlBusyDelta</a>;</td></tr>
<tr><th id="165">165</th><td>        }</td></tr>
<tr><th id="166">166</th><td></td></tr>
<tr><th id="167">167</th><td>        <i>/* Compute ratio of extension channel busy to control channel clear</i></td></tr>
<tr><th id="168">168</th><td><i>         * as an approximation to extension channel cleanliness.</i></td></tr>
<tr><th id="169">169</th><td><i>         *</i></td></tr>
<tr><th id="170">170</th><td><i>         * According to the hardware folks, ext rxclear is undefined</i></td></tr>
<tr><th id="171">171</th><td><i>         * if the ctrl rxclear is de-asserted (i.e. busy)</i></td></tr>
<tr><th id="172">172</th><td><i>         */</i></td></tr>
<tr><th id="173">173</th><td>        <b>if</b> (<a class="local col7 ref" href="#27ctlClearDelta" title='ctlClearDelta' data-ref="27ctlClearDelta" data-ref-filename="27ctlClearDelta">ctlClearDelta</a>) {</td></tr>
<tr><th id="174">174</th><td>            <a class="local col0 ref" href="#20busy" title='busy' data-ref="20busy" data-ref-filename="20busy">busy</a> = (<a class="local col6 ref" href="#26extBusyDelta" title='extBusyDelta' data-ref="26extBusyDelta" data-ref-filename="26extBusyDelta">extBusyDelta</a> * <var>100</var>) / <a class="local col7 ref" href="#27ctlClearDelta" title='ctlClearDelta' data-ref="27ctlClearDelta" data-ref-filename="27ctlClearDelta">ctlClearDelta</a>;</td></tr>
<tr><th id="175">175</th><td>        } <b>else</b> {</td></tr>
<tr><th id="176">176</th><td>            <a class="local col0 ref" href="#20busy" title='busy' data-ref="20busy" data-ref-filename="20busy">busy</a> = <var>100</var>;</td></tr>
<tr><th id="177">177</th><td>        }</td></tr>
<tr><th id="178">178</th><td>        <b>if</b> (<a class="local col0 ref" href="#20busy" title='busy' data-ref="20busy" data-ref-filename="20busy">busy</a> &gt; <var>100</var>) {</td></tr>
<tr><th id="179">179</th><td>            <a class="local col0 ref" href="#20busy" title='busy' data-ref="20busy" data-ref-filename="20busy">busy</a> = <var>100</var>;</td></tr>
<tr><th id="180">180</th><td>        }</td></tr>
<tr><th id="181">181</th><td><u>#<span data-ppcond="181">if</span> 0</u></td></tr>
<tr><th id="182">182</th><td>        HALDEBUG(ah, HAL_DEBUG_ANY, <q>"%s: cycleDelta 0x%x, ctlBusyDelta 0x%x, "</q></td></tr>
<tr><th id="183">183</th><td>             <q>"extBusyDelta 0x%x, ctlClearDelta 0x%x, "</q></td></tr>
<tr><th id="184">184</th><td>             <q>"busy %d\n"</q>,</td></tr>
<tr><th id="185">185</th><td>              <b>__func__</b>, cycleDelta, ctlBusyDelta, extBusyDelta, ctlClearDelta, busy);</td></tr>
<tr><th id="186">186</th><td><u>#<span data-ppcond="181">endif</span></u></td></tr>
<tr><th id="187">187</th><td>    }</td></tr>
<tr><th id="188">188</th><td></td></tr>
<tr><th id="189">189</th><td>    <a class="local col9 ref" href="#19ahp" title='ahp' data-ref="19ahp" data-ref-filename="19ahp">ahp</a>-&gt;<a class="ref field" href="ar5416.h.html#ath_hal_5416::ah_cycleCount" title='ath_hal_5416::ah_cycleCount' data-ref="ath_hal_5416::ah_cycleCount" data-ref-filename="ath_hal_5416..ah_cycleCount">ah_cycleCount</a> = <a class="local col1 ref" href="#21cycleCount" title='cycleCount' data-ref="21cycleCount" data-ref-filename="21cycleCount">cycleCount</a>;</td></tr>
<tr><th id="190">190</th><td>    <a class="local col9 ref" href="#19ahp" title='ahp' data-ref="19ahp" data-ref-filename="19ahp">ahp</a>-&gt;<a class="ref field" href="ar5416.h.html#ath_hal_5416::ah_ctlBusy" title='ath_hal_5416::ah_ctlBusy' data-ref="ath_hal_5416::ah_ctlBusy" data-ref-filename="ath_hal_5416..ah_ctlBusy">ah_ctlBusy</a> = <a class="local col2 ref" href="#22ctlBusy" title='ctlBusy' data-ref="22ctlBusy" data-ref-filename="22ctlBusy">ctlBusy</a>;</td></tr>
<tr><th id="191">191</th><td>    <a class="local col9 ref" href="#19ahp" title='ahp' data-ref="19ahp" data-ref-filename="19ahp">ahp</a>-&gt;<a class="ref field" href="ar5416.h.html#ath_hal_5416::ah_extBusy" title='ath_hal_5416::ah_extBusy' data-ref="ath_hal_5416::ah_extBusy" data-ref-filename="ath_hal_5416..ah_extBusy">ah_extBusy</a> = <a class="local col3 ref" href="#23extBusy" title='extBusy' data-ref="23extBusy" data-ref-filename="23extBusy">extBusy</a>;</td></tr>
<tr><th id="192">192</th><td></td></tr>
<tr><th id="193">193</th><td>    <b>return</b> <a class="local col0 ref" href="#20busy" title='busy' data-ref="20busy" data-ref-filename="20busy">busy</a>;</td></tr>
<tr><th id="194">194</th><td>}</td></tr>
<tr><th id="195">195</th><td></td></tr>
<tr><th id="196">196</th><td><i>/*</i></td></tr>
<tr><th id="197">197</th><td><i> * Configure 20/40 operation</i></td></tr>
<tr><th id="198">198</th><td><i> *</i></td></tr>
<tr><th id="199">199</th><td><i> * 20/40 = joint rx clear (control and extension)</i></td></tr>
<tr><th id="200">200</th><td><i> * 20    = rx clear (control)</i></td></tr>
<tr><th id="201">201</th><td><i> *</i></td></tr>
<tr><th id="202">202</th><td><i> * - NOTE: must stop MAC (tx) and requeue 40 MHz packets as 20 MHz when changing</i></td></tr>
<tr><th id="203">203</th><td><i> *         from 20/40 =&gt; 20 only</i></td></tr>
<tr><th id="204">204</th><td><i> */</i></td></tr>
<tr><th id="205">205</th><td><em>void</em></td></tr>
<tr><th id="206">206</th><td><dfn class="decl def fn" id="ar5416Set11nMac2040" title='ar5416Set11nMac2040' data-ref="ar5416Set11nMac2040" data-ref-filename="ar5416Set11nMac2040">ar5416Set11nMac2040</dfn>(<b>struct</b> <a class="type" href="../ah.h.html#ath_hal" title='ath_hal' data-ref="ath_hal" data-ref-filename="ath_hal">ath_hal</a> *<dfn class="local col8 decl" id="28ah" title='ah' data-type='struct ath_hal *' data-ref="28ah" data-ref-filename="28ah">ah</dfn>, <a class="typedef" href="../ah.h.html#HAL_HT_MACMODE" title='HAL_HT_MACMODE' data-type='enum HAL_HT_MACMODE' data-ref="HAL_HT_MACMODE" data-ref-filename="HAL_HT_MACMODE">HAL_HT_MACMODE</a> <dfn class="local col9 decl" id="29mode" title='mode' data-type='HAL_HT_MACMODE' data-ref="29mode" data-ref-filename="29mode">mode</dfn>)</td></tr>
<tr><th id="207">207</th><td>{</td></tr>
<tr><th id="208">208</th><td>    <a class="typedef" href="../../../../../sys/stdint.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col0 decl" id="30macmode" title='macmode' data-type='uint32_t' data-ref="30macmode" data-ref-filename="30macmode">macmode</dfn>;</td></tr>
<tr><th id="209">209</th><td></td></tr>
<tr><th id="210">210</th><td>    <i>/* Configure MAC for 20/40 operation */</i></td></tr>
<tr><th id="211">211</th><td>    <b>if</b> (<a class="local col9 ref" href="#29mode" title='mode' data-ref="29mode" data-ref-filename="29mode">mode</a> == <a class="enum" href="../ah.h.html#HAL_HT_MACMODE_2040" title='HAL_HT_MACMODE_2040' data-ref="HAL_HT_MACMODE_2040" data-ref-filename="HAL_HT_MACMODE_2040">HAL_HT_MACMODE_2040</a>) {</td></tr>
<tr><th id="212">212</th><td>        <a class="local col0 ref" href="#30macmode" title='macmode' data-ref="30macmode" data-ref-filename="30macmode">macmode</a> = <a class="macro" href="ar5416phy.h.html#40" title="0x00000001" data-ref="_M/AR_2040_JOINED_RX_CLEAR">AR_2040_JOINED_RX_CLEAR</a>;</td></tr>
<tr><th id="213">213</th><td>    } <b>else</b> {</td></tr>
<tr><th id="214">214</th><td>        <a class="local col0 ref" href="#30macmode" title='macmode' data-ref="30macmode" data-ref-filename="30macmode">macmode</a> = <var>0</var>;</td></tr>
<tr><th id="215">215</th><td>    }</td></tr>
<tr><th id="216">216</th><td>    <a class="macro" href="../../ic/ah_osdep.h.html#125" title="bus_space_write_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x8318), (macmode))" data-ref="_M/OS_REG_WRITE">OS_REG_WRITE</a>(<a class="local col8 ref" href="#28ah" title='ah' data-ref="28ah" data-ref-filename="28ah">ah</a>, <a class="macro" href="ar5416phy.h.html#39" title="0x8318" data-ref="_M/AR_2040_MODE">AR_2040_MODE</a>, <a class="local col0 ref" href="#30macmode" title='macmode' data-ref="30macmode" data-ref-filename="30macmode">macmode</a>);</td></tr>
<tr><th id="217">217</th><td>}</td></tr>
<tr><th id="218">218</th><td></td></tr>
<tr><th id="219">219</th><td><i>/*</i></td></tr>
<tr><th id="220">220</th><td><i> * Get Rx clear (control/extension channel)</i></td></tr>
<tr><th id="221">221</th><td><i> *</i></td></tr>
<tr><th id="222">222</th><td><i> * Returns active low (busy) for ctrl/ext channel</i></td></tr>
<tr><th id="223">223</th><td><i> * Owl 2.0</i></td></tr>
<tr><th id="224">224</th><td><i> */</i></td></tr>
<tr><th id="225">225</th><td><a class="typedef" href="../ah.h.html#HAL_HT_RXCLEAR" title='HAL_HT_RXCLEAR' data-type='enum HAL_HT_RXCLEAR' data-ref="HAL_HT_RXCLEAR" data-ref-filename="HAL_HT_RXCLEAR">HAL_HT_RXCLEAR</a></td></tr>
<tr><th id="226">226</th><td><dfn class="decl def fn" id="ar5416Get11nRxClear" title='ar5416Get11nRxClear' data-ref="ar5416Get11nRxClear" data-ref-filename="ar5416Get11nRxClear">ar5416Get11nRxClear</dfn>(<b>struct</b> <a class="type" href="../ah.h.html#ath_hal" title='ath_hal' data-ref="ath_hal" data-ref-filename="ath_hal">ath_hal</a> *<dfn class="local col1 decl" id="31ah" title='ah' data-type='struct ath_hal *' data-ref="31ah" data-ref-filename="31ah">ah</dfn>)</td></tr>
<tr><th id="227">227</th><td>{</td></tr>
<tr><th id="228">228</th><td>    <a class="typedef" href="../ah.h.html#HAL_HT_RXCLEAR" title='HAL_HT_RXCLEAR' data-type='enum HAL_HT_RXCLEAR' data-ref="HAL_HT_RXCLEAR" data-ref-filename="HAL_HT_RXCLEAR">HAL_HT_RXCLEAR</a> <dfn class="local col2 decl" id="32rxclear" title='rxclear' data-type='HAL_HT_RXCLEAR' data-ref="32rxclear" data-ref-filename="32rxclear">rxclear</dfn> = <var>0</var>;</td></tr>
<tr><th id="229">229</th><td>    <a class="typedef" href="../../../../../sys/stdint.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col3 decl" id="33val" title='val' data-type='uint32_t' data-ref="33val" data-ref-filename="33val">val</dfn>;</td></tr>
<tr><th id="230">230</th><td></td></tr>
<tr><th id="231">231</th><td>    <a class="local col3 ref" href="#33val" title='val' data-ref="33val" data-ref-filename="33val">val</a> = <a class="macro" href="../../ic/ah_osdep.h.html#127" title="((u_int32_t) bus_space_read_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x8048)))" data-ref="_M/OS_REG_READ">OS_REG_READ</a>(<a class="local col1 ref" href="#31ah" title='ah' data-ref="31ah" data-ref-filename="31ah">ah</a>, <a class="macro" href="../ar5212/ar5212reg.h.html#269" title="0x8048" data-ref="_M/AR_DIAG_SW">AR_DIAG_SW</a>);</td></tr>
<tr><th id="232">232</th><td></td></tr>
<tr><th id="233">233</th><td>    <i>/* control channel */</i></td></tr>
<tr><th id="234">234</th><td>    <b>if</b> (<a class="local col3 ref" href="#33val" title='val' data-ref="33val" data-ref-filename="33val">val</a> &amp; <a class="macro" href="ar5416reg.h.html#231" title="0x10000000" data-ref="_M/AR_DIAG_RXCLEAR_CTL_LOW">AR_DIAG_RXCLEAR_CTL_LOW</a>) {</td></tr>
<tr><th id="235">235</th><td>        <a class="local col2 ref" href="#32rxclear" title='rxclear' data-ref="32rxclear" data-ref-filename="32rxclear">rxclear</a> |= <a class="enum" href="../ah.h.html#HAL_RX_CLEAR_CTL_LOW" title='HAL_RX_CLEAR_CTL_LOW' data-ref="HAL_RX_CLEAR_CTL_LOW" data-ref-filename="HAL_RX_CLEAR_CTL_LOW">HAL_RX_CLEAR_CTL_LOW</a>;</td></tr>
<tr><th id="236">236</th><td>    }</td></tr>
<tr><th id="237">237</th><td>    <i>/* extension channel */</i></td></tr>
<tr><th id="238">238</th><td>    <b>if</b> (<a class="local col3 ref" href="#33val" title='val' data-ref="33val" data-ref-filename="33val">val</a> &amp; <a class="macro" href="ar5416reg.h.html#231" title="0x10000000" data-ref="_M/AR_DIAG_RXCLEAR_CTL_LOW">AR_DIAG_RXCLEAR_CTL_LOW</a>) {</td></tr>
<tr><th id="239">239</th><td>        <a class="local col2 ref" href="#32rxclear" title='rxclear' data-ref="32rxclear" data-ref-filename="32rxclear">rxclear</a> |= <a class="enum" href="../ah.h.html#HAL_RX_CLEAR_EXT_LOW" title='HAL_RX_CLEAR_EXT_LOW' data-ref="HAL_RX_CLEAR_EXT_LOW" data-ref-filename="HAL_RX_CLEAR_EXT_LOW">HAL_RX_CLEAR_EXT_LOW</a>;</td></tr>
<tr><th id="240">240</th><td>    }</td></tr>
<tr><th id="241">241</th><td>    <b>return</b> <a class="local col2 ref" href="#32rxclear" title='rxclear' data-ref="32rxclear" data-ref-filename="32rxclear">rxclear</a>;</td></tr>
<tr><th id="242">242</th><td>}</td></tr>
<tr><th id="243">243</th><td></td></tr>
<tr><th id="244">244</th><td><i>/*</i></td></tr>
<tr><th id="245">245</th><td><i> * Set Rx clear (control/extension channel)</i></td></tr>
<tr><th id="246">246</th><td><i> *</i></td></tr>
<tr><th id="247">247</th><td><i> * Useful for forcing the channel to appear busy for</i></td></tr>
<tr><th id="248">248</th><td><i> * debugging/diagnostics</i></td></tr>
<tr><th id="249">249</th><td><i> * Owl 2.0</i></td></tr>
<tr><th id="250">250</th><td><i> */</i></td></tr>
<tr><th id="251">251</th><td><em>void</em></td></tr>
<tr><th id="252">252</th><td><dfn class="decl def fn" id="ar5416Set11nRxClear" title='ar5416Set11nRxClear' data-ref="ar5416Set11nRxClear" data-ref-filename="ar5416Set11nRxClear">ar5416Set11nRxClear</dfn>(<b>struct</b> <a class="type" href="../ah.h.html#ath_hal" title='ath_hal' data-ref="ath_hal" data-ref-filename="ath_hal">ath_hal</a> *<dfn class="local col4 decl" id="34ah" title='ah' data-type='struct ath_hal *' data-ref="34ah" data-ref-filename="34ah">ah</dfn>, <a class="typedef" href="../ah.h.html#HAL_HT_RXCLEAR" title='HAL_HT_RXCLEAR' data-type='enum HAL_HT_RXCLEAR' data-ref="HAL_HT_RXCLEAR" data-ref-filename="HAL_HT_RXCLEAR">HAL_HT_RXCLEAR</a> <dfn class="local col5 decl" id="35rxclear" title='rxclear' data-type='HAL_HT_RXCLEAR' data-ref="35rxclear" data-ref-filename="35rxclear">rxclear</dfn>)</td></tr>
<tr><th id="253">253</th><td>{</td></tr>
<tr><th id="254">254</th><td>    <i>/* control channel */</i></td></tr>
<tr><th id="255">255</th><td>    <b>if</b> (<a class="local col5 ref" href="#35rxclear" title='rxclear' data-ref="35rxclear" data-ref-filename="35rxclear">rxclear</a> &amp; <a class="enum" href="../ah.h.html#HAL_RX_CLEAR_CTL_LOW" title='HAL_RX_CLEAR_CTL_LOW' data-ref="HAL_RX_CLEAR_CTL_LOW" data-ref-filename="HAL_RX_CLEAR_CTL_LOW">HAL_RX_CLEAR_CTL_LOW</a>) {</td></tr>
<tr><th id="256">256</th><td>        <a class="macro" href="../ah_internal.h.html#512" title="bus_space_write_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x8048), (((u_int32_t) bus_space_read_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x8048))) | (0x10000000)))" data-ref="_M/OS_REG_SET_BIT">OS_REG_SET_BIT</a>(<a class="local col4 ref" href="#34ah" title='ah' data-ref="34ah" data-ref-filename="34ah">ah</a>, <a class="macro" href="../ar5212/ar5212reg.h.html#269" title="0x8048" data-ref="_M/AR_DIAG_SW">AR_DIAG_SW</a>, <a class="macro" href="ar5416reg.h.html#231" title="0x10000000" data-ref="_M/AR_DIAG_RXCLEAR_CTL_LOW">AR_DIAG_RXCLEAR_CTL_LOW</a>);</td></tr>
<tr><th id="257">257</th><td>    } <b>else</b> {</td></tr>
<tr><th id="258">258</th><td>        <a class="macro" href="../ah_internal.h.html#514" title="bus_space_write_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x8048), (((u_int32_t) bus_space_read_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x8048))) &amp;~ (0x10000000)))" data-ref="_M/OS_REG_CLR_BIT">OS_REG_CLR_BIT</a>(<a class="local col4 ref" href="#34ah" title='ah' data-ref="34ah" data-ref-filename="34ah">ah</a>, <a class="macro" href="../ar5212/ar5212reg.h.html#269" title="0x8048" data-ref="_M/AR_DIAG_SW">AR_DIAG_SW</a>, <a class="macro" href="ar5416reg.h.html#231" title="0x10000000" data-ref="_M/AR_DIAG_RXCLEAR_CTL_LOW">AR_DIAG_RXCLEAR_CTL_LOW</a>);</td></tr>
<tr><th id="259">259</th><td>    }</td></tr>
<tr><th id="260">260</th><td>    <i>/* extension channel */</i></td></tr>
<tr><th id="261">261</th><td>    <b>if</b> (<a class="local col5 ref" href="#35rxclear" title='rxclear' data-ref="35rxclear" data-ref-filename="35rxclear">rxclear</a> &amp; <a class="enum" href="../ah.h.html#HAL_RX_CLEAR_EXT_LOW" title='HAL_RX_CLEAR_EXT_LOW' data-ref="HAL_RX_CLEAR_EXT_LOW" data-ref-filename="HAL_RX_CLEAR_EXT_LOW">HAL_RX_CLEAR_EXT_LOW</a>) {</td></tr>
<tr><th id="262">262</th><td>        <a class="macro" href="../ah_internal.h.html#512" title="bus_space_write_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x8048), (((u_int32_t) bus_space_read_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x8048))) | (0x20000000)))" data-ref="_M/OS_REG_SET_BIT">OS_REG_SET_BIT</a>(<a class="local col4 ref" href="#34ah" title='ah' data-ref="34ah" data-ref-filename="34ah">ah</a>, <a class="macro" href="../ar5212/ar5212reg.h.html#269" title="0x8048" data-ref="_M/AR_DIAG_SW">AR_DIAG_SW</a>, <a class="macro" href="ar5416reg.h.html#232" title="0x20000000" data-ref="_M/AR_DIAG_RXCLEAR_EXT_LOW">AR_DIAG_RXCLEAR_EXT_LOW</a>);</td></tr>
<tr><th id="263">263</th><td>    } <b>else</b> {</td></tr>
<tr><th id="264">264</th><td>        <a class="macro" href="../ah_internal.h.html#514" title="bus_space_write_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x8048), (((u_int32_t) bus_space_read_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x8048))) &amp;~ (0x20000000)))" data-ref="_M/OS_REG_CLR_BIT">OS_REG_CLR_BIT</a>(<a class="local col4 ref" href="#34ah" title='ah' data-ref="34ah" data-ref-filename="34ah">ah</a>, <a class="macro" href="../ar5212/ar5212reg.h.html#269" title="0x8048" data-ref="_M/AR_DIAG_SW">AR_DIAG_SW</a>, <a class="macro" href="ar5416reg.h.html#232" title="0x20000000" data-ref="_M/AR_DIAG_RXCLEAR_EXT_LOW">AR_DIAG_RXCLEAR_EXT_LOW</a>);</td></tr>
<tr><th id="265">265</th><td>    }</td></tr>
<tr><th id="266">266</th><td>}</td></tr>
<tr><th id="267">267</th><td></td></tr>
<tr><th id="268">268</th><td><a class="typedef" href="../ah.h.html#HAL_STATUS" title='HAL_STATUS' data-type='enum HAL_STATUS' data-ref="HAL_STATUS" data-ref-filename="HAL_STATUS">HAL_STATUS</a></td></tr>
<tr><th id="269">269</th><td><dfn class="decl def fn" id="ar5416GetCapability" title='ar5416GetCapability' data-ref="ar5416GetCapability" data-ref-filename="ar5416GetCapability">ar5416GetCapability</dfn>(<b>struct</b> <a class="type" href="../ah.h.html#ath_hal" title='ath_hal' data-ref="ath_hal" data-ref-filename="ath_hal">ath_hal</a> *<dfn class="local col6 decl" id="36ah" title='ah' data-type='struct ath_hal *' data-ref="36ah" data-ref-filename="36ah">ah</dfn>, <a class="typedef" href="../ah.h.html#HAL_CAPABILITY_TYPE" title='HAL_CAPABILITY_TYPE' data-type='enum HAL_CAPABILITY_TYPE' data-ref="HAL_CAPABILITY_TYPE" data-ref-filename="HAL_CAPABILITY_TYPE">HAL_CAPABILITY_TYPE</a> <dfn class="local col7 decl" id="37type" title='type' data-type='HAL_CAPABILITY_TYPE' data-ref="37type" data-ref-filename="37type">type</dfn>,</td></tr>
<tr><th id="270">270</th><td>        <a class="typedef" href="../../../../../sys/stdint.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col8 decl" id="38capability" title='capability' data-type='uint32_t' data-ref="38capability" data-ref-filename="38capability">capability</dfn>, <a class="typedef" href="../../../../../sys/stdint.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> *<dfn class="local col9 decl" id="39result" title='result' data-type='uint32_t *' data-ref="39result" data-ref-filename="39result">result</dfn>)</td></tr>
<tr><th id="271">271</th><td>{</td></tr>
<tr><th id="272">272</th><td>	<b>switch</b> (<a class="local col7 ref" href="#37type" title='type' data-ref="37type" data-ref-filename="37type">type</a>) {</td></tr>
<tr><th id="273">273</th><td>	<b>case</b> <a class="enum" href="../ah.h.html#HAL_CAP_BB_HANG" title='HAL_CAP_BB_HANG' data-ref="HAL_CAP_BB_HANG" data-ref-filename="HAL_CAP_BB_HANG">HAL_CAP_BB_HANG</a>:</td></tr>
<tr><th id="274">274</th><td>		<b>switch</b> (<a class="local col8 ref" href="#38capability" title='capability' data-ref="38capability" data-ref-filename="38capability">capability</a>) {</td></tr>
<tr><th id="275">275</th><td>		<b>case</b> <a class="enum" href="../ah_internal.h.html#HAL_BB_HANG_RIFS" title='HAL_BB_HANG_RIFS' data-ref="HAL_BB_HANG_RIFS" data-ref-filename="HAL_BB_HANG_RIFS">HAL_BB_HANG_RIFS</a>:</td></tr>
<tr><th id="276">276</th><td>			<b>return</b> <a class="macro" href="ar5416reg.h.html#598" title="(((struct ath_hal_private *)((ah)))-&gt;ah_macVersion == 0x40)" data-ref="_M/AR_SREV_SOWL">AR_SREV_SOWL</a>(<a class="local col6 ref" href="#36ah" title='ah' data-ref="36ah" data-ref-filename="36ah">ah</a>) ? <a class="enum" href="../ah.h.html#HAL_OK" title='HAL_OK' data-ref="HAL_OK" data-ref-filename="HAL_OK">HAL_OK</a> : <a class="enum" href="../ah.h.html#HAL_ENOTSUPP" title='HAL_ENOTSUPP' data-ref="HAL_ENOTSUPP" data-ref-filename="HAL_ENOTSUPP">HAL_ENOTSUPP</a>;</td></tr>
<tr><th id="277">277</th><td>		<b>case</b> <a class="enum" href="../ah_internal.h.html#HAL_BB_HANG_DFS" title='HAL_BB_HANG_DFS' data-ref="HAL_BB_HANG_DFS" data-ref-filename="HAL_BB_HANG_DFS">HAL_BB_HANG_DFS</a>:</td></tr>
<tr><th id="278">278</th><td>			<b>return</b> <a class="macro" href="ar5416reg.h.html#598" title="(((struct ath_hal_private *)((ah)))-&gt;ah_macVersion == 0x40)" data-ref="_M/AR_SREV_SOWL">AR_SREV_SOWL</a>(<a class="local col6 ref" href="#36ah" title='ah' data-ref="36ah" data-ref-filename="36ah">ah</a>) ? <a class="enum" href="../ah.h.html#HAL_OK" title='HAL_OK' data-ref="HAL_OK" data-ref-filename="HAL_OK">HAL_OK</a> : <a class="enum" href="../ah.h.html#HAL_ENOTSUPP" title='HAL_ENOTSUPP' data-ref="HAL_ENOTSUPP" data-ref-filename="HAL_ENOTSUPP">HAL_ENOTSUPP</a>;</td></tr>
<tr><th id="279">279</th><td>		<b>case</b> <a class="enum" href="../ah_internal.h.html#HAL_BB_HANG_RX_CLEAR" title='HAL_BB_HANG_RX_CLEAR' data-ref="HAL_BB_HANG_RX_CLEAR" data-ref-filename="HAL_BB_HANG_RX_CLEAR">HAL_BB_HANG_RX_CLEAR</a>:</td></tr>
<tr><th id="280">280</th><td>			<b>return</b> <a class="macro" href="ar5416reg.h.html#606" title="(((struct ath_hal_private *)((ah)))-&gt;ah_macVersion == 0x80)" data-ref="_M/AR_SREV_MERLIN">AR_SREV_MERLIN</a>(<a class="local col6 ref" href="#36ah" title='ah' data-ref="36ah" data-ref-filename="36ah">ah</a>) ? <a class="enum" href="../ah.h.html#HAL_OK" title='HAL_OK' data-ref="HAL_OK" data-ref-filename="HAL_OK">HAL_OK</a> : <a class="enum" href="../ah.h.html#HAL_ENOTSUPP" title='HAL_ENOTSUPP' data-ref="HAL_ENOTSUPP" data-ref-filename="HAL_ENOTSUPP">HAL_ENOTSUPP</a>;</td></tr>
<tr><th id="281">281</th><td>		}</td></tr>
<tr><th id="282">282</th><td>		<b>break</b>;</td></tr>
<tr><th id="283">283</th><td>	<b>case</b> <a class="enum" href="../ah.h.html#HAL_CAP_MAC_HANG" title='HAL_CAP_MAC_HANG' data-ref="HAL_CAP_MAC_HANG" data-ref-filename="HAL_CAP_MAC_HANG">HAL_CAP_MAC_HANG</a>:</td></tr>
<tr><th id="284">284</th><td>		<b>return</b> ((<a class="local col6 ref" href="#36ah" title='ah' data-ref="36ah" data-ref-filename="36ah">ah</a>-&gt;<a class="ref field" href="../ah.h.html#ath_hal::ah_macVersion" title='ath_hal::ah_macVersion' data-ref="ath_hal::ah_macVersion" data-ref-filename="ath_hal..ah_macVersion">ah_macVersion</a> == <a class="macro" href="ar5416reg.h.html#574" title="0x0D" data-ref="_M/AR_XSREV_VERSION_OWL_PCI">AR_XSREV_VERSION_OWL_PCI</a>) ||</td></tr>
<tr><th id="285">285</th><td>		    (<a class="local col6 ref" href="#36ah" title='ah' data-ref="36ah" data-ref-filename="36ah">ah</a>-&gt;<a class="ref field" href="../ah.h.html#ath_hal::ah_macVersion" title='ath_hal::ah_macVersion' data-ref="ath_hal::ah_macVersion" data-ref-filename="ath_hal..ah_macVersion">ah_macVersion</a> == <a class="macro" href="ar5416reg.h.html#575" title="0x0C" data-ref="_M/AR_XSREV_VERSION_OWL_PCIE">AR_XSREV_VERSION_OWL_PCIE</a>) ||</td></tr>
<tr><th id="286">286</th><td>		    <a class="macro" href="ar5416reg.h.html#598" title="(((struct ath_hal_private *)((ah)))-&gt;ah_macVersion == 0x40)" data-ref="_M/AR_SREV_SOWL">AR_SREV_SOWL</a>(<a class="local col6 ref" href="#36ah" title='ah' data-ref="36ah" data-ref-filename="36ah">ah</a>)) ?</td></tr>
<tr><th id="287">287</th><td>			<a class="enum" href="../ah.h.html#HAL_OK" title='HAL_OK' data-ref="HAL_OK" data-ref-filename="HAL_OK">HAL_OK</a> : <a class="enum" href="../ah.h.html#HAL_ENOTSUPP" title='HAL_ENOTSUPP' data-ref="HAL_ENOTSUPP" data-ref-filename="HAL_ENOTSUPP">HAL_ENOTSUPP</a>;</td></tr>
<tr><th id="288">288</th><td>	<b>default</b>:</td></tr>
<tr><th id="289">289</th><td>		<b>break</b>;</td></tr>
<tr><th id="290">290</th><td>	}</td></tr>
<tr><th id="291">291</th><td>	<b>return</b> <a class="ref fn" href="../ar5212/ar5212.h.html#ar5212GetCapability" title='ar5212GetCapability' data-ref="ar5212GetCapability" data-ref-filename="ar5212GetCapability">ar5212GetCapability</a>(<a class="local col6 ref" href="#36ah" title='ah' data-ref="36ah" data-ref-filename="36ah">ah</a>, <a class="local col7 ref" href="#37type" title='type' data-ref="37type" data-ref-filename="37type">type</a>, <a class="local col8 ref" href="#38capability" title='capability' data-ref="38capability" data-ref-filename="38capability">capability</a>, <a class="local col9 ref" href="#39result" title='result' data-ref="39result" data-ref-filename="39result">result</a>);</td></tr>
<tr><th id="292">292</th><td>}</td></tr>
<tr><th id="293">293</th><td></td></tr>
<tr><th id="294">294</th><td><em>static</em> <em>int</em> <a class="tu decl fn" href="#ar5416DetectMacHang" title='ar5416DetectMacHang' data-type='int ar5416DetectMacHang(struct ath_hal * ah)' data-ref="ar5416DetectMacHang" data-ref-filename="ar5416DetectMacHang">ar5416DetectMacHang</a>(<b>struct</b> <a class="type" href="../ah.h.html#ath_hal" title='ath_hal' data-ref="ath_hal" data-ref-filename="ath_hal">ath_hal</a> *<dfn class="local col0 decl" id="40ah" title='ah' data-type='struct ath_hal *' data-ref="40ah" data-ref-filename="40ah">ah</dfn>);</td></tr>
<tr><th id="295">295</th><td><em>static</em> <em>int</em> <a class="tu decl fn" href="#ar5416DetectBBHang" title='ar5416DetectBBHang' data-type='int ar5416DetectBBHang(struct ath_hal * ah)' data-ref="ar5416DetectBBHang" data-ref-filename="ar5416DetectBBHang">ar5416DetectBBHang</a>(<b>struct</b> <a class="type" href="../ah.h.html#ath_hal" title='ath_hal' data-ref="ath_hal" data-ref-filename="ath_hal">ath_hal</a> *<dfn class="local col1 decl" id="41ah" title='ah' data-type='struct ath_hal *' data-ref="41ah" data-ref-filename="41ah">ah</dfn>);</td></tr>
<tr><th id="296">296</th><td></td></tr>
<tr><th id="297">297</th><td><a class="typedef" href="../ah.h.html#HAL_BOOL" title='HAL_BOOL' data-type='enum HAL_BOOL' data-ref="HAL_BOOL" data-ref-filename="HAL_BOOL">HAL_BOOL</a></td></tr>
<tr><th id="298">298</th><td><dfn class="decl def fn" id="ar5416GetDiagState" title='ar5416GetDiagState' data-ref="ar5416GetDiagState" data-ref-filename="ar5416GetDiagState">ar5416GetDiagState</dfn>(<b>struct</b> <a class="type" href="../ah.h.html#ath_hal" title='ath_hal' data-ref="ath_hal" data-ref-filename="ath_hal">ath_hal</a> *<dfn class="local col2 decl" id="42ah" title='ah' data-type='struct ath_hal *' data-ref="42ah" data-ref-filename="42ah">ah</dfn>, <em>int</em> <dfn class="local col3 decl" id="43request" title='request' data-type='int' data-ref="43request" data-ref-filename="43request">request</dfn>,</td></tr>
<tr><th id="299">299</th><td>	<em>const</em> <em>void</em> *<dfn class="local col4 decl" id="44args" title='args' data-type='const void *' data-ref="44args" data-ref-filename="44args">args</dfn>, <a class="typedef" href="../../../../../sys/stdint.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col5 decl" id="45argsize" title='argsize' data-type='uint32_t' data-ref="45argsize" data-ref-filename="45argsize">argsize</dfn>,</td></tr>
<tr><th id="300">300</th><td>	<em>void</em> **<dfn class="local col6 decl" id="46result" title='result' data-type='void **' data-ref="46result" data-ref-filename="46result">result</dfn>, <a class="typedef" href="../../../../../sys/stdint.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> *<dfn class="local col7 decl" id="47resultsize" title='resultsize' data-type='uint32_t *' data-ref="47resultsize" data-ref-filename="47resultsize">resultsize</dfn>)</td></tr>
<tr><th id="301">301</th><td>{</td></tr>
<tr><th id="302">302</th><td>	<b>struct</b> <a class="type" href="ar5416.h.html#ath_hal_5416" title='ath_hal_5416' data-ref="ath_hal_5416" data-ref-filename="ath_hal_5416">ath_hal_5416</a> *<dfn class="local col8 decl" id="48ahp" title='ahp' data-type='struct ath_hal_5416 *' data-ref="48ahp" data-ref-filename="48ahp">ahp</dfn> = <a class="macro" href="ar5416.h.html#86" title="((struct ath_hal_5416 *)(ah))" data-ref="_M/AH5416">AH5416</a>(<a class="local col2 ref" href="#42ah" title='ah' data-ref="42ah" data-ref-filename="42ah">ah</a>);</td></tr>
<tr><th id="303">303</th><td>	<em>int</em> <dfn class="local col9 decl" id="49hangs" title='hangs' data-type='int' data-ref="49hangs" data-ref-filename="49hangs">hangs</dfn>;</td></tr>
<tr><th id="304">304</th><td></td></tr>
<tr><th id="305">305</th><td>	<b>if</b> (<a class="ref fn" href="../ah_internal.h.html#ath_hal_getdiagstate" title='ath_hal_getdiagstate' data-ref="ath_hal_getdiagstate" data-ref-filename="ath_hal_getdiagstate">ath_hal_getdiagstate</a>(<a class="local col2 ref" href="#42ah" title='ah' data-ref="42ah" data-ref-filename="42ah">ah</a>, <a class="local col3 ref" href="#43request" title='request' data-ref="43request" data-ref-filename="43request">request</a>, <a class="local col4 ref" href="#44args" title='args' data-ref="44args" data-ref-filename="44args">args</a>, <a class="local col5 ref" href="#45argsize" title='argsize' data-ref="45argsize" data-ref-filename="45argsize">argsize</a>, <a class="local col6 ref" href="#46result" title='result' data-ref="46result" data-ref-filename="46result">result</a>, <a class="local col7 ref" href="#47resultsize" title='resultsize' data-ref="47resultsize" data-ref-filename="47resultsize">resultsize</a>))</td></tr>
<tr><th id="306">306</th><td>		<b>return</b> <a class="enum" href="../ah.h.html#AH_TRUE" title='AH_TRUE' data-ref="AH_TRUE" data-ref-filename="AH_TRUE">AH_TRUE</a>;</td></tr>
<tr><th id="307">307</th><td>	<b>switch</b> (<a class="local col3 ref" href="#43request" title='request' data-ref="43request" data-ref-filename="43request">request</a>) {</td></tr>
<tr><th id="308">308</th><td>	<b>case</b> <a class="enum" href="../ah_internal.h.html#HAL_DIAG_EEPROM" title='HAL_DIAG_EEPROM' data-ref="HAL_DIAG_EEPROM" data-ref-filename="HAL_DIAG_EEPROM">HAL_DIAG_EEPROM</a>:</td></tr>
<tr><th id="309">309</th><td>		<b>return</b> <a class="macro" href="../ah_internal.h.html#355" title="((struct ath_hal_private *)(ah))-&gt;ah_eepromDiag(ah, request, args, argsize, result, resultsize)" data-ref="_M/ath_hal_eepromDiag">ath_hal_eepromDiag</a>(<a class="local col2 ref" href="#42ah" title='ah' data-ref="42ah" data-ref-filename="42ah">ah</a>, <a class="local col3 ref" href="#43request" title='request' data-ref="43request" data-ref-filename="43request">request</a>,</td></tr>
<tr><th id="310">310</th><td>		    <a class="local col4 ref" href="#44args" title='args' data-ref="44args" data-ref-filename="44args">args</a>, <a class="local col5 ref" href="#45argsize" title='argsize' data-ref="45argsize" data-ref-filename="45argsize">argsize</a>, <a class="local col6 ref" href="#46result" title='result' data-ref="46result" data-ref-filename="46result">result</a>, <a class="local col7 ref" href="#47resultsize" title='resultsize' data-ref="47resultsize" data-ref-filename="47resultsize">resultsize</a>);</td></tr>
<tr><th id="311">311</th><td>	<b>case</b> <a class="enum" href="../ah_internal.h.html#HAL_DIAG_CHECK_HANGS" title='HAL_DIAG_CHECK_HANGS' data-ref="HAL_DIAG_CHECK_HANGS" data-ref-filename="HAL_DIAG_CHECK_HANGS">HAL_DIAG_CHECK_HANGS</a>:</td></tr>
<tr><th id="312">312</th><td>		<b>if</b> (<a class="local col5 ref" href="#45argsize" title='argsize' data-ref="45argsize" data-ref-filename="45argsize">argsize</a> != <b>sizeof</b>(<em>int</em>))</td></tr>
<tr><th id="313">313</th><td>			<b>return</b> <a class="enum" href="../ah.h.html#AH_FALSE" title='AH_FALSE' data-ref="AH_FALSE" data-ref-filename="AH_FALSE">AH_FALSE</a>;</td></tr>
<tr><th id="314">314</th><td>		<a class="local col9 ref" href="#49hangs" title='hangs' data-ref="49hangs" data-ref-filename="49hangs">hangs</a> = *(<em>const</em> <em>int</em> *) <a class="local col4 ref" href="#44args" title='args' data-ref="44args" data-ref-filename="44args">args</a>;</td></tr>
<tr><th id="315">315</th><td>		<a class="local col8 ref" href="#48ahp" title='ahp' data-ref="48ahp" data-ref-filename="48ahp">ahp</a>-&gt;<a class="ref field" href="ar5416.h.html#ath_hal_5416::ah_hangs" title='ath_hal_5416::ah_hangs' data-ref="ath_hal_5416::ah_hangs" data-ref-filename="ath_hal_5416..ah_hangs">ah_hangs</a> = <var>0</var>;</td></tr>
<tr><th id="316">316</th><td>		<b>if</b> (<a class="local col9 ref" href="#49hangs" title='hangs' data-ref="49hangs" data-ref-filename="49hangs">hangs</a> &amp; <a class="enum" href="../ah_internal.h.html#HAL_BB_HANGS" title='HAL_BB_HANGS' data-ref="HAL_BB_HANGS" data-ref-filename="HAL_BB_HANGS">HAL_BB_HANGS</a>)</td></tr>
<tr><th id="317">317</th><td>			<a class="local col8 ref" href="#48ahp" title='ahp' data-ref="48ahp" data-ref-filename="48ahp">ahp</a>-&gt;<a class="ref field" href="ar5416.h.html#ath_hal_5416::ah_hangs" title='ath_hal_5416::ah_hangs' data-ref="ath_hal_5416::ah_hangs" data-ref-filename="ath_hal_5416..ah_hangs">ah_hangs</a> |= <a class="tu ref fn" href="#ar5416DetectBBHang" title='ar5416DetectBBHang' data-use='c' data-ref="ar5416DetectBBHang" data-ref-filename="ar5416DetectBBHang">ar5416DetectBBHang</a>(<a class="local col2 ref" href="#42ah" title='ah' data-ref="42ah" data-ref-filename="42ah">ah</a>);</td></tr>
<tr><th id="318">318</th><td>		<i>/* NB: if BB is hung MAC will be hung too so skip check */</i></td></tr>
<tr><th id="319">319</th><td>		<b>if</b> (<a class="local col8 ref" href="#48ahp" title='ahp' data-ref="48ahp" data-ref-filename="48ahp">ahp</a>-&gt;<a class="ref field" href="ar5416.h.html#ath_hal_5416::ah_hangs" title='ath_hal_5416::ah_hangs' data-ref="ath_hal_5416::ah_hangs" data-ref-filename="ath_hal_5416..ah_hangs">ah_hangs</a> == <var>0</var> &amp;&amp; (<a class="local col9 ref" href="#49hangs" title='hangs' data-ref="49hangs" data-ref-filename="49hangs">hangs</a> &amp; <a class="enum" href="../ah_internal.h.html#HAL_MAC_HANGS" title='HAL_MAC_HANGS' data-ref="HAL_MAC_HANGS" data-ref-filename="HAL_MAC_HANGS">HAL_MAC_HANGS</a>))</td></tr>
<tr><th id="320">320</th><td>			<a class="local col8 ref" href="#48ahp" title='ahp' data-ref="48ahp" data-ref-filename="48ahp">ahp</a>-&gt;<a class="ref field" href="ar5416.h.html#ath_hal_5416::ah_hangs" title='ath_hal_5416::ah_hangs' data-ref="ath_hal_5416::ah_hangs" data-ref-filename="ath_hal_5416..ah_hangs">ah_hangs</a> |= <a class="tu ref fn" href="#ar5416DetectMacHang" title='ar5416DetectMacHang' data-use='c' data-ref="ar5416DetectMacHang" data-ref-filename="ar5416DetectMacHang">ar5416DetectMacHang</a>(<a class="local col2 ref" href="#42ah" title='ah' data-ref="42ah" data-ref-filename="42ah">ah</a>);</td></tr>
<tr><th id="321">321</th><td>		*<a class="local col6 ref" href="#46result" title='result' data-ref="46result" data-ref-filename="46result">result</a> = &amp;<a class="local col8 ref" href="#48ahp" title='ahp' data-ref="48ahp" data-ref-filename="48ahp">ahp</a>-&gt;<a class="ref field" href="ar5416.h.html#ath_hal_5416::ah_hangs" title='ath_hal_5416::ah_hangs' data-ref="ath_hal_5416::ah_hangs" data-ref-filename="ath_hal_5416..ah_hangs">ah_hangs</a>;</td></tr>
<tr><th id="322">322</th><td>		*<a class="local col7 ref" href="#47resultsize" title='resultsize' data-ref="47resultsize" data-ref-filename="47resultsize">resultsize</a> = <b>sizeof</b>(<a class="local col8 ref" href="#48ahp" title='ahp' data-ref="48ahp" data-ref-filename="48ahp">ahp</a>-&gt;<a class="ref field" href="ar5416.h.html#ath_hal_5416::ah_hangs" title='ath_hal_5416::ah_hangs' data-ref="ath_hal_5416::ah_hangs" data-ref-filename="ath_hal_5416..ah_hangs">ah_hangs</a>);</td></tr>
<tr><th id="323">323</th><td>		<b>return</b> <a class="enum" href="../ah.h.html#AH_TRUE" title='AH_TRUE' data-ref="AH_TRUE" data-ref-filename="AH_TRUE">AH_TRUE</a>;</td></tr>
<tr><th id="324">324</th><td>	}</td></tr>
<tr><th id="325">325</th><td>	<b>return</b> <a class="ref fn" href="../ar5212/ar5212.h.html#ar5212GetDiagState" title='ar5212GetDiagState' data-ref="ar5212GetDiagState" data-ref-filename="ar5212GetDiagState">ar5212GetDiagState</a>(<a class="local col2 ref" href="#42ah" title='ah' data-ref="42ah" data-ref-filename="42ah">ah</a>, <a class="local col3 ref" href="#43request" title='request' data-ref="43request" data-ref-filename="43request">request</a>,</td></tr>
<tr><th id="326">326</th><td>	    <a class="local col4 ref" href="#44args" title='args' data-ref="44args" data-ref-filename="44args">args</a>, <a class="local col5 ref" href="#45argsize" title='argsize' data-ref="45argsize" data-ref-filename="45argsize">argsize</a>, <a class="local col6 ref" href="#46result" title='result' data-ref="46result" data-ref-filename="46result">result</a>, <a class="local col7 ref" href="#47resultsize" title='resultsize' data-ref="47resultsize" data-ref-filename="47resultsize">resultsize</a>);</td></tr>
<tr><th id="327">327</th><td>}</td></tr>
<tr><th id="328">328</th><td></td></tr>
<tr><th id="329">329</th><td><b>typedef</b> <b>struct</b> {</td></tr>
<tr><th id="330">330</th><td>	<a class="typedef" href="../../../../../sys/stdint.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="tu decl field" id="(anonymous)::dma_dbg_3" title='(anonymous struct)::dma_dbg_3' data-type='uint32_t' data-ref="(anonymous)::dma_dbg_3" data-ref-filename="(anonymous)..dma_dbg_3">dma_dbg_3</dfn>;</td></tr>
<tr><th id="331">331</th><td>	<a class="typedef" href="../../../../../sys/stdint.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="tu decl field" id="(anonymous)::dma_dbg_4" title='(anonymous struct)::dma_dbg_4' data-type='uint32_t' data-ref="(anonymous)::dma_dbg_4" data-ref-filename="(anonymous)..dma_dbg_4">dma_dbg_4</dfn>;</td></tr>
<tr><th id="332">332</th><td>	<a class="typedef" href="../../../../../sys/stdint.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="tu decl field" id="(anonymous)::dma_dbg_5" title='(anonymous struct)::dma_dbg_5' data-type='uint32_t' data-ref="(anonymous)::dma_dbg_5" data-ref-filename="(anonymous)..dma_dbg_5">dma_dbg_5</dfn>;</td></tr>
<tr><th id="333">333</th><td>	<a class="typedef" href="../../../../../sys/stdint.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="tu decl field" id="(anonymous)::dma_dbg_6" title='(anonymous struct)::dma_dbg_6' data-type='uint32_t' data-ref="(anonymous)::dma_dbg_6" data-ref-filename="(anonymous)..dma_dbg_6">dma_dbg_6</dfn>;</td></tr>
<tr><th id="334">334</th><td>} <dfn class="typedef" id="mac_dbg_regs_t" title='mac_dbg_regs_t' data-type='struct mac_dbg_regs_t' data-ref="mac_dbg_regs_t" data-ref-filename="mac_dbg_regs_t">mac_dbg_regs_t</dfn>;</td></tr>
<tr><th id="335">335</th><td></td></tr>
<tr><th id="336">336</th><td><b>typedef</b> <b>enum</b> {</td></tr>
<tr><th id="337">337</th><td>	<dfn class="enum" id="dcu_chain_state" title='dcu_chain_state' data-ref="dcu_chain_state" data-ref-filename="dcu_chain_state">dcu_chain_state</dfn>		= <var>0x1</var>,</td></tr>
<tr><th id="338">338</th><td>	<dfn class="enum" id="dcu_complete_state" title='dcu_complete_state' data-ref="dcu_complete_state" data-ref-filename="dcu_complete_state">dcu_complete_state</dfn>	= <var>0x2</var>,</td></tr>
<tr><th id="339">339</th><td>	<dfn class="enum" id="qcu_state" title='qcu_state' data-ref="qcu_state" data-ref-filename="qcu_state">qcu_state</dfn>		= <var>0x4</var>,</td></tr>
<tr><th id="340">340</th><td>	<dfn class="enum" id="qcu_fsp_ok" title='qcu_fsp_ok' data-ref="qcu_fsp_ok" data-ref-filename="qcu_fsp_ok">qcu_fsp_ok</dfn>		= <var>0x8</var>,</td></tr>
<tr><th id="341">341</th><td>	<dfn class="enum" id="qcu_fsp_state" title='qcu_fsp_state' data-ref="qcu_fsp_state" data-ref-filename="qcu_fsp_state">qcu_fsp_state</dfn>		= <var>0x10</var>,</td></tr>
<tr><th id="342">342</th><td>	<dfn class="enum" id="qcu_stitch_state" title='qcu_stitch_state' data-ref="qcu_stitch_state" data-ref-filename="qcu_stitch_state">qcu_stitch_state</dfn>	= <var>0x20</var>,</td></tr>
<tr><th id="343">343</th><td>	<dfn class="enum" id="qcu_fetch_state" title='qcu_fetch_state' data-ref="qcu_fetch_state" data-ref-filename="qcu_fetch_state">qcu_fetch_state</dfn>		= <var>0x40</var>,</td></tr>
<tr><th id="344">344</th><td>	<dfn class="enum" id="qcu_complete_state" title='qcu_complete_state' data-ref="qcu_complete_state" data-ref-filename="qcu_complete_state">qcu_complete_state</dfn>	= <var>0x80</var></td></tr>
<tr><th id="345">345</th><td>} <dfn class="typedef" id="hal_mac_hangs_t" title='hal_mac_hangs_t' data-type='enum hal_mac_hangs_t' data-ref="hal_mac_hangs_t" data-ref-filename="hal_mac_hangs_t">hal_mac_hangs_t</dfn>;</td></tr>
<tr><th id="346">346</th><td></td></tr>
<tr><th id="347">347</th><td><b>typedef</b> <b>struct</b> {</td></tr>
<tr><th id="348">348</th><td>	<em>int</em> <dfn class="tu decl field" id="(anonymous)::states" title='(anonymous struct)::states' data-type='int' data-ref="(anonymous)::states" data-ref-filename="(anonymous)..states">states</dfn>;</td></tr>
<tr><th id="349">349</th><td>	<a class="typedef" href="../../../../../sys/stdint.h.html#uint8_t" title='uint8_t' data-type='__uint8_t' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</a> <dfn class="tu decl field" id="(anonymous)::dcu_chain_state" title='(anonymous struct)::dcu_chain_state' data-type='uint8_t' data-ref="(anonymous)::dcu_chain_state" data-ref-filename="(anonymous)..dcu_chain_state">dcu_chain_state</dfn>;</td></tr>
<tr><th id="350">350</th><td>	<a class="typedef" href="../../../../../sys/stdint.h.html#uint8_t" title='uint8_t' data-type='__uint8_t' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</a> <dfn class="tu decl field" id="(anonymous)::dcu_complete_state" title='(anonymous struct)::dcu_complete_state' data-type='uint8_t' data-ref="(anonymous)::dcu_complete_state" data-ref-filename="(anonymous)..dcu_complete_state">dcu_complete_state</dfn>;</td></tr>
<tr><th id="351">351</th><td>	<a class="typedef" href="../../../../../sys/stdint.h.html#uint8_t" title='uint8_t' data-type='__uint8_t' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</a> <dfn class="tu decl field" id="(anonymous)::qcu_state" title='(anonymous struct)::qcu_state' data-type='uint8_t' data-ref="(anonymous)::qcu_state" data-ref-filename="(anonymous)..qcu_state">qcu_state</dfn>;</td></tr>
<tr><th id="352">352</th><td>	<a class="typedef" href="../../../../../sys/stdint.h.html#uint8_t" title='uint8_t' data-type='__uint8_t' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</a> <dfn class="tu decl field" id="(anonymous)::qcu_fsp_ok" title='(anonymous struct)::qcu_fsp_ok' data-type='uint8_t' data-ref="(anonymous)::qcu_fsp_ok" data-ref-filename="(anonymous)..qcu_fsp_ok">qcu_fsp_ok</dfn>;</td></tr>
<tr><th id="353">353</th><td>	<a class="typedef" href="../../../../../sys/stdint.h.html#uint8_t" title='uint8_t' data-type='__uint8_t' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</a> <dfn class="tu decl field" id="(anonymous)::qcu_fsp_state" title='(anonymous struct)::qcu_fsp_state' data-type='uint8_t' data-ref="(anonymous)::qcu_fsp_state" data-ref-filename="(anonymous)..qcu_fsp_state">qcu_fsp_state</dfn>;</td></tr>
<tr><th id="354">354</th><td>	<a class="typedef" href="../../../../../sys/stdint.h.html#uint8_t" title='uint8_t' data-type='__uint8_t' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</a> <dfn class="tu decl field" id="(anonymous)::qcu_stitch_state" title='(anonymous struct)::qcu_stitch_state' data-type='uint8_t' data-ref="(anonymous)::qcu_stitch_state" data-ref-filename="(anonymous)..qcu_stitch_state">qcu_stitch_state</dfn>;</td></tr>
<tr><th id="355">355</th><td>	<a class="typedef" href="../../../../../sys/stdint.h.html#uint8_t" title='uint8_t' data-type='__uint8_t' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</a> <dfn class="tu decl field" id="(anonymous)::qcu_fetch_state" title='(anonymous struct)::qcu_fetch_state' data-type='uint8_t' data-ref="(anonymous)::qcu_fetch_state" data-ref-filename="(anonymous)..qcu_fetch_state">qcu_fetch_state</dfn>;</td></tr>
<tr><th id="356">356</th><td>	<a class="typedef" href="../../../../../sys/stdint.h.html#uint8_t" title='uint8_t' data-type='__uint8_t' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</a> <dfn class="tu decl field" id="(anonymous)::qcu_complete_state" title='(anonymous struct)::qcu_complete_state' data-type='uint8_t' data-ref="(anonymous)::qcu_complete_state" data-ref-filename="(anonymous)..qcu_complete_state">qcu_complete_state</dfn>;</td></tr>
<tr><th id="357">357</th><td>} <dfn class="typedef" id="hal_mac_hang_check_t" title='hal_mac_hang_check_t' data-type='struct hal_mac_hang_check_t' data-ref="hal_mac_hang_check_t" data-ref-filename="hal_mac_hang_check_t">hal_mac_hang_check_t</dfn>;</td></tr>
<tr><th id="358">358</th><td></td></tr>
<tr><th id="359">359</th><td><em>static</em> <a class="typedef" href="../ah.h.html#HAL_BOOL" title='HAL_BOOL' data-type='enum HAL_BOOL' data-ref="HAL_BOOL" data-ref-filename="HAL_BOOL">HAL_BOOL</a></td></tr>
<tr><th id="360">360</th><td><dfn class="tu decl def fn" id="ar5416CompareDbgHang" title='ar5416CompareDbgHang' data-type='HAL_BOOL ar5416CompareDbgHang(struct ath_hal * ah, const mac_dbg_regs_t * regs, const hal_mac_hang_check_t * check)' data-ref="ar5416CompareDbgHang" data-ref-filename="ar5416CompareDbgHang">ar5416CompareDbgHang</dfn>(<b>struct</b> <a class="type" href="../ah.h.html#ath_hal" title='ath_hal' data-ref="ath_hal" data-ref-filename="ath_hal">ath_hal</a> *<dfn class="local col0 decl" id="50ah" title='ah' data-type='struct ath_hal *' data-ref="50ah" data-ref-filename="50ah">ah</dfn>, <em>const</em> <a class="typedef" href="#mac_dbg_regs_t" title='mac_dbg_regs_t' data-type='struct mac_dbg_regs_t' data-ref="mac_dbg_regs_t" data-ref-filename="mac_dbg_regs_t">mac_dbg_regs_t</a> *<dfn class="local col1 decl" id="51regs" title='regs' data-type='const mac_dbg_regs_t *' data-ref="51regs" data-ref-filename="51regs">regs</dfn>,</td></tr>
<tr><th id="361">361</th><td>    <em>const</em> <a class="typedef" href="#hal_mac_hang_check_t" title='hal_mac_hang_check_t' data-type='struct hal_mac_hang_check_t' data-ref="hal_mac_hang_check_t" data-ref-filename="hal_mac_hang_check_t">hal_mac_hang_check_t</a> *<dfn class="local col2 decl" id="52check" title='check' data-type='const hal_mac_hang_check_t *' data-ref="52check" data-ref-filename="52check">check</dfn>)</td></tr>
<tr><th id="362">362</th><td>{</td></tr>
<tr><th id="363">363</th><td>	<em>int</em> <dfn class="local col3 decl" id="53found_states" title='found_states' data-type='int' data-ref="53found_states" data-ref-filename="53found_states">found_states</dfn>;</td></tr>
<tr><th id="364">364</th><td></td></tr>
<tr><th id="365">365</th><td>	<a class="local col3 ref" href="#53found_states" title='found_states' data-ref="53found_states" data-ref-filename="53found_states">found_states</a> = <var>0</var>;</td></tr>
<tr><th id="366">366</th><td>	<b>if</b> (<a class="local col2 ref" href="#52check" title='check' data-ref="52check" data-ref-filename="52check">check</a>-&gt;<a class="tu ref field" href="#(anonymous)::states" title='(anonymous struct)::states' data-use='r' data-ref="(anonymous)::states" data-ref-filename="(anonymous)..states">states</a> &amp; <a class="enum" href="#dcu_chain_state" title='dcu_chain_state' data-ref="dcu_chain_state" data-ref-filename="dcu_chain_state">dcu_chain_state</a>) {</td></tr>
<tr><th id="367">367</th><td>		<em>int</em> <dfn class="local col4 decl" id="54i" title='i' data-type='int' data-ref="54i" data-ref-filename="54i">i</dfn>;</td></tr>
<tr><th id="368">368</th><td></td></tr>
<tr><th id="369">369</th><td>		<b>for</b> (<a class="local col4 ref" href="#54i" title='i' data-ref="54i" data-ref-filename="54i">i</a> = <var>0</var>; <a class="local col4 ref" href="#54i" title='i' data-ref="54i" data-ref-filename="54i">i</a> &lt; <var>6</var>; <a class="local col4 ref" href="#54i" title='i' data-ref="54i" data-ref-filename="54i">i</a>++) {</td></tr>
<tr><th id="370">370</th><td>			<b>if</b> (((<a class="local col1 ref" href="#51regs" title='regs' data-ref="51regs" data-ref-filename="51regs">regs</a>-&gt;<a class="tu ref field" href="#(anonymous)::dma_dbg_4" title='(anonymous struct)::dma_dbg_4' data-use='r' data-ref="(anonymous)::dma_dbg_4" data-ref-filename="(anonymous)..dma_dbg_4">dma_dbg_4</a> &gt;&gt; (<var>5</var>*<a class="local col4 ref" href="#54i" title='i' data-ref="54i" data-ref-filename="54i">i</a>)) &amp; <var>0x1f</var>) ==</td></tr>
<tr><th id="371">371</th><td>			    <a class="local col2 ref" href="#52check" title='check' data-ref="52check" data-ref-filename="52check">check</a>-&gt;<a class="tu ref field" href="#(anonymous)::dcu_chain_state" title='(anonymous struct)::dcu_chain_state' data-use='r' data-ref="(anonymous)::dcu_chain_state" data-ref-filename="(anonymous)..dcu_chain_state">dcu_chain_state</a>)</td></tr>
<tr><th id="372">372</th><td>				<a class="local col3 ref" href="#53found_states" title='found_states' data-ref="53found_states" data-ref-filename="53found_states">found_states</a> |= <a class="enum" href="#dcu_chain_state" title='dcu_chain_state' data-ref="dcu_chain_state" data-ref-filename="dcu_chain_state">dcu_chain_state</a>;</td></tr>
<tr><th id="373">373</th><td>		}</td></tr>
<tr><th id="374">374</th><td>		<b>for</b> (<a class="local col4 ref" href="#54i" title='i' data-ref="54i" data-ref-filename="54i">i</a> = <var>0</var>; <a class="local col4 ref" href="#54i" title='i' data-ref="54i" data-ref-filename="54i">i</a> &lt; <var>4</var>; <a class="local col4 ref" href="#54i" title='i' data-ref="54i" data-ref-filename="54i">i</a>++) {</td></tr>
<tr><th id="375">375</th><td>			<b>if</b> (((<a class="local col1 ref" href="#51regs" title='regs' data-ref="51regs" data-ref-filename="51regs">regs</a>-&gt;<a class="tu ref field" href="#(anonymous)::dma_dbg_5" title='(anonymous struct)::dma_dbg_5' data-use='r' data-ref="(anonymous)::dma_dbg_5" data-ref-filename="(anonymous)..dma_dbg_5">dma_dbg_5</a> &gt;&gt; (<var>5</var>*<a class="local col4 ref" href="#54i" title='i' data-ref="54i" data-ref-filename="54i">i</a>)) &amp; <var>0x1f</var>) ==</td></tr>
<tr><th id="376">376</th><td>			    <a class="local col2 ref" href="#52check" title='check' data-ref="52check" data-ref-filename="52check">check</a>-&gt;<a class="tu ref field" href="#(anonymous)::dcu_chain_state" title='(anonymous struct)::dcu_chain_state' data-use='r' data-ref="(anonymous)::dcu_chain_state" data-ref-filename="(anonymous)..dcu_chain_state">dcu_chain_state</a>)</td></tr>
<tr><th id="377">377</th><td>				<a class="local col3 ref" href="#53found_states" title='found_states' data-ref="53found_states" data-ref-filename="53found_states">found_states</a> |= <a class="enum" href="#dcu_chain_state" title='dcu_chain_state' data-ref="dcu_chain_state" data-ref-filename="dcu_chain_state">dcu_chain_state</a>;</td></tr>
<tr><th id="378">378</th><td>		}</td></tr>
<tr><th id="379">379</th><td>	}</td></tr>
<tr><th id="380">380</th><td>	<b>if</b> (<a class="local col2 ref" href="#52check" title='check' data-ref="52check" data-ref-filename="52check">check</a>-&gt;<a class="tu ref field" href="#(anonymous)::states" title='(anonymous struct)::states' data-use='r' data-ref="(anonymous)::states" data-ref-filename="(anonymous)..states">states</a> &amp; <a class="enum" href="#dcu_complete_state" title='dcu_complete_state' data-ref="dcu_complete_state" data-ref-filename="dcu_complete_state">dcu_complete_state</a>) { </td></tr>
<tr><th id="381">381</th><td>		<b>if</b> ((<a class="local col1 ref" href="#51regs" title='regs' data-ref="51regs" data-ref-filename="51regs">regs</a>-&gt;<a class="tu ref field" href="#(anonymous)::dma_dbg_6" title='(anonymous struct)::dma_dbg_6' data-use='r' data-ref="(anonymous)::dma_dbg_6" data-ref-filename="(anonymous)..dma_dbg_6">dma_dbg_6</a> &amp; <var>0x3</var>) == <a class="local col2 ref" href="#52check" title='check' data-ref="52check" data-ref-filename="52check">check</a>-&gt;<a class="tu ref field" href="#(anonymous)::dcu_complete_state" title='(anonymous struct)::dcu_complete_state' data-use='r' data-ref="(anonymous)::dcu_complete_state" data-ref-filename="(anonymous)..dcu_complete_state">dcu_complete_state</a>)</td></tr>
<tr><th id="382">382</th><td>			<a class="local col3 ref" href="#53found_states" title='found_states' data-ref="53found_states" data-ref-filename="53found_states">found_states</a> |= <a class="enum" href="#dcu_complete_state" title='dcu_complete_state' data-ref="dcu_complete_state" data-ref-filename="dcu_complete_state">dcu_complete_state</a>;</td></tr>
<tr><th id="383">383</th><td>	}</td></tr>
<tr><th id="384">384</th><td>	<b>if</b> (<a class="local col2 ref" href="#52check" title='check' data-ref="52check" data-ref-filename="52check">check</a>-&gt;<a class="tu ref field" href="#(anonymous)::states" title='(anonymous struct)::states' data-use='r' data-ref="(anonymous)::states" data-ref-filename="(anonymous)..states">states</a> &amp; <a class="enum" href="#qcu_stitch_state" title='qcu_stitch_state' data-ref="qcu_stitch_state" data-ref-filename="qcu_stitch_state">qcu_stitch_state</a>) { </td></tr>
<tr><th id="385">385</th><td>		<b>if</b> (((<a class="local col1 ref" href="#51regs" title='regs' data-ref="51regs" data-ref-filename="51regs">regs</a>-&gt;<a class="tu ref field" href="#(anonymous)::dma_dbg_3" title='(anonymous struct)::dma_dbg_3' data-use='r' data-ref="(anonymous)::dma_dbg_3" data-ref-filename="(anonymous)..dma_dbg_3">dma_dbg_3</a> &gt;&gt; <var>18</var>) &amp; <var>0xf</var>) == <a class="local col2 ref" href="#52check" title='check' data-ref="52check" data-ref-filename="52check">check</a>-&gt;<a class="tu ref field" href="#(anonymous)::qcu_stitch_state" title='(anonymous struct)::qcu_stitch_state' data-use='r' data-ref="(anonymous)::qcu_stitch_state" data-ref-filename="(anonymous)..qcu_stitch_state">qcu_stitch_state</a>)</td></tr>
<tr><th id="386">386</th><td>			<a class="local col3 ref" href="#53found_states" title='found_states' data-ref="53found_states" data-ref-filename="53found_states">found_states</a> |= <a class="enum" href="#qcu_stitch_state" title='qcu_stitch_state' data-ref="qcu_stitch_state" data-ref-filename="qcu_stitch_state">qcu_stitch_state</a>;</td></tr>
<tr><th id="387">387</th><td>	}</td></tr>
<tr><th id="388">388</th><td>	<b>if</b> (<a class="local col2 ref" href="#52check" title='check' data-ref="52check" data-ref-filename="52check">check</a>-&gt;<a class="tu ref field" href="#(anonymous)::states" title='(anonymous struct)::states' data-use='r' data-ref="(anonymous)::states" data-ref-filename="(anonymous)..states">states</a> &amp; <a class="enum" href="#qcu_fetch_state" title='qcu_fetch_state' data-ref="qcu_fetch_state" data-ref-filename="qcu_fetch_state">qcu_fetch_state</a>) { </td></tr>
<tr><th id="389">389</th><td>		<b>if</b> (((<a class="local col1 ref" href="#51regs" title='regs' data-ref="51regs" data-ref-filename="51regs">regs</a>-&gt;<a class="tu ref field" href="#(anonymous)::dma_dbg_3" title='(anonymous struct)::dma_dbg_3' data-use='r' data-ref="(anonymous)::dma_dbg_3" data-ref-filename="(anonymous)..dma_dbg_3">dma_dbg_3</a> &gt;&gt; <var>22</var>) &amp; <var>0xf</var>) == <a class="local col2 ref" href="#52check" title='check' data-ref="52check" data-ref-filename="52check">check</a>-&gt;<a class="tu ref field" href="#(anonymous)::qcu_fetch_state" title='(anonymous struct)::qcu_fetch_state' data-use='r' data-ref="(anonymous)::qcu_fetch_state" data-ref-filename="(anonymous)..qcu_fetch_state">qcu_fetch_state</a>)</td></tr>
<tr><th id="390">390</th><td>			<a class="local col3 ref" href="#53found_states" title='found_states' data-ref="53found_states" data-ref-filename="53found_states">found_states</a> |= <a class="enum" href="#qcu_fetch_state" title='qcu_fetch_state' data-ref="qcu_fetch_state" data-ref-filename="qcu_fetch_state">qcu_fetch_state</a>;</td></tr>
<tr><th id="391">391</th><td>	}</td></tr>
<tr><th id="392">392</th><td>	<b>if</b> (<a class="local col2 ref" href="#52check" title='check' data-ref="52check" data-ref-filename="52check">check</a>-&gt;<a class="tu ref field" href="#(anonymous)::states" title='(anonymous struct)::states' data-use='r' data-ref="(anonymous)::states" data-ref-filename="(anonymous)..states">states</a> &amp; <a class="enum" href="#qcu_complete_state" title='qcu_complete_state' data-ref="qcu_complete_state" data-ref-filename="qcu_complete_state">qcu_complete_state</a>) { </td></tr>
<tr><th id="393">393</th><td>		<b>if</b> (((<a class="local col1 ref" href="#51regs" title='regs' data-ref="51regs" data-ref-filename="51regs">regs</a>-&gt;<a class="tu ref field" href="#(anonymous)::dma_dbg_3" title='(anonymous struct)::dma_dbg_3' data-use='r' data-ref="(anonymous)::dma_dbg_3" data-ref-filename="(anonymous)..dma_dbg_3">dma_dbg_3</a> &gt;&gt; <var>26</var>) &amp; <var>0x7</var>) == <a class="local col2 ref" href="#52check" title='check' data-ref="52check" data-ref-filename="52check">check</a>-&gt;<a class="tu ref field" href="#(anonymous)::qcu_complete_state" title='(anonymous struct)::qcu_complete_state' data-use='r' data-ref="(anonymous)::qcu_complete_state" data-ref-filename="(anonymous)..qcu_complete_state">qcu_complete_state</a>)</td></tr>
<tr><th id="394">394</th><td>			<a class="local col3 ref" href="#53found_states" title='found_states' data-ref="53found_states" data-ref-filename="53found_states">found_states</a> |= <a class="enum" href="#qcu_complete_state" title='qcu_complete_state' data-ref="qcu_complete_state" data-ref-filename="qcu_complete_state">qcu_complete_state</a>;</td></tr>
<tr><th id="395">395</th><td>	}</td></tr>
<tr><th id="396">396</th><td>	<b>return</b> (<a class="local col3 ref" href="#53found_states" title='found_states' data-ref="53found_states" data-ref-filename="53found_states">found_states</a> == <a class="local col2 ref" href="#52check" title='check' data-ref="52check" data-ref-filename="52check">check</a>-&gt;<a class="tu ref field" href="#(anonymous)::states" title='(anonymous struct)::states' data-use='r' data-ref="(anonymous)::states" data-ref-filename="(anonymous)..states">states</a>);</td></tr>
<tr><th id="397">397</th><td>}</td></tr>
<tr><th id="398">398</th><td></td></tr>
<tr><th id="399">399</th><td><u>#define <dfn class="macro" id="_M/NUM_STATUS_READS" data-ref="_M/NUM_STATUS_READS">NUM_STATUS_READS</dfn> 50</u></td></tr>
<tr><th id="400">400</th><td></td></tr>
<tr><th id="401">401</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="402">402</th><td><dfn class="tu decl def fn" id="ar5416DetectMacHang" title='ar5416DetectMacHang' data-type='int ar5416DetectMacHang(struct ath_hal * ah)' data-ref="ar5416DetectMacHang" data-ref-filename="ar5416DetectMacHang">ar5416DetectMacHang</dfn>(<b>struct</b> <a class="type" href="../ah.h.html#ath_hal" title='ath_hal' data-ref="ath_hal" data-ref-filename="ath_hal">ath_hal</a> *<dfn class="local col5 decl" id="55ah" title='ah' data-type='struct ath_hal *' data-ref="55ah" data-ref-filename="55ah">ah</dfn>)</td></tr>
<tr><th id="403">403</th><td>{</td></tr>
<tr><th id="404">404</th><td>	<em>static</em> <em>const</em> <a class="typedef" href="#hal_mac_hang_check_t" title='hal_mac_hang_check_t' data-type='struct hal_mac_hang_check_t' data-ref="hal_mac_hang_check_t" data-ref-filename="hal_mac_hang_check_t">hal_mac_hang_check_t</a> <dfn class="local col6 decl" id="56hang_sig1" title='hang_sig1' data-type='const hal_mac_hang_check_t' data-ref="56hang_sig1" data-ref-filename="56hang_sig1">hang_sig1</dfn> = {</td></tr>
<tr><th id="405">405</th><td>		.<a class="tu ref field" href="#(anonymous)::dcu_chain_state" title='(anonymous struct)::dcu_chain_state' data-use='w' data-ref="(anonymous)::dcu_chain_state" data-ref-filename="(anonymous)..dcu_chain_state">dcu_chain_state</a>	= <var>0x6</var>,</td></tr>
<tr><th id="406">406</th><td>		.<a class="tu ref field" href="#(anonymous)::dcu_complete_state" title='(anonymous struct)::dcu_complete_state' data-use='w' data-ref="(anonymous)::dcu_complete_state" data-ref-filename="(anonymous)..dcu_complete_state">dcu_complete_state</a>	= <var>0x1</var>,</td></tr>
<tr><th id="407">407</th><td>		.<a class="tu ref field" href="#(anonymous)::states" title='(anonymous struct)::states' data-use='w' data-ref="(anonymous)::states" data-ref-filename="(anonymous)..states">states</a>			= <a class="enum" href="#dcu_chain_state" title='dcu_chain_state' data-ref="dcu_chain_state" data-ref-filename="dcu_chain_state">dcu_chain_state</a></td></tr>
<tr><th id="408">408</th><td>					| <a class="enum" href="#dcu_complete_state" title='dcu_complete_state' data-ref="dcu_complete_state" data-ref-filename="dcu_complete_state">dcu_complete_state</a>,</td></tr>
<tr><th id="409">409</th><td>	};</td></tr>
<tr><th id="410">410</th><td>	<em>static</em> <em>const</em> <a class="typedef" href="#hal_mac_hang_check_t" title='hal_mac_hang_check_t' data-type='struct hal_mac_hang_check_t' data-ref="hal_mac_hang_check_t" data-ref-filename="hal_mac_hang_check_t">hal_mac_hang_check_t</a> <dfn class="local col7 decl" id="57hang_sig2" title='hang_sig2' data-type='const hal_mac_hang_check_t' data-ref="57hang_sig2" data-ref-filename="57hang_sig2">hang_sig2</dfn> = {</td></tr>
<tr><th id="411">411</th><td>		.<a class="tu ref field" href="#(anonymous)::qcu_stitch_state" title='(anonymous struct)::qcu_stitch_state' data-use='w' data-ref="(anonymous)::qcu_stitch_state" data-ref-filename="(anonymous)..qcu_stitch_state">qcu_stitch_state</a>	= <var>0x9</var>,</td></tr>
<tr><th id="412">412</th><td>		.<a class="tu ref field" href="#(anonymous)::qcu_fetch_state" title='(anonymous struct)::qcu_fetch_state' data-use='w' data-ref="(anonymous)::qcu_fetch_state" data-ref-filename="(anonymous)..qcu_fetch_state">qcu_fetch_state</a>	= <var>0x8</var>,</td></tr>
<tr><th id="413">413</th><td>		.<a class="tu ref field" href="#(anonymous)::qcu_complete_state" title='(anonymous struct)::qcu_complete_state' data-use='w' data-ref="(anonymous)::qcu_complete_state" data-ref-filename="(anonymous)..qcu_complete_state">qcu_complete_state</a>	= <var>0x4</var>,</td></tr>
<tr><th id="414">414</th><td>		.<a class="tu ref field" href="#(anonymous)::states" title='(anonymous struct)::states' data-use='w' data-ref="(anonymous)::states" data-ref-filename="(anonymous)..states">states</a>			= <a class="enum" href="#qcu_stitch_state" title='qcu_stitch_state' data-ref="qcu_stitch_state" data-ref-filename="qcu_stitch_state">qcu_stitch_state</a></td></tr>
<tr><th id="415">415</th><td>					| <a class="enum" href="#qcu_fetch_state" title='qcu_fetch_state' data-ref="qcu_fetch_state" data-ref-filename="qcu_fetch_state">qcu_fetch_state</a></td></tr>
<tr><th id="416">416</th><td>					| <a class="enum" href="#qcu_complete_state" title='qcu_complete_state' data-ref="qcu_complete_state" data-ref-filename="qcu_complete_state">qcu_complete_state</a>,</td></tr>
<tr><th id="417">417</th><td>        };</td></tr>
<tr><th id="418">418</th><td>	<a class="typedef" href="#mac_dbg_regs_t" title='mac_dbg_regs_t' data-type='struct mac_dbg_regs_t' data-ref="mac_dbg_regs_t" data-ref-filename="mac_dbg_regs_t">mac_dbg_regs_t</a> <dfn class="local col8 decl" id="58mac_dbg" title='mac_dbg' data-type='mac_dbg_regs_t' data-ref="58mac_dbg" data-ref-filename="58mac_dbg">mac_dbg</dfn>;</td></tr>
<tr><th id="419">419</th><td>	<em>int</em> <dfn class="local col9 decl" id="59i" title='i' data-type='int' data-ref="59i" data-ref-filename="59i">i</dfn>;</td></tr>
<tr><th id="420">420</th><td></td></tr>
<tr><th id="421">421</th><td>	<a class="local col8 ref" href="#58mac_dbg" title='mac_dbg' data-ref="58mac_dbg" data-ref-filename="58mac_dbg">mac_dbg</a>.<a class="tu ref field" href="#(anonymous)::dma_dbg_3" title='(anonymous struct)::dma_dbg_3' data-use='w' data-ref="(anonymous)::dma_dbg_3" data-ref-filename="(anonymous)..dma_dbg_3">dma_dbg_3</a> = <a class="macro" href="../../ic/ah_osdep.h.html#127" title="((u_int32_t) bus_space_read_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x00ec)))" data-ref="_M/OS_REG_READ">OS_REG_READ</a>(<a class="local col5 ref" href="#55ah" title='ah' data-ref="55ah" data-ref-filename="55ah">ah</a>, <a class="macro" href="../ar5212/ar5212reg.h.html#68" title="0x00ec" data-ref="_M/AR_DMADBG_3">AR_DMADBG_3</a>);</td></tr>
<tr><th id="422">422</th><td>	<a class="local col8 ref" href="#58mac_dbg" title='mac_dbg' data-ref="58mac_dbg" data-ref-filename="58mac_dbg">mac_dbg</a>.<a class="tu ref field" href="#(anonymous)::dma_dbg_4" title='(anonymous struct)::dma_dbg_4' data-use='w' data-ref="(anonymous)::dma_dbg_4" data-ref-filename="(anonymous)..dma_dbg_4">dma_dbg_4</a> = <a class="macro" href="../../ic/ah_osdep.h.html#127" title="((u_int32_t) bus_space_read_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x00f0)))" data-ref="_M/OS_REG_READ">OS_REG_READ</a>(<a class="local col5 ref" href="#55ah" title='ah' data-ref="55ah" data-ref-filename="55ah">ah</a>, <a class="macro" href="../ar5212/ar5212reg.h.html#69" title="0x00f0" data-ref="_M/AR_DMADBG_4">AR_DMADBG_4</a>);</td></tr>
<tr><th id="423">423</th><td>	<a class="local col8 ref" href="#58mac_dbg" title='mac_dbg' data-ref="58mac_dbg" data-ref-filename="58mac_dbg">mac_dbg</a>.<a class="tu ref field" href="#(anonymous)::dma_dbg_5" title='(anonymous struct)::dma_dbg_5' data-use='w' data-ref="(anonymous)::dma_dbg_5" data-ref-filename="(anonymous)..dma_dbg_5">dma_dbg_5</a> = <a class="macro" href="../../ic/ah_osdep.h.html#127" title="((u_int32_t) bus_space_read_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x00f4)))" data-ref="_M/OS_REG_READ">OS_REG_READ</a>(<a class="local col5 ref" href="#55ah" title='ah' data-ref="55ah" data-ref-filename="55ah">ah</a>, <a class="macro" href="../ar5212/ar5212reg.h.html#70" title="0x00f4" data-ref="_M/AR_DMADBG_5">AR_DMADBG_5</a>);</td></tr>
<tr><th id="424">424</th><td>	<a class="local col8 ref" href="#58mac_dbg" title='mac_dbg' data-ref="58mac_dbg" data-ref-filename="58mac_dbg">mac_dbg</a>.<a class="tu ref field" href="#(anonymous)::dma_dbg_6" title='(anonymous struct)::dma_dbg_6' data-use='w' data-ref="(anonymous)::dma_dbg_6" data-ref-filename="(anonymous)..dma_dbg_6">dma_dbg_6</a> = <a class="macro" href="../../ic/ah_osdep.h.html#127" title="((u_int32_t) bus_space_read_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x00f8)))" data-ref="_M/OS_REG_READ">OS_REG_READ</a>(<a class="local col5 ref" href="#55ah" title='ah' data-ref="55ah" data-ref-filename="55ah">ah</a>, <a class="macro" href="../ar5212/ar5212reg.h.html#71" title="0x00f8" data-ref="_M/AR_DMADBG_6">AR_DMADBG_6</a>);</td></tr>
<tr><th id="425">425</th><td>	<b>for</b> (<a class="local col9 ref" href="#59i" title='i' data-ref="59i" data-ref-filename="59i">i</a> = <var>1</var>; <a class="local col9 ref" href="#59i" title='i' data-ref="59i" data-ref-filename="59i">i</a> &lt;= <a class="macro" href="#399" title="50" data-ref="_M/NUM_STATUS_READS">NUM_STATUS_READS</a>; <a class="local col9 ref" href="#59i" title='i' data-ref="59i" data-ref-filename="59i">i</a>++) {</td></tr>
<tr><th id="426">426</th><td>		<b>if</b> (<a class="local col8 ref" href="#58mac_dbg" title='mac_dbg' data-ref="58mac_dbg" data-ref-filename="58mac_dbg">mac_dbg</a>.<a class="tu ref field" href="#(anonymous)::dma_dbg_3" title='(anonymous struct)::dma_dbg_3' data-use='r' data-ref="(anonymous)::dma_dbg_3" data-ref-filename="(anonymous)..dma_dbg_3">dma_dbg_3</a> != <a class="macro" href="../../ic/ah_osdep.h.html#127" title="((u_int32_t) bus_space_read_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x00ec)))" data-ref="_M/OS_REG_READ">OS_REG_READ</a>(<a class="local col5 ref" href="#55ah" title='ah' data-ref="55ah" data-ref-filename="55ah">ah</a>, <a class="macro" href="../ar5212/ar5212reg.h.html#68" title="0x00ec" data-ref="_M/AR_DMADBG_3">AR_DMADBG_3</a>) ||</td></tr>
<tr><th id="427">427</th><td>		    <a class="local col8 ref" href="#58mac_dbg" title='mac_dbg' data-ref="58mac_dbg" data-ref-filename="58mac_dbg">mac_dbg</a>.<a class="tu ref field" href="#(anonymous)::dma_dbg_4" title='(anonymous struct)::dma_dbg_4' data-use='r' data-ref="(anonymous)::dma_dbg_4" data-ref-filename="(anonymous)..dma_dbg_4">dma_dbg_4</a> != <a class="macro" href="../../ic/ah_osdep.h.html#127" title="((u_int32_t) bus_space_read_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x00f0)))" data-ref="_M/OS_REG_READ">OS_REG_READ</a>(<a class="local col5 ref" href="#55ah" title='ah' data-ref="55ah" data-ref-filename="55ah">ah</a>, <a class="macro" href="../ar5212/ar5212reg.h.html#69" title="0x00f0" data-ref="_M/AR_DMADBG_4">AR_DMADBG_4</a>) ||</td></tr>
<tr><th id="428">428</th><td>		    <a class="local col8 ref" href="#58mac_dbg" title='mac_dbg' data-ref="58mac_dbg" data-ref-filename="58mac_dbg">mac_dbg</a>.<a class="tu ref field" href="#(anonymous)::dma_dbg_5" title='(anonymous struct)::dma_dbg_5' data-use='r' data-ref="(anonymous)::dma_dbg_5" data-ref-filename="(anonymous)..dma_dbg_5">dma_dbg_5</a> != <a class="macro" href="../../ic/ah_osdep.h.html#127" title="((u_int32_t) bus_space_read_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x00f4)))" data-ref="_M/OS_REG_READ">OS_REG_READ</a>(<a class="local col5 ref" href="#55ah" title='ah' data-ref="55ah" data-ref-filename="55ah">ah</a>, <a class="macro" href="../ar5212/ar5212reg.h.html#70" title="0x00f4" data-ref="_M/AR_DMADBG_5">AR_DMADBG_5</a>) ||</td></tr>
<tr><th id="429">429</th><td>		    <a class="local col8 ref" href="#58mac_dbg" title='mac_dbg' data-ref="58mac_dbg" data-ref-filename="58mac_dbg">mac_dbg</a>.<a class="tu ref field" href="#(anonymous)::dma_dbg_6" title='(anonymous struct)::dma_dbg_6' data-use='r' data-ref="(anonymous)::dma_dbg_6" data-ref-filename="(anonymous)..dma_dbg_6">dma_dbg_6</a> != <a class="macro" href="../../ic/ah_osdep.h.html#127" title="((u_int32_t) bus_space_read_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x00f8)))" data-ref="_M/OS_REG_READ">OS_REG_READ</a>(<a class="local col5 ref" href="#55ah" title='ah' data-ref="55ah" data-ref-filename="55ah">ah</a>, <a class="macro" href="../ar5212/ar5212reg.h.html#71" title="0x00f8" data-ref="_M/AR_DMADBG_6">AR_DMADBG_6</a>))</td></tr>
<tr><th id="430">430</th><td>			<b>return</b> <var>0</var>;</td></tr>
<tr><th id="431">431</th><td>	}</td></tr>
<tr><th id="432">432</th><td></td></tr>
<tr><th id="433">433</th><td>	<b>if</b> (<a class="tu ref fn" href="#ar5416CompareDbgHang" title='ar5416CompareDbgHang' data-use='c' data-ref="ar5416CompareDbgHang" data-ref-filename="ar5416CompareDbgHang">ar5416CompareDbgHang</a>(<a class="local col5 ref" href="#55ah" title='ah' data-ref="55ah" data-ref-filename="55ah">ah</a>, &amp;<a class="local col8 ref" href="#58mac_dbg" title='mac_dbg' data-ref="58mac_dbg" data-ref-filename="58mac_dbg">mac_dbg</a>, &amp;<a class="local col6 ref" href="#56hang_sig1" title='hang_sig1' data-ref="56hang_sig1" data-ref-filename="56hang_sig1">hang_sig1</a>))</td></tr>
<tr><th id="434">434</th><td>		<b>return</b> <a class="enum" href="../ah_internal.h.html#HAL_MAC_HANG_SIG1" title='HAL_MAC_HANG_SIG1' data-ref="HAL_MAC_HANG_SIG1" data-ref-filename="HAL_MAC_HANG_SIG1">HAL_MAC_HANG_SIG1</a>;</td></tr>
<tr><th id="435">435</th><td>	<b>if</b> (<a class="tu ref fn" href="#ar5416CompareDbgHang" title='ar5416CompareDbgHang' data-use='c' data-ref="ar5416CompareDbgHang" data-ref-filename="ar5416CompareDbgHang">ar5416CompareDbgHang</a>(<a class="local col5 ref" href="#55ah" title='ah' data-ref="55ah" data-ref-filename="55ah">ah</a>, &amp;<a class="local col8 ref" href="#58mac_dbg" title='mac_dbg' data-ref="58mac_dbg" data-ref-filename="58mac_dbg">mac_dbg</a>, &amp;<a class="local col7 ref" href="#57hang_sig2" title='hang_sig2' data-ref="57hang_sig2" data-ref-filename="57hang_sig2">hang_sig2</a>))</td></tr>
<tr><th id="436">436</th><td>		<b>return</b> <a class="enum" href="../ah_internal.h.html#HAL_MAC_HANG_SIG2" title='HAL_MAC_HANG_SIG2' data-ref="HAL_MAC_HANG_SIG2" data-ref-filename="HAL_MAC_HANG_SIG2">HAL_MAC_HANG_SIG2</a>;</td></tr>
<tr><th id="437">437</th><td></td></tr>
<tr><th id="438">438</th><td>	<a class="macro" href="../ah_internal.h.html#578" title="" data-ref="_M/HALDEBUG">HALDEBUG</a>(ah, HAL_DEBUG_ANY, <q>"%s Found an unknown MAC hang signature "</q></td></tr>
<tr><th id="439">439</th><td>	    <q>"DMADBG_3=0x%x DMADBG_4=0x%x DMADBG_5=0x%x DMADBG_6=0x%x\n"</q>,</td></tr>
<tr><th id="440">440</th><td>	    <b>__func__</b>, mac_dbg.dma_dbg_3, mac_dbg.dma_dbg_4, mac_dbg.dma_dbg_5,</td></tr>
<tr><th id="441">441</th><td>	    mac_dbg.dma_dbg_6);</td></tr>
<tr><th id="442">442</th><td></td></tr>
<tr><th id="443">443</th><td>	<b>return</b> <a class="enum" href="../ah_internal.h.html#HAL_MAC_HANG_UNKNOWN" title='HAL_MAC_HANG_UNKNOWN' data-ref="HAL_MAC_HANG_UNKNOWN" data-ref-filename="HAL_MAC_HANG_UNKNOWN">HAL_MAC_HANG_UNKNOWN</a>;</td></tr>
<tr><th id="444">444</th><td>}</td></tr>
<tr><th id="445">445</th><td></td></tr>
<tr><th id="446">446</th><td><i  data-doc="ar5416DetectBBHang">/*</i></td></tr>
<tr><th id="447">447</th><td><i  data-doc="ar5416DetectBBHang"> * Determine if the baseband using the Observation Bus Register</i></td></tr>
<tr><th id="448">448</th><td><i  data-doc="ar5416DetectBBHang"> */</i></td></tr>
<tr><th id="449">449</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="450">450</th><td><dfn class="tu decl def fn" id="ar5416DetectBBHang" title='ar5416DetectBBHang' data-type='int ar5416DetectBBHang(struct ath_hal * ah)' data-ref="ar5416DetectBBHang" data-ref-filename="ar5416DetectBBHang">ar5416DetectBBHang</dfn>(<b>struct</b> <a class="type" href="../ah.h.html#ath_hal" title='ath_hal' data-ref="ath_hal" data-ref-filename="ath_hal">ath_hal</a> *<dfn class="local col0 decl" id="60ah" title='ah' data-type='struct ath_hal *' data-ref="60ah" data-ref-filename="60ah">ah</dfn>)</td></tr>
<tr><th id="451">451</th><td>{</td></tr>
<tr><th id="452">452</th><td><u>#define <dfn class="macro" id="_M/N" data-ref="_M/N">N</dfn>(a) (sizeof(a)/sizeof(a[0]))</u></td></tr>
<tr><th id="453">453</th><td>	<i>/*</i></td></tr>
<tr><th id="454">454</th><td><i>	 * Check the PCU Observation Bus 1 register (0x806c)</i></td></tr>
<tr><th id="455">455</th><td><i>	 * NUM_STATUS_READS times</i></td></tr>
<tr><th id="456">456</th><td><i>	 *</i></td></tr>
<tr><th id="457">457</th><td><i>	 * 4 known BB hang signatures -</i></td></tr>
<tr><th id="458">458</th><td><i>	 * [1] bits 8,9,11 are 0. State machine state (bits 25-31) is 0x1E</i></td></tr>
<tr><th id="459">459</th><td><i>	 * [2] bits 8,9 are 1, bit 11 is 0. State machine state</i></td></tr>
<tr><th id="460">460</th><td><i>	 *     (bits 25-31) is 0x52</i></td></tr>
<tr><th id="461">461</th><td><i>	 * [3] bits 8,9 are 1, bit 11 is 0. State machine state</i></td></tr>
<tr><th id="462">462</th><td><i>	 *     (bits 25-31) is 0x18</i></td></tr>
<tr><th id="463">463</th><td><i>	 * [4] bit 10 is 1, bit 11 is 0. WEP state (bits 12-17) is 0x2,</i></td></tr>
<tr><th id="464">464</th><td><i>	 *     Rx State (bits 20-24) is 0x7.</i></td></tr>
<tr><th id="465">465</th><td><i>	 */</i></td></tr>
<tr><th id="466">466</th><td>	<em>static</em> <em>const</em> <b>struct</b> {</td></tr>
<tr><th id="467">467</th><td>		<a class="typedef" href="../../../../../sys/stdint.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col1 decl field" id="61val" title='val' data-type='uint32_t' data-ref="61val" data-ref-filename="61val">val</dfn>;</td></tr>
<tr><th id="468">468</th><td>		<a class="typedef" href="../../../../../sys/stdint.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col2 decl field" id="62mask" title='mask' data-type='uint32_t' data-ref="62mask" data-ref-filename="62mask">mask</dfn>;</td></tr>
<tr><th id="469">469</th><td>		<em>int</em> <dfn class="local col3 decl field" id="63code" title='code' data-type='int' data-ref="63code" data-ref-filename="63code">code</dfn>;</td></tr>
<tr><th id="470">470</th><td>	} <dfn class="local col4 decl" id="64hang_list" title='hang_list' data-type='const struct (anonymous struct at /___NETBSD_SRC___/objdir.amd64/sys/arch/amd64/compile/GENERIC/../../../../../../sys/external/isc/atheros_hal/dist/ar5416/ar5416_misc.c:466:15) [4]' data-ref="64hang_list" data-ref-filename="64hang_list">hang_list</dfn>[] = {</td></tr>
<tr><th id="471">471</th><td>		<i>/* Reg Value   Reg Mask    Hang Code XXX */</i></td></tr>
<tr><th id="472">472</th><td>		{ <var>0x1E000000</var>, <var>0x7E000B00</var>, <a class="enum" href="../ah_internal.h.html#HAL_BB_HANG_DFS" title='HAL_BB_HANG_DFS' data-ref="HAL_BB_HANG_DFS" data-ref-filename="HAL_BB_HANG_DFS">HAL_BB_HANG_DFS</a> },</td></tr>
<tr><th id="473">473</th><td>		{ <var>0x52000B00</var>, <var>0x7E000B00</var>, <a class="enum" href="../ah_internal.h.html#HAL_BB_HANG_RIFS" title='HAL_BB_HANG_RIFS' data-ref="HAL_BB_HANG_RIFS" data-ref-filename="HAL_BB_HANG_RIFS">HAL_BB_HANG_RIFS</a> },</td></tr>
<tr><th id="474">474</th><td>		{ <var>0x18000B00</var>, <var>0x7E000B00</var>, <a class="enum" href="../ah_internal.h.html#HAL_BB_HANG_RX_CLEAR" title='HAL_BB_HANG_RX_CLEAR' data-ref="HAL_BB_HANG_RX_CLEAR" data-ref-filename="HAL_BB_HANG_RX_CLEAR">HAL_BB_HANG_RX_CLEAR</a> },</td></tr>
<tr><th id="475">475</th><td>		{ <var>0x00702400</var>, <var>0x7E7FFFEF</var>, <a class="enum" href="../ah_internal.h.html#HAL_BB_HANG_RX_CLEAR" title='HAL_BB_HANG_RX_CLEAR' data-ref="HAL_BB_HANG_RX_CLEAR" data-ref-filename="HAL_BB_HANG_RX_CLEAR">HAL_BB_HANG_RX_CLEAR</a> }</td></tr>
<tr><th id="476">476</th><td>	};</td></tr>
<tr><th id="477">477</th><td>	<a class="typedef" href="../../../../../sys/stdint.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col5 decl" id="65hang_sig" title='hang_sig' data-type='uint32_t' data-ref="65hang_sig" data-ref-filename="65hang_sig">hang_sig</dfn>;</td></tr>
<tr><th id="478">478</th><td>	<em>int</em> <dfn class="local col6 decl" id="66i" title='i' data-type='int' data-ref="66i" data-ref-filename="66i">i</dfn>;</td></tr>
<tr><th id="479">479</th><td></td></tr>
<tr><th id="480">480</th><td>	<a class="local col5 ref" href="#65hang_sig" title='hang_sig' data-ref="65hang_sig" data-ref-filename="65hang_sig">hang_sig</a> = <a class="macro" href="../../ic/ah_osdep.h.html#127" title="((u_int32_t) bus_space_read_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x806c)))" data-ref="_M/OS_REG_READ">OS_REG_READ</a>(<a class="local col0 ref" href="#60ah" title='ah' data-ref="60ah" data-ref-filename="60ah">ah</a>, <a class="macro" href="../ar5212/ar5212reg.h.html#277" title="0x806c" data-ref="_M/AR_OBSERV_1">AR_OBSERV_1</a>);</td></tr>
<tr><th id="481">481</th><td>	<b>for</b> (<a class="local col6 ref" href="#66i" title='i' data-ref="66i" data-ref-filename="66i">i</a> = <var>1</var>; <a class="local col6 ref" href="#66i" title='i' data-ref="66i" data-ref-filename="66i">i</a> &lt;= <a class="macro" href="#399" title="50" data-ref="_M/NUM_STATUS_READS">NUM_STATUS_READS</a>; <a class="local col6 ref" href="#66i" title='i' data-ref="66i" data-ref-filename="66i">i</a>++) {</td></tr>
<tr><th id="482">482</th><td>		<b>if</b> (<a class="local col5 ref" href="#65hang_sig" title='hang_sig' data-ref="65hang_sig" data-ref-filename="65hang_sig">hang_sig</a> != <a class="macro" href="../../ic/ah_osdep.h.html#127" title="((u_int32_t) bus_space_read_4((ah)-&gt;ah_st, (ah)-&gt;ah_sh, (0x806c)))" data-ref="_M/OS_REG_READ">OS_REG_READ</a>(<a class="local col0 ref" href="#60ah" title='ah' data-ref="60ah" data-ref-filename="60ah">ah</a>, <a class="macro" href="../ar5212/ar5212reg.h.html#277" title="0x806c" data-ref="_M/AR_OBSERV_1">AR_OBSERV_1</a>))</td></tr>
<tr><th id="483">483</th><td>			<b>return</b> <var>0</var>;</td></tr>
<tr><th id="484">484</th><td>	}</td></tr>
<tr><th id="485">485</th><td>	<b>for</b> (<a class="local col6 ref" href="#66i" title='i' data-ref="66i" data-ref-filename="66i">i</a> = <var>0</var>; <a class="local col6 ref" href="#66i" title='i' data-ref="66i" data-ref-filename="66i">i</a> &lt; <a class="macro" href="#452" title="(sizeof(hang_list)/sizeof(hang_list[0]))" data-ref="_M/N">N</a>(<a class="local col4 ref" href="#64hang_list" title='hang_list' data-ref="64hang_list" data-ref-filename="64hang_list">hang_list</a>); <a class="local col6 ref" href="#66i" title='i' data-ref="66i" data-ref-filename="66i">i</a>++)</td></tr>
<tr><th id="486">486</th><td>		<b>if</b> ((<a class="local col5 ref" href="#65hang_sig" title='hang_sig' data-ref="65hang_sig" data-ref-filename="65hang_sig">hang_sig</a> &amp; <a class="local col4 ref" href="#64hang_list" title='hang_list' data-ref="64hang_list" data-ref-filename="64hang_list">hang_list</a>[<a class="local col6 ref" href="#66i" title='i' data-ref="66i" data-ref-filename="66i">i</a>].<a class="local col2 ref field" href="#62mask" title='mask' data-ref="62mask" data-ref-filename="62mask">mask</a>) == <a class="local col4 ref" href="#64hang_list" title='hang_list' data-ref="64hang_list" data-ref-filename="64hang_list">hang_list</a>[<a class="local col6 ref" href="#66i" title='i' data-ref="66i" data-ref-filename="66i">i</a>].<a class="local col1 ref field" href="#61val" title='val' data-ref="61val" data-ref-filename="61val">val</a>) {</td></tr>
<tr><th id="487">487</th><td>			<a class="macro" href="../ah_internal.h.html#578" title="" data-ref="_M/HALDEBUG">HALDEBUG</a>(ah, HAL_DEBUG_ANY,</td></tr>
<tr><th id="488">488</th><td>			    <q>"%s BB hang, signature 0x%x, code 0x%x\n"</q>,</td></tr>
<tr><th id="489">489</th><td>			    <b>__func__</b>, hang_sig, hang_list[i].code);</td></tr>
<tr><th id="490">490</th><td>			<b>return</b> <a class="local col4 ref" href="#64hang_list" title='hang_list' data-ref="64hang_list" data-ref-filename="64hang_list">hang_list</a>[<a class="local col6 ref" href="#66i" title='i' data-ref="66i" data-ref-filename="66i">i</a>].<a class="local col3 ref field" href="#63code" title='code' data-ref="63code" data-ref-filename="63code">code</a>;</td></tr>
<tr><th id="491">491</th><td>		}</td></tr>
<tr><th id="492">492</th><td></td></tr>
<tr><th id="493">493</th><td>	<a class="macro" href="../ah_internal.h.html#578" title="" data-ref="_M/HALDEBUG">HALDEBUG</a>(ah, HAL_DEBUG_ANY, <q>"%s Found an unknown BB hang signature! "</q></td></tr>
<tr><th id="494">494</th><td>	    <q>"&lt;0x806c&gt;=0x%x\n"</q>, <b>__func__</b>, hang_sig);</td></tr>
<tr><th id="495">495</th><td></td></tr>
<tr><th id="496">496</th><td>	<b>return</b> <a class="enum" href="../ah_internal.h.html#HAL_BB_HANG_UNKNOWN" title='HAL_BB_HANG_UNKNOWN' data-ref="HAL_BB_HANG_UNKNOWN" data-ref-filename="HAL_BB_HANG_UNKNOWN">HAL_BB_HANG_UNKNOWN</a>;</td></tr>
<tr><th id="497">497</th><td><u>#undef <a class="macro" href="#452" data-ref="_M/N">N</a></u></td></tr>
<tr><th id="498">498</th><td>}</td></tr>
<tr><th id="499">499</th><td><u>#undef <a class="macro" href="#399" data-ref="_M/NUM_STATUS_READS">NUM_STATUS_READS</a></u></td></tr>
<tr><th id="500">500</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2019-Jul-19</em> from project netbsd revision <em>f9da89e0d</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
