<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>prune.h source code [netbsd/usr.sbin/mrouted/prune.h] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="gtable,ptable,stable,tr_query,tr_resp "/>
<link rel="stylesheet" href="https://code.woboq.org/data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="https://code.woboq.org/data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="https://code.woboq.org/data/jquery/jquery-ui.min.js"></script>
<script>var file = 'netbsd/usr.sbin/mrouted/prune.h'; var root_path = '../../..'; var data_path = 'https://code.woboq.org/data'; var ecma_script_api_version = 2;</script>
<script src='https://code.woboq.org/data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../..'>netbsd</a>/<a href='..'>usr.sbin</a>/<a href='./'>mrouted</a>/<a href='prune.h.html'>prune.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*	$NetBSD: prune.h,v 1.6 2003/03/05 21:05:40 wiz Exp $	*/</i></td></tr>
<tr><th id="2">2</th><td></td></tr>
<tr><th id="3">3</th><td><i>/*</i></td></tr>
<tr><th id="4">4</th><td><i> * The mrouted program is covered by the license in the accompanying file</i></td></tr>
<tr><th id="5">5</th><td><i> * named "LICENSE".  Use of the mrouted program represents acceptance of</i></td></tr>
<tr><th id="6">6</th><td><i> * the terms and conditions listed in that file.</i></td></tr>
<tr><th id="7">7</th><td><i> *</i></td></tr>
<tr><th id="8">8</th><td><i> * The mrouted program is COPYRIGHT 1989 by The Board of Trustees of</i></td></tr>
<tr><th id="9">9</th><td><i> * Leland Stanford Junior University.</i></td></tr>
<tr><th id="10">10</th><td><i> */</i></td></tr>
<tr><th id="11">11</th><td></td></tr>
<tr><th id="12">12</th><td><i>/*</i></td></tr>
<tr><th id="13">13</th><td><i> * Group table</i></td></tr>
<tr><th id="14">14</th><td><i> *</i></td></tr>
<tr><th id="15">15</th><td><i> * Each group entry is a member of two doubly-linked lists:</i></td></tr>
<tr><th id="16">16</th><td><i> *</i></td></tr>
<tr><th id="17">17</th><td><i> * a) A list hanging off of the routing table entry for this source (rt_groups)</i></td></tr>
<tr><th id="18">18</th><td><i> *	sorted by group address under the routing entry (gt_next, gt_prev)</i></td></tr>
<tr><th id="19">19</th><td><i> * b) An independent list pointed to by kernel_table, which is a list of</i></td></tr>
<tr><th id="20">20</th><td><i> *	active source,group's (gt_gnext, gt_gprev).</i></td></tr>
<tr><th id="21">21</th><td><i> *</i></td></tr>
<tr><th id="22">22</th><td><i> */</i></td></tr>
<tr><th id="23">23</th><td><b>struct</b> <dfn class="type def" id="gtable" title='gtable' data-ref="gtable" data-ref-filename="gtable">gtable</dfn> {</td></tr>
<tr><th id="24">24</th><td>    <b>struct</b> <a class="type" href="#gtable" title='gtable' data-ref="gtable" data-ref-filename="gtable">gtable</a>  *<dfn class="decl field" id="gtable::gt_next" title='gtable::gt_next' data-ref="gtable::gt_next" data-ref-filename="gtable..gt_next">gt_next</dfn>;		<i>/* pointer to the next entry	    */</i></td></tr>
<tr><th id="25">25</th><td>    <b>struct</b> <a class="type" href="#gtable" title='gtable' data-ref="gtable" data-ref-filename="gtable">gtable</a>  *<dfn class="decl field" id="gtable::gt_prev" title='gtable::gt_prev' data-ref="gtable::gt_prev" data-ref-filename="gtable..gt_prev">gt_prev</dfn>;		<i>/* back pointer for linked list	    */</i></td></tr>
<tr><th id="26">26</th><td>    <b>struct</b> <a class="type" href="#gtable" title='gtable' data-ref="gtable" data-ref-filename="gtable">gtable</a>  *<dfn class="decl field" id="gtable::gt_gnext" title='gtable::gt_gnext' data-ref="gtable::gt_gnext" data-ref-filename="gtable..gt_gnext">gt_gnext</dfn>;		<i>/* fwd pointer for group list	    */</i></td></tr>
<tr><th id="27">27</th><td>    <b>struct</b> <a class="type" href="#gtable" title='gtable' data-ref="gtable" data-ref-filename="gtable">gtable</a>  *<dfn class="decl field" id="gtable::gt_gprev" title='gtable::gt_gprev' data-ref="gtable::gt_gprev" data-ref-filename="gtable..gt_gprev">gt_gprev</dfn>;		<i>/* rev pointer for group list	    */</i></td></tr>
<tr><th id="28">28</th><td>    <a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#u_int32_t" title='u_int32_t' data-type='uint32_t' data-ref="u_int32_t" data-ref-filename="u_int32_t">u_int32_t</a>	    <dfn class="decl field" id="gtable::gt_mcastgrp" title='gtable::gt_mcastgrp' data-ref="gtable::gt_mcastgrp" data-ref-filename="gtable..gt_mcastgrp">gt_mcastgrp</dfn>;	<i>/* multicast group associated       */</i></td></tr>
<tr><th id="29">29</th><td>    <a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/netinet/ip_mroute.h.html#vifbitmap_t" title='vifbitmap_t' data-type='u_int32_t' data-ref="vifbitmap_t" data-ref-filename="vifbitmap_t">vifbitmap_t</a>     <dfn class="decl field" id="gtable::gt_scope" title='gtable::gt_scope' data-ref="gtable::gt_scope" data-ref-filename="gtable..gt_scope">gt_scope</dfn>;		<i>/* scoped interfaces                */</i></td></tr>
<tr><th id="30">30</th><td>    <a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#u_char" title='u_char' data-type='unsigned char' data-ref="u_char" data-ref-filename="u_char">u_char</a>	    <dfn class="decl field" id="gtable::gt_ttls" title='gtable::gt_ttls' data-ref="gtable::gt_ttls" data-ref-filename="gtable..gt_ttls">gt_ttls</dfn>[<a class="macro" href="../../objdir.amd64/destdir.amd64/usr/include/netinet/ip_mroute.h.html#49" title="32" data-ref="_M/MAXVIFS">MAXVIFS</a>];	<i>/* ttl vector for forwarding        */</i></td></tr>
<tr><th id="31">31</th><td>    <a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/netinet/ip_mroute.h.html#vifbitmap_t" title='vifbitmap_t' data-type='u_int32_t' data-ref="vifbitmap_t" data-ref-filename="vifbitmap_t">vifbitmap_t</a>	    <dfn class="decl field" id="gtable::gt_grpmems" title='gtable::gt_grpmems' data-ref="gtable::gt_grpmems" data-ref-filename="gtable..gt_grpmems">gt_grpmems</dfn>;		<i>/* forw. vifs for src, grp          */</i></td></tr>
<tr><th id="32">32</th><td>    <em>int</em>		    <dfn class="decl field" id="gtable::gt_prsent_timer" title='gtable::gt_prsent_timer' data-ref="gtable::gt_prsent_timer" data-ref-filename="gtable..gt_prsent_timer">gt_prsent_timer</dfn>;	<i>/* prune timer for this group	    */</i></td></tr>
<tr><th id="33">33</th><td>    <em>int</em>  	    <dfn class="decl field" id="gtable::gt_timer" title='gtable::gt_timer' data-ref="gtable::gt_timer" data-ref-filename="gtable..gt_timer">gt_timer</dfn>;		<i>/* timer for this group entry	    */</i></td></tr>
<tr><th id="34">34</th><td>    <a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#time_t" title='time_t' data-type='__int64_t' data-ref="time_t" data-ref-filename="time_t">time_t</a> 	    <dfn class="decl field" id="gtable::gt_ctime" title='gtable::gt_ctime' data-ref="gtable::gt_ctime" data-ref-filename="gtable..gt_ctime">gt_ctime</dfn>;		<i>/* time of entry creation         */</i></td></tr>
<tr><th id="35">35</th><td>    <a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#u_char" title='u_char' data-type='unsigned char' data-ref="u_char" data-ref-filename="u_char">u_char</a>	    <dfn class="decl field" id="gtable::gt_grftsnt" title='gtable::gt_grftsnt' data-ref="gtable::gt_grftsnt" data-ref-filename="gtable..gt_grftsnt">gt_grftsnt</dfn>;		<i>/* graft sent/retransmit timer	    */</i></td></tr>
<tr><th id="36">36</th><td>    <b>struct</b> <a class="type" href="#stable" title='stable' data-ref="stable" data-ref-filename="stable">stable</a>  *<dfn class="decl field" id="gtable::gt_srctbl" title='gtable::gt_srctbl' data-ref="gtable::gt_srctbl" data-ref-filename="gtable..gt_srctbl">gt_srctbl</dfn>;		<i>/* source table			    */</i></td></tr>
<tr><th id="37">37</th><td>    <b>struct</b> <a class="type" href="#ptable" title='ptable' data-ref="ptable" data-ref-filename="ptable">ptable</a>  *<dfn class="decl field" id="gtable::gt_pruntbl" title='gtable::gt_pruntbl' data-ref="gtable::gt_pruntbl" data-ref-filename="gtable..gt_pruntbl">gt_pruntbl</dfn>;		<i>/* prune table			    */</i></td></tr>
<tr><th id="38">38</th><td>    <b>struct</b> <a class="type" href="route.h.html#rtentry" title='rtentry' data-ref="rtentry" data-ref-filename="rtentry">rtentry</a> *<dfn class="decl field" id="gtable::gt_route" title='gtable::gt_route' data-ref="gtable::gt_route" data-ref-filename="gtable..gt_route">gt_route</dfn>;		<i>/* parent route			    */</i></td></tr>
<tr><th id="39">39</th><td><u>#<span data-ppcond="39">ifdef</span> <span class="macro" data-ref="_M/RSRR">RSRR</span></u></td></tr>
<tr><th id="40">40</th><td>    <b>struct</b> rsrr_cache *gt_rsrr_cache;	<i>/* RSRR cache                       */</i></td></tr>
<tr><th id="41">41</th><td><u>#<span data-ppcond="39">endif</span> /* RSRR */</u></td></tr>
<tr><th id="42">42</th><td>};</td></tr>
<tr><th id="43">43</th><td></td></tr>
<tr><th id="44">44</th><td><i>/*</i></td></tr>
<tr><th id="45">45</th><td><i> * Source table</i></td></tr>
<tr><th id="46">46</th><td><i> *</i></td></tr>
<tr><th id="47">47</th><td><i> * When source-based prunes exist, there will be a struct ptable here as well.</i></td></tr>
<tr><th id="48">48</th><td><i> */</i></td></tr>
<tr><th id="49">49</th><td><b>struct</b> <dfn class="type def" id="stable" title='stable' data-ref="stable" data-ref-filename="stable">stable</dfn> </td></tr>
<tr><th id="50">50</th><td>{</td></tr>
<tr><th id="51">51</th><td>    <b>struct</b> <a class="type" href="#stable" title='stable' data-ref="stable" data-ref-filename="stable">stable</a>  *<dfn class="decl field" id="stable::st_next" title='stable::st_next' data-ref="stable::st_next" data-ref-filename="stable..st_next">st_next</dfn>;       	<i>/* pointer to the next entry        */</i></td></tr>
<tr><th id="52">52</th><td>    <a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#u_int32_t" title='u_int32_t' data-type='uint32_t' data-ref="u_int32_t" data-ref-filename="u_int32_t">u_int32_t</a>	    <dfn class="decl field" id="stable::st_origin" title='stable::st_origin' data-ref="stable::st_origin" data-ref-filename="stable..st_origin">st_origin</dfn>;		<i>/* host origin of multicasts        */</i></td></tr>
<tr><th id="53">53</th><td>    <a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#u_long" title='u_long' data-type='unsigned long' data-ref="u_long" data-ref-filename="u_long">u_long</a>	    <dfn class="decl field" id="stable::st_pktcnt" title='stable::st_pktcnt' data-ref="stable::st_pktcnt" data-ref-filename="stable..st_pktcnt">st_pktcnt</dfn>;		<i>/* packet count for src-grp entry   */</i></td></tr>
<tr><th id="54">54</th><td>};</td></tr>
<tr><th id="55">55</th><td></td></tr>
<tr><th id="56">56</th><td><i>/*</i></td></tr>
<tr><th id="57">57</th><td><i> * structure to store incoming prunes.  Can hang off of either group or source.</i></td></tr>
<tr><th id="58">58</th><td><i> */</i></td></tr>
<tr><th id="59">59</th><td><b>struct</b> <dfn class="type def" id="ptable" title='ptable' data-ref="ptable" data-ref-filename="ptable">ptable</dfn> </td></tr>
<tr><th id="60">60</th><td>{</td></tr>
<tr><th id="61">61</th><td>    <b>struct</b> <a class="type" href="#ptable" title='ptable' data-ref="ptable" data-ref-filename="ptable">ptable</a>  *<dfn class="decl field" id="ptable::pt_next" title='ptable::pt_next' data-ref="ptable::pt_next" data-ref-filename="ptable..pt_next">pt_next</dfn>;		<i>/* pointer to the next entry	    */</i></td></tr>
<tr><th id="62">62</th><td>    <a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#u_int32_t" title='u_int32_t' data-type='uint32_t' data-ref="u_int32_t" data-ref-filename="u_int32_t">u_int32_t</a>	    <dfn class="decl field" id="ptable::pt_router" title='ptable::pt_router' data-ref="ptable::pt_router" data-ref-filename="ptable..pt_router">pt_router</dfn>;		<i>/* router that sent this prune	    */</i></td></tr>
<tr><th id="63">63</th><td>    <a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/netinet/ip_mroute.h.html#vifi_t" title='vifi_t' data-type='u_int16_t' data-ref="vifi_t" data-ref-filename="vifi_t">vifi_t</a>	    <dfn class="decl field" id="ptable::pt_vifi" title='ptable::pt_vifi' data-ref="ptable::pt_vifi" data-ref-filename="ptable..pt_vifi">pt_vifi</dfn>;		<i>/* vif prune received on	    */</i></td></tr>
<tr><th id="64">64</th><td>    <em>int</em>		    <dfn class="decl field" id="ptable::pt_timer" title='ptable::pt_timer' data-ref="ptable::pt_timer" data-ref-filename="ptable..pt_timer">pt_timer</dfn>;		<i>/* timer for prune		    */</i></td></tr>
<tr><th id="65">65</th><td>};</td></tr>
<tr><th id="66">66</th><td></td></tr>
<tr><th id="67">67</th><td><i>/*</i></td></tr>
<tr><th id="68">68</th><td><i> * The packet format for a traceroute request.</i></td></tr>
<tr><th id="69">69</th><td><i> */</i></td></tr>
<tr><th id="70">70</th><td><b>struct</b> <dfn class="type def" id="tr_query" title='tr_query' data-ref="tr_query" data-ref-filename="tr_query">tr_query</dfn> {</td></tr>
<tr><th id="71">71</th><td>    <a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#u_int32_t" title='u_int32_t' data-type='uint32_t' data-ref="u_int32_t" data-ref-filename="u_int32_t">u_int32_t</a>  <dfn class="decl field" id="tr_query::tr_src" title='tr_query::tr_src' data-ref="tr_query::tr_src" data-ref-filename="tr_query..tr_src">tr_src</dfn>;		<i>/* traceroute source */</i></td></tr>
<tr><th id="72">72</th><td>    <a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#u_int32_t" title='u_int32_t' data-type='uint32_t' data-ref="u_int32_t" data-ref-filename="u_int32_t">u_int32_t</a>  <dfn class="decl field" id="tr_query::tr_dst" title='tr_query::tr_dst' data-ref="tr_query::tr_dst" data-ref-filename="tr_query..tr_dst">tr_dst</dfn>;		<i>/* traceroute destination */</i></td></tr>
<tr><th id="73">73</th><td>    <a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#u_int32_t" title='u_int32_t' data-type='uint32_t' data-ref="u_int32_t" data-ref-filename="u_int32_t">u_int32_t</a>  <dfn class="decl field" id="tr_query::tr_raddr" title='tr_query::tr_raddr' data-ref="tr_query::tr_raddr" data-ref-filename="tr_query..tr_raddr">tr_raddr</dfn>;		<i>/* traceroute response address */</i></td></tr>
<tr><th id="74">74</th><td><u>#<span data-ppcond="74">if</span> defined(<a class="macro" href="../../objdir.amd64/destdir.amd64/usr/include/sys/endian.h.html#103" data-ref="_M/BYTE_ORDER">BYTE_ORDER</a>) &amp;&amp; (<a class="macro" href="../../objdir.amd64/destdir.amd64/usr/include/sys/endian.h.html#103" title="1234" data-ref="_M/BYTE_ORDER">BYTE_ORDER</a> == <a class="macro" href="../../objdir.amd64/destdir.amd64/usr/include/sys/endian.h.html#100" title="1234" data-ref="_M/LITTLE_ENDIAN">LITTLE_ENDIAN</a>)</u></td></tr>
<tr><th id="75">75</th><td>    <b>struct</b> {</td></tr>
<tr><th id="76">76</th><td>	<a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#u_int" title='u_int' data-type='unsigned int' data-ref="u_int" data-ref-filename="u_int">u_int</a>	<dfn class="decl field" id="tr_query::(anonymous)::qid" title='tr_query::(anonymous struct)::qid' data-ref="tr_query::(anonymous)::qid" data-ref-filename="tr_query..(anonymous)..qid">qid</dfn> : <var>24</var>;	<i>/* traceroute query id */</i></td></tr>
<tr><th id="77">77</th><td>	<a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#u_int" title='u_int' data-type='unsigned int' data-ref="u_int" data-ref-filename="u_int">u_int</a>	<dfn class="decl field" id="tr_query::(anonymous)::ttl" title='tr_query::(anonymous struct)::ttl' data-ref="tr_query::(anonymous)::ttl" data-ref-filename="tr_query..(anonymous)..ttl">ttl</dfn> : <var>8</var>;	<i>/* traceroute response ttl */</i></td></tr>
<tr><th id="78">78</th><td>    } <dfn class="decl field" id="tr_query::q" title='tr_query::q' data-ref="tr_query::q" data-ref-filename="tr_query..q">q</dfn>;</td></tr>
<tr><th id="79">79</th><td><u>#<span data-ppcond="74">else</span></u></td></tr>
<tr><th id="80">80</th><td>    <b>struct</b> {</td></tr>
<tr><th id="81">81</th><td>	u_int   ttl : <var>8</var>;	<i>/* traceroute response ttl */</i></td></tr>
<tr><th id="82">82</th><td>	u_int   qid : <var>24</var>;	<i>/* traceroute query id */</i></td></tr>
<tr><th id="83">83</th><td>    } q;</td></tr>
<tr><th id="84">84</th><td><u>#<span data-ppcond="74">endif</span> /* BYTE_ORDER */</u></td></tr>
<tr><th id="85">85</th><td>};</td></tr>
<tr><th id="86">86</th><td></td></tr>
<tr><th id="87">87</th><td><u>#define <dfn class="macro" id="_M/tr_rttl" data-ref="_M/tr_rttl">tr_rttl</dfn> q.ttl</u></td></tr>
<tr><th id="88">88</th><td><u>#define <dfn class="macro" id="_M/tr_qid" data-ref="_M/tr_qid">tr_qid</dfn>  q.qid</u></td></tr>
<tr><th id="89">89</th><td></td></tr>
<tr><th id="90">90</th><td><i>/*</i></td></tr>
<tr><th id="91">91</th><td><i> * Traceroute response format.  A traceroute response has a tr_query at the</i></td></tr>
<tr><th id="92">92</th><td><i> * beginning, followed by one tr_resp for each hop taken.</i></td></tr>
<tr><th id="93">93</th><td><i> */</i></td></tr>
<tr><th id="94">94</th><td><b>struct</b> <dfn class="type def" id="tr_resp" title='tr_resp' data-ref="tr_resp" data-ref-filename="tr_resp">tr_resp</dfn> {</td></tr>
<tr><th id="95">95</th><td>    <a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#u_int32_t" title='u_int32_t' data-type='uint32_t' data-ref="u_int32_t" data-ref-filename="u_int32_t">u_int32_t</a> <dfn class="decl field" id="tr_resp::tr_qarr" title='tr_resp::tr_qarr' data-ref="tr_resp::tr_qarr" data-ref-filename="tr_resp..tr_qarr">tr_qarr</dfn>;		<i>/* query arrival time */</i></td></tr>
<tr><th id="96">96</th><td>    <a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#u_int32_t" title='u_int32_t' data-type='uint32_t' data-ref="u_int32_t" data-ref-filename="u_int32_t">u_int32_t</a> <dfn class="decl field" id="tr_resp::tr_inaddr" title='tr_resp::tr_inaddr' data-ref="tr_resp::tr_inaddr" data-ref-filename="tr_resp..tr_inaddr">tr_inaddr</dfn>;		<i>/* incoming interface address */</i></td></tr>
<tr><th id="97">97</th><td>    <a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#u_int32_t" title='u_int32_t' data-type='uint32_t' data-ref="u_int32_t" data-ref-filename="u_int32_t">u_int32_t</a> <dfn class="decl field" id="tr_resp::tr_outaddr" title='tr_resp::tr_outaddr' data-ref="tr_resp::tr_outaddr" data-ref-filename="tr_resp..tr_outaddr">tr_outaddr</dfn>;		<i>/* outgoing interface address */</i></td></tr>
<tr><th id="98">98</th><td>    <a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#u_int32_t" title='u_int32_t' data-type='uint32_t' data-ref="u_int32_t" data-ref-filename="u_int32_t">u_int32_t</a> <dfn class="decl field" id="tr_resp::tr_rmtaddr" title='tr_resp::tr_rmtaddr' data-ref="tr_resp::tr_rmtaddr" data-ref-filename="tr_resp..tr_rmtaddr">tr_rmtaddr</dfn>;		<i>/* parent address in source tree */</i></td></tr>
<tr><th id="99">99</th><td>    <a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#u_int32_t" title='u_int32_t' data-type='uint32_t' data-ref="u_int32_t" data-ref-filename="u_int32_t">u_int32_t</a> <dfn class="decl field" id="tr_resp::tr_vifin" title='tr_resp::tr_vifin' data-ref="tr_resp::tr_vifin" data-ref-filename="tr_resp..tr_vifin">tr_vifin</dfn>;		<i>/* input packet count on interface */</i></td></tr>
<tr><th id="100">100</th><td>    <a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#u_int32_t" title='u_int32_t' data-type='uint32_t' data-ref="u_int32_t" data-ref-filename="u_int32_t">u_int32_t</a> <dfn class="decl field" id="tr_resp::tr_vifout" title='tr_resp::tr_vifout' data-ref="tr_resp::tr_vifout" data-ref-filename="tr_resp..tr_vifout">tr_vifout</dfn>;		<i>/* output packet count on interface */</i></td></tr>
<tr><th id="101">101</th><td>    <a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#u_int32_t" title='u_int32_t' data-type='uint32_t' data-ref="u_int32_t" data-ref-filename="u_int32_t">u_int32_t</a> <dfn class="decl field" id="tr_resp::tr_pktcnt" title='tr_resp::tr_pktcnt' data-ref="tr_resp::tr_pktcnt" data-ref-filename="tr_resp..tr_pktcnt">tr_pktcnt</dfn>;		<i>/* total incoming packets for src-grp */</i></td></tr>
<tr><th id="102">102</th><td>    <a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#u_char" title='u_char' data-type='unsigned char' data-ref="u_char" data-ref-filename="u_char">u_char</a>  <dfn class="decl field" id="tr_resp::tr_rproto" title='tr_resp::tr_rproto' data-ref="tr_resp::tr_rproto" data-ref-filename="tr_resp..tr_rproto">tr_rproto</dfn>;		<i>/* routing protocol deployed on router */</i></td></tr>
<tr><th id="103">103</th><td>    <a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#u_char" title='u_char' data-type='unsigned char' data-ref="u_char" data-ref-filename="u_char">u_char</a>  <dfn class="decl field" id="tr_resp::tr_fttl" title='tr_resp::tr_fttl' data-ref="tr_resp::tr_fttl" data-ref-filename="tr_resp..tr_fttl">tr_fttl</dfn>;		<i>/* ttl required to forward on outvif */</i></td></tr>
<tr><th id="104">104</th><td>    <a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#u_char" title='u_char' data-type='unsigned char' data-ref="u_char" data-ref-filename="u_char">u_char</a>  <dfn class="decl field" id="tr_resp::tr_smask" title='tr_resp::tr_smask' data-ref="tr_resp::tr_smask" data-ref-filename="tr_resp..tr_smask">tr_smask</dfn>;		<i>/* subnet mask for src addr */</i></td></tr>
<tr><th id="105">105</th><td>    <a class="typedef" href="../../objdir.amd64/destdir.amd64/usr/include/sys/types.h.html#u_char" title='u_char' data-type='unsigned char' data-ref="u_char" data-ref-filename="u_char">u_char</a>  <dfn class="decl field" id="tr_resp::tr_rflags" title='tr_resp::tr_rflags' data-ref="tr_resp::tr_rflags" data-ref-filename="tr_resp..tr_rflags">tr_rflags</dfn>;		<i>/* forwarding error codes */</i></td></tr>
<tr><th id="106">106</th><td>};</td></tr>
<tr><th id="107">107</th><td></td></tr>
<tr><th id="108">108</th><td><i>/* defs within mtrace */</i></td></tr>
<tr><th id="109">109</th><td><u>#define <dfn class="macro" id="_M/QUERY" data-ref="_M/QUERY">QUERY</dfn>	1</u></td></tr>
<tr><th id="110">110</th><td><u>#define <dfn class="macro" id="_M/RESP" data-ref="_M/RESP">RESP</dfn>	2</u></td></tr>
<tr><th id="111">111</th><td><u>#define <dfn class="macro" id="_M/QLEN" data-ref="_M/QLEN">QLEN</dfn>	sizeof(struct tr_query)</u></td></tr>
<tr><th id="112">112</th><td><u>#define <dfn class="macro" id="_M/RLEN" data-ref="_M/RLEN">RLEN</dfn>	sizeof(struct tr_resp)</u></td></tr>
<tr><th id="113">113</th><td></td></tr>
<tr><th id="114">114</th><td><i>/* fields for tr_rflags (forwarding error codes) */</i></td></tr>
<tr><th id="115">115</th><td><u>#define <dfn class="macro" id="_M/TR_NO_ERR" data-ref="_M/TR_NO_ERR">TR_NO_ERR</dfn>	0</u></td></tr>
<tr><th id="116">116</th><td><u>#define <dfn class="macro" id="_M/TR_WRONG_IF" data-ref="_M/TR_WRONG_IF">TR_WRONG_IF</dfn>	1</u></td></tr>
<tr><th id="117">117</th><td><u>#define <dfn class="macro" id="_M/TR_PRUNED" data-ref="_M/TR_PRUNED">TR_PRUNED</dfn>	2</u></td></tr>
<tr><th id="118">118</th><td><u>#define <dfn class="macro" id="_M/TR_OPRUNED" data-ref="_M/TR_OPRUNED">TR_OPRUNED</dfn>	3</u></td></tr>
<tr><th id="119">119</th><td><u>#define <dfn class="macro" id="_M/TR_SCOPED" data-ref="_M/TR_SCOPED">TR_SCOPED</dfn>	4</u></td></tr>
<tr><th id="120">120</th><td><u>#define <dfn class="macro" id="_M/TR_NO_RTE" data-ref="_M/TR_NO_RTE">TR_NO_RTE</dfn>	5</u></td></tr>
<tr><th id="121">121</th><td><u>#define <dfn class="macro" id="_M/TR_NO_FWD" data-ref="_M/TR_NO_FWD">TR_NO_FWD</dfn>	7</u></td></tr>
<tr><th id="122">122</th><td><u>#define <dfn class="macro" id="_M/TR_RP_OR_CORE" data-ref="_M/TR_RP_OR_CORE">TR_RP_OR_CORE</dfn>	8</u></td></tr>
<tr><th id="123">123</th><td><u>#define <dfn class="macro" id="_M/TR_RPF_INT" data-ref="_M/TR_RPF_INT">TR_RPF_INT</dfn>	9</u></td></tr>
<tr><th id="124">124</th><td><u>#define <dfn class="macro" id="_M/TR_NO_MULTICAST" data-ref="_M/TR_NO_MULTICAST">TR_NO_MULTICAST</dfn>	10</u></td></tr>
<tr><th id="125">125</th><td><u>#define <dfn class="macro" id="_M/TR_NO_SPACE" data-ref="_M/TR_NO_SPACE">TR_NO_SPACE</dfn>	0x81</u></td></tr>
<tr><th id="126">126</th><td><u>#define <dfn class="macro" id="_M/TR_OLD_ROUTER" data-ref="_M/TR_OLD_ROUTER">TR_OLD_ROUTER</dfn>	0x82</u></td></tr>
<tr><th id="127">127</th><td><u>#define <dfn class="macro" id="_M/TR_ADMIN_DENY" data-ref="_M/TR_ADMIN_DENY">TR_ADMIN_DENY</dfn>	0x83</u></td></tr>
<tr><th id="128">128</th><td></td></tr>
<tr><th id="129">129</th><td><i>/* fields for tr_rproto (routing protocol) */</i></td></tr>
<tr><th id="130">130</th><td><u>#define <dfn class="macro" id="_M/PROTO_DVMRP" data-ref="_M/PROTO_DVMRP">PROTO_DVMRP</dfn>	1</u></td></tr>
<tr><th id="131">131</th><td><u>#define <dfn class="macro" id="_M/PROTO_MOSPF" data-ref="_M/PROTO_MOSPF">PROTO_MOSPF</dfn>	2</u></td></tr>
<tr><th id="132">132</th><td><u>#define <dfn class="macro" id="_M/PROTO_PIM" data-ref="_M/PROTO_PIM">PROTO_PIM</dfn>	3</u></td></tr>
<tr><th id="133">133</th><td><u>#define <dfn class="macro" id="_M/PROTO_CBT" data-ref="_M/PROTO_CBT">PROTO_CBT</dfn>	4</u></td></tr>
<tr><th id="134">134</th><td><u>#define <dfn class="macro" id="_M/PROTO_PIM_SPEC" data-ref="_M/PROTO_PIM_SPEC">PROTO_PIM_SPEC</dfn>	5</u></td></tr>
<tr><th id="135">135</th><td><u>#define <dfn class="macro" id="_M/PROTO_PIM_STAT" data-ref="_M/PROTO_PIM_STAT">PROTO_PIM_STAT</dfn>	6</u></td></tr>
<tr><th id="136">136</th><td><u>#define <dfn class="macro" id="_M/PROTO_DVMRP_STAT" data-ref="_M/PROTO_DVMRP_STAT">PROTO_DVMRP_STAT</dfn> 7</u></td></tr>
<tr><th id="137">137</th><td><u>#define <dfn class="macro" id="_M/PROTO_PIM_MBGP" data-ref="_M/PROTO_PIM_MBGP">PROTO_PIM_MBGP</dfn>	8</u></td></tr>
<tr><th id="138">138</th><td></td></tr>
<tr><th id="139">139</th><td><u>#define <dfn class="macro" id="_M/MASK_TO_VAL" data-ref="_M/MASK_TO_VAL">MASK_TO_VAL</dfn>(x, i) { \</u></td></tr>
<tr><th id="140">140</th><td><u>			u_int32_t _x = ntohl(x); \</u></td></tr>
<tr><th id="141">141</th><td><u>			(i) = 1; \</u></td></tr>
<tr><th id="142">142</th><td><u>			while ((_x) &lt;&lt;= 1) \</u></td></tr>
<tr><th id="143">143</th><td><u>				(i)++; \</u></td></tr>
<tr><th id="144">144</th><td><u>			};</u></td></tr>
<tr><th id="145">145</th><td></td></tr>
<tr><th id="146">146</th><td><u>#define <dfn class="macro" id="_M/VAL_TO_MASK" data-ref="_M/VAL_TO_MASK">VAL_TO_MASK</dfn>(x, i) { \</u></td></tr>
<tr><th id="147">147</th><td><u>			x = htonl(~((1 &lt;&lt; (32 - (i))) - 1)); \</u></td></tr>
<tr><th id="148">148</th><td><u>			};</u></td></tr>
<tr><th id="149">149</th><td></td></tr>
<tr><th id="150">150</th><td><u>#define <dfn class="macro" id="_M/NBR_VERS" data-ref="_M/NBR_VERS">NBR_VERS</dfn>(n)	(((n)-&gt;al_pv &lt;&lt; 8) + (n)-&gt;al_mv)</u></td></tr>
<tr><th id="151">151</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='../map-mbone/mapper.c.html'>netbsd/usr.sbin/map-mbone/mapper.c</a><br/>Generated on <em>2019-Jul-19</em> from project netbsd revision <em>f9da89e0d</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
